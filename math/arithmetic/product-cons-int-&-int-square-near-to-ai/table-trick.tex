\subsection{Tableaux de Vogler}

\leavevmode
\smallskip

L'idée de départ est simple : d'après le fait \ref{facto-square}, il semble opportun de se concentrer sur les diviseurs sans facteur carré des facteurs $(n + i)$ de $\consprod = n (n + 1) \cdots (n + k)$\,. 


% ------------------ %


\begin{defi}
	Considérons $(n, k) \in \NNs \times \NN$\,,
	$( a_i )_{0 \leq i \leq k} \subseteq \NNsf$
	et
	$( s_i )_{0 \leq i \leq k} \subseteq \NNssquare$
	tels que 
	$\forall i \in \ZintervalC{0}{k}$\,, $n + i = a_i s_i$\,.
	%
	Cette situation est résumée par le tableau suivant que nous nommerons tableau de Vogler en référence à la discussion où l'auteur a rencontré ce concept.

	\begin{center}
		\begin{tblr}{
			colspec    = {Q[r,$]*{5}{Q[c,$]}},
			vline{2}   = {.95pt},
			vline{3-6} = {dashed},
			hline{2}   = {.95pt}
		}
			n + \bullet
				&  0  
				&  1  
				&  2  
				&  \dots
				&  k
		\\
				&  a_0
				&  a_1
				&  a_2
				&  \dots  
				&  a_k
		\end{tblr}
	\end{center}
%	Si de plus $( a_i )_{0 \leq i \leq k} \subseteq \NNsf$\,, le tableau de Vogler sera dit réduit.
\end{defi}


% ------------------ %


%\newpage
\begin{example}
	Supposons avoir le tableau de Vogler suivant où $n \in \NNs$.

	\begin{center}
		\begin{tblr}{
			colspec    = {Q[r,$]*{4}{Q[c,$]}},
			vline{2}   = {.95pt},
			vline{3-5} = {dashed},
			hline{2}   = {.95pt}
		}
			n + \bullet
				&  0  
				&  1  
				&  2  
				&  3
		\\
				&  2
				&  5
				&  6
				&  1
		\end{tblr}
	\end{center}
	
	Ceci résume la situation suivante. 
	
	\vspace{-1ex}
	\begin{multicols}{2}
	\begin{itemize}
		\item $\exists A \in \NNs$ tel que $n     = 2 A^2$\,.

		\item $\exists B \in \NNs$ tel que $n + 1 = 5 B^2$\,.

		\item $\exists C \in \NNs$ tel que $n + 2 = 6 C^2$\,.

		\item $\exists D \in \NNs$ tel que $n + 3 =   D^2$\,.
	\end{itemize}
	\end{multicols}
\end{example}


% ------------------ %


\begin{fact} \label{vogler-sub-square}
	Dans les tableaux ci-dessous, les puces $\bullet$ indiquent des valeurs quelconques.
	
	\begin{enumerate}
		\item Si nous avons un tableau de Vogler du type suivant, alors $\consprod<k-1> \in \NNssquare$\,.
	\end{enumerate}

	\begin{center}
		\begin{tblr}{
			colspec     = {Q[r,$]*{5}{Q[c,$]}},
			vline{2}    = {.95pt},
			vline{3-6}  = {dashed},
			hline{2}    = {.95pt},
			column{2-Z} = {2em},
			% Subsquare
			cell{2}{6} = {blue!15},
		}
			n + \bullet
				&  0  
				&  1  
				&  \dots
				&  k - 1
				&  k
		\\
				&  \bullet
				&  \bullet
				&  \dots  
				&  \bullet
				&  1
		\end{tblr}
	\end{center}


	\begin{enumerate}[start=2]
		\item Si nous avons un tableau de Vogler du type suivant, alors $\consprod[n+1]<k-1> \in \NNssquare$\,.
	\end{enumerate}

	\begin{center}
		\begin{tblr}{
			colspec     = {Q[r,$]*{5}{Q[c,$]}},
			vline{2}    = {.95pt},
			vline{3-6}  = {dashed},
			hline{2}    = {.95pt},
			column{2-Z} = {2em},
			% Subsquare
			cell{2}{2} = {blue!15},
		}
			n + \bullet
				&  0  
				&  1  
				&  \dots
				&  k - 1
				&  k
		\\
				&  1
				&  \bullet
				&  \dots  
				&  \bullet
				&  \bullet
		\end{tblr}
	\end{center}
\end{fact}


\begin{proof}
	Immédiat via le fait \ref{facto-square}, car nous avons soit $n + k \in \NNssquare$\,, soit $n \in \NNssquare$\,.
\end{proof}


% ------------------ %


\begin{fact} \label{vogler-illegal}
	Soit $(n, d, a) \in ( \NNs )^3$ et $i \in \NN$\,.
	Les tableaux de Vogler ci-après sont impossibles
	(les puces $\bullet$ indiquent des valeurs quelconques). 

	\begin{enumerate}
		\item Pas de facteurs carrés trop près.
	\end{enumerate}
		
    \begin{center}
    	\begin{tblr}{
    		colspec     = {Q[r,$]*{5}{Q[c,$]}},
    		vline{2}    = {.95pt},
    		vline{3-6}  = {dashed},
   			hline{2}    = {.95pt},
			column{2-Z} = {3em},
			% Rejected
			cell{2}{2,6} = {red!15},
    	}
    		n + \bullet
   				&  i 
    			&  i + 1
    			&  \dots
    			&  i + d - 1
    			&  i + d
    	\\
    			&  ad
				&  \bullet
    			&  \dots
				&  \bullet
				&  ad
    	\end{tblr}
    \end{center}


	\begin{enumerate}[start=2]
		\item Pas de facteurs carrés pas trop loin.
	\end{enumerate}
		
    \begin{center}
    	\begin{tblr}{
    		colspec     = {Q[r,$]*{5}{Q[c,$]}},
    		vline{2}    = {.95pt},
    		vline{3-6}  = {dashed},
   			hline{2}    = {.95pt},
			column{2-Z} = {3.75em},
			% Rejected
			cell{2}{2,6} = {red!15},
    	}
    		n + \bullet
   				&  i 
    			&  i + 1
    			&  \dots
    			&  i + 2d - 1
    			&  i + 2d
    	\\
    			&  ad
				&  \bullet
    			&  \dots
				&  \bullet
				&  ad
    	\end{tblr}
    \end{center}
\end{fact}


\begin{proof}
	Tout est contenu dans le fait \ref{diff-square-ko}.
	
	\begin{enumerate}
		\item $n + i = ad A^2$ et $n + i + d = ad B^2$ donnent $ad (B^2 - A^2) = d$\,, puis $a (B^2 - A^2) = 1$, d'où $B^2 - A^2 = 1$ qui ne se peut pas car $B^2 > A^2 \geq 1$\,.

		\item $n + i = ad A^2$ et $n + i + 2 d = ad B^2$ donnent $ad (B^2 - A^2) = 2d$\,, \emph{i.e.} $a (B^2 - A^2) = 2$\,, d'où $B^2 - A^2 \in \setgene{1, 2}$ qui est impossible.
	\end{enumerate}
\end{proof}


% ------------------ %


\subsection{Construire des tableaux de Vogler}

\leavevmode

\smallskip
Pour fabriquer des tableaux de Vogler, nous allons \enquote{multiplier} des tableaux de Vogler partiels.
	

\begin{defi}
	Soient $(n, k, r) \in \NNs \times \NN \times \NNs$\,,
	$( p_j )_{1 \leq j \leq r} \subseteq \PPseq$\,,
	$( \epsilon_{i,j} )_{0 \leq i \leq k, 1 \leq j \leq r} \subseteq \setgene{0, 1}$
	et
	$( f_i )_{0 \leq i \leq k} \subseteq \NNs$
	vérifiant les conditions suivantes.
	%
	\begin{itemize}
		\item $\forall i \in \ZintervalC{0}{k}$\,, 
		$n + i = f_i \cdot \dprod_{j = 1}^{r} p_j^{\,\padicval[p_j]{n+i}}$\,.
		Noter que 
		$\forall i \in \ZintervalC{0}{k}$\,, 
		$\forall j \in \ZintervalC{1}{r}$\,, 
		$\GCD{f_i}{p_j} = 1$\,. 

		\item $\forall i \in \ZintervalC{0}{k}$\,, 
		$\forall j \in \ZintervalC{1}{r}$\,,
		$\padicval[p_j]{n+i} \equiv \epsilon_{i,j}$ modulo $2$\,.
	\end{itemize}
	
	Cette situation est résumée par le tableau suivant qui sera nommé tableau de Vogler partiel
	\footnote{
		Noter que $\forall i \in \ZintervalC{0}{k}$\,, $\forall j \in \ZintervalC{1}{r}$\,, $p_j^{\,\epsilon_{i,j}} \in \setgene{1, p_j}$\,.
	}.

	\begin{center}
		\begin{tblr}{
			colspec    = {Q[r,$]*{5}{Q[c,$]}},
			vline{2}   = {.95pt},
			vline{3-6} = {dashed},
			hline{2}   = {.95pt},
			column{2-Z} = {2.75em},
		}
			n + \bullet
				&  0  
				&  1  
				&  2  
				&  \dots
				&  k
		\\
			( p_j )_{1 \leq j \leq r}
				&  \dprod_{j = 1}^{r} p_j^{\,\epsilon_{0,j}}
				&  \dprod_{j = 1}^{r} p_j^{\,\epsilon_{1,j}}
				&  \dprod_{j = 1}^{r} p_j^{\,\epsilon_{2,j}}
				&  \dots  
				&  \dprod_{j = 1}^{r} p_j^{\,\epsilon_{k,j}}
		\end{tblr}
	\end{center}
\end{defi}


% ------------------ %


\begin{example}
	Supposons avoir le tableau de Vogler partiel suivant où $n \in \NNs$.

	\begin{center}
		\begin{tblr}{
			colspec    = {Q[r,$]*{4}{Q[c,$]}},
			vline{2}   = {.95pt},
			vline{3-5} = {dashed},
			hline{2}   = {.95pt},
%			column{2-Z} = {1.75em},
		}
			n + \bullet
				&  0  
				&  1  
				&  2  
				&  3
		\\
			(2, 3)
				&  2
				&  6
				&  1
				&  3
		\end{tblr}
	\end{center}
	
	Ceci résume la situation suivante. 
	%
	\begin{itemize}
		\item $\exists (a, \alpha, A) \in \NN^3 \times \NNs$
		      tel que $A \wedge 6 = 1$ 
		      et
		      $n     = 2^{2a+1} 3^{2\alpha} A$\,.
		
		\item $\exists (b, \beta, B) \in \NN^3 \times \NNs$
		      tel que $B \wedge 6 = 1$
		      et
		      $n + 1 = 2^{2b+1} 3^{2\beta+1} B$\,.
		
		\item $\exists (c, \gamma, C) \in \NN^3 \times \NNs$
		      tel que $C \wedge 6 = 1$
		      et
		      $n + 2 = 2^{2c} 3^{2\gamma} C$\,.
		
		\item $\exists (d, \delta, D) \in \NN^3 \times \NNs$
		      tel que $D \wedge 6 = 1$
		      et
		      $n + 3 = 2^{2d} 3^{2\delta+1} D$\,.
	\end{itemize}
\end{example}


% ------------------ %


\begin{example}
	La multiplication de deux tableaux de Vogler partiels est \enquote{naturelle} lorsqu'elle porte sur des suites 
	$( p_j )_{1 \leq j \leq r} \subseteq \PPseq$ 
	et
	$( q_j )_{1 \leq j \leq r} \subseteq \PPseq$
	d'intersection vide, c'est-à-dire sans nombre premier commun.
	Considérons les deux tableaux de Vogler partiels suivants où l'on note $2$ et $3$ au lieu de $(2)$ et $(3)$\,.
	
	\vspace{-1.5ex}
	\begin{multicols}{2}
	\begin{center}
		\begin{tblr}{
			colspec    = {Q[r,$]*{4}{Q[c,$]}},
			vline{2}   = {.95pt},
			vline{3-5} = {dashed},
			hline{2}   = {.95pt}
		}
			n + \bullet
				&  0  
				&  1  
				&  2  
				&  3
		\\
			2
				&  1
				&  2
				&  1
				&  2
		\end{tblr}
	\end{center}

	\begin{center}
		\begin{tblr}{
			colspec    = {Q[r,$]*{4}{Q[c,$]}},
			vline{2}   = {.95pt},
			vline{3-5} = {dashed},
			hline{2}   = {.95pt}
		}
			n + \bullet
				&  0  
				&  1  
				&  2  
				&  3
		\\
			3
				&  3
				&  1
				&  1
				&  3
		\end{tblr}
	\end{center}
	\end{multicols}


	\vspace{-1ex}
	La multiplication de ces tableaux de Vogler partiels est le tableau de Vogler partiel suivant.

	\begin{center}
		\begin{tblr}{
			colspec    = {Q[r,$]*{4}{Q[c,$]}},
			vline{2}   = {.95pt},
			vline{3-5} = {dashed},
			hline{2}   = {.95pt}
		}
			n + \bullet
				&  0  
				&  1  
				&  2  
				&  3
		\\
			(2, 3)
				&  3
				&  2
				&  1
				&  6
		\end{tblr}
	\end{center}
	
	Ceci résume la situation suivante, avec des notations \enquote{évidentes}\,, qui est équivalente à ce que donnent les deux premiers tableaux de Vogler partiels. 
	
	
	\vspace{-1ex}
	\begin{multicols}{2}
	\begin{itemize}
		\item $A \wedge 6 = 1$
		      et
		      $n     = 2^{2a}   3^{2\alpha+1} A$\,.

		\item $B \wedge 6 = 1$
		      et
		      $n + 1 = 2^{2b+1} 3^{2\beta}    B$\,.

		\item $C \wedge 6 = 1$
		      et
		      $n + 2 = 2^{2c}   3^{2\gamma}   C$\,.

		\item $D \wedge 6 = 1$
		      et
		      $n + 3 = 2^{2d+1} 3^{2\delta+1} D$\,.
	\end{itemize}
	\end{multicols}
\end{example}


% ------------------ %


\begin{fact} \label{vogler-multiple}
	Dans la deuxième ligne d'un tableau de Vogler partiel relatif à un unique nombre premier $p$\,, les valeurs $p$ sont séparées par exactement $(p-1)$ valeurs $1$\,.
\end{fact}


\begin{proof}
	Penser aux multiples de $p$\,.
\end{proof}


% ------------------ %


\begin{fact} \label{vogler-parity-square}
	$\forall (n, k, p) \in \NNs \times \NN \times \PP$\,,
	si $\consprod \in \NNsquare$\,, 
	alors dans le tableau de Vogler partiel relatif uniquement au nombre premier $p$\,, et associé à $\consprod$\,, le nombre de valeurs $p$ est forcément pair.
\end{fact}


\begin{proof}
	Évident, mais très pratique, comme nous le verrons dans la suite.
\end{proof}

