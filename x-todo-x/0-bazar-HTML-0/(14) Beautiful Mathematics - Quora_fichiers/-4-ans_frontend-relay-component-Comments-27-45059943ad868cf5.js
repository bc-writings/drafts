(window.ansFrontendRelayWebpackJsonpFunction=window.ansFrontendRelayWebpackJsonpFunction||[]).push([["component-Comments"],{"2ajD":function(e,n){e.exports=function(e){return e!==e}},"32hM":function(e,n,l){e.exports={cls1:"_11ykbnF90tuAy69xwPaWXu",cls2:"_3xRtmAaeTmwssM-JfBz6C3 _11ykbnF90tuAy69xwPaWXu",fadeOutColor:"BKq5WSHWrWLf9tFHg4Trg"}},"3F65":function(e,n,l){e.exports={commentEditorWrapper:"_1xNLGtwUX_iNJbFHm_AAU5"}},"5SpG":function(e,n,l){"use strict";l.r(n);var a={};l.r(a),l.d(a,"default",function(){return k});var i,r=l("8ZkK"),t=l.n(r),s=l("tQZz"),o=l.n(s),u=l("7eVb"),d=l.n(u),m=l("n3k3"),c=l.n(m),g=l("10u2"),y=l.n(g),p={kind:"Fragment",name:"AnswerComment_answer",type:"Answer",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5},{kind:"LocalArgument",name:"skipCommentList",type:"Boolean",defaultValue:!1}],selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"CommentArea_container",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"skipCommentList",variableName:"skipCommentList"}]}],hash:"f7aace068152160b44b837f3624d592b"},k=p,f=l("q1tI"),F=l("VyO/"),v=l("nwxp"),K=l("FuLD"),C=l("EFAP"),S=l("K5OZ"),h=l("vg+J"),b=l("pEsO"),T=function(e){function n(){return t()(this,n),d()(this,c()(n).apply(this,arguments))}return y()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.answer,l=e.isBorderAll,a=e.reloadable,i=n.author.isBlocking,r=Object(v.f)()&&!!n.tribeItem;return f.createElement(C.e.Consumer,null,function(e){var t=Object(K.b)()&&e!==S.a.TRIBE_MAIN&&e!==S.a.TRIBE_ITEM;return f.createElement(h.a,{container:n,isCommentsDisabled:i,reloadable:a,isBorderAll:l,hideAddRoot:t,autoPaged:r,shouldShowCommentsStickyActionBar:Object(b.c)(),commentType:"AnswerComment"})})}}]),n}(f.Component);T.displayName="AnswerComment",T.fragments={answer:void 0!==i?i:i=a};n["default"]=Object(F.b)(T)},"9Tc6":function(e,n,l){"use strict";var a={};l.r(a),l.d(a,"default",function(){return F});var i={};l.r(i),l.d(i,"default",function(){return K});var r=l("8ZkK"),t=l.n(r),s=l("tQZz"),o=l.n(s),u=l("7eVb"),d=l.n(u),m=l("n3k3"),c=l.n(m),g=l("10u2"),y=l.n(g),p=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"commentEdit",storageKey:null,args:[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"},{kind:"Variable",name:"content",variableName:"content"}],concreteType:"CommentEdit",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentEditMutation_commentEdit_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"CommentEditMutation_commentEdit_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"CommentEditMutation_commentEdit_Mutation",id:"6268f1eb6da818c23a9c05b6483f48a8f55c297edf1ef5e3511abdc459a36d9a",text:null,metadata:{}}}}();p.hash="4dace4024cd3e1d1b173403586d4ecab";var k,f,F=p,v={kind:"Fragment",name:"CommentEditMutation_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}],hash:"f6edda030d36defdb9faf64a27152363"},K=v,C=l("q1tI"),S=l("VyO/"),h=function(e){function n(){return t()(this,n),d()(this,c()(n).apply(this,arguments))}return y()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,l=e.comment,a=e.children,i=l||{},r=i.content,t=i.commentId,s=i.__typename,o=i.id;return C.createElement(S.a,{mutation:n.mutations.commentEdit},function(e){return a(function(n){n!==r&&e({optimisticResponse:{commentEdit:{success:!0,msg:null,comment:{__typename:s,id:o,content:n}}},variables:{commentId:t,commentType:s,content:n}})})})}}]),n}(C.Component);h.displayName="CommentEditMutation",h.fragments={comment:void 0!==k?k:k=i},h.mutations={commentEdit:void 0!==f?f:f=a};n.a=Object(S.b)(Object(S.f)(h))},"9p1X":function(e,n,l){"use strict";l.r(n);var a={};l.r(a),l.d(a,"default",function(){return f});var i={};l.r(i),l.d(i,"default",function(){return K});var r={};l.r(r),l.d(r,"default",function(){return E});var t=l("8ZkK"),s=l.n(t),o=l("tQZz"),u=l.n(o),d=l("7eVb"),m=l.n(d),c=l("n3k3"),g=l.n(c),y=l("10u2"),p=l.n(y),k=function(){var e=[{kind:"LocalArgument",name:"aid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],n=[{kind:"Variable",name:"aid",variableName:"aid"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"Variable",name:"first",variableName:"first"},r={kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},t={kind:"Literal",name:"requestType",value:4},s={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},u=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],d={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:u},m={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:u},c={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},f={name:"annotate_with_ids",value:"true"},F=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],v={kind:"Condition",passingValue:!0,isCustom:!0,customValue:f,condition:"onGate",selections:F},K={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},C={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},S=[i,t],h={kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},T={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},A={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,s,c,g,y,p,k,o,d,m,r,v]},_={kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},R=[l,a,s,o,d,m,v],N={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:R},V={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},D={kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[l,a,s,c,o,d,m,k,g,y,p,v]},U={kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},O={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},M={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},G={kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},z={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},W={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]},Z={kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},J={kind:"ScalarField",alias:null,name:"reportUrl",args:null,storageKey:null},Y={kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},X=[{kind:"Literal",name:"first",value:2}],$={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[b,h]},ee=[{kind:"Literal",name:"first",value:1}],ne={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},le={kind:"Condition",passingValue:!0,isCustom:!0,customValue:f,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:F}]};return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerCommentWithPreviewLoadCommentQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:n,concreteType:"Answer",plural:!1,selections:[l,a,{kind:"FragmentSpread",name:"AnswerComment_answer",args:[i]}]}]},operation:{kind:"Operation",name:"AnswerCommentWithPreviewLoadCommentQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:n,concreteType:"Answer",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[r,l]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,l]},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"ScalarField",alias:"numUncollapsedToplevelComments",name:"numComments",args:[t],storageKey:"numComments(requestType:4)"},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[s,l,a,o,d,m,c,g,y,p,k,v]},l]},K,{kind:"ScalarField",alias:null,name:"isCommentsDisabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"canViewerAddComment",args:null,storageKey:null},C,{kind:"ScalarField",alias:null,name:"commentDraftContent",args:null,storageKey:null},{kind:"LinkedField",alias:"allCommentsConnection",name:"genericCommentsConnection",storageKey:null,args:S,concreteType:"GenericCommentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[h,b]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[T,C,l,a,L,w,I,A,_,E,N,V,K,D,U,P,O,B,j,V,q,M,q,M,x,H,Q,G,z,W,Z,J,Y,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:X,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,$,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,T,K,L,w,I,A,_,E,N,V,D,U,P,O,B,j,C,V,q,M,q,M,x,H,Q,G,z,W,Z,J,Y,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:ee,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,L,O,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:R}]},ne]},$]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:ee,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},le]},ne]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:X,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},le]},ne,l]},l]},{kind:"LinkedHandle",alias:"allCommentsConnection",name:"genericCommentsConnection",args:S,handle:"connection",key:"AllCommentsList_allCommentsConnection",filters:["requestType"]}]}]},params:{operationKind:"query",name:"AnswerCommentWithPreviewLoadCommentQuery",id:"1a9125696c8713cb9832d6cbcd4459a6c41aa3272c629d4436e3becfa2ce1816",text:null,metadata:{}}}}();k.hash="f7c47e6faf1475cab3f01a5f5b845264";var f=k,F=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AnswerCommentWithPreview_answer",type:"Answer",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5}],selections:[e,n,{kind:"ScalarField",alias:null,name:"aid",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n]},{kind:"FragmentSpread",name:"AnswerFeaturedCommentPreview_answer",args:[{kind:"Variable",name:"first",variableName:"first"}]}]}}();F.hash="d8884d916e886d049f615c3e3f74cb0a";var v,K=F,C=l("q1tI"),S=l("AaDK"),h=l("VyO/"),b=l("D5Zh"),T=l("td6z"),L=l("hTns"),w=l("FuLD"),I=l("nwxp"),A=l("5SpG"),_={kind:"Fragment",name:"AnswerFeaturedCommentPreview_answer",type:"Answer",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"ScalarField",alias:"numUncollapsedToplevelComments",name:"numComments",args:[{kind:"Literal",name:"requestType",value:4}],storageKey:"numComments(requestType:4)"},{kind:"FragmentSpread",name:"AnswerComment_answer",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"skipCommentList",value:!0}]},{kind:"FragmentSpread",name:"CommentFeaturedPreview_container",args:[{kind:"Literal",name:"first",value:4}]}],hash:"188d42fbb5b26a6712aa5ae9f9fe7708"},E=_,R=l("Xy8g"),N=l("ZFNG"),V=function(e){function n(){return s()(this,n),m()(this,g()(n).apply(this,arguments))}return p()(n,e),u()(n,[{key:"render",value:function(){var e=this.props,n=e.isBorderAll,l=e.answer,a=e.onClick,i=l.numDisplayComments,r=l.numUncollapsedToplevelComments;return i?C.createElement(N.b,{isBorderAll:n&&r>0},C.createElement(R.a,{container:l,onClick:a,numDisplayComments:i,numUncollapsedToplevelComments:r})):C.createElement(A["default"],{answer:l,isBorderAll:n})}}]),n}(C.Component);V.displayName="AnswerFeaturedCommentPreview",V.fragments={answer:void 0!==v?v:v=r};var D,U,P=Object(h.b)(V),O=function(e){function n(e){var l;return s()(this,n),(l=m()(this,g()(n).call(this,e))).state={showPreview:!(Object(I.f)()&&e.answer.tribeItem)},l}return p()(n,e),u()(n,[{key:"render",value:function(){var e=this,l=this.props,a=l.isBorderAll,i=l.initialPageSize,r=l.forceExpandedCommentPreview,t=void 0!==r&&r,s=this.state.showPreview&&!t;return Object(w.a)()?C.createElement(C.Fragment,null,s&&C.createElement(P,{answer:this.props.answer,onClick:function(){e.setState({showPreview:!1}),Object(S.a)("comments_toggled",{object_id:e.props.answer.aid,comment_type:"answer"})},isBorderAll:a}),C.createElement(L.a,{shouldShow:!s},C.createElement(b.a,{query:n.queries.loadAnswerComment,variables:{aid:this.props.answer.aid,first:i}},function(e){var n=e.loading,l=e.error,i=e.data;return n?C.createElement(T.a,null):l||!i.answer?null:C.createElement(A["default"],{answer:i.answer,isBorderAll:a})}))):null}}]),n}(C.Component);O.displayName="AnswerCommentWithPreview",O.fragments={answer:void 0!==D?D:D=i},O.queries={loadAnswerComment:void 0!==U?U:U=a};n["default"]=Object(h.b)(O)},CZoQ:function(e,n){e.exports=function(e,n,l){for(var a=l-1,i=e.length;++a<i;)if(e[a]===n)return a;return-1}},EreF:function(e,n,l){"use strict";var a=l("rhDr"),i=l.n(a),r=l("q1tI"),t=l("JY1L"),s=(l("tuWV"),Object(t.a)({loader:function(){return l.e("component-QTextEditor").then(l.bind(null,"a+Nv"))},render:function(e,n){var l=n._ref,a=i()(n,["_ref"]),t=e["default"];return r.createElement(t,Object.assign({},a,{ref:l}))},loading:function(e){var n=e.error;return n&&console.error(n),r.createElement(r.Fragment,null)}})),o=r.forwardRef(function(e,n){return r.createElement(s,Object.assign({},e,{_ref:n}))});o.displayName="QTextEditor",n.a=o},KwMD:function(e,n){e.exports=function(e,n,l,a){for(var i=e.length,r=l+(a?1:-1);a?r--:++r<i;)if(n(e[r],r,e))return r;return-1}},LGYb:function(e,n,l){var a=l("1hJj"),i=l("jbM+"),r=l("Xt/L"),t=l("xYSL"),s=l("dQpi"),o=l("rEGp"),u=200;e.exports=function(e,n,l){var d=-1,m=i,c=e.length,g=!0,y=[],p=y;if(l)g=!1,m=r;else if(c>=u){var k=n?null:s(e);if(k)return o(k);g=!1,m=t,p=new a}else p=n?[]:y;e:for(;++d<c;){var f=e[d],F=n?n(f):f;if(f=l||0!==f?f:0,g&&F===F){for(var v=p.length;v--;)if(p[v]===F)continue e;n&&p.push(F),y.push(f)}else m(p,F,l)||(p!==y&&p.push(F),y.push(f))}return y}},PGbd:function(e,n,l){"use strict";l.r(n);var a={};l.r(a),l.d(a,"default",function(){return F});var i={};l.r(i),l.d(i,"default",function(){return K});var r={};l.r(r),l.d(r,"default",function(){return I});var t=l("8ZkK"),s=l.n(t),o=l("tQZz"),u=l.n(o),d=l("7eVb"),m=l.n(d),c=l("n3k3"),g=l.n(c),y=l("10u2"),p=l.n(y),k=function(){var e=[{kind:"LocalArgument",name:"shareId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],n=[{kind:"Variable",name:"shareId",variableName:"shareId"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"Variable",name:"first",variableName:"first"},r={kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},t={kind:"Literal",name:"requestType",value:4},s={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},u=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],d={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:u},m={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:u},c={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},f={name:"annotate_with_ids",value:"true"},F=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],v={kind:"Condition",passingValue:!0,isCustom:!0,customValue:f,condition:"onGate",selections:F},K={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},C={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},S=[i,t],h={kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},T={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},A={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,s,c,g,y,p,k,o,d,m,r,v]},_={kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},R=[l,a,s,o,d,m,v],N={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:R},V={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},D={kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[l,a,s,c,o,d,m,k,g,y,p,v]},U={kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},O={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},M={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},G={kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},z={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},W={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]},Z={kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},J={kind:"ScalarField",alias:null,name:"reportUrl",args:null,storageKey:null},Y={kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},X=[{kind:"Literal",name:"first",value:2}],$={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[b,h]},ee=[{kind:"Literal",name:"first",value:1}],ne={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},le={kind:"Condition",passingValue:!0,isCustom:!0,customValue:f,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:F}]};return{kind:"Request",fragment:{kind:"Fragment",name:"ShareCommentWithPreviewLoadCommentQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,{kind:"FragmentSpread",name:"ShareCommentItem_share",args:[i]}]}]},operation:{kind:"Operation",name:"ShareCommentWithPreviewLoadCommentQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[r,l]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,l]},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"ScalarField",alias:"numUncollapsedToplevelComments",name:"numComments",args:[t],storageKey:"numComments(requestType:4)"},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[s,l,a,o,d,m,c,g,y,p,k,v]},l]},K,{kind:"ScalarField",alias:null,name:"isCommentsDisabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"canViewerAddComment",args:null,storageKey:null},C,{kind:"ScalarField",alias:null,name:"commentDraftContent",args:null,storageKey:null},{kind:"LinkedField",alias:"allCommentsConnection",name:"genericCommentsConnection",storageKey:null,args:S,concreteType:"GenericCommentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[h,b]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[T,C,l,a,L,w,I,A,_,E,N,V,K,D,U,P,O,B,j,V,q,M,q,M,x,H,Q,G,z,W,Z,J,Y,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:X,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,$,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,T,K,L,w,I,A,_,E,N,V,D,U,P,O,B,j,C,V,q,M,q,M,x,H,Q,G,z,W,Z,J,Y,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:ee,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,L,O,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:R}]},ne]},$]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:ee,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},le]},ne]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:X,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},le]},ne,l]},l]},{kind:"LinkedHandle",alias:"allCommentsConnection",name:"genericCommentsConnection",args:S,handle:"connection",key:"AllCommentsList_allCommentsConnection",filters:["requestType"]}]}]},params:{operationKind:"query",name:"ShareCommentWithPreviewLoadCommentQuery",id:"003cd0b3839a401ea4fe7272b5d5787b2e2918aafe83498f4fa2a5c9adceeeb4",text:null,metadata:{}}}}();k.hash="c661c41c96c512285f6e9e59bacc5479";var f,F=k,v={kind:"Fragment",name:"ShareCommentWithPreview_share",type:"Share",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"shareId",args:null,storageKey:null},{kind:"FragmentSpread",name:"ShareFeaturedCommentPreview_share",args:null}],hash:"7ce28b8594d8f924c06442f61a70f5cb"},K=v,C=l("q1tI"),S=l("AaDK"),h=l("VyO/"),b=l("D5Zh"),T=l("ZFNG"),L=l("td6z"),w={kind:"Fragment",name:"ShareFeaturedCommentPreview_share",type:"Share",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"first",type:null}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"ScalarField",alias:"numUncollapsedToplevelComments",name:"numComments",args:[{kind:"Literal",name:"requestType",value:4}],storageKey:"numComments(requestType:4)"},{kind:"FragmentSpread",name:"ShareCommentItem_share",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"skipCommentList",value:!0}]},{kind:"FragmentSpread",name:"CommentFeaturedPreview_container",args:[{kind:"Literal",name:"first",value:4}]}],hash:"fbb5460bc84e08afe20cda0501d21ca9"},I=w,A=l("Xy8g"),_=l("qRv2"),E=function(e){function n(){return s()(this,n),m()(this,g()(n).apply(this,arguments))}return p()(n,e),u()(n,[{key:"render",value:function(){var e=this.props,n=e.share,l=e.onClick,a=n.numDisplayComments,i=n.numUncollapsedToplevelComments;return a?C.createElement(A.a,{container:n,onClick:l,numDisplayComments:a,numUncollapsedToplevelComments:i}):C.createElement(_["default"],{share:n})}}]),n}(C.Component);E.displayName="ShareFeaturedCommentPreview",E.fragments={share:void 0!==f?f:f=r};var R,N,V=Object(h.b)(E),D=l("hTns"),U=l("EFAP"),P=l("K5OZ"),O=l("nwxp"),B=function(e){function n(e){var l;return s()(this,n),(l=m()(this,g()(n).call(this,e))).state={showPreview:!0},l}return p()(n,e),u()(n,[{key:"render",value:function(){var e=this;return C.createElement(U.e.Consumer,null,function(l){var a=e.state.showPreview&&!(O.p&&l===P.a.SHARE_MODAL);return C.createElement(C.Fragment,null,a&&C.createElement(T.b,null,C.createElement(V,{share:e.props.share,onClick:function(){e.setState({showPreview:!1}),Object(S.a)("comments_toggled",{object_id:e.props.share.shareId,comment_type:"quora_share"})}})),C.createElement(D.a,{shouldShow:!a},C.createElement(b.a,{query:n.queries.loadShareComment,variables:{shareId:e.props.share.shareId,first:e.props.initialPageSize}},function(e){var n=e.loading,l=e.error,a=e.data;return n?C.createElement(L.a,null):l||null===a.share?null:C.createElement(_["default"],{share:a.share})})))})}}]),n}(C.Component);B.displayName="ShareCommentWithPreview",B.fragments={share:void 0!==R?R:R=i},B.queries={loadShareComment:void 0!==N?N:N=a};n["default"]=Object(h.b)(B)},"R/W3":function(e,n,l){var a=l("KwMD"),i=l("2ajD"),r=l("CZoQ");e.exports=function(e,n,l){return n===n?r(e,n,l):a(e,i,l)}},VrYk:function(e,n,l){"use strict";l.d(n,"a",function(){return o}),l.d(n,"b",function(){return u});var a=l("q1tI"),i=l("jufJ"),r=l("cbxS"),t=l("OMLc"),s=l("RA+f"),o=function(e){return a.createElement(s.d,{p:"small"},a.createElement(r.a,{buttonOnClick:e,buttonTitle:Object(i.H)("Try again"),buttonVariant:"error",variant:"warning_inverted",icon:a.createElement(t.a,{name:"NoConnection"}),translatedText:Object(i.H)("A problem occurred while loading comments. Check your internet connection."),iconPosition:"centered"}))},u=function(e){return a.createElement(s.d,{p:"small"},a.createElement(r.a,{buttonOnClick:e,buttonTitle:Object(i.H)("Try again"),buttonVariant:"error",variant:"warning_inverted",icon:a.createElement(t.a,{name:"NoConnection"}),translatedText:Object(i.H)("A problem occurred while loading comments. Wait and try again."),iconPosition:"centered"}))}},WSfD:function(e,n,l){"use strict";l.r(n);var a={};l.r(a),l.d(a,"default",function(){return k});var i,r=l("8ZkK"),t=l.n(r),s=l("tQZz"),o=l.n(s),u=l("7eVb"),d=l.n(u),m=l("n3k3"),c=l.n(m),g=l("10u2"),y=l.n(g),p={kind:"Fragment",name:"PostComment_post",type:"Post",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5},{kind:"LocalArgument",name:"skipCommentList",type:"Boolean",defaultValue:!1}],selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"CommentArea_container",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"skipCommentList",variableName:"skipCommentList"}]}],hash:"45d08810210c977a6857d36256cc2a73"},k=p,f=l("q1tI"),F=l("VyO/"),v=l("nwxp"),K=l("EFAP"),C=l("K5OZ"),S=l("vg+J"),h=l("pEsO"),b=function(e){function n(){return t()(this,n),d()(this,c()(n).apply(this,arguments))}return y()(n,e),o()(n,[{key:"render",value:function(){var e=this.props.post,n=e.author.isBlocking;return f.createElement(K.e.Consumer,null,function(l){return f.createElement(S.a,{container:e,shouldShowCommentsStickyActionBar:Object(h.c)(),isCommentsDisabled:n,autoPaged:l===C.a.POST_MODAL&&Object(v.f)(),commentType:"PostComment"})})}}]),n}(f.Component);b.displayName="PostComment",b.fragments={post:void 0!==i?i:i=a};n["default"]=Object(F.b)(b)},"Xt/L":function(e,n){e.exports=function(e,n,l){for(var a=-1,i=null==e?0:e.length;++a<i;)if(l(n,e[a]))return!0;return!1}},Xy8g:function(e,n,l){"use strict";var a={};l.r(a),l.d(a,"default",function(){return F});var i,r=l("8ZkK"),t=l.n(r),s=l("tQZz"),o=l.n(s),u=l("7eVb"),d=l.n(u),m=l("n3k3"),c=l.n(m),g=l("10u2"),y=l.n(g),p=l("iJoy"),k=l.n(p),f={kind:"Fragment",name:"CommentFeaturedPreview_container",type:"CommentsContainer",metadata:{connection:[{count:"first",cursor:null,direction:"forward",path:["allComments"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5}],selections:[{kind:"LinkedField",alias:"allComments",name:"__CommentFeaturedPreview_allComments_connection",storageKey:"__CommentFeaturedPreview_allComments_connection(requestType:4)",args:[{kind:"Literal",name:"requestType",value:4}],concreteType:"GenericCommentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserName_user",args:null}]},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]}],hash:"81cc4cf686b8eca1aaec402da17dc006"},F=f,v=l("q1tI"),K=l("qPyV"),C=l.n(K),S=l("NldC"),h=l("QLaP"),b=l.n(h),T=l("RA+f"),L=l("jufJ"),w=l("R+um"),I=l("VyO/"),A=function(e){var n=e.container,l=e.numDisplayComments,a=n.allComments.edges.map(function(e){return e.node}).filter(S.c),i=l||a.length;b()(null!=i&&i>0,"Invalid commentsLength: '".concat(i,"' ")+"(num: '".concat(l,"', comments: '").concat(a,"')"));var r=l&&a&&a.length>0,t=C()(k()(a.map(function(e){return e.user})),"uid").filter(S.c);return r&&t.length?v.createElement(T.s,{fontSize:"small",color:"gray",truncateLines:1},v.createElement(L.A,null,v.createElement(L.h,{value:i})," ",v.createElement(L.y,{value:i},{ONE:"comment",OTHER:"comments"})," from ",v.createElement(L.r,{translateParamName:"users",limit:1,showNumLeftOver:!1},t.map(function(e){return v.createElement(w.a,{key:e.uid,user:e})})))):null};A.displayName="FeaturedCommentFooter";var _=function(e){function n(){return t()(this,n),d()(this,c()(n).apply(this,arguments))}return y()(n,e),o()(n,[{key:"render",value:function(){return this.props.numUncollapsedToplevelComments?v.createElement(T.e,{onClick:this.props.onClick,underlineHover:!1,width:"100%",hover:{bg:"darken"}},v.createElement(T.d,{p:"medium"},v.createElement(A,{container:this.props.container,numDisplayComments:this.props.numDisplayComments}))):null}}]),n}(v.Component);_.displayName="CommentFeaturedPreview",_.fragments={container:void 0!==i?i:i=a};n.a=Object(I.b)(_)},"Y+je":function(e,n,l){e.exports={commentInputWrapper:"_3NewSQyMk1B6g5bGO0dDyq"}},ZFNG:function(e,n,l){"use strict";l.d(n,"k",function(){return p}),l.d(n,"h",function(){return k}),l.d(n,"b",function(){return f}),l.d(n,"f",function(){return F}),l.d(n,"d",function(){return v}),l.d(n,"a",function(){return K}),l.d(n,"e",function(){return C}),l.d(n,"g",function(){return S}),l.d(n,"c",function(){return h}),l.d(n,"j",function(){return b}),l.d(n,"i",function(){return T});var a=l("q1tI"),i=l("RA+f"),r=l("jufJ"),t=l("zLpq"),s=l("/bbo"),o=l("vOnD"),u=l("F0ZP"),d=l("IAtc"),m=l.n(d),c=a.createContext({level:0}),g=function(e){var n=e.children,l=e.isTopLevel;return void 0!==l&&l?a.createElement(c.Provider,{value:{level:0}},n({level:0})):a.createElement(c.Consumer,null,function(e){return a.createElement(c.Provider,{value:{level:e.level+1}},n({level:e.level+1}))})};g.displayName="CommentLevelWrapper";var y=g,p=u.c,k=function(e){var n=e.children,l=e.isBorderAll,r=void 0!==l&&l,t={borderAll:r,borderRadius:r?"small":undefined};return a.createElement(i.d,Object.assign({},t,{bg:"white"}),n)},f=function(e){var n=e.children,l=e.isBorderAll,r=void 0!==l&&l,t={borderAll:r,borderRadius:r?"small":undefined};return a.createElement(i.d,Object.assign({},t,{bg:"gray_ultralight"}),n)},F=function(e){var n=e.children;return a.createElement(y,{isTopLevel:!0},function(){return a.createElement(i.d,{borderTop:!0,px:"medium",pt:"medium"},n)})},v=Object(o.withTheme)(function(e){var n=e.children,l=e.theme;return a.createElement(y,null,function(e){var r=e.level;if(r>6)return n;var t={borderLeft:!0,borderWidth:"thick",pl:"medium",pt:"small",mb:"small",ml:1===r?l.space.small+p:undefined};return a.createElement(i.d,t,n)})}),K=function(e){var n=e.children,r=e.showHighlight,t=e.isTopLevel,s=m()("div",null,{displayName:"AnimatedHighlight",styles:l("32hM"),attrs:null,vars:[]}),o=r&&a.createElement(s,null,a.createElement(i.a,{bg:"blue_light",top:t?"n_medium":"n_small",bottom:0,right:t?"n_medium":"n_small",left:t?"n_medium":"n_small",borderRadius:t?undefined:"small"}));return a.createElement(i.q,{pb:"tiny"},o,a.createElement(i.q,null,a.createElement(i.s,{fontSize:"regular"},n)))},C=function(e){var n=e.children;return a.createElement(K,null,a.createElement(i.s,{borderAll:!0,fontSize:"small",px:"small",py:"tiny",mb:"tiny",borderRadius:"small",color:"gray",bg:"darken",cursor:"pointer",hover:{borderColor:"gray_dark"},truncateLines:1},n))},S=function(){return a.createElement(i.d,{px:"medium",pb:"medium"},a.createElement(s.a,{text:Object(r.K)("View More Comments"),variant:"gray",size:"small",isFullWidth:!0,chevronSuffix:"down"}))},h=function(){return a.createElement(i.d,{py:"tiny"},a.createElement(t.a,{text:Object(r.K)("View More Replies"),variant:"blue",size:"small",chevronSuffix:"down"}))},b=function(e){var n=e.onClick;return a.createElement(i.d,{mx:"medium",pb:"small"},a.createElement(t.a,{text:Object(r.K)("View Collapsed Comments"),size:"small",onClick:n}))},T=function(e){var n=e.children;return a.createElement(i.d,{mx:"n_medium",mb:"n_tiny"},n)}},"a6/j":function(e,n,l){"use strict";l.r(n);var a={};l.r(a),l.d(a,"default",function(){return k});var i,r=l("8ZkK"),t=l.n(r),s=l("tQZz"),o=l.n(s),u=l("7eVb"),d=l.n(u),m=l("n3k3"),c=l.n(m),g=l("10u2"),y=l.n(g),p={kind:"Fragment",name:"QuestionComment_question",type:"Question",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"CommentArea_container",args:null}],hash:"93da50b8ef357ce8a5d0f4d97c593f93"},k=p,f=l("q1tI"),F=l("VyO/"),v=l("vg+J"),K=function(e){function n(){return t()(this,n),d()(this,c()(n).apply(this,arguments))}return y()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.question,l=e.reloadable,a=e.isBorderAll;return f.createElement(v.a,{container:n,reloadable:l,isBorderAll:a,commentType:"QuestionComment"})}}]),n}(f.Component);K.displayName="QuestionComment",K.fragments={question:void 0!==i?i:i=a};n["default"]=Object(F.b)(K)},dQpi:function(e,n,l){var a=l("yGk4"),i=l("vN+2"),r=l("rEGp"),t=a&&1/r(new a([,-0]))[1]==1/0?function(e){return new a(e)}:i;e.exports=t},hTns:function(e,n,l){"use strict";var a=l("yMAQ"),i=l.n(a),r=l("q1tI"),t=l("RA+f"),s=function(e){var n=e.shouldShow,l=e.children,a=r.useState(!1),s=i()(a,2),o=s[0],u=s[1];return r.useEffect(function(){n&&!o&&u(!0)},[n,o]),n||o?r.createElement(t.d,{display:n?"":"none"},l):null};s.displayName="ComponentDisplayWrapper",n.a=s},"jbM+":function(e,n,l){var a=l("R/W3");e.exports=function(e,n){return!(null==e||!e.length)&&a(e,n,0)>-1}},"ptJ+":function(e,n,l){"use strict";var a={};l.r(a),l.d(a,"default",function(){return k});var i,r=l("8ZkK"),t=l.n(r),s=l("tQZz"),o=l.n(s),u=l("7eVb"),d=l.n(u),m=l("n3k3"),c=l.n(m),g=l("10u2"),y=l.n(g),p={kind:"Fragment",name:"CommentQTextExpandable_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}],hash:"01d00496a36ec6b7b6f21f4167d21d95"},k=p,f=l("q1tI"),F=l("wB5M"),v=l("VyO/"),K=function(e){function n(){return t()(this,n),d()(this,c()(n).apply(this,arguments))}return y()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.comment.content,l=e.charLimit,a=void 0===l?300:l,i=JSON.parse(n);return f.createElement(F.a,{qt:i,charLimit:a,truncationType:"regular",hasImageBoundary:!1,bg:"white"})}}]),n}(f.Component);K.displayName="CommentQTextExpandable",K.fragments={comment:void 0!==i?i:i=a};n.a=Object(v.b)(K)},qPyV:function(e,n,l){var a=l("ut/Y"),i=l("LGYb");e.exports=function(e,n){return e&&e.length?i(e,a(n,2)):[]}},qRv2:function(e,n,l){"use strict";l.r(n);var a={};l.r(a),l.d(a,"default",function(){return k});var i,r=l("8ZkK"),t=l.n(r),s=l("tQZz"),o=l.n(s),u=l("7eVb"),d=l.n(u),m=l("n3k3"),c=l.n(m),g=l("10u2"),y=l.n(g),p={kind:"Fragment",name:"ShareCommentItem_share",type:"Share",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5},{kind:"LocalArgument",name:"skipCommentList",type:"Boolean",defaultValue:!1}],selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"CommentArea_container",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"skipCommentList",variableName:"skipCommentList"}]}],hash:"b0731f753e6ce27bcf0fa1f29f00f2bb"},k=p,f=l("q1tI"),F=l("VyO/"),v=l("EFAP"),K=l("K5OZ"),C=l("pEsO"),S=l("vg+J"),h=l("nwxp"),b=function(e){function n(){return t()(this,n),d()(this,c()(n).apply(this,arguments))}return y()(n,e),o()(n,[{key:"render",value:function(){var e=this.props.share,n=e.author.isBlocking;return f.createElement(v.e.Consumer,null,function(l){return f.createElement(S.a,{container:e,isCommentsDisabled:n,shouldShowCommentsStickyActionBar:Object(C.c)(),autoPaged:h.p&&l===K.a.SHARE_MODAL,commentType:"ShareComment"})})}}]),n}(f.Component);b.displayName="ShareCommentItem",b.fragments={share:void 0!==i?i:i=a};n["default"]=Object(F.b)(b)},"s/A7":function(e,n,l){"use strict";l.d(n,"a",function(){return a});var a=function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"start";e&&setTimeout(function(){"scrollBehavior"in document.documentElement.style?e.scrollIntoView({behavior:"smooth",block:n}):e.scrollIntoView(!0)})}},t72q:function(e,n,l){"use strict";l.r(n);var a={};l.r(a),l.d(a,"default",function(){return F});var i={};l.r(i),l.d(i,"default",function(){return K});var r={};l.r(r),l.d(r,"default",function(){return E});var t=l("8ZkK"),s=l.n(t),o=l("tQZz"),u=l.n(o),d=l("7eVb"),m=l.n(d),c=l("n3k3"),g=l.n(c),y=l("10u2"),p=l.n(y),k=function(){var e=[{kind:"LocalArgument",name:"pid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null}],n=[{kind:"Variable",name:"pid",variableName:"pid"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"Variable",name:"first",variableName:"first"},r={kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},t={kind:"Literal",name:"requestType",value:4},s={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},u=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],d={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:u},m={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:u},c={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},f={name:"annotate_with_ids",value:"true"},F=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],v={kind:"Condition",passingValue:!0,isCustom:!0,customValue:f,condition:"onGate",selections:F},K={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},C={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},S=[i,t],h={kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},T={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},A={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,s,c,g,y,p,k,o,d,m,r,v]},_={kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},R=[l,a,s,o,d,m,v],N={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:R},V={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},D={kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[l,a,s,c,o,d,m,k,g,y,p,v]},U={kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},O={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},M={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},G={kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},z={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},W={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]},Z={kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},J={kind:"ScalarField",alias:null,name:"reportUrl",args:null,storageKey:null},Y={kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},X=[{kind:"Literal",name:"first",value:2}],$={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[b,h]},ee=[{kind:"Literal",name:"first",value:1}],ne={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},le={kind:"Condition",passingValue:!0,isCustom:!0,customValue:f,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:F}]};return{kind:"Request",fragment:{kind:"Fragment",name:"PostCommentWithPreviewLoadCommentQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:n,concreteType:"Post",plural:!1,selections:[l,a,{kind:"FragmentSpread",name:"PostComment_post",args:[i]}]}]},operation:{kind:"Operation",name:"PostCommentWithPreviewLoadCommentQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:n,concreteType:"Post",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[r,l]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,l]},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"ScalarField",alias:"numUncollapsedToplevelComments",name:"numComments",args:[t],storageKey:"numComments(requestType:4)"},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[s,l,a,o,d,m,c,g,y,p,k,v]},l]},K,{kind:"ScalarField",alias:null,name:"isCommentsDisabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"canViewerAddComment",args:null,storageKey:null},C,{kind:"ScalarField",alias:null,name:"commentDraftContent",args:null,storageKey:null},{kind:"LinkedField",alias:"allCommentsConnection",name:"genericCommentsConnection",storageKey:null,args:S,concreteType:"GenericCommentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[h,b]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[T,C,l,a,L,w,I,A,_,E,N,V,K,D,U,P,O,B,j,V,q,M,q,M,x,H,Q,G,z,W,Z,J,Y,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:X,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,$,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,T,K,L,w,I,A,_,E,N,V,D,U,P,O,B,j,C,V,q,M,q,M,x,H,Q,G,z,W,Z,J,Y,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:ee,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,L,O,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:R}]},ne]},$]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:ee,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},le]},ne]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:X,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},le]},ne,l]},l]},{kind:"LinkedHandle",alias:"allCommentsConnection",name:"genericCommentsConnection",args:S,handle:"connection",key:"AllCommentsList_allCommentsConnection",filters:["requestType"]}]}]},params:{operationKind:"query",name:"PostCommentWithPreviewLoadCommentQuery",id:"8d9e15f649a5656de93faa0f5c3f95df8c70d0d3f342922d5db3ac7a16cdc391",text:null,metadata:{}}}}();k.hash="d1acc9c4a447eaab389f1e0bfd419cc6";var f,F=k,v={kind:"Fragment",name:"PostCommentWithPreview_post",type:"Post",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"pid",args:null,storageKey:null},{kind:"FragmentSpread",name:"PostFeaturedCommentPreview_post",args:null}],hash:"c3bf380bdad5254d4dee850f3d3c0b8a"},K=v,C=l("q1tI"),S=l("AaDK"),h=l("VyO/"),b=l("nwxp"),T=l("D5Zh"),L=l("ZFNG"),w=l("td6z"),I=l("hTns"),A=l("WSfD"),_={kind:"Fragment",name:"PostFeaturedCommentPreview_post",type:"Post",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"first",type:null}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"ScalarField",alias:"numUncollapsedToplevelComments",name:"numComments",args:[{kind:"Literal",name:"requestType",value:4}],storageKey:"numComments(requestType:4)"},{kind:"FragmentSpread",name:"PostComment_post",args:[{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"skipCommentList",value:!0}]},{kind:"FragmentSpread",name:"CommentFeaturedPreview_container",args:[{kind:"Literal",name:"first",value:4}]}],hash:"cdf934923f034f804631ae018013a8d9"},E=_,R=l("Xy8g"),N=function(e){function n(){return s()(this,n),m()(this,g()(n).apply(this,arguments))}return p()(n,e),u()(n,[{key:"render",value:function(){var e=this.props,n=e.post,l=e.onClick,a=n.numDisplayComments,i=n.numUncollapsedToplevelComments;return a?C.createElement(R.a,{container:n,onClick:l,numDisplayComments:a,numUncollapsedToplevelComments:i}):C.createElement(A["default"],{post:n})}}]),n}(C.Component);N.displayName="PostFeaturedCommentPreview",N.fragments={post:void 0!==f?f:f=r};var V,D,U=Object(h.b)(N),P=function(e){function n(e){var l;return s()(this,n),(l=m()(this,g()(n).call(this,e))).state={showPreview:!Object(b.f)()},l}return p()(n,e),u()(n,[{key:"render",value:function(){var e=this,l=this.props,a=l.post,i=l.initialPageSize,r=l.inModal,t=void 0!==r&&r,s=this.state.showPreview&&!t;return C.createElement(C.Fragment,null,s&&C.createElement(L.b,null,C.createElement(U,{post:a,onClick:function(){e.setState({showPreview:!1}),Object(S.a)("comments_toggled",{object_id:a.pid,comment_type:"post"})}})),C.createElement(I.a,{shouldShow:!s},C.createElement(T.a,{query:n.queries.loadPostComment,variables:{pid:a.pid,first:i}},function(e){var n=e.loading,l=e.error,a=e.data;return n?C.createElement(w.a,null):l||null===a.post?null:C.createElement(A["default"],{post:a.post})})))}}]),n}(C.Component);P.displayName="PostCommentWithPreview",P.fragments={post:void 0!==V?V:V=i},P.queries={loadPostComment:void 0!==D?D:D=a};n["default"]=Object(h.b)(P)},"vN+2":function(e,n){e.exports=function(){}},"vg+J":function(e,n,l){"use strict";var a={};l.r(a),l.d(a,"default",function(){return $});var i={};l.r(i),l.d(i,"default",function(){return ne});var r={};l.r(r),l.d(r,"default",function(){return ae});var t={};l.r(t),l.d(t,"default",function(){return ue});var s={};l.r(s),l.d(s,"default",function(){return me});var o={};l.r(o),l.d(o,"default",function(){return ye});var u={};l.r(u),l.d(u,"default",function(){return ke});var d={};l.r(d),l.d(d,"default",function(){return ve});var m={};l.r(m),l.d(m,"default",function(){return Ae});var c={};l.r(c),l.d(c,"default",function(){return Ue});var g={};l.r(g),l.d(g,"default",function(){return je});var y={};l.r(y),l.d(y,"default",function(){return We});var p={};l.r(p),l.d(p,"default",function(){return rn});var k={};l.r(k),l.d(k,"default",function(){return dn});var f={};l.r(f),l.d(f,"default",function(){return bn});var F={};l.r(F),l.d(F,"default",function(){return An});var v={};l.r(v),l.d(v,"default",function(){return En});var K={};l.r(K),l.d(K,"default",function(){return Pn});var C={};l.r(C),l.d(C,"default",function(){return Mn});var S={};l.r(S),l.d(S,"default",function(){return Hn});var h={};l.r(h),l.d(h,"default",function(){return Xn});var b={};l.r(b),l.d(b,"default",function(){return al});var T={};l.r(T),l.d(T,"default",function(){return Fl});var L={};l.r(L),l.d(L,"default",function(){return Rl});var w={};l.r(w),l.d(w,"default",function(){return Vl});var I={};l.r(I),l.d(I,"default",function(){return Ul});var A={};l.r(A),l.d(A,"default",function(){return jl});var _={};l.r(_),l.d(_,"default",function(){return Ml});var E={};l.r(E),l.d(E,"default",function(){return Hl});var R={};l.r(R),l.d(R,"default",function(){return Xl});var N={};l.r(N),l.d(N,"default",function(){return ha});var V={};l.r(V),l.d(V,"default",function(){return wa});var D={};l.r(D),l.d(D,"default",function(){return Aa});var U={};l.r(U),l.d(U,"default",function(){return Ea});var P={};l.r(P),l.d(P,"default",function(){return Da});var O={};l.r(O),l.d(O,"default",function(){return Ja});var B={};l.r(B),l.d(B,"default",function(){return ei});var j={};l.r(j),l.d(j,"default",function(){return ti});var q={};l.r(q),l.d(q,"default",function(){return oi});var M=l("8ZkK"),x=l.n(M),H=l("tQZz"),Q=l.n(H),G=l("7eVb"),z=l.n(G),W=l("n3k3"),Z=l.n(W),J=l("10u2"),Y=l.n(J),X=function(){var e=[{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null}],n=[{kind:"Variable",name:"id",variableName:"id"}],l={kind:"Literal",name:"requestType",value:3},a={kind:"ScalarField",alias:"numCommentsCollapsed",name:"numComments",args:[l],storageKey:"numComments(requestType:3)"},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},s=[{kind:"Literal",name:"first",value:3},l],o={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},u={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},F={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},K=[r,i,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],C={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:K},S={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:K},h={name:"annotate_with_ids",value:"true"},b=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],T={kind:"Condition",passingValue:!0,isCustom:!0,customValue:h,condition:"onGate",selections:b},L={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[i,r,g,y,p,k,f,F,v,C,S,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},T]},w={kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},A=[i,r,g,v,C,S,T],_={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:A},E={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},R={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},N={kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[i,r,g,y,v,C,S,F,p,k,f,T]},V={kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},D={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},U={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},O={kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},M={kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},Q={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[i,r,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},G={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[i,r,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]},z={kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},W={kind:"ScalarField",alias:null,name:"reportUrl",args:null,storageKey:null},Z={kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},J=[{kind:"Literal",name:"first",value:2}],Y=[{kind:"Literal",name:"first",value:1}],X={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},$={kind:"Condition",passingValue:!0,isCustom:!0,customValue:h,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:b}]};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAreaLoadCollapsedQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:n,concreteType:null,plural:!1,selections:[a,{kind:"FragmentSpread",name:"CollapsedCommentList_container",args:null}]}]},operation:{kind:"Operation",name:"CommentAreaLoadCollapsedQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:n,concreteType:null,plural:!1,selections:[a,i,r,t,a,{kind:"LinkedField",alias:"hiddenComments",name:"genericCommentsConnection",storageKey:"genericCommentsConnection(first:3,requestType:3)",args:s,concreteType:"GenericCommentsConnection",plural:!1,selections:[o,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[u,i,r,d,m,c,L,w,I,_,E,R,N,V,D,U,P,O,t,E,B,j,B,j,q,M,x,H,Q,G,z,W,Z,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:J,concreteType:"CommentRepliesConnection",plural:!1,selections:[i,r,o,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[i,r,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,r,u,R,d,m,c,L,w,I,_,E,N,V,D,U,P,O,t,E,B,j,B,j,q,M,x,H,Q,G,z,W,Z,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:Y,concreteType:"CommentRepliesConnection",plural:!1,selections:[i,r,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[i,r,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,r,d,U,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:A}]},X]},o]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:Y,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},$]},X]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:J,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},$]},X,i]},i]},{kind:"LinkedHandle",alias:"hiddenComments",name:"genericCommentsConnection",args:s,handle:"connection",key:"AllComments_hiddenComments",filters:["requestType"]}]}]},params:{operationKind:"query",name:"CommentAreaLoadCollapsedQuery",id:"10c9c40cf09fad9d260850890566375a6b694958ef63204723ad8eb3f9779a0e",text:null,metadata:{}}}}();X.hash="94c8517e832d4e8110f28986d6f6cae1";var $=X,ee=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},p=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],k={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:p},f={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:p},F={name:"annotate_with_ids",value:"true"},v=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],K={kind:"Condition",passingValue:!0,isCustom:!0,customValue:F,condition:"onGate",selections:v},C={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,o,u,d,m,c,g,y,k,f,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},K]},S={kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},b=[l,a,o,y,k,f,K],T={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:b},L={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},I={kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[l,a,o,u,y,k,f,g,d,m,c,K]},A={kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},_={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},R={kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},N={kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},V={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},D={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},U={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},O={kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},q={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},M={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]},x={kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"reportUrl",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},G=[{kind:"Literal",name:"first",value:2}],z={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},W=[{kind:"Literal",name:"first",value:1}],Z={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},J={kind:"Condition",passingValue:!0,isCustom:!0,customValue:F,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:v}]};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAreaAddedQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[{kind:"FragmentSpread",name:"CommentThreadItem_comment",args:null}]}]},operation:{kind:"Operation",name:"CommentAreaAddedQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,r,t,s,C,S,h,T,L,w,I,A,_,E,R,N,V,L,D,U,D,U,P,O,B,j,q,M,x,H,Q,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:G,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,z,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,t,w,i,r,s,C,S,h,T,L,I,A,_,E,R,N,V,L,D,U,D,U,P,O,B,j,q,M,x,H,Q,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:W,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,i,E,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:b}]},Z]},z]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:W,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},J]},Z]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:G,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},J]}]},params:{operationKind:"query",name:"CommentAreaAddedQuery",id:"63221dfa06621a4748300b1e811cdc2c1305c8b2991ddb587b25ad4a32c80ee5",text:null,metadata:{}}}}();ee.hash="940a2d55b9c85f2c81b66c099ead751c";var ne=ee,le={kind:"Fragment",name:"CommentArea_container",type:"CommentsContainer",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5},{kind:"LocalArgument",name:"skipCommentList",type:"Boolean",defaultValue:!1}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numDisplayComments",args:null,storageKey:null},{kind:"ScalarField",alias:"numUncollapsedToplevelComments",name:"numComments",args:[{kind:"Literal",name:"requestType",value:4}],storageKey:"numComments(requestType:4)"},{kind:"FragmentSpread",name:"CommentAddRoot_container",args:null},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!1,condition:"skipCommentList",selections:[{kind:"FragmentSpread",name:"AllCommentsList_container",args:[{kind:"Variable",name:"first",variableName:"first"}]}]}],hash:"6925854fdf00ac6b7cd48d0166166e70"},ae=le,ie=l("q1tI"),re=l("VyO/"),te=l("D5Zh"),se=l("ZFNG"),oe=function(){var e=[{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null}],n=[{kind:"Variable",name:"id",variableName:"id"}],l={kind:"Variable",name:"after",variableName:"after"},a={kind:"Variable",name:"first",variableName:"first"},i={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},s=[l,a,{kind:"Literal",name:"requestType",value:4}],o={kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},F={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},K={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},C=[i,r,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],S={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:C},h={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:C},b={name:"annotate_with_ids",value:"true"},T=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],L={kind:"Condition",passingValue:!0,isCustom:!0,customValue:b,condition:"onGate",selections:T},w={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[r,i,y,p,k,f,F,v,K,S,h,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},L]},I={kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},A={kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},_=[r,i,y,K,S,h,L],E={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:_},R={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},N={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},V={kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[r,i,y,p,K,S,h,v,k,f,F,L]},D={kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},U={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},O={kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},M={kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},G={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[r,i,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},z={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[r,i,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]},W={kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},Z={kind:"ScalarField",alias:null,name:"reportUrl",args:null,storageKey:null},J={kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},Y=[{kind:"Literal",name:"first",value:2}],X={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[u,o]},$=[{kind:"Literal",name:"first",value:1}],ee={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},ne={kind:"Condition",passingValue:!0,isCustom:!0,customValue:b,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:T}]};return{kind:"Request",fragment:{kind:"Fragment",name:"AllCommentsListQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:n,concreteType:null,plural:!1,selections:[{kind:"FragmentSpread",name:"AllCommentsList_container",args:[l,a]}]}]},operation:{kind:"Operation",name:"AllCommentsListQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:n,concreteType:null,plural:!1,selections:[i,r,t,{kind:"LinkedField",alias:"allCommentsConnection",name:"genericCommentsConnection",storageKey:null,args:s,concreteType:"GenericCommentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[o,u]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,t,r,i,m,c,g,w,I,A,E,R,N,V,D,U,P,O,B,R,j,q,j,q,M,x,H,Q,G,z,W,Z,J,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:Y,concreteType:"CommentRepliesConnection",plural:!1,selections:[r,i,X,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[r,i,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[r,i,d,N,m,c,g,w,I,A,E,R,V,D,U,P,O,B,t,R,j,q,j,q,M,x,H,Q,G,z,W,Z,J,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:$,concreteType:"CommentRepliesConnection",plural:!1,selections:[r,i,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[r,i,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[r,i,m,P,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:_}]},ee]},X]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:$,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},ne]},ee]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:Y,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},ne]},ee,r]},r]},{kind:"LinkedHandle",alias:"allCommentsConnection",name:"genericCommentsConnection",args:s,handle:"connection",key:"AllCommentsList_allCommentsConnection",filters:["requestType"]}]}]},params:{operationKind:"query",name:"AllCommentsListQuery",id:"a642d41e7406e25f2aebb259fd4d98544716d10d507393f72962bfa16fbcf449",text:null,metadata:{}}}}();oe.hash="f9da13e1f1ce3f246dff22d14e091dca";var ue=oe,de=function(){var e={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null};return{kind:"Fragment",name:"AllCommentsList_container",type:"CommentsContainer",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:["allCommentsConnection"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"first",type:"Int",defaultValue:5},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e,{kind:"LinkedField",alias:"allCommentsConnection",name:"__AllCommentsList_allCommentsConnection_connection",storageKey:"__AllCommentsList_allCommentsConnection_connection(requestType:4)",args:[{kind:"Literal",name:"requestType",value:4}],concreteType:"GenericCommentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},e,{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"CommentThreadItem_comment",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]}]}]}}();de.hash="800c78748e6b1b4e6705329f15176d1b";var me=de,ce=l("RA+f"),ge={kind:"Fragment",name:"CommentThreadItem_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"CommentItem_comment",args:null},{kind:"FragmentSpread",name:"CommentRepliesList_comment",args:null}],hash:"34607b68e593b97148235e46d31b47f3"},ye=ge,pe=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},o={name:"annotate_with_ids",value:"true"},u={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},k=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],f={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:k},F={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:k},v=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],K={kind:"Condition",passingValue:!0,isCustom:!0,customValue:o,condition:"onGate",selections:v},C={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},S={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentItemQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,r,t,s,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},{kind:"FragmentSpread",name:"CommentHeader_comment",args:null},{kind:"FragmentSpread",name:"CommentQTextExpandable_comment",args:null},{kind:"FragmentSpread",name:"CommentActionBar_comment",args:null},{kind:"FragmentSpread",name:"CommentEditor_comment",args:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:o,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:[{kind:"FragmentSpread",name:"AnswerCommentId_comment",args:null}]}]}]}]},operation:{kind:"Operation",name:"CommentItemQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,r,t,s,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,u,d,m,c,g,y,p,f,F,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},K]},{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,u,p,f,F,K]},C,{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[l,a,u,d,p,f,F,y,m,c,g,K]},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},C,S,h,S,h,{kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:o,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:v}]}]}]},params:{operationKind:"query",name:"CommentItemQuery",id:"8239a02fe17d525fe1fcfc003640f290a1bacc9572f44e53c680a26d6ca98219",text:null,metadata:{}}}}();pe.hash="dbfe3f4f9aea4afd06d193c8617ddb86";var ke=pe,fe=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"CommentItem_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},{kind:"FragmentSpread",name:"CommentHeader_comment",args:null},{kind:"FragmentSpread",name:"CommentQTextExpandable_comment",args:null},{kind:"FragmentSpread",name:"CommentActionBar_comment",args:null},{kind:"FragmentSpread",name:"CommentEditor_comment",args:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:[{kind:"FragmentSpread",name:"AnswerCommentId_comment",args:null}]}]}]}}();fe.hash="0fa088b6bc3036208b87452eed110e18";var Fe,ve=fe,Ke=l("AaDK"),Ce=l("LW3J"),Se=l("jufJ"),he=l("cbxS"),be=l("Yc5t"),Te=l("r+vq"),Le=l("VwdU"),we=l("1cij"),Ie={kind:"Fragment",name:"AnswerCommentId_comment",type:"AnswerComment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],hash:"5d8c47612df8583773bffdb6959a6b6d"},Ae=Ie,_e=l("rCfO"),Ee=l("b0KT"),Re=function(e){function n(){return x()(this,n),z()(this,Z()(n).apply(this,arguments))}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this.props.comment,n=e.commentId,l=e.debugInfo,a=JSON.parse(l);if(this.context){var i="".concat(_e.a.answer_comment," ").concat(n);return i="".concat(i," | scores: ").concat(a.answerCommentScoreInfo),ie.createElement(Ee.b,null,ie.createElement(ce.s,{regular:!0,fontSize:"small"},ie.createElement(ce.n,{alignItems:"center"},ie.createElement(Se.c,null,i))))}return null}}]),n}(ie.Component);Re.displayName="AnswerCommentId",Re.contextType=we.b,Re.fragments={comment:void 0!==Fe?Fe:Fe=m};var Ne=Object(re.b)(Re),Ve=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null};return{kind:"Fragment",name:"CommentHeader_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,l,{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserLink_user",args:null}]},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,l]},{kind:"FragmentSpread",name:"CommentCredibility_comment",args:null},{kind:"FragmentSpread",name:"CommentTimestamp_comment",args:null}]}}();Ve.hash="aedd4e8022cb402ed4c8e6bba1a2310e";var De,Ue=Ve,Pe=l("sC65"),Oe=l("F0ZP"),Be={kind:"Fragment",name:"CommentTimestamp_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}],hash:"a21fe387fff7890b2b95037238da8fc6"},je=Be,qe=function(e){function n(){return x()(this,n),z()(this,Z()(n).apply(this,arguments))}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this.props.comment,n=e.creationTime,l=e.url;return ie.createElement(ce.p,{href:null!==l&&void 0!==l?l:undefined},ie.createElement(Se.g,{utime:n}))}}]),n}(ie.Component);qe.displayName="CommentTimestamp",qe.fragments={comment:void 0!==De?De:De=g};var Me,xe=Object(re.b)(qe),He=function(e){function n(){return x()(this,n),z()(this,Z()(n).apply(this,arguments))}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e,n=this.props.comment,l=n.commenterIsTribeModerator,a=n.commenterIsTribeAdmin,i=n.isReply,r=n.user,t=n.owner,s=n.user;return ie.createElement(Oe.a,{photo:i?ie.createElement(Te.a,{user:s,size:18,shouldShowBadge:!0}):undefined,name:ie.createElement(Pe.a,{user:s}),isTribeAdmin:null!==a&&void 0!==a?a:undefined,isTribeModerator:null!==l&&void 0!==l?l:undefined,isOriginalAuthor:null!==(e=t.uid===r.uid)&&void 0!==e?e:undefined,timestamp:ie.createElement(xe,{comment:n}),compact:null!==i&&void 0!==i?i:undefined})}}]),n}(ie.Component);He.displayName="CommentHeader",He.fragments={comment:void 0!==Me?Me:Me=c};var Qe,Ge=Object(re.b)(He),ze={kind:"Fragment",name:"CommentEditor_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"FragmentSpread",name:"CommentEditMutation_comment",args:null}],hash:"70d45ae3b50e42b418a628af5353e751"},We=ze,Ze=l("/bbo"),Je=l("zLpq"),Ye=l("EreF"),Xe=l("9Tc6"),$e=l("3F65"),en=function(e){function n(e){var l;return x()(this,n),(l=z()(this,Z()(n).call(this,e))).editorRef=void 0,l.editorRef=ie.createRef(),l}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this,n=this.props.comment,l=(n||{}).content,a="string"===typeof l?JSON.parse(l):l;return ie.createElement(ie.Fragment,null,ie.createElement(ce.s,{bg:"white",borderAll:!0,borderRadius:"20px",py:"small",px:"medium",className:$e.commentEditorWrapper},ie.createElement(Ye.a,{ref:this.editorRef,placeholder:Object(Se.K)("Add a comment..."),toolbarOnWeb:!1,content:a,commandsToDisable:["horizontal-rule","video"],isCommentEditor:!0,editorPaddingReset:!0})),ie.createElement(ce.j,{justifyContent:"flex-end",my:"small"},ie.createElement(Je.a,{text:Object(Se.K)("Cancel"),variant:"gray",size:"small",onClick:this.props.onCancel}),ie.createElement(Xe.a,{comment:n},function(n){return ie.createElement(Ze.a,{text:Object(Se.K)("Update"),size:"small",onClick:function(){var l=JSON.stringify(e.editorRef.current.save());n(l),e.props.onSubmit()}})})))}}]),n}(ie.Component);en.displayName="CommentEditor",en.fragments={comment:void 0!==Qe?Qe:Qe=y};var nn=Object(re.b)(en),ln=l("ptJ+"),an=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"CommentActionBar_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:null,condition:"onLoggedOut",selections:[{kind:"FragmentSpread",name:"TribeLoggedOutCommentActionBar_comment",args:null}]},{kind:"FragmentSpread",name:"CommentReplyButton_comment",args:null},{kind:"FragmentSpread",name:"CommentUpvoteButton_comment",args:null},{kind:"FragmentSpread",name:"CommentDownvoteButton_comment",args:null},{kind:"FragmentSpread",name:"CommentOverflowMenu_comment",args:null},{kind:"FragmentSpread",name:"CommentUpvoteBadgePile_comment",args:null}]}}();an.hash="0f3e3aa53677870a18b2242dffa9bf29";var rn=an,tn=l("FuLD"),sn=l("wt7Y"),on=l("ovGs"),un={kind:"Fragment",name:"TribeLoggedOutCommentActionBar_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null}],hash:"f8674650c7daa7950192a1755a117465"},dn=un,mn=l("0xW3"),cn=l("rhDr"),gn=l.n(cn),yn=l("OMLc"),pn=function(e){var n=e.count,l=e.pressed,a=e.onClick,i=(e.showText,e.size),r=void 0===i?"regular":i,t=gn()(e,["count","pressed","onClick","showText","size"]);return ie.createElement(Je.a,Object.assign({icon:ie.createElement(yn.a,{name:"Reply"}),text:Object(Se.K)("Reply"),count:n,pressed:l,variant:"gray",onClick:a,size:r},t))};pn.displayName="ReplyButton";var kn,fn=pn,Fn=l("5IZ5"),vn=function(e){function n(){return x()(this,n),z()(this,Z()(n).apply(this,arguments))}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this.props.comment.numUpvotes,n=[];n.push(ie.createElement(Je.a,{icon:ie.createElement(yn.a,{name:"Downvote"}),tooltipText:Object(Se.K)("Downvote"),variant:"gray",pressed:!1,onClick:function(){Object(mn.emitEventToWebnode)("REACT_SHIM_SHOW_WEBNODE_SIGNIN_WALL")},size:"small"}));var l=[];return l.push(ie.createElement(fn,{onClick:function(){Object(mn.emitEventToWebnode)("REACT_SHIM_SHOW_WEBNODE_SIGNIN_WALL")}}),ie.createElement(Fn.a,{count:e,pressed:!1,onClick:function(){Object(mn.emitEventToWebnode)("REACT_SHIM_SHOW_WEBNODE_SIGNIN_WALL")},prominent:!1})),ie.createElement(sn.e,{primaryActions:l,secondaryActions:n})}}]),n}(ie.Component);vn.displayName="TribeLoggedOutCommentActionBar",vn.fragments={comment:void 0!==kn?kn:kn=k};var Kn=Object(re.b)(vn),Cn=l("EFAP"),Sn=l("K5OZ"),hn=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"commentUpvoteAdd",storageKey:null,args:[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],concreteType:"CommentUpvoteAdd",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentUpvoteButton_commentUpvoteAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"CommentUpvoteButton_commentUpvoteAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"CommentUpvoteButton_commentUpvoteAdd_Mutation",id:"1e966524997549f3f4c3edaad3dae6c54dd245291a819e5211e9da0f36ec4ff0",text:null,metadata:{}}}}();hn.hash="71dfac2bff5fc6c8c929f99b652e4734";var bn=hn,Tn=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"commentUpvoteRemove",storageKey:null,args:[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],concreteType:"CommentUpvoteRemove",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentUpvoteButton_commentUpvoteRemove_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"CommentUpvoteButton_commentUpvoteRemove_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"CommentUpvoteButton_commentUpvoteRemove_Mutation",id:"b1966bf5925eafa26c9a9382165a058f992b977214f298ffb91d6059d53a77f7",text:null,metadata:{}}}}();Tn.hash="c400797ebcfddf5545356d09a0ca2f8a";var Ln,wn,In,An=Tn,_n={kind:"Fragment",name:"CommentUpvoteButton_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null,isLive:!0},{kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null,isLive:!0},{kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null,isLive:!0}],hash:"b21aa2f826ac72d9d502ac6f180b5b70"},En=_n,Rn=function(e){function n(){return x()(this,n),z()(this,Z()(n).apply(this,arguments))}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this.props,l=e.comment,a=gn()(e,["comment"]),i=l.id,r=l.__typename,t=l.commentId,s=l.commentType,o=l.numUpvotes,u=l.viewerHasUpvoted,d=l.viewerIsAuthor,m=u?n.mutations.upvoteRemove:n.mutations.upvoteAdd,c={id:i,__typename:r,viewerHasUpvoted:!u,viewerHasDownvoted:!1,numUpvotes:u?o-1:o+1},g=u?{commentUpvoteRemove:{comment:c}}:{commentUpvoteAdd:{comment:c}};return ie.createElement(re.a,{mutation:m,optimisticResponse:g,variables:{commentId:t,commentType:s}},function(e){return ie.createElement(Fn.a,Object.assign({count:o,pressed:u&&!d,onClick:function(){return e()},prominent:!1,size:"small",disabled:d},a))})}}]),n}(ie.Component);Rn.displayName="CommentUpvoteButton",Rn.fragments={comment:void 0!==Ln?Ln:Ln=v},Rn.mutations={upvoteRemove:void 0!==wn?wn:wn=F,upvoteAdd:void 0!==In?In:In=f};var Nn=Object(re.b)(Rn),Vn=l("xNp0"),Dn=l.n(Vn),Un=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"commentDownvoteRemove",storageKey:null,args:[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],concreteType:"CommentDownvoteRemove",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentDownvoteButton_commentDownvoteRemove_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"CommentDownvoteButton_commentDownvoteRemove_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"CommentDownvoteButton_commentDownvoteRemove_Mutation",id:"78cb3a3f217e7dff076c7bb022974b9f8e48c469405e5dfbfd237939d23dfaaa",text:null,metadata:{}}}}();Un.hash="3b971b1ac57079d3c5d6622d7e2a2d01";var Pn=Un,On=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"commentDownvoteAdd",storageKey:null,args:[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],concreteType:"CommentDownvoteAdd",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentDownvoteButton_commentDownvoteAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"CommentDownvoteButton_commentDownvoteAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"CommentDownvoteButton_commentDownvoteAdd_Mutation",id:"a4a87d36833fd03d5932ff698616546319604ab615d7a65b39f329d6950fdd94",text:null,metadata:{}}}}();On.hash="aef8336e5db1b2843219831790ec037f";var Bn,jn,qn,Mn=On,xn={kind:"Fragment",name:"CommentDownvoteButton_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null}],hash:"e7747b9647ecc767e7679b32647a9cb0"},Hn=xn,Qn=void 0!==Bn?Bn:Bn=S,Gn=void 0!==jn?jn:jn=C,zn=void 0!==qn?qn:qn=K,Wn=function(e){var n=e.id,l=e.commentId,a=e.__typename,i=e.commentType,r=e.numUpvotes,t=e.viewerHasUpvoted,s=e.viewerHasDownvoted,o={id:n,__typename:a,numUpvotes:t?r-1:r,viewerHasUpvoted:!1,viewerHasDownvoted:!s};return{mutation:s?zn:Gn,variables:{commentId:l,commentType:i},optimisticResponse:s?{commentDownvoteRemove:{comment:o}}:{commentDownvoteAdd:{comment:o}}}},Zn=function(e){function n(){return x()(this,n),z()(this,Z()(n).apply(this,arguments))}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this.props.comment.viewerHasDownvoted,n=Dn()({},this.props);return ie.createElement(re.a,Wn(this.props.comment),function(l){return ie.createElement(Je.a,Object.assign({icon:ie.createElement(yn.a,{name:"Downvote"}),tooltipText:Object(Se.K)("Downvote"),variant:"gray",pressed:e,onClick:function(){return l()}},n))})}}],[{key:"getOverflowItem",value:function(e){var n=e.comment;return{label:n.viewerHasDownvoted?Object(Se.K)("Remove Downvote"):Object(Se.K)("Downvote Comment"),onSelected:function(e){e.mutate(Wn(n))}}}}]),n}(ie.Component);Zn.displayName="CommentDownvoteButton",Zn.fragments={comment:Qn},Zn.mutations={downvoteAddMutation:Gn,downvoteRemoveMutation:zn};var Jn=Object(re.b)(Zn),Yn={kind:"Fragment",name:"CommentReplyButton_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null}],hash:"5d2f5d4abe09e95e8d7b9eb3b51bd53a"},Xn=Yn,$n=l("nwxp"),el=l("AFGi"),nl=function(){var e=[{kind:"LocalArgument",name:"objectId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"replyToId",type:"BigInt",defaultValue:null}],n=[{kind:"Variable",name:"commentType",variableName:"commentType"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"objectId",variableName:"objectId"},{kind:"Variable",name:"replyToId",variableName:"replyToId"}],l={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAddMutation_commentAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"commentAdd",storageKey:null,args:n,concreteType:"CommentAdd",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,r]}]}]},operation:{kind:"Operation",name:"CommentAddMutation_commentAdd_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"commentAdd",storageKey:null,args:n,concreteType:"CommentAdd",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i,r,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"CommentAddMutation_commentAdd_Mutation",id:"5dbe7b513812b1ade2e6b8761ebf181eed45cbd59c506e50069d07f2c9982cd7",text:null,metadata:{}}}}();nl.hash="22f508cceecd2d90087a9f907953a253";var ll,al=nl,il=function(e){function n(){return x()(this,n),z()(this,Z()(n).apply(this,arguments))}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this.props,l=e.objectId,a=e.commentType,i=e.replyToId,r=e.children,t=e.onSuccess;return ie.createElement(re.a,{mutation:n.mutations.addComment,onCompleted:function(e){var n;if(t&&(null===e||void 0===e?void 0:null===(n=e.commentAdd)||void 0===n?void 0:n.success)&&null!==e.commentAdd.comment){var l=e.commentAdd.comment,a=l.commentId,i=l.url;t({commentId:a,url:i})}}},function(e){return r(function(n){return e({variables:{objectId:l,commentType:a,replyToId:i,content:JSON.stringify(n)}})})})}}]),n}(ie.Component);il.displayName="CommentAddMutation",il.mutations={addComment:void 0!==ll?ll:ll=b};var rl=l("Y+je"),tl=function(e){var n=e.children,l=gn()(e,["children"]);return ie.createElement(ce.s,Object.assign({color:"gray_dark",fontSize:"regular",py:"small",px:"medium",bg:"white",flex:1,borderRadius:$n.j?"large":"pill",borderAll:!0,minWidth:"0"},l,{className:rl.commentInputWrapper}),n)};tl.displayName="CommentInput";var sl,ol=tl,ul=l("SKAY"),dl=l("Gnru"),ml=l("oJdr"),cl=l("nW6E"),gl=function(e){function n(e){var l;return x()(this,n),(l=z()(this,Z()(n).call(this,e))).state={isSubmitting:!1},l}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this,n=this.props,l=n.commentType,a=n.containerId,i=n.commentDraftContent,r=void 0===i?"":i,t=n.replyCommentId,s=n.postDismissCallback,o=n.onCommentAdded,u=n.children;return ie.createElement(dl.ClientLogConsumer,null,function(n){return ie.createElement(il,{objectId:a,commentType:l,replyToId:t,onSuccess:function(e){var n=e.commentId,l=e.url;o&&o({commentId:n,url:l})}},function(i){return ie.createElement(cl.i,{forceReload:$n.h&&!Object(ul.getNativeSupportedSetting)("reset_editor_when_resetting_modal"),standaloneModalProps:{postDismissCallback:function(r){var t=r.content,o=r.shouldRefetch;s&&s({content:t,shouldRefetch:o}),t&&(e.state.isSubmitting||e.setState({isSubmitting:!0},function(){i(t).then(function(n){var l,a,i=null!==(l=null===n||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.commentAdd)&&void 0!==l?l:{},r=i.success,t=i.msg;r||Object(ml.a)({message:t}),e.setState(function(){return{isSubmitting:!1}})}),function(e,n,l){var a,i;switch(n){case"AnswerComment":i="AddAnswerComment",a={aid:l};break;case"ShareComment":i="QuoraShareCommentAdd",a={share_id:l};break;case"PostComment":i="TribePostCommentAdd",a={pid:l};break;default:return null}e(i,a)}(n,l,a)}))},modalProps:{name:"CommentAddModal",extraProps:{commentType:l,containerId:a,commentDraftContent:r},queryVariables:{showReplyHeader:!!t,replyCommentId:t||0,commentType:l}},containerProps:{easyDismissEnabled:!0,legacy:!0}}},function(e){var n=e.openStandaloneModal;return u(n)})})})}}]),n}(ie.Component);gl.displayName="CommentAddModalOpener";var yl=function(e){function n(e){var l;return x()(this,n),(l=z()(this,Z()(n).call(this,e))).editorRef=void 0,l.editorRef=ie.createRef(),l.state={canSubmit:!1,isSubmitting:!1},l}return Y()(n,e),Q()(n,[{key:"renderMobile",value:function(){var e=this.props,n=e.onReplyAdded,l=e.comment,a=gn()(e,["onReplyAdded","comment"]),i=l.commentId,r=l.commentType,t=l.containerId;return ie.createElement(gl,{commentType:r,containerId:t,replyCommentId:i,onCommentAdded:function(e){var l=e.commentId,a=e.url;n?n({commentId:l}):a&&Object(ce.v)(a)}},function(e){return ie.createElement(fn,Object.assign({size:"small",onClick:e},a))})}},{key:"renderDesktop",value:function(){var e=this;return ie.createElement(fn,{size:"small",onClick:function(){e.props.toggleEditor(!0)}})}},{key:"renderDesktopEditing",value:function(){var e=this,n=this.props,l=n.onReplyAdded,a=n.comment,i=a.commentId,r=a.commentType,t=a.containerId;return ie.createElement(ce.j,{mt:"small",mb:"medium",alignItems:"flex-end"},ie.createElement(ol,{onBlur:function(){setTimeout(function(){e.state.canSubmit||e.props.toggleEditor(!1)},10)}},ie.createElement(Ye.a,{ref:this.editorRef,placeholder:Object(Se.K)("Add a reply..."),toolbarOnWeb:!1,content:Object(el.f)(),commandsToDisable:["horizontal-rule","video"],onMeaningfulChange:function(n){e.setState({canSubmit:!n.isEmpty()||n.linkSelector.isActive()})},isCommentEditor:!0,editorPaddingReset:!0})),ie.createElement(ce.d,null,ie.createElement(ce.j,{alignItems:"center",justifyContent:"flex-end",mb:"tiny"},ie.createElement(il,{objectId:t,commentType:r,replyToId:i,onSuccess:function(n){var a=n.commentId,i=n.url;e.editorRef.current.clear(),e.props.toggleEditor(!1),l?l({commentId:a}):Object(ce.v)(i)}},function(n){return ie.createElement(ce.d,{ml:"tiny"},ie.createElement(Ze.a,{size:"small",text:Object(Se.K)(ie.createElement(Se.A,{context:Se.G.verb},"Reply")),disabled:!e.state.canSubmit||e.state.isSubmitting,onClick:function(){e.state.canSubmit&&e.editorRef.current&&!e.state.isSubmitting&&e.setState({isSubmitting:!0},function(){var l=e.editorRef.current.save();n(l).then(function(){e.setState(function(){return{isSubmitting:!1}})})})}}))}))))}},{key:"render",value:function(){return $n.n?this.renderMobile():this.props.editing?this.renderDesktopEditing():this.renderDesktop()}}]),n}(ie.Component);yl.displayName="CommentReplyButton",yl.fragments={comment:void 0!==sl?sl:sl=h};var pl=Object(re.b)(yl),kl=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"CommentUpvoteBadgePile_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[e,n,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]}]}}();kl.hash="530d647f363155e18bf8b0f10e3c8d96";var fl,Fl=kl,vl=l("JWOy"),Kl=l("UDrg"),Cl=l("FfZq"),Sl=function(e){function n(){return x()(this,n),z()(this,Z()(n).apply(this,arguments))}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this.props.comment,n=e.commentId,l=e.commentType,a=e.featuredUpvoters,i=void 0===a?[]:a;return 0===i.length?null:ie.createElement(mn.WebnodeBridgeModal,{method:"voter_list_modal",kwargs:{object_id:n,comment_id:n,content_type:Kl.a.COMMENT,comment_type:Cl.a[l]}},function(e){return ie.createElement(ce.e,{onClick:function(){return e()},display:"flex",minWidth:30,minHeight:30,alignItems:"center",justifyContent:"center"},ie.createElement(vl.a,{maxCount:3,tooltipText:Object(Se.K)("Upvoters")},i.map(function(e){return ie.createElement(Te.a,{key:e.uid,user:e,linked:!1})})))})}}]),n}(ie.Component);Sl.displayName="CommentUpvoteBadgePile",Sl.fragments={comment:void 0!==fl?fl:fl=T};var hl,bl=Object(re.b)(Sl),Tl=function(e){function n(e){var l;return x()(this,n),(l=z()(this,Z()(n).call(this,e))).state={showReplyEditor:!1},l}return Y()(n,e),Q()(n,[{key:"getPrimaryActions",value:function(){var e=this,n=this.props,l=n.comment,a=n.onReplyAdded,i=l.user,r=l.authorIsBlockedByTribe,t=i.isBlocking,s=!(r||t),o=[];return o.push(ie.createElement(Nn,{comment:l})),s&&o.push(ie.createElement(pl,{comment:l,editing:!1,onReplyAdded:a,toggleEditor:function(n){return e.setState({showReplyEditor:n})}})),o}},{key:"getSecondaryActions",value:function(){var e=this.props,n=e.comment,l=e.toggleEditor,a=e.onCommentEditSuccess,i=n.viewerIsAuthor,r=[];return r.push(ie.createElement(bl,{comment:n})),!i&&r.push(ie.createElement(Jn,{comment:n})),r.push(ie.createElement(on.c,{comment:n,toggleEditor:l,onCommentEditSuccess:a})),r}},{key:"renderActionBar",value:function(){return ie.createElement(sn.e,{size:"small",responsive:!1,primaryActions:this.getPrimaryActions(),secondaryActions:this.getSecondaryActions()})}},{key:"render",value:function(){var e=this;if(Object(tn.b)())return ie.createElement(Cn.e.Consumer,null,function(n){return(n===Sn.a.TRIBE_ITEM||n===Sn.a.TRIBE_MAIN)&&ie.createElement(Kn,{comment:e.props.comment})});var n=this.props,l=n.comment,a=n.onReplyAdded,i=l.user,r=l.authorIsBlockedByTribe,t=i.isBlocking,s=!(r||t);return ie.createElement(ie.Fragment,null,this.state.showReplyEditor?ie.createElement(ie.Fragment,null,s&&ie.createElement(pl,{comment:l,editing:!0,onReplyAdded:a,toggleEditor:function(n){return e.setState({showReplyEditor:n})}})):this.renderActionBar())}}]),n}(ie.Component);Tl.displayName="CommentActionBar",Tl.fragments={comment:void 0!==hl?hl:hl=p};var Ll,wl,Il=Object(re.b)(Tl),Al=function(e){function n(e){var l;return x()(this,n),(l=z()(this,Z()(n).call(this,e))).state={isEditing:!1},l}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this,l=this.props,a=l.comment,i=l.onReplyAdded,r=l.showHighlight;return a.isDeleted?ie.createElement(he.a,{my:"small",variant:"muted",dismissable:!1},ie.createElement(ce.s,{fontSize:"small"},ie.createElement(Ce.a,null,ie.createElement(Se.A,null,"This comment has been deleted"),0!==a.deletedTime?ie.createElement(Se.g,{utime:a.deletedTime}):null))):ie.createElement(te.a,{query:n.queries.rerenderComment,variables:{commentId:a.commentId,commentType:a.__typename}},function(n){var l=n.loading,a=n.error,t=n.data,s=n.refetch;if(l||a||null===t.comment)return null;var o=t.comment;return ie.createElement(se.a,{showHighlight:r,isTopLevel:!o.isReply},ie.createElement(be.b,{onImpression:function(){Object(Ke.a)("comment_impression",{comment_id:o.commentId,comment_type:o.__typename})}},ie.createElement(Le.a,{condition:!o.isReply,wrapper:function(e){return ie.createElement(ce.j,{alignItems:"start"},ie.createElement(Te.a,{user:o.user,size:se.k,shouldShowBadge:!0}),ie.createElement(ce.d,{ml:"small",flex:"auto"},e))}},ie.createElement(ce.d,{mb:"tiny"},ie.createElement(Ge,{comment:o})),Object(we.d)()&&"AnswerComment"===o.__typename&&ie.createElement(Ne,{comment:o}),e.state.isEditing?ie.createElement(nn,{comment:o,onSubmit:function(){e.setState({isEditing:!1})},onCancel:function(){e.setState({isEditing:!1})}}):ie.createElement(ie.Fragment,null,ie.createElement(ln.a,{comment:o}),ie.createElement(Il,{comment:o,onReplyAdded:i,onCommentEditSuccess:function(){s()},toggleEditor:function(){return e.setState({isEditing:!0})}})))))})}}]),n}(ie.Component);Al.displayName="CommentItem",Al.fragments={comment:void 0!==Ll?Ll:Ll=d},Al.queries={rerenderComment:void 0!==wl?wl:wl=u};var _l=Object(re.b)(Al),El=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},s={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},o={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},u=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],d={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},F=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],v={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:F},K={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:F},C={name:"annotate_with_ids",value:"true"},S=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],h={kind:"Condition",passingValue:!0,isCustom:!0,customValue:C,condition:"onGate",selections:S},b=[l,a,m,f,v,K,h],T={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},A=[{kind:"Literal",name:"first",value:1}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentRepliesListQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,r,t,{kind:"LinkedField",alias:"repliesConnection",name:"__CommentRepliesList_repliesConnection_connection",storageKey:null,args:null,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,s,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,i,r,{kind:"FragmentSpread",name:"CommentReplyListItem_comment",args:null}]},o]}]}]}]},operation:{kind:"Operation",name:"CommentRepliesListQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,r,t,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:null,args:u,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,s,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,i,r,d,{kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,m,c,g,y,p,k,f,v,K,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},h]},{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:b},T,{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[l,a,m,c,f,v,K,k,g,y,p,h]},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},L,{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},T,w,I,w,I,{kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:A,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,d,L,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:b}]},o]},s]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:A,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:C,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:S}]}]},o]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:u,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null}]}]},params:{operationKind:"query",name:"CommentRepliesListQuery",id:"6c7775d10d3401cdb4209caf5adea6661a9b55671317ad19094ffa02f854e187",text:null,metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:["comment","repliesConnection"]}]}}}}();El.hash="a84b8702d783c8702d8aee7ea4cb61fc";var Rl=El,Nl=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},y=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],p={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:y},k={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:y},f={name:"annotate_with_ids",value:"true"},F=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],v={kind:"Condition",passingValue:!0,isCustom:!0,customValue:f,condition:"onGate",selections:F},K=[l,a,s,g,p,k,v],C={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},S={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},T=[{kind:"Literal",name:"first",value:1}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentRepliesListAddedQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,r,{kind:"FragmentSpread",name:"CommentReplyListItem_comment",args:null}]}]},operation:{kind:"Operation",name:"CommentRepliesListAddedQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,r,t,{kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,s,o,u,d,m,c,g,p,k,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},v]},{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:K},C,{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[l,a,s,o,g,p,k,c,u,d,m,v]},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},S,{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},C,h,b,h,b,{kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:T,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,t,S,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:K}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:T,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:f,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:F}]}]}]},params:{operationKind:"query",name:"CommentRepliesListAddedQuery",id:"c7fa93c96c2ce6b34736e5c311a47e46b5bf069440658b79f5ea5f23ff6754ef",text:null,metadata:{}}}}();Nl.hash="71bb4ba4535554c522f1700d73cc5513";var Vl=Nl,Dl=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null};return{kind:"Fragment",name:"CommentRepliesList_comment",type:"Comment",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["repliesConnection"]}]},argumentDefinitions:[],selections:[e,n,l,a,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:"repliesConnection",name:"__CommentRepliesList_repliesConnection_connection",storageKey:null,args:null,concreteType:"CommentRepliesConnection",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[e,n,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,l,a,{kind:"FragmentSpread",name:"CommentReplyListItem_comment",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]}]}]}}();Dl.hash="e61077f3bd6898c10484048a10e66a48";var Ul=Dl,Pl=l("m+xM"),Ol=l("td6z"),Bl={kind:"Fragment",name:"CommentReplyListItem_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"FragmentSpread",name:"CommentItem_comment",args:null},{kind:"FragmentSpread",name:"CommentReplySwitcher_comment",args:null}],hash:"15e240b614ba68aaec550f7a0e4978ac"},jl=Bl,ql=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},t=[{kind:"Literal",name:"first",value:2}],s={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},o={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},k=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],f={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:k},F={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:k},v={name:"annotate_with_ids",value:"true"},K=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],C={kind:"Condition",passingValue:!0,isCustom:!0,customValue:v,condition:"onGate",selections:K},S=[l,a,u,p,f,F,C],h={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},T={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},w=[{kind:"Literal",name:"first",value:1}],I={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentReplySwitcherQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,{kind:"FragmentSpread",name:"CommentRepliesList_comment",args:null}]}]},operation:{kind:"Operation",name:"CommentReplySwitcherQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,r,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:t,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,s,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,i,r,o,{kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,u,d,m,c,g,y,p,f,F,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},C]},{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:S},h,{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[l,a,u,d,p,f,F,y,m,c,g,C]},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},b,{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},h,T,L,T,L,{kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:w,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,o,b,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:S}]},I]},s]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:w,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:v,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:K}]}]},I]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:t,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null}]}]},params:{operationKind:"query",name:"CommentReplySwitcherQuery",id:"441c3147c8dfaa4acb323c3d22e388b174b957e1e581aa5b8c70f4323cafff98",text:null,metadata:{}}}}();ql.hash="492790fdcc31b9f2d261f1fdd7c7824c";var Ml=ql,xl=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"CommentReplySwitcher_comment",type:"Comment",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["repliesConnection"]}]},argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"LinkedField",alias:"repliesConnection",name:"__CommentRepliesList_repliesConnection_connection",storageKey:null,args:null,concreteType:"CommentRepliesConnection",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[e,n,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},{kind:"FragmentSpread",name:"CommentReplyPreview_comment",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]}]}]}}();xl.hash="cd704166161c939c8ef81e6706c48143";var Hl=xl,Ql=l("HZII"),Gl=l.n(Ql),zl=l("SW3P"),Wl=l("8lmh"),Zl=l("VrYk"),Jl=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"CommentReplyPreview_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"UserName_user",args:null}]}]}}();Jl.hash="69117fba8b5b10fe141ac1cd7362ca91";var Yl,Xl=Jl,$l=l("R+um"),ea=l("gP7D"),na=function(e){function n(){return x()(this,n),z()(this,Z()(n).apply(this,arguments))}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this.props.comment,n=e.user,l=e.content,a=JSON.parse(l);return ie.createElement(se.e,null,ie.createElement(ce.s,{bold:!0,as:"span",pr:"tiny"},ie.createElement($l.a,{user:n})),ie.createElement(ea.a,{qt:a,options:{lists:!1}}))}}]),n}(ie.Component);na.displayName="CommentReplyPreview",na.fragments={comment:void 0!==Yl?Yl:Yl=R};var la,aa,ia=Object(re.b)(na),ra=function(e){var n=e.commentId,l=e.commentType,a=e.repliesAdded,i=void 0===a?[]:a;return ie.createElement(te.a,{query:ta.getQuery(),variables:{commentId:n,commentType:l}},function(e){var n=e.loading,l=e.error,a=e.data,r=e.refetch;return n||l||null===(null===a||void 0===a?void 0:a.comment)?l&&(console.error(l),Object(zl.a)("use_react_new_error_states"))?Object(Wl.c)(l)?Object(Zl.a)(r):Object(Zl.b)(r):ie.createElement(Ol.a,null):ie.createElement(ka,{comment:a.comment,repliesAdded:i})})},ta=function(e){function n(e){var l,a,i,r,t,s,o,u;x()(this,n);var d=null!==(l=null===(a=(u=z()(this,Z()(n).call(this,e))).props)||void 0===a?void 0:null===(i=a.comment)||void 0===i?void 0:null===(r=i.repliesConnection)||void 0===r?void 0:null===(t=r.edges)||void 0===t?void 0:null===(s=t[0])||void 0===s?void 0:null===(o=s.node)||void 0===o?void 0:o.isDeleted)&&void 0!==l&&l;return u.state={showPreview:!d},u}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this,n=this.props.comment;return n.repliesConnection.edges.length>0?this.state.showPreview?ie.createElement(ce.e,{onClick:function(){return e.setState({showPreview:!1})},underlineHover:!1,width:"100%",display:"block"},ie.createElement(ia,{comment:n.repliesConnection.edges[0].node})):ie.createElement(ra,{commentId:n.commentId,commentType:n.commentType}):null}}]),n}(ie.Component);ta.displayName="CommentReplySwitcher",ta.connectionKey="CommentRepliesList",ta.fragments={comment:void 0!==la?la:la=E},ta.getQuery=Gl()(function(){return void 0!==aa?aa:aa=_});var sa,oa=Object(re.b)(ta),ua=function(e){function n(e){var l;return x()(this,n),(l=z()(this,Z()(n).call(this,e))).state={repliesAdded:[]},l}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this,n=this.props.comment;return ie.createElement(ce.d,null,ie.createElement(_l,{onReplyAdded:function(n){var l=n.commentId;e.setState(function(e){return{repliesAdded:[l].concat(e.repliesAdded)}})},comment:n}),this.state.repliesAdded.length>0?ie.createElement(ra,{commentId:n.commentId,commentType:n.commentType,repliesAdded:this.state.repliesAdded}):ie.createElement(oa,{comment:n}))}}]),n}(ie.Component);ua.displayName="CommentReplyListItem",ua.fragments={comment:void 0!==sa?sa:sa=A};var da,ma,ca,ga=Object(re.b)(ua),ya=function(e){function n(){return x()(this,n),z()(this,Z()(n).apply(this,arguments))}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e,l=this,a=this.props.comment,i=null===(e=a.repliesConnection)||void 0===e?void 0:e.edges;return i&&i.length>0||this.props.repliesAdded.length>0?ie.createElement(se.d,null,this.props.repliesAdded&&this.props.repliesAdded.length>0?ie.createElement(ie.Fragment,null,this.props.repliesAdded.map(function(e){return ie.createElement(te.a,{key:e,query:n.queries.addedReply,variables:{commentId:e,commentType:a.commentType}},function(e){var n=e.loading,l=e.error,a=e.data;return n?ie.createElement(Ol.a,null):l||null===a.comment?null:ie.createElement(ga,{comment:a.comment})})})):null,ie.createElement(Pl.a,{relayObject:this.props.relay},function(e){var n,i,r,t=e.readyToLoadMore,s=e.loadMore;return ie.createElement(ie.Fragment,null,null===(n=a.repliesConnection)||void 0===n?void 0:null===(i=n.edges)||void 0===i?void 0:null===(r=i.filter(function(e){return e.node.commentId===undefined||-1===l.props.repliesAdded.indexOf(e.node.commentId)}))||void 0===r?void 0:r.map(function(e){return ie.createElement(ga,{key:e.node.commentId,comment:e.node})}),t&&ie.createElement(ce.e,{onClick:s,underlineHover:!1},ie.createElement(se.c,null)))})):null}}]),n}(ie.Component);ya.displayName="CommentRepliesList",ya.initialPageSize=2,ya.pageSize=5,ya.connectionKey="CommentRepliesList",ya.fragments={comment:void 0!==da?da:da=I},ya.queries={addedReply:void 0!==ma?ma:ma=w,commentRepliesList:void 0!==ca?ca:ca=L},ya.connectionConfig={query:ya.queries.commentRepliesList,direction:"forward",getConnectionFromProps:function(e){var n;return null===(n=e.comment)||void 0===n?void 0:n.repliesConnection},getVariables:function(e,n){var l=n.cursor;return{commentId:e.comment.commentId,commentType:e.comment.commentType,first:ya.pageSize,after:l}}};var pa,ka=Object(re.d)(ya),fa=function(e){function n(e){var l;return x()(this,n),(l=z()(this,Z()(n).call(this,e))).state={repliesAdded:[]},l}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this,n=this.props.comment;return ie.createElement(se.f,null,ie.createElement(_l,{onReplyAdded:function(n){var l=n.commentId;e.setState(function(e){return{repliesAdded:[l].concat(e.repliesAdded)}})},comment:n}),ie.createElement(ka,{repliesAdded:this.state.repliesAdded,comment:n}))}}]),n}(ie.Component);fa.displayName="CommentThreadItem",fa.fragments={comment:void 0!==pa?pa:pa=o};var Fa=Object(re.b)(fa),va=l("6Gvz"),Ka=l("yMAQ"),Ca=l.n(Ka),Sa=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},y=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],p={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:y},k={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:y},f={name:"annotate_with_ids",value:"true"},F=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],v={kind:"Condition",passingValue:!0,isCustom:!0,customValue:f,condition:"onGate",selections:F},K={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},C={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},S={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"NotifInjectedCommentsLoaderQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"allAncestors",storageKey:null,args:null,concreteType:null,plural:!0,selections:[l,a,i,r,t,{kind:"FragmentSpread",name:"CommentItem_comment",args:null},{kind:"FragmentSpread",name:"NotifInjectedCommentsPreviewLoader_comment",args:null}]}]}]},operation:{kind:"Operation",name:"NotifInjectedCommentsLoaderQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"allAncestors",storageKey:null,args:null,concreteType:null,plural:!0,selections:[l,a,i,r,t,{kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,s,o,u,d,m,c,g,p,k,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},v]},{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,s,g,p,k,v]},K,{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[l,a,s,o,g,p,k,c,u,d,m,v]},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},K,C,S,C,S,{kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:f,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:F}]}]}]}]},params:{operationKind:"query",name:"NotifInjectedCommentsLoaderQuery",id:"dd0f2daaaf3f5b3a77d8661f591a684a4008c022e0a03653589c6e20e047ce9f",text:null,metadata:{}}}}();Sa.hash="b6e1a32e80144023dd3f695eb094e717";var ha=Sa,ba=l("qdYg"),Ta=l("s/A7"),La=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"filtered",type:"[BigInt!]",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},t={kind:"Variable",name:"filtered",variableName:"filtered"},s={kind:"Literal",name:"first",value:1},o=[t,s],u={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},d={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},F=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],v={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:F},K={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:F},C={name:"annotate_with_ids",value:"true"},S=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],h={kind:"Condition",passingValue:!0,isCustom:!0,customValue:C,condition:"onGate",selections:S},b=[l,a,m,f,v,K,h],T={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},A=[s],_={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"NotifInjectedCommentsPreviewLoaderCommentRepliesListQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,r,{kind:"FragmentSpread",name:"NotifInjectedCommentsPreviewPagedList_comment",args:[t]}]}]},operation:{kind:"Operation",name:"NotifInjectedCommentsPreviewLoaderCommentRepliesListQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,r,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:null,args:o,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,u,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,i,r,d,{kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,m,c,g,y,p,k,f,v,K,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},h]},{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:b},T,{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[l,a,m,c,f,v,K,k,g,y,p,h]},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},L,{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},T,w,I,w,I,{kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:A,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,d,L,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:b}]},_]},u]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:A,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:C,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:S}]}]},_]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:o,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:["filtered"]}]}]},params:{operationKind:"query",name:"NotifInjectedCommentsPreviewLoaderCommentRepliesListQuery",id:"0740614b10b5d7dd9f85ae0d02be2ac33e2da674aa5e9672eecd90a68c7c9186",text:null,metadata:{}}}}();La.hash="768fc431332c6dcea1079a65777b0e10";var wa=La,Ia={kind:"Fragment",name:"NotifInjectedCommentsPreviewLoader_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null}],hash:"44167518bcb22b1eb69ad79ac0dcbbe4"},Aa=Ia,_a=function(){var e=[{kind:"LocalArgument",name:"commentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null},{kind:"LocalArgument",name:"filtered",type:"[BigInt!]",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],l={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},s={kind:"Variable",name:"filtered",variableName:"filtered"},o={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},u={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},d=[{kind:"Variable",name:"after",variableName:"after"},s,{kind:"Variable",name:"first",variableName:"first"}],m={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},F={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},v=[a,l,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],K={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:v},C={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:v},S={name:"annotate_with_ids",value:"true"},h=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],b={kind:"Condition",passingValue:!0,isCustom:!0,customValue:S,condition:"onGate",selections:h},T=[l,a,c,F,K,C,b],L={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},A={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},_=[{kind:"Literal",name:"first",value:1}];return{kind:"Request",fragment:{kind:"Fragment",name:"NotifInjectedCommentsPreviewPagedListCommentRepliesListQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,r,t,{kind:"LinkedField",alias:"repliesConnection",name:"__CommentRepliesList_repliesConnection_connection",storageKey:null,args:[s],concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,o,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,i,r,{kind:"FragmentSpread",name:"CommentReplyListItem_comment",args:null}]},u]}]}]}]},operation:{kind:"Operation",name:"NotifInjectedCommentsPreviewPagedListCommentRepliesListQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[l,a,i,r,t,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:null,args:d,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,o,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,i,r,m,{kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,a,c,g,y,p,k,f,F,K,C,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},b]},{kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:T},L,{kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[l,a,c,g,F,K,C,f,y,p,k,b]},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},w,{kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},L,I,A,I,A,{kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[l,a,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reportUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:_,concreteType:"CommentRepliesConnection",plural:!1,selections:[l,a,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[l,a,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[l,a,m,w,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:T}]},u]},o]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:_,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:S,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:h}]}]},u]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:d,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:["filtered"]}]}]},params:{operationKind:"query",name:"NotifInjectedCommentsPreviewPagedListCommentRepliesListQuery",id:"0035d4d8078644639199cf6923a0ec72f2385228d97bd424d7f19082f69af9ec",text:null,metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:["comment","repliesConnection"]}]}}}}();_a.hash="80ad5641e1261d4ce736885660265c4f";var Ea=_a,Ra=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null};return{kind:"Fragment",name:"NotifInjectedCommentsPreviewPagedList_comment",type:"Comment",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["repliesConnection"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"filtered",type:"[BigInt!]",defaultValue:[]}],selections:[e,n,l,a,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:"repliesConnection",name:"__CommentRepliesList_repliesConnection_connection",storageKey:null,args:[{kind:"Variable",name:"filtered",variableName:"filtered"}],concreteType:"CommentRepliesConnection",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[e,n,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,l,a,{kind:"FragmentSpread",name:"CommentReplyListItem_comment",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]}]}]}}();Ra.hash="9a56e29eed9c2d0c5cda6c8fbe6987dc";var Na,Va,Da=Ra,Ua=function(e){function n(){return x()(this,n),z()(this,Z()(n).apply(this,arguments))}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e,n=this,l=this.props.comment,a=null===(e=l.repliesConnection)||void 0===e?void 0:e.edges;if(a&&a.length>0){var i,r,t,s=new Set(this.props.commentsAlreadyRendered),o=null===(i=l.repliesConnection)||void 0===i?void 0:null===(r=i.edges)||void 0===r?void 0:null===(t=r.filter(function(e){return!n.props.commentsAlreadyRendered||!e.node.commentId||!s.has(e.node.commentId)}))||void 0===t?void 0:t.map(function(e){return ie.createElement(ga,{key:e.node.commentId,comment:e.node})});return ie.createElement(Pl.a,{relayObject:this.props.relay},function(e){var n=e.error,l=e.readyToLoadMore,a=e.loadMore;return n?ie.createElement(va.a,null,n):o.length>0&&ie.createElement(se.d,null,o,l&&ie.createElement(ce.e,{onClick:a,underlineHover:!1},ie.createElement(se.c,null)))})}return null}}]),n}(ie.Component);Ua.displayName="NotifInjectedCommentsPreviewPagedList",Ua.initialPageSize=1,Ua.fragments={comment:void 0!==Na?Na:Na=P},Ua.queries={commentRepliesList:void 0!==Va?Va:Va=U},Ua.connectionConfig={query:Ua.queries.commentRepliesList,direction:"forward",getConnectionFromProps:function(e){var n;return null===(n=e.comment)||void 0===n?void 0:n.repliesConnection},getVariables:function(e,n){var l=n.cursor;return{commentId:e.comment.commentId,commentType:e.comment.commentType,first:Ua.initialPageSize,after:l,filtered:e.commentsAlreadyRendered||[]}},getFragmentVariables:function(e){return{filtered:e.filtered}}};var Pa,Oa,Ba=Object(re.d)(Ua),ja=function(e){function n(){return x()(this,n),z()(this,Z()(n).apply(this,arguments))}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this;return ie.createElement(te.a,{query:n.queries.commentRepliesList,variables:{commentId:this.props.comment.commentId,commentType:this.props.comment.commentType,filtered:this.props.commentsAlreadyRendered}},function(n){var l=n.loading,a=n.error,i=n.data;return l?ie.createElement(Ol.a,null):a?ie.createElement(va.a,null,a):i.comment?ie.createElement(Ba,{comment:i.comment,commentsAlreadyRendered:e.props.commentsAlreadyRendered}):null})}}]),n}(ie.Component);ja.displayName="NotifInjectedCommentsPreviewLoader",ja.initialPageSize=1,ja.connectionKey="CommentRepliesList",ja.fragments={comment:void 0!==Pa?Pa:Pa=D},ja.queries={commentRepliesList:void 0!==Oa?Oa:Oa=V};var qa,Ma,xa=Object(re.b)(ja);!function(e){e[e.QuestionComment=1]="QuestionComment",e[e.AnswerComment=2]="AnswerComment",e[e.PostComment=3]="PostComment",e[e.ShareComment=9]="ShareComment"}(Ma||(Ma={}));var Ha,Qa,Ga=function(e){function n(e){var l;x()(this,n),(l=z()(this,Z()(n).call(this,e))).commentId=void 0,l.commentType=void 0,l.scrollToRef=void 0,l.ScrollWrapper=function(e){var n=e.childRef,a=e.children,i=Object(ie.useState)(!1),r=Ca()(i,2),t=r[0],s=r[1];return Object(ie.useEffect)(function(){t||(Object(Ta.a)(l.scrollToRef.current,"center"),s(!0))},[t,n]),a};var a=Object(ba.b)();return l.commentId=Number(a.comment_id),l.commentType=Ma[Number(a.comment_type)],l.scrollToRef=ie.createRef(),l}return Y()(n,e),Q()(n,[{key:"renderCommentsTree",value:function(e){var n=this,l=arguments.length>1&&arguments[1]!==undefined&&arguments[1];if(0===e.length)return null;var a=e[0],i=0===e.slice(1).length;return a&&ie.createElement(function(e){var n=e.children;return ie.createElement(ce.q,{},l?ie.createElement(ce.d,null,n):ie.createElement(se.d,null,n))},null,ie.createElement(Le.a,{condition:i,wrapper:function(e){return ie.createElement(ce.d,{innerRef:n.scrollToRef},e)}},ie.createElement(_l,{key:a.commentId,comment:a,showHighlight:i})),this.renderCommentsTree(e.slice(1)),ie.createElement(xa,{comment:a,commentsAlreadyRendered:e.map(function(e){return e.commentId})}))}},{key:"render",value:function(){var e=this,l=this.props.children;if(Number.isNaN(this.commentId)||!this.commentType||this.props.containerObjectId!==this.props.commentContainerId)return l();var a=this.ScrollWrapper;return ie.createElement(te.a,{query:n.queries.InjectedCommentsList,variables:{commentId:this.commentId,commentType:this.commentType}},function(n){var i=n.loading,r=n.error,t=n.data;if(i)return ie.createElement(Ol.a,null);if(r)return l();var s=t.comment;if(s){var o=s.allAncestors;return 0===o.length?l():ie.createElement(ie.Fragment,null,ie.createElement(a,{childRef:e.scrollToRef},ie.createElement(se.f,null,e.renderCommentsTree(o,!0))),l(o[0].commentId))}return null})}}]),n}(ie.Component);Ga.displayName="NotifInjectedCommentsLoader",Ga.queries={InjectedCommentsList:void 0!==qa?qa:qa=N};var za=function(e){function n(){return x()(this,n),z()(this,Z()(n).apply(this,arguments))}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this,n=this.props,l=n.container,a=n.autoPaged;return ie.createElement(Pl.a,{relayObject:this.props.relay,autoPaged:{enabled:a},onPagingEnd:function(){return e.props.listFinishedPaging(!0)}},function(n){var a,i,r=n.error,t=n.readyToLoadMore,s=n.loadMore;if(r)return ie.createElement(va.a,{color:"red"},r);var o=(null===l||void 0===l?void 0:null===(a=l.allCommentsConnection)||void 0===a?void 0:a.edges.length)>0?null===l||void 0===l?void 0:null===(i=l.allCommentsConnection)||void 0===i?void 0:i.edges[0].node.containerId:null;return ie.createElement(Ga,{commentContainerId:o,containerObjectId:l.containerId},function(n){var a;return ie.createElement(ie.Fragment,null,ie.createElement(ce.d,null,null===l||void 0===l?void 0:null===(a=l.allCommentsConnection)||void 0===a?void 0:a.edges.map(function(l){var a=l.node,i=a.commentId;return i&&-1===e.props.commentsAdded.indexOf(i)&&a.commentId!==n?ie.createElement(Fa,{key:i,comment:a}):null})),t&&ie.createElement(ce.d,{onClick:s},ie.createElement(se.g,null)))})})}}]),n}(ie.Component);za.displayName="AllCommentsList",za.nextPageSize=5,za.defaultProps={commentsAdded:[],autoPaged:!1},za.fragments={container:void 0!==Ha?Ha:Ha=s},za.queries={allCommentsList:void 0!==Qa?Qa:Qa=t},za.connectionConfig={query:za.queries.allCommentsList,direction:"forward",getConnectionFromProps:function(e){var n;return null===(n=e.container)||void 0===n?void 0:n.allCommentsConnection},getVariables:function(e,n){var l=n.cursor;return{id:e.container.id,first:za.nextPageSize,after:l}}};var Wa=Object(re.d)(za),Za=function(){var e=[{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"requestType",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"after",type:"String",defaultValue:null}],n=[{kind:"Variable",name:"id",variableName:"id"}],l={kind:"Variable",name:"requestType",variableName:"requestType"},a=[l],i={kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},r={kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},o=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"},l],u={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"isDeleted",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"deletedTime",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isReply",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},y={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},F={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},K=[t,u,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],C={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:K},S={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:K},h={name:"annotate_with_ids",value:"true"},b=[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}],T={kind:"Condition",passingValue:!0,isCustom:!0,customValue:h,condition:"onGate",selections:b},L={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[u,t,g,y,p,k,f,F,v,C,S,{kind:"ScalarField",alias:null,name:"isBlocking",args:null,storageKey:null},T]},w={kind:"ScalarField",alias:null,name:"commenterIsTribeModerator",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"commenterIsTribeAdmin",args:null,storageKey:null},A=[u,t,g,v,C,S,T],_={kind:"LinkedField",alias:null,name:"owner",storageKey:null,args:null,concreteType:"User",plural:!1,selections:A},E={kind:"ScalarField",alias:null,name:"numUpvotes",args:null,storageKey:null},R={kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},N={kind:"LinkedField",alias:null,name:"featuredUpvoters",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[u,t,g,y,v,C,S,F,p,k,f,T]},V={kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},D={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},U={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"viewerIsAuthor",args:null,storageKey:null},O={kind:"ScalarField",alias:null,name:"authorIsBlockedByTribe",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"viewerHasUpvoted",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"viewerHasDownvoted",args:null,storageKey:null},M={kind:"ScalarField",alias:null,name:"viewerCanDelete",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"viewerCanAdminDelete",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"viewerCanBlockCommentAuthor",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"viewerCanInviteToContribute",args:null,storageKey:null},G={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[u,t,{kind:"ScalarField",alias:null,name:"isAdminMode",args:null,storageKey:null}]},z={kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[u,t,{kind:"ScalarField",alias:null,name:"viewerCanModerate",args:null,storageKey:null}]},W={kind:"ScalarField",alias:null,name:"viewerHasReported",args:null,storageKey:null},Z={kind:"ScalarField",alias:null,name:"reportUrl",args:null,storageKey:null},J={kind:"ScalarField",alias:null,name:"viewerInvitedAuthorToTribe",args:null,storageKey:null},Y=[{kind:"Literal",name:"first",value:2}],X=[{kind:"Literal",name:"first",value:1}],$={kind:"Condition",passingValue:!0,isCustom:!0,customValue:h,condition:"onGate",selections:[{kind:"InlineFragment",type:"AnswerComment",selections:b}]};return{kind:"Request",fragment:{kind:"Fragment",name:"CollapsedCommentListQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:n,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:"numCommentsCollapsed",name:"numComments",args:a,storageKey:null,isLive:!0},{kind:"LinkedField",alias:"hiddenComments",name:"__AllComments_hiddenComments_connection",storageKey:null,args:a,concreteType:"GenericCommentsConnection",plural:!1,selections:[i,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[r,t,{kind:"FragmentSpread",name:"CommentThreadItem_comment",args:null}]},s]}]}]}]},operation:{kind:"Operation",name:"CollapsedCommentListQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:n,concreteType:null,plural:!1,selections:[t,{kind:"ScalarField",alias:"numCommentsCollapsed",name:"numComments",args:a,storageKey:null},{kind:"LinkedField",alias:"hiddenComments",name:"genericCommentsConnection",storageKey:null,args:o,concreteType:"GenericCommentsConnection",plural:!1,selections:[i,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[r,u,t,d,m,c,L,w,I,_,E,R,N,V,D,U,P,O,B,E,j,q,j,q,M,x,H,Q,G,z,W,Z,J,{kind:"ScalarField",alias:null,name:"numReplies",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:2)",args:Y,concreteType:"CommentRepliesConnection",plural:!1,selections:[u,t,i,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[u,t,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[u,t,r,R,d,m,c,L,w,I,_,E,N,V,D,U,P,O,B,E,j,q,j,q,M,x,H,Q,G,z,W,Z,J,{kind:"LinkedField",alias:null,name:"repliesConnection",storageKey:"repliesConnection(first:1)",args:X,concreteType:"CommentRepliesConnection",plural:!1,selections:[u,t,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"CommentReplyEdge",plural:!0,selections:[u,t,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[u,t,d,U,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:A}]},s]},i]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:X,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},$]},s]}]},{kind:"LinkedHandle",alias:null,name:"repliesConnection",args:Y,handle:"connection",key:"CommentRepliesList_repliesConnection",filters:null},$]},s,u]},u]},{kind:"LinkedHandle",alias:"hiddenComments",name:"genericCommentsConnection",args:o,handle:"connection",key:"AllComments_hiddenComments",filters:["requestType"]},u]}]},params:{operationKind:"query",name:"CollapsedCommentListQuery",id:"68a108c1d72f6f3c2b5ab5fb2c7ce630fe223910ebe387e56912a42e18ff6110",text:null,metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:["node","hiddenComments"]}]}}}}();Za.hash="758057c03bb782523b92a52dff7c2106";var Ja=Za,Ya=function(){var e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},n=[{kind:"Literal",name:"requestType",value:3}];return{kind:"Fragment",name:"CollapsedCommentList_container",type:"CommentsContainer",metadata:{connection:[{count:null,cursor:null,direction:"forward",path:["hiddenComments"]}]},argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e,{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},{kind:"ScalarField",alias:"numCommentsCollapsed",name:"numComments",args:n,storageKey:"numComments(requestType:3)",isLive:!0},{kind:"LinkedField",alias:"hiddenComments",name:"__AllComments_hiddenComments_connection",storageKey:"__AllComments_hiddenComments_connection(requestType:3)",args:n,concreteType:"GenericCommentsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"pageInfo",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"endCursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasNextPage",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NodeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"commentId",args:null,storageKey:null},e,{kind:"FragmentSpread",name:"CommentThreadItem_comment",args:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]}]}]}}();Ya.hash="a74519b2ac390d0d2fde2423d320b9b4";var Xa,$a,ei=Ya,ni=function(e){function n(e){var l;return x()(this,n),(l=z()(this,Z()(n).call(this,e))).state={showList:!1},l}return Y()(n,e),Q()(n,[{key:"render",value:function(){var e=this,n=this.props.container;return this.state.showList?ie.createElement(Pl.a,{relayObject:this.props.relay},function(e){var l,a=e.readyToLoadMore,i=e.loadMore;return ie.createElement(ie.Fragment,null,ie.createElement(ce.d,null,null===n||void 0===n?void 0:null===(l=n.hiddenComments)||void 0===l?void 0:l.edges.map(function(e){var n=e.node;return ie.createElement(Fa,{key:n.commentId,comment:n})})),a&&ie.createElement(ce.d,{onClick:i},ie.createElement(se.g,null)))}):ie.createElement(se.j,{onClick:function(){return e.setState({showList:!0})}})}}]),n}(ie.Component);ni.displayName="CollapsedCommentList",ni.initialPageSize=3,ni.fragments={container:void 0!==Xa?Xa:Xa=B},ni.queries={collapsedComments:void 0!==$a?$a:$a=O},ni.connectionConfig={query:ni.queries.collapsedComments,direction:"forward",getConnectionFromProps:function(e){var n;return null===(n=e.container)||void 0===n?void 0:n.hiddenComments},getVariables:function(e,n){var l=n.cursor;return{id:e.container.id,requestType:3,first:ni.initialPageSize,after:l}}};var li=Object(re.d)(ni),ai=function(){var e=[{kind:"LocalArgument",name:"oid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"isAnswer",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"isPost",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"isShare",type:"Boolean!",defaultValue:null}],n=[{kind:"Variable",name:"aid",variableName:"oid"}],l={kind:"ScalarField",alias:null,name:"commentDraftContent",args:null,storageKey:null},a=[l],i=[{kind:"Variable",name:"pid",variableName:"oid"}],r=[{kind:"Variable",name:"shareId",variableName:"oid"}],t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},s=[l,t];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAddRootQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isAnswer",selections:[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:n,concreteType:"Answer",plural:!1,selections:a}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isPost",selections:[{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:i,concreteType:"Post",plural:!1,selections:a}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isShare",selections:[{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:r,concreteType:null,plural:!1,selections:a}]}]},operation:{kind:"Operation",name:"CommentAddRootQuery",argumentDefinitions:e,selections:[{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isAnswer",selections:[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:n,concreteType:"Answer",plural:!1,selections:s}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isPost",selections:[{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:i,concreteType:"Post",plural:!1,selections:s}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isShare",selections:[{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:r,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l,t]}]}]},params:{operationKind:"query",name:"CommentAddRootQuery",id:"b7bff200d20fcad09f8dfafd6a7919bb0c5983ceaff16a7265766b3a7edeb3f2",text:null,metadata:{}}}}();ai.hash="372a99c6191d0b5a73a7c7ae7a08b63d";var ii,ri,ti=ai,si={kind:"Fragment",name:"CommentAddRoot_container",type:"CommentsContainer",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]}]},{kind:"ScalarField",alias:null,name:"commentType",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isCommentsDisabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"canViewerAddComment",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"containerId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"commentDraftContent",args:null,storageKey:null}],hash:"e06b0bcb45627f7ae34a8c8f0cbbb27c"},oi=si,ui=function(e){function n(e){var l;return x()(this,n),(l=z()(this,Z()(n).call(this,e))).editorRef=void 0,l.editorRef=ie.createRef(),l.state={canAdd:!1,isSubmitting:!1},l}return Y()(n,e),Q()(n,[{key:"renderCommentPromptText",value:function(){return ie.createElement(Se.A,null,"Add a comment...")}},{key:"renderCommentsDisabled",value:function(){return ie.createElement(ce.j,{flex:"auto"},ie.createElement(ce.s,{fontSize:"tiny",color:"gray_light"},ie.createElement(Se.A,null,"Adding comments disabled")))}},{key:"renderMobile",value:function(){var e=this,n=this.props,l=n.onCommentAdded,a=n.container,i=n.relay,r=a.commentType,t=a.containerId,s=a.commentDraftContent,o=a.viewer.user;return ie.createElement(gl,{commentType:r,containerId:t,commentDraftContent:s,postDismissCallback:function(e){e.shouldRefetch&&i.refetch({oid:t,isAnswer:"AnswerComment"===r,isPost:"PostComment"===r,isShare:"ShareComment"===r})},onCommentAdded:l},function(n){return ie.createElement(ie.Fragment,null,o&&ie.createElement(Te.a,{user:o,size:36}),ie.createElement(ol,{color:"gray_light",height:36,px:"small",ml:"small",onClick:function(){n()}},e.renderCommentPromptText()))})}},{key:"renderDesktop",value:function(){var e=this,n=this.props,l=n.container,a=l.viewer.user,i=l.containerId,r=l.commentType,t=n.onCommentAdded;return ie.createElement(ie.Fragment,null,a&&ie.createElement(Te.a,{user:a,size:36}),ie.createElement(ol,{ml:"small"},ie.createElement(Ye.a,{ref:this.editorRef,placeholder:Object(Se.K)(this.renderCommentPromptText()),content:Object(el.f)(),focusOnLoad:!1,toolbarOnWeb:!1,commandsToDisable:["horizontal-rule","video"],onMeaningfulChange:function(n){e.setState({canAdd:!n.isEmpty()})},isCommentEditor:!0,editorPaddingReset:!0})),ie.createElement(ce.d,{ml:"tiny"},ie.createElement(dl.ClientLogConsumer,null,function(n){return ie.createElement(ce.j,{alignItems:"center",justifyContent:"flex-end"},ie.createElement(il,{objectId:i,commentType:r,onSuccess:function(n){var l=n.commentId;e.editorRef.current.clear(),t({commentId:l})}},function(l){return ie.createElement(Ze.a,{size:"small",text:Object(Se.K)("Add Comment"),disabled:!e.state.canAdd||e.state.isSubmitting,onClick:function(){e.state.canAdd&&e.editorRef.current&&!e.state.isSubmitting&&e.setState({isSubmitting:!0},function(){var a=e.editorRef.current.save();l(a).then(function(){e.setState(function(){return{isSubmitting:!1}})}),function(e,n,l){var a,i;switch(n){case"AnswerComment":i="AddAnswerComment",a={aid:l};break;case"ShareComment":i="QuoraShareCommentAdd",a={share_id:l};break;case"PostComment":i="TribePostCommentAdd",a={pid:l};break;default:return null}e(i,a)}(n,r,i)})}})}))})))}},{key:"render",value:function(){var e=this.props.container,n=this.props.isCommentsDisabled||e.isCommentsDisabled||!e.canViewerAddComment;return Object(tn.b)()?null:ie.createElement(ce.j,{bg:"gray_ultralight",px:"medium",py:"small",alignItems:"center"},n?this.renderCommentsDisabled():$n.n?this.renderMobile():this.renderDesktop())}}]),n}(ie.Component);ui.displayName="CommentAddRoot",ui.fragments={container:void 0!==ii?ii:ii=q},ui.queries={refetchQuery:void 0!==ri?ri:ri=j};var di,mi,ci,gi=Object(re.e)(ui),yi=l("hXLn"),pi=function(e){function n(e){var l;return x()(this,n),(l=z()(this,Z()(n).call(this,e))).state={listFinishedPaging:!1,commentsAdded:[]},l}return Y()(n,e),Q()(n,[{key:"renderCommentsAdded",value:function(){var e=this.props.commentType;return 0===this.state.commentsAdded.length?null:ie.createElement(ie.Fragment,null,this.state.commentsAdded.map(function(l){return ie.createElement(te.a,{key:l,query:n.queries.addedComment,variables:{commentId:l,commentType:e}},function(e){var n=e.loading,l=e.error,a=e.data;return n?ie.createElement(Ol.a,null):l||null===a.comment?null:ie.createElement(Fa,{comment:a.comment})})}))}},{key:"renderCommentsList",value:function(){var e=this,n=this.props,l=n.container,a=n.autoPaged,i=this.state.listFinishedPaging||l.numUncollapsedToplevelComments<5,r=this.props.reloadable,t=void 0===r||r,s=null;return l.numDisplayComments>0&&(s=ie.createElement(Wa,{container:l,listFinishedPaging:function(n){e.setState({listFinishedPaging:n})},commentsAdded:this.state.commentsAdded,autoPaged:a})),ie.createElement(ie.Fragment,null,l.numDisplayComments>0&&(t?ie.createElement(yi.a,{fragmentOrQuery:Wa.fragments.container,initialData:l,variables:{id:l.id}},s):s),ie.createElement(Cn.e.Consumer,null,function(n){return i&&!(n===Sn.a.QUESTION_MAIN&&0===l.numDisplayComments)&&e.renderCollapsedComments.call(e,!1)}))}},{key:"renderCollapsedComments",value:function(e){return ie.createElement(te.a,{query:n.queries.loadCollapsedComments,variables:{id:this.props.container.id}},function(n){var l,a=n.loading,i=n.error,r=n.data;return a?e?null:ie.createElement(Ol.a,null):i?null:(null===r||void 0===r?void 0:null===(l=r.node)||void 0===l?void 0:l.numCommentsCollapsed)!==undefined&&r.node.numCommentsCollapsed>0&&ie.createElement(li,{container:r.node})})}},{key:"renderAddRoot",value:function(){var e=this,n=this.props,l=n.container,a=n.hideAddRoot,i=n.isCommentsDisabled;return a?null:ie.createElement(gi,{container:l,onCommentAdded:function(n){var l=n.commentId;e.state.commentsAdded.includes(l)||e.setState(function(e){return{commentsAdded:[l].concat(e.commentsAdded)}})},isCommentsDisabled:i})}},{key:"render",value:function(){var e=this.props,n=e.isBorderAll;return e.shouldShowCommentsStickyActionBar?ie.createElement(se.h,{isBorderAll:n},this.renderCommentsAdded(),this.renderCommentsList(),ie.createElement(ce.r,{bottom:0},this.renderAddRoot())):ie.createElement(se.h,{isBorderAll:n},this.renderAddRoot(),this.renderCommentsAdded(),this.renderCommentsList())}}]),n}(ie.Component);pi.displayName="CommentArea",pi.fragments={container:void 0!==di?di:di=r},pi.queries={addedComment:void 0!==mi?mi:mi=i,loadCollapsedComments:void 0!==ci?ci:ci=a};n.a=Object(re.b)(pi)}}]);