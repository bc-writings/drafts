(window.ansFrontendRelayWebpackJsonpFunction=window.ansFrontendRelayWebpackJsonpFunction||[]).push([["component-Modals-Editor"],{"3E9c":function(e,n,a){"use strict";var t=a("q1tI"),l=a.n(t),i=function(e){return l.a.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24"},e),l.a.createElement("g",{id:"info",stroke:"none",fill:"none",fillRule:"evenodd"},l.a.createElement("circle",{className:"icon_svg-fill_as_stroke",fill:"#666",cx:12,cy:8,r:1}),l.a.createElement("path",{d:"M12,11.5 L12,16.5 M12,3 C16.971,3 21,7.029 21,12 C21,16.971 16.971,21 12,21 C7.029,21 3,16.971 3,12 C3,7.029 7.029,3 12,3 Z",className:"icon_svg-stroke",stroke:"#666",strokeWidth:1.5,strokeLinecap:"round"})))};i.displayName="SvgInfo",n.a=i},"3oqD":function(e,n,a){"use strict";a.d(n,"a",function(){return t}),a.d(n,"b",function(){return f});var t,l=a("8ZkK"),i=a.n(l),r=a("tQZz"),s=a.n(r),o=a("7eVb"),u=a.n(o),d=a("n3k3"),c=a.n(d),m=a("10u2"),p=a.n(m),g=a("q1tI"),b=a("/bbo"),k=a("jufJ"),y=a("OMLc");!function(e){e[e.PUBLIC=0]="PUBLIC",e[e.ANON=1]="ANON",e[e.LIMITED=2]="LIMITED"}(t||(t={}));var f=function(e){function n(){return i()(this,n),u()(this,c()(n).apply(this,arguments))}return p()(n,e),s()(n,[{key:"render",value:function(){var e,n,a=this.props,l=a.currentState,i=a.onClick;return l===t.PUBLIC?(n=Object(k.K)("Public"),e=g.createElement(y.a,{name:"Followers"})):l===t.ANON?(n=Object(k.K)("Anonymous"),e=g.createElement(y.a,{name:"Anon"})):l===t.LIMITED&&(n=Object(k.K)("Limited"),e=g.createElement(y.a,{name:"GenericUser"})),g.createElement(b.a,{onClick:i,variant:"gray",icon:e,text:n,size:"small",chevronSuffix:"down"})}}]),n}(g.Component);f.displayName="AskQuestionDistributionSwitcher"},"4r9s":function(e,n,a){"use strict";a.r(n),a.d(n,"default",function(){return E});var t={};a.r(t),a.d(t,"default",function(){return k});var l=a("8ZkK"),i=a.n(l),r=a("tQZz"),s=a.n(r),o=a("7eVb"),u=a.n(o),d=a("n3k3"),c=a.n(d),m=a("10u2"),p=a.n(m),g=function(){var e={kind:"ScalarField",alias:null,name:"hasNetworkAdminAccess",args:null,storageKey:null},n={kind:"ScalarField",alias:"questionPoliciesUrl",name:"linkUrl",args:[{kind:"Literal",name:"name",value:"question_policies"}],storageKey:'linkUrl(name:"question_policies")'},a={kind:"ScalarField",alias:"spamUrl",name:"linkUrl",args:[{kind:"Literal",name:"name",value:"what_is_spam"}],storageKey:'linkUrl(name:"what_is_spam")'},t={kind:"ScalarField",alias:"bnbrUrl",name:"linkUrl",args:[{kind:"Literal",name:"name",value:"bnbr"}],storageKey:'linkUrl(name:"bnbr")'},l={kind:"ScalarField",alias:"vandalismUrl",name:"linkUrl",args:[{kind:"Literal",name:"name",value:"vandalism_policy"}],storageKey:'linkUrl(name:"vandalism_policy")'},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"OperationRevertModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[n,a,t,l]}]}]},operation:{kind:"Operation",name:"OperationRevertModalQuery",argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[n,a,t,l,i]},i]}]},params:{operationKind:"query",name:"OperationRevertModalQuery",id:"4beba294ae88e816542ec84782883c7dbb6e6503a9fe26ca24d7d376c76718e2",text:null,metadata:{}}}}();g.hash="e6d5d9dac6ee92bc20a73bd925762616";var b,k=g,y=a("q1tI"),f=a("jufJ"),v=a("zm58"),h=a("AFGi"),S=a("/UD8"),T=a("D5Zh"),F=a("RA+f"),E=function(e){function n(e){var a;return i()(this,n),(a=u()(this,c()(n).call(this,e))).state={},a}return p()(n,e),s()(n,[{key:"render",value:function(){var e=this,a=this.props,t=a.extraProps,l=a.dismissModalFlow,i=t.opid;return y.createElement(T.a,{query:n.queries.loadModal},function(n){var a,t,r=n.data,s=e.state.startingContent?e.state.startingContent:(null===r||void 0===r?void 0:null===(a=r.viewer)||void 0===a?void 0:a.hasNetworkAdminAccess)?Object(f.K)(y.createElement(y.Fragment,null,"This edit does not comply with Quora","'","s policies and guidelines. Please see:"," ",y.createElement(f.C,{text:r.viewer.network.questionPoliciesUrl,translateParamName:"url"}))):"",o=y.createElement(F.s,null,y.createElement(f.A,null,"Comment (optional):"));if(null===r||void 0===r?void 0:null===(t=r.viewer)||void 0===t?void 0:t.hasNetworkAdminAccess){var u=y.createElement(S.b,{name:"revert-reason",stacked:!0,onChange:function(n){return e.setState({startingContent:n.target.value})},selected:e.state.startingContent,buttons:[{title:y.createElement(f.A,null,"Spam"),value:Object(f.K)(y.createElement(y.Fragment,null,"Spamming is not allowed on Quora. Please see:"," ",y.createElement(f.C,{text:r.viewer.network.spamUrl,translateParamName:"url"})))},{title:y.createElement(f.A,null,"Be Nice Be Respectful"),value:Object(f.K)(y.createElement(y.Fragment,null,"Hate speech, harassment, and personal attacks are not allowed on Quora. Please see:"," ",y.createElement(f.C,{text:r.viewer.network.bnbrUrl,translateParamName:"url"})))},{title:y.createElement(f.A,null,"Vandalism"),value:Object(f.K)(y.createElement(y.Fragment,null,"Edits which alter meaning and don","'","t suitably improve content are not allowed on Quora. Please see:"," ",y.createElement(f.C,{text:r.viewer.network.vandalismUrl,translateParamName:"url"})))},{title:y.createElement(f.A,null,"Other"),value:""}]});o=y.createElement(F.d,{m:"medium"},y.createElement(F.s,null,y.createElement(f.A,null,"Choose a reason for reverting this revision:")),u,o)}var d="revert-reason-".concat(s,"-").concat(i);return y.createElement(v.a,{onPrimaryButtonClick:function(e){return l({content:e})},onNavButtonClick:function(){return l({})},key:d,editorKey:d,titleText:Object(f.K)("Revert Edit"),startingContent:Object(h.r)(s),header:o,placeholder:Object(f.K)("Enter a reason for reverting this revision."),primaryButtonText:Object(f.K)("Revert")})})}}]),n}(y.Component);E.displayName="OperationRevertModal",E.queries={loadModal:void 0!==b?b:b=t}},"9G0N":function(e,n,a){"use strict";a.d(n,"d",function(){return s}),a.d(n,"c",function(){return t}),a.d(n,"a",function(){return l}),a.d(n,"e",function(){return i}),a.d(n,"b",function(){return r});var t,l,i,r,s=25;!function(e){e[e.personal=1]="personal",e[e.system=2]="system",e[e.ama=3]="ama",e[e.routed=4]="routed",e[e.profile=5]="profile",e[e.mass=6]="mass"}(t||(t={})),function(e){e[e.none=0]="none",e[e.request_button=1]="request_button",e[e.autoexpanded=2]="autoexpanded",e[e.from_rad=3]="from_rad",e[e.from_button=4]="from_button",e[e.from_auto_modal=5]="from_auto_modal",e[e.from_sent_requests=15]="from_sent_requests",e[e.existing_topic=6]="existing_topic",e[e.new_topic=7]="new_topic",e[e.close_or_modal_bg=8]="close_or_modal_bg",e[e.done_button=9]="done_button",e[e.new_modal_opened=16]="new_modal_opened",e[e.modal_suggestion=10]="modal_suggestion",e[e.modal_search=11]="modal_search",e[e.rad_suggestion=12]="rad_suggestion",e[e.on_question_page=13]="on_question_page",e[e.a2a_modal=14]="a2a_modal"}(l||(l={})),function(e){e[e.none=0]="none",e[e.hasNoTopics=1]="hasNoTopics",e[e.isAdult=2]="isAdult",e[e.viewerReachedDailyRateLimit=3]="viewerReachedDailyRateLimit",e[e.viewerReachedQuestionA2aLimit=4]="viewerReachedQuestionA2aLimit",e[e.isMergedQuestion=5]="isMergedQuestion"}(i||(i={})),function(e){e[e["default"]=0]="default",e[e.tribeModerator=1]="tribeModerator",e[e.tribeRestricted=2]="tribeRestricted"}(r||(r={}))},"9GZO":function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",function(){return f});var l,i=a("rhDr"),r=a.n(i),s=a("8ZkK"),o=a.n(s),u=a("tQZz"),d=a.n(u),c=a("7eVb"),m=a.n(c),p=a("n3k3"),g=a.n(p),b=a("10u2"),k=a.n(b),y={kind:"Fragment",name:"TribeQuestionAskedInTribeHeader_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"TribeLink_tribe",args:null},{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null}],hash:"200d84caf1a0e92b9450f58da17dcd68"},f=y,v=a("q1tI"),h=a("RA+f"),S=a("VyO/"),T=a("rAPm"),F=a("jufJ"),E=a("n2ec"),K=a("Khkn"),w=function(e){function n(){return o()(this,n),m()(this,g()(n).apply(this,arguments))}return k()(n,e),d()(n,[{key:"render",value:function(){var e=this.props,n=e.tribe,a=e.inline,t=void 0!==a&&a,l=r()(e,["tribe","inline"]);return v.createElement(h.d,Object.assign({},l,{display:t?"inline":"flex",alignItems:"center"}),v.createElement(E.a,{tribe:n,size:18,mr:"tiny",verticalAlign:t?"bottom":undefined}),v.createElement(T.a,{as:"span",color:"gray"},v.createElement(F.A,null,"Asked in"," ",v.createElement(h.s,{as:"span",medium:!0},v.createElement(K.a,{tribe:n})))))}}]),n}(v.Component);w.displayName="TribeQuestionAskedInTribeHeader",w.fragments={tribe:void 0!==l?l:l=t};n.a=Object(S.b)(w)},"9k9Z":function(e,n,a){"use strict";var t=a("rhDr"),l=a.n(t),i=a("jufJ"),r=a("q1tI"),s=a("zLpq"),o=a("59Xv"),u=a("OMLc"),d=function(e){var n=e.stacked,a=void 0!==n&&n,t=e.size,d=void 0===t?"regular":t,c=l()(e,["stacked","size"]),m=a?o.a:s.a,p=a?{}:{size:d};return r.createElement(m,Object.assign({icon:r.createElement(u.a,{name:"Request"}),text:Object(i.K)("Request")},p,c))};d.displayName="RequestButton",n.a=d},ClIU:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",function(){return k});var l,i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("7eVb"),d=a.n(u),c=a("n3k3"),m=a.n(c),p=a("10u2"),g=a.n(p),b={kind:"Fragment",name:"QuestionTimestamp_question",type:"Question",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"creationTime",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"lastFollowTime",args:[{kind:"Literal",name:"includeChain",value:!1}],storageKey:"lastFollowTime(includeChain:false)"}],hash:"a3aaccbf67b519b3eb83b629d8343213"},k=b,y=a("q1tI"),f=a("VyO/"),v=a("jufJ"),h=function(e){function n(){return r()(this,n),d()(this,m()(n).apply(this,arguments))}return g()(n,e),o()(n,[{key:"render",value:function(){var e,n=this.props.question,a=n.creationTime,t=n.lastFollowTime;if(t)e=y.createElement(v.A,null,"Last followed ",y.createElement(v.g,{utime:t}));else{if(!a)return null;e=y.createElement(v.A,null,"Last requested ",y.createElement(v.g,{utime:a}))}return y.createElement("span",null,e)}}]),n}(y.Component);h.displayName="QuestionTimestamp",h.fragments={question:void 0!==l?l:l=t};n.a=Object(f.b)(h)},DAeU:function(e,n,a){"use strict";a.r(n),a.d(n,"default",function(){return y});var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("7eVb"),o=a.n(s),u=a("n3k3"),d=a.n(u),c=a("10u2"),m=a.n(c),p=a("q1tI"),g=a("F6zL"),b=a("AFGi"),k=a("zm58"),y=function(e){function n(e){var a;return l()(this,n),(a=o()(this,d()(n).call(this,e))).state={title:a.props.extraProps.startingTitle},a}return m()(n,e),r()(n,[{key:"renderHeader",value:function(){return p.createElement(p.Fragment,null,this.props.extraProps.header,this.getTitleEditor())}},{key:"getTitleEditor",value:function(){var e=this;return p.createElement(g.c,{value:this.state.title,variant:"large",useTextArea:!0,placeholder:this.props.extraProps.titlePlaceholder,onChange:function(n){return e.setState({title:n.target.value})}})}},{key:"editorDismissModalFlow",value:function(e){var n=Object(b.r)(this.state.title),a=JSON.stringify(n);return this.props.dismissModalFlow({title:a,content:e.content})}},{key:"render",value:function(){var e=this,n=this.props,a=n.extraProps,t=n.dismissModalFlow;return p.createElement(k.a,Object.assign({},a,{header:this.renderHeader(),onPrimaryButtonClick:function(n){return t({title:JSON.stringify(Object(b.r)(e.state.title)),content:n})},onNavButtonClick:function(){return t({})}}))}}]),n}(p.Component)},EreF:function(e,n,a){"use strict";var t=a("rhDr"),l=a.n(t),i=a("q1tI"),r=a("JY1L"),s=(a("tuWV"),Object(r.a)({loader:function(){return a.e("component-QTextEditor").then(a.bind(null,"a+Nv"))},render:function(e,n){var a=n._ref,t=l()(n,["_ref"]),r=e["default"];return i.createElement(r,Object.assign({},t,{ref:a}))},loading:function(e){var n=e.error;return n&&console.error(n),i.createElement(i.Fragment,null)}})),o=i.forwardRef(function(e,n){return i.createElement(s,Object.assign({},e,{_ref:n}))});o.displayName="QTextEditor",n.a=o},JusU:function(e,n,a){"use strict";a.r(n),a.d(n,"default",function(){return K});var t={};a.r(t),a.d(t,"default",function(){return k});var l=a("8ZkK"),i=a.n(l),r=a("tQZz"),s=a.n(r),o=a("7eVb"),u=a.n(o),d=a("n3k3"),c=a.n(d),m=a("10u2"),p=a.n(m),g=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}];return{kind:"Request",fragment:{kind:"Fragment",name:"TribeSubmissionRulesModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[{kind:"FragmentSpread",name:"SubmissionRulesText_tribe",args:null},{kind:"FragmentSpread",name:"TribeNameWithIcon_tribe",args:null}]}]},operation:{kind:"Operation",name:"TribeSubmissionRulesModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"}]}]},params:{operationKind:"query",name:"TribeSubmissionRulesModalQuery",id:"1bcc71bd47ba250d7b47c073916dc1015a752516c3c2937dd3a1a353800e80ba",text:null,metadata:{}}}}();g.hash="ada83b4d874aa3d395608e87aa418913";var b,k=g,y=a("q1tI"),f=a("nW6E"),v=a("eEjP"),h=a("RA+f"),S=a("RAJQ"),T=a("jufJ"),F=a("7/5D"),E=a("nwxp"),K=function(e){function n(){return i()(this,n),u()(this,c()(n).apply(this,arguments))}return p()(n,e),s()(n,[{key:"renderHeader",value:function(){var e;return(null===(e=this.props.queryResult)||void 0===e?void 0:e.tribe)?y.createElement(h.d,{mb:"medium"},y.createElement(v.a,{tribe:this.props.queryResult.tribe,linked:!1})):null}},{key:"render",value:function(){var e,n=this.props.dismissModalFlow;return(null===(e=this.props.queryResult)||void 0===e?void 0:e.tribe)?y.createElement(f.e,{navButton:E.j?"back":"close",navButtonProps:{onClick:function(){return n()}},extraBodyProps:{display:"flex"}},y.createElement(h.j,{flexDirection:"column",justifyContent:"space-between"},y.createElement(h.d,null,this.renderHeader(),y.createElement(F.a,{mb:"tiny"},y.createElement(T.A,null,"Submission Rules")),y.createElement(S.a,{tribe:this.props.queryResult.tribe,truncated:!1})))):null}}]),n}(y.Component);K.displayName="TribeSubmissionRulesModal",K.queries={onLoad:void 0!==b?b:b=t}},LsdO:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",function(){return K});var l={};a.r(l),a.d(l,"default",function(){return C});var i={};a.r(i),a.d(i,"default",function(){return _});var r={};a.r(r),a.d(r,"default",function(){return I});var s={};a.r(s),a.d(s,"default",function(){return j});var o=a("jQsN"),u=a.n(o),d=a("tcRq"),c=a.n(d),m=a("yMAQ"),p=a.n(m),g=a("8ZkK"),b=a.n(g),k=a("tQZz"),y=a.n(k),f=a("7eVb"),v=a.n(f),h=a("n3k3"),S=a.n(h),T=a("10u2"),F=a.n(T),E=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"answerer_uid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"a2a_type",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"action_source",type:"BigInt!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"questionAskToAnswerAdd",storageKey:null,args:[{kind:"Variable",name:"a2aType",variableName:"a2a_type"},{kind:"Variable",name:"actionSource",variableName:"action_source"},{kind:"Variable",name:"answererUid",variableName:"answerer_uid"},{kind:"Variable",name:"qid",variableName:"qid"}],concreteType:"QuestionAskToAnswerAdd",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"translatedMessage",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerHasAskedToAnswer",args:[{kind:"Variable",name:"uid",variableName:"answerer_uid"}],storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionSelector_questionAskToAnswerAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AskQuestionSelector_questionAskToAnswerAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"AskQuestionSelector_questionAskToAnswerAdd_Mutation",id:"4ce3a457d74cc638d54fd6241929f2f5da731e2933e8b99576ca5a08e891977d",text:null,metadata:{}}}}();E.hash="d0c3b6c1d68b4b67f79e19b4654eda5c";var K=E,w={kind:"Fragment",name:"AskQuestionSelector_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null}],hash:"055c48d7fd1ba34b50f082966f7e2346"},C=w,A=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AskQuestionSelector_session",type:"Session",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"LinkedField",alias:null,name:"hosts",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[e,n,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null}]}]}}();A.hash="cd75d6d0de789fa8682f4e087d5497df";var _=A,L={kind:"Fragment",name:"AskQuestionSelector_user",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null}],hash:"268d96df74dd1f086b437c521aa94b87"},I=L,O=function(){var e=[{kind:"LocalArgument",name:"query",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"nid",type:"Int!",defaultValue:null},{kind:"LocalArgument",name:"uid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"tribeId",type:"BigInt",defaultValue:null}],n=[{kind:"Variable",name:"nid",variableName:"nid"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l=[{kind:"Variable",name:"contextOid",variableName:"tribeId"},{kind:"Literal",name:"limit",value:6},{kind:"Variable",name:"query",variableName:"query"},{kind:"Literal",name:"querySource",value:3},{kind:"Literal",name:"queryType",value:42}],i={kind:"ScalarField",alias:null,name:"viewerHasAskedToAnswer",args:[{kind:"Variable",name:"uid",variableName:"uid"}],storageKey:null},r={kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},o={kind:"FragmentSpread",name:"QuestionTitle_question",args:null},u={kind:"FragmentSpread",name:"QuestionAnswerCount_question",args:null},d={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"isPartnerQuestion",args:null,storageKey:null},m={kind:"LinkedField",alias:null,name:"asker",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a,t,{kind:"ScalarField",alias:null,name:"isEmployee",args:null,storageKey:null}]},p={kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null},g={kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,t,{kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},a]}]},b={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[a,t,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null}]},k={kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"nid",args:null,storageKey:null},a]},y={kind:"ScalarField",alias:null,name:"answerCount",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionSelectorQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:n,concreteType:"Network",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"searchQuery",storageKey:null,args:l,concreteType:null,plural:!0,selections:[a,t,{kind:"InlineFragment",type:"QuestionSearchResult",selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[a,i,r,s,t,o,u]}]},{kind:"InlineFragment",type:"QuestionRedirectSearchResult",selections:[{kind:"LinkedField",alias:null,name:"toQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[a,s,r,t,o,u]}]}]}]}]},operation:{kind:"Operation",name:"AskQuestionSelectorQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:n,concreteType:"Network",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"searchQuery",storageKey:null,args:l,concreteType:null,plural:!0,selections:[a,t,{kind:"InlineFragment",type:"QuestionSearchResult",selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[a,i,r,t,d,s,c,m,p,g,b,k,y]}]},{kind:"InlineFragment",type:"QuestionRedirectSearchResult",selections:[{kind:"LinkedField",alias:null,name:"toQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[a,t,r,d,s,c,m,p,g,b,k,y]}]}]}]}]},params:{operationKind:"query",name:"AskQuestionSelectorQuery",id:"1141b376d058c70b24c46a20fc1e618f9eb76546ee525914190d2f28cfffe439",text:null,metadata:{}}}}();O.hash="a1a8a660ceb6f40858421fb3927c2fe1";var Q,q,P,N,D,j=O,R=a("q1tI"),x=a("jufJ"),M=a("bslc"),U=a("Kk/C"),V=a("cztr"),B=a("MI6j"),H=a("RA+f"),z=a("VyO/"),J=a("NOjq"),Z=a("dp7i"),Y=a("wTYd"),G=a("9k9Z"),W=a("oJdr"),X=a("9G0N"),$=a("PeiD"),ee=void 0!==Q?Q:Q=s,ne=[0,5,6,7,8,10,11,13,14,15,16,17,27];function ae(e,n,a){var t;(t=e)&&t.length>0&&(t="\xbf"===t[0]?"\xbf"+t[1].toUpperCase()+t.slice(2):t[0].toUpperCase()+t.slice(1)),e=t;var l=0;if(!a)return[e,l];var i=(e=e.trim()).charAt(e.length-1);return[".","?","!"].includes(i)||(e=e.concat("?")),5===n&&"\xbf"!==e.charAt(0)&&(e="\xbf"+e,l+=1),[e,l]}var te=function(e){function n(e){var a;return b()(this,n),(a=v()(this,S()(n).call(this,e))).initialInput=void 0,a.initialCursorPosition=void 0,a.firstEdit=void 0,a.selectorRef=void 0,a.handleInputChange=function(e){var n,t;null===(n=(t=a.props).handleInputChange)||void 0===n||n.call(t,e),a.setState({input:e})},a.mainpulateInput=function(e){var n=ae(e,a.getNid(),a.firstEdit);return a.firstEdit=!1,n},a.selectorRef=R.createRef(),a.initialInput=e.initialInput?e.initialInput:"",a.state={input:a.initialInput},a.initialCursorPosition=0,a.firstEdit=!0,a}return F()(n,e),y()(n,[{key:"getNid",value:function(){return this.props.overrideNid||this.context}},{key:"componentDidMount",value:function(){if(this.firstEdit=!0,this.initialInput){var e,n=this.initialInput.length,a=ae(this.initialInput,this.getNid(),!0),t=p()(a,2);this.initialInput=t[0],e=t[1],this.initialCursorPosition=n+e,this.firstEdit=!1,this.props.handleInputChange&&this.props.handleInputChange(this.initialInput)}else this.initialCursorPosition=0}},{key:"focus",value:function(){return this.selectorRef.current.focus()}},{key:"onSelectHandler",value:function(e,n){if(this.props.handleExistingQuestionAnswerTranslate)this.props.handleExistingQuestionAnswerTranslate(n);else if(this.props.requestTarget){var a=this.getA2aMutationOptions(n);e.mutate(a).then(function(e){var n=e.data.questionAskToAnswerAdd;if(n){var a=n.success,t=n.translatedMessage;!a&&t&&Object(W.a)({message:Object(x.J)(t),error:!1})}})}else Object(H.v)(n.url,"present")}},{key:"isRequestSent",value:function(e){return!!this.props.requestTarget&&e.viewerHasAskedToAnswer}},{key:"getA2aMutationOptions",value:function(e){var a=n.mutations.questionAskToAnswerAdd,t=e.qid,l=e.id,i=e.__typename,r=this.getA2aTypeAndUidFromRequestTarget(),s=r.a2aType;return{mutation:a,variables:{qid:t,answerer_uid:r.uid,a2a_type:s,action_source:X.a.none},optimisticResponse:{questionAskToAnswerAdd:{success:!0,translatedMessage:null,question:{id:l,__typename:i,viewerHasAskedToAnswer:!0}}}}}},{key:"getA2aTypeAndUidFromRequestTarget",value:function(){var e=this.props.requestTarget;if(!e)throw new Error("no requestTarget");var n=e.__typename;if("User"==n){var a=e;return{a2aType:X.c.profile,uid:a.uid}}if("Session"==n){var t=e;return{a2aType:X.c.ama,uid:t.hosts[0].uid}}throw new Error("bad typename ".concat(n))}},{key:"render",value:function(){var e=this,a=this.getNid(),t=this.props.client,l=ne.includes(a)?{mainpulateInput:function(n){return e.mainpulateInput(n)}}:{};return R.createElement(Y.d,{nid:a},R.createElement(H.d,{mt:"medium"},R.createElement(V.a,Object.assign({async:!0,queryTimeoutMsecs:500,options:c()(u.a.mark(function i(){var l,r,s,o,d,c,m,p,g;return u.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.props.showDuplicateQuestions){i.next=11;break}if(!e.state.input){i.next=8;break}return i.next=4,t.query({query:n.queries.selector,variables:{query:e.state.input,nid:a,tribeId:null===(o=e.props.tribe)||void 0===o?void 0:o.tribeId,uid:null===(d=e.props.user)||void 0===d?void 0:d.uid},fetchPolicy:"store-or-network"});case 4:c=i.sent,s=c.data,i.next=9;break;case 8:s={network:{searchQuery:[]}};case 9:i.next=12;break;case 11:s=null;case 12:if(Object(J.b)(Z.b.ask_question_step,Z.a.duplicate_questions_query),m=[],!(null===(l=s)||void 0===l?void 0:null===(r=l.network)||void 0===r?void 0:r.searchQuery)){i.next=24;break}p=function(n){var a=s.network.searchQuery[n];if(!a)return"continue";m.push({item:R.createElement(le,{searchQuery:a,isRequested:a.question&&e.isRequestSent(a.question),showRequestButton:!!e.props.requestTarget,includeSubText:!e.props.handleExistingQuestionAnswerTranslate}),title:Object(x.L)(e.state.input),onSelect:function(){a.question&&e.onSelectHandler(t,a.question)},refreshOnSelect:!0})},g=0;case 17:if(!(g<s.network.searchQuery.length)){i.next=24;break}if("continue"!==p(g)){i.next=21;break}return i.abrupt("continue",21);case 21:g++,i.next=17;break;case 24:return i.abrupt("return",m);case 25:case"end":return i.stop()}},i)})),inputPlaceholder:this.props.inputPlaceholder,limit:6,onInputChange:function(n){return e.handleInputChange(n)},initialInput:this.initialInput,initialCursorPosition:this.initialCursorPosition,onFocus:function(e){var n=e.target.value;e.target.value="",e.target.value=n},closeOnClick:!!this.props.handleExistingQuestionAnswerTranslate,closeOnClickAway:!!this.props.handleExistingQuestionAnswerTranslate,listComponent:H.f,inputWrapperProps:{noBorder:!0,variant:"large",charLimit:this.props.getCharLimit?this.props.getCharLimit(this.state.input):$.a,charTolerance:this.props.charTolerance,borderBottom:this.props.borderBottom,pb:this.props.borderBottom?"small":undefined,borderRadius:0},autoFocus:!0,forceOpenMenu:!0,useTextArea:this.props.useTextArea,autosize:!0,hideLoadingDots:!0,forwardedRef:this.selectorRef},l))))}}]),n}(R.Component);te.displayName="AskQuestionSelector",te.contextType=Y.b,te.defaultProps={showDuplicateQuestions:!0,useTextArea:!0,charTolerance:.9,borderBottom:!0},te.fragments={user:void 0!==q?q:q=r,session:void 0!==P?P:P=i,tribe:void 0!==N?N:N=l},te.queries={selector:ee},te.mutations={questionAskToAnswerAdd:void 0!==D?D:D=t};n.a=Object(z.b)(Object(z.f)(te));var le=function(e){function n(){return b()(this,n),v()(this,S()(n).apply(this,arguments))}return F()(n,e),y()(n,[{key:"renderRequestButton",value:function(){return this.props.showRequestButton?R.createElement(G.a,{pressed:this.props.isRequested}):null}},{key:"render",value:function(){var e,n,a=this.props.searchQuery;return a?(a.question?e=a.question:a.toQuestion&&(e=a.toQuestion),e?R.createElement(B.b,{mainText:R.createElement(U.a,{question:e,fontSize:"small"}),subText:this.props.includeSubText?R.createElement(M.a,{question:e}):null,includePageMargin:!1,secondaryComponent:null!==(n=this.renderRequestButton())&&void 0!==n?n:undefined,propagateOnClickSecondaryComponent:!0}):null):null}}]),n}(R.Component);le.displayName="AskQuestionSelectorResult"},M1Zk:function(e,n,a){"use strict";a.d(n,"b",function(){return w});var t={};a.r(t),a.d(t,"default",function(){return k});var l=a("8ZkK"),i=a.n(l),r=a("tQZz"),s=a.n(r),o=a("7eVb"),u=a.n(o),d=a("n3k3"),c=a.n(d),m=a("10u2"),p=a.n(m),g=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"QuestionFooter_question",type:"Question",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"answerCount",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"TribeSubmissionAttributionSection_tribeItem",args:null}]},{kind:"FragmentSpread",name:"QuestionTimestamp_question",args:null}]}}();g.hash="aff82d811f9e8d69a9deefaec49df5a5";var b,k=g,y=a("q1tI"),f=a("RA+f"),v=a("bWyY"),h=a("jufJ"),S=a("VyO/"),T=a("iLAm"),F=a("SW3P"),E=a("ClIU"),K=a("6sb5"),w=function(){return Object(F.a)("tribe_quesion_ui_improvements")},C=function(e){function n(){return i()(this,n),u()(this,c()(n).apply(this,arguments))}return p()(n,e),s()(n,[{key:"render",value:function(){var e=this.props,n=e.question,a=e.mt,t=void 0===a?"small":a,l=n.answerCount,i=n.url,r=n.tribeItem,s=y.createElement(h.A,null,y.createElement(h.h,{compact:!0,value:l}),y.createElement(h.y,{value:l},{ONE:" Answer",OTHER:" Answers"})),o=y.createElement(h.A,null,"No answer yet");return y.createElement(v.a,{mt:t},y.createElement(f.s,{as:"span",bold:!0},y.createElement(f.p,{href:i,navStyle:"present"},l>0?s:o)),y.createElement(K.a,null),y.createElement(E.a,{question:this.props.question}),!w()&&r&&y.createElement(y.Fragment,null,y.createElement(K.a,null),y.createElement(T.a,{tribeItem:r})))}}]),n}(y.Component);C.displayName="QuestionFooter",C.fragments={question:void 0!==b?b:b=t};n.a=Object(S.b)(C)},NOjq:function(e,n,a){"use strict";a.d(n,"b",function(){return r}),a.d(n,"c",function(){return s}),a.d(n,"a",function(){return o});var t=a("AaDK"),l=a("Yc5t"),i=a("q1tI"),r=function(e,n){return Object(t.a)("ask_question_flow",{step:e,action:n,is_react:!0})},s=function(e,n,a){return Object(t.a)("ask_question_flow_transitions",{from_step:e,to_step:n,is_standalone:a,is_react:!0})},o=function(e){var n=e.stepType,a=e.customLog,r=e.children;return i.createElement(l.b,{onImpression:function(e){e&&Object(t.a)("ask_question_flow_impressions",{step:n,custom_log:a})}},r)}},P8a8:function(e,n,a){"use strict";a.r(n),a.d(n,"default",function(){return S});var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("7eVb"),o=a.n(s),u=a("n3k3"),d=a.n(u),c=a("10u2"),m=a.n(c),p=a("q1tI"),g=a("RA+f"),b=a("jufJ"),k=a("nW6E"),y=a("xhE2"),f=a("nwxp"),v=a("nqCt"),h=a("eL6j"),S=function(e){function n(){return l()(this,n),o()(this,d()(n).apply(this,arguments))}return m()(n,e),r()(n,[{key:"getTitleText",value:function(){return Object(b.K)(p.createElement(y.c,null,"What is an owner?"))}},{key:"render",value:function(){var e=this.props.dismissModalFlow,n={titleText:this.getTitleText(),navButtonProps:{onClick:function(){return e()}}};return p.createElement(k.e,n,p.createElement(g.d,{pb:"medium"},p.createElement(g.s,null,p.createElement(y.c,null,"An owner of a Space is the admin who created the Space or has been granted ownership by the previous owner."," ",Object(v.a)("TribeEarningsProgramFeature",!1)?"They can invite or remove admins, delete the Space, and participate in the Spaces Earnings beta program.":"They can invite or remove admins and delete the Space."))),p.createElement(g.d,{mx:f.n?"n_tiny":"n_small"},p.createElement(h.a,null)))}}]),n}(p.Component);S.displayName="TribeOwnerInfoModal"},PeiD:function(e,n,a){"use strict";a.d(n,"a",function(){return t});var t=250},QwTT:function(e,n,a){"use strict";var t=a("q1tI"),l=a.n(t),i=a("RA+f"),r=a("GJXd"),s=a("SseM"),o=a("DudT"),u=a("szkJ"),d=a("HGXV"),c=a("jufJ"),m=a("ZsYs"),p=a("JwOd"),g=function b(e){var n,a,t,g,k=e.businessUid,y=e.businessName,f=e.businessLogoUrl,v=e.businessCustomAction,h=e.onCTAChange,S=e.isAnswerEdit,T=void 0!==S&&S;return k?l.a.createElement(i.d,{mb:"medium"},l.a.createElement(m["default"],{businessUid:k,businessName:null!==y&&void 0!==y?y:"",profileImageUrl:null!==f&&void 0!==f?f:undefined,objectiveType:null!==(n=null===v||void 0===v?void 0:v.objectiveType)&&void 0!==n?n:b.defaultCustomAction.objectiveType,cta:null!==(a=null===v||void 0===v?void 0:v.cta)&&void 0!==a?a:b.defaultCustomAction.cta,landingPageUrl:null!==(t=null===v||void 0===v?void 0:v.landingPageUrl)&&void 0!==t?t:"",leadGenFormId:null!==(g=null===v||void 0===v?void 0:v.leadGenFormId)&&void 0!==g?g:undefined,showProfileCustomAction:!0,updateCustomAction:function(e){h(e)}},function(e){var n,a=e.openModalFlow;return l.a.createElement(i.j,{flexDirection:"column",p:"small",justifyContent:"center",alignItems:"center"},T?null:l.a.createElement(d.a,{placement:"top",trigger:"none",text:l.a.createElement(c.b,null,"Customize the answer action to generate leads, profile visits, or traffic to your site."),displayOnMobile:!0,initiallyVisible:!0}),l.a.createElement(i.e,{width:"100%",onClick:function(){a()}},l.a.createElement(r.a,{logoImageUrl:f,cta:(null===v||void 0===v?void 0:v.cta)||o.w.learnMore,objectiveType:null!==(n=null===v||void 0===v?void 0:v.objectiveType)&&void 0!==n?n:u.a.PROFILE,businessName:null!==y&&void 0!==y?y:"",landingPageUrl:null,isEditMode:!0,formPlacement:s.a.BUSINESS_ANSWER,bannerActionType:p.b.editable})))})):null};g.displayName="BusinessAnswerEditorCTABanner",g.defaultCustomAction={objectiveType:u.a.PROFILE,cta:o.w.applyNow},n.a=g},RAJQ:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",function(){return k});var l,i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("7eVb"),d=a.n(u),c=a("n3k3"),m=a.n(c),p=a("10u2"),g=a.n(p),b={kind:"Fragment",name:"SubmissionRulesText_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null}],hash:"d479e7174a83b9ba33b472a4bff5efd6"},k=b,y=a("q1tI"),f=a("jufJ"),v=a("wB5M"),h=a("nwxp"),S=a("AFGi"),T=a("VyO/"),F=a("Kh5g"),E=function(e){function n(){return r()(this,n),d()(this,m()(n).apply(this,arguments))}return g()(n,e),o()(n,[{key:"render",value:function(){var e=this.props.tribe.submissionRules,n=this.props.bg,a=JSON.parse(e);return Object(S.l)(a)?y.createElement(f.A,null,"This Space's admins will review your submission before it's posted. You'll be notified if it's approved."):this.props.truncated?y.createElement(v.a,{qt:a,bg:n,charLimit:h.n?90:130}):y.createElement(F.a,{qt:a,bg:n})}}]),n}(y.Component);E.displayName="SubmissionRulesText",E.fragments={tribe:void 0!==l?l:l=t},E.defaultProps={truncated:!0};n.a=Object(T.b)(E)},U3fp:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",function(){return f});var l={};a.r(l),a.d(l,"default",function(){return T});var i=a("rhDr"),r=a.n(i),s=a("8ZkK"),o=a.n(s),u=a("tQZz"),d=a.n(u),c=a("7eVb"),m=a.n(c),p=a("n3k3"),g=a.n(p),b=a("10u2"),k=a.n(b),y={kind:"Fragment",name:"EditorHeader_credential",type:"Credential",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserNameCredential_credential",args:null}],hash:"cdb22026d0a107544cf23c3912653c20"},f=y,v=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"EditorHeader_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserNameCredential_user",args:null}]}]}}();v.hash="a0c74046554b08fa5c8b2a1936f2d84e";var h,S,T=v,F=a("q1tI"),E=a("VyO/"),K=a("vwvq"),w=a("r+vq"),C=a("RA+f"),A=a("jufJ"),_=a("QLaP"),L=a.n(_),I=a("VwdU"),O=a("HGXV"),Q=function(e){function n(){return o()(this,n),m()(this,g()(n).apply(this,arguments))}return k()(n,e),d()(n,[{key:"render",value:function(){var e=this.props,n=e.viewer,a=e.credential,t=e.businessCredential,l=e.openModal,i=e.editCredentialHint,s=r()(e,["viewer","credential","businessCredential","openModal","editCredentialHint"]);return L()(n.user,"EditorHeader currently only works for logged in viewers."),F.createElement(C.d,s,F.createElement(C.j,{alignItems:"center",mx:"auto"},F.createElement(C.d,{mr:"small"},F.createElement(w.a,{user:n.user,size:40})),F.createElement(C.d,null,F.createElement(K.a,{user:n.user,credential:a,businessCredential:t}),F.createElement(I.a,{condition:Boolean(i),wrapper:function(e){return F.createElement(C.j,null,F.createElement(O.a,{placement:"bottom",trigger:"none",text:null!==i&&void 0!==i?i:F.createElement(F.Fragment,null),displayOnMobile:!0,initiallyVisible:!0},e))}},F.createElement(C.s,{color:"gray"},F.createElement(C.e,{onClick:function(){return l()}},F.createElement(A.A,null,"Edit Credential")))))))}}]),n}(F.Component);Q.displayName="EditorHeader",Q.fragments={viewer:void 0!==h?h:h=l,credential:void 0!==S?S:S=t};n.a=Object(E.b)(Q)},VEaG:function(e,n,a){"use strict";a.r(n),a.d(n,"AskQuestionStepTabs",function(){return on}),a.d(n,"QUESTION_CREATION_MUTATION",function(){return un}),a.d(n,"HYPERLINK_SHARE_MUTATION",function(){return dn}),a.d(n,"HYPERLINK_SHARE_TRIBE_SUBMISSION_MUTATION",function(){return cn}),a.d(n,"TRIBE_CONTENT_QUEUE_ITEM_ADD_MUTATION",function(){return mn}),a.d(n,"onQuestionCreateSuccess",function(){return pn});var t={};a.r(t),a.d(t,"default",function(){return C});var l={};a.r(l),a.d(l,"default",function(){return _});var i={};a.r(i),a.d(i,"default",function(){return I});var r={};a.r(r),a.d(r,"default",function(){return Q});var s={};a.r(s),a.d(s,"default",function(){return P});var o={};a.r(o),a.d(o,"default",function(){return ae});var u={};a.r(u),a.d(u,"default",function(){return le});var d={};a.r(d),a.d(d,"default",function(){return Ne});var c={};a.r(c),a.d(c,"default",function(){return je});var m={};a.r(m),a.d(m,"default",function(){return xe});var p={};a.r(p),a.d(p,"default",function(){return ze});var g=a("8ZkK"),b=a.n(g),k=a("7eVb"),y=a.n(k),f=a("n3k3"),v=a.n(f),h=a("tQZz"),S=a.n(h),T=a("10u2"),F=a.n(T),E=a("g8yt"),K=a.n(E),w=function(){var e=[{kind:"LocalArgument",name:"canShowTranslationStep",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"targetOid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"isTribeOid",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"isUserOid",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"isSessionOid",type:"Boolean!",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"numQuestions",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"isPartner",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"shouldShowPartnersPolicyOnAskQuestion",args:null,storageKey:null},r={kind:"ScalarField",alias:"questionTitleMaxLength",name:"integerFeature",args:[{kind:"Literal",name:"name",value:"QuestionTitleMaxLength"}],storageKey:'integerFeature(name:"QuestionTitleMaxLength")'},s={kind:"ScalarField",alias:"hyperlinkFeature",name:"booleanFeature",args:[{kind:"Literal",name:"name",value:"HyperlinkFeature"}],storageKey:'booleanFeature(name:"HyperlinkFeature")'},o={kind:"ScalarField",alias:"shareCommentMaxLength",name:"integerFeature",args:[{kind:"Literal",name:"name",value:"QuoraShareAndPostTitleMaxLength"}],storageKey:'integerFeature(name:"QuoraShareAndPostTitleMaxLength")'},u={kind:"ScalarField",alias:null,name:"contentLanguageCode",args:null,storageKey:null},d=[{kind:"LinkedField",alias:null,name:"contentTranslationPromptNetwork",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[n,a,u,{kind:"ScalarField",alias:null,name:"nid",args:null,storageKey:null}]}],c={kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[n,a,u]},m=[{kind:"Variable",name:"tribeId",variableName:"targetOid"}],p={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},k=[{kind:"Variable",name:"uid",variableName:"targetOid"}],y={kind:"FragmentSpread",name:"UserName_user",args:null},f=[{kind:"Variable",name:"sessionId",variableName:"targetOid"}],v={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},S={kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},T={kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},F={kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},K={kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},w=[a,n,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],C={kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:w},A={kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:w},_={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]},L={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},O=[n,a,p,g,L,I,{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},b,{kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"isSubmissionEnabled",args:[{kind:"Literal",name:"contentType",value:49},{kind:"Literal",name:"isExternalHyperlinkShareSubmission",value:!0}],storageKey:"isSubmissionEnabled(contentType:49,isExternalHyperlinkShareSubmission:true)"}]}],Q=[n,a,v,K,C,A,h,S,T,F,E,_];return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStepQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[n,a,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[n,a,t]},l,i,r,s,o,{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"canShowTranslationStep",selections:d},{kind:"FragmentSpread",name:"AskQuestionStepAddQuestion_viewer",args:null},{kind:"FragmentSpread",name:"AskQuestionStepShareLink_viewer",args:null}]},c,{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isTribeOid",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:m,concreteType:"Tribe",plural:!1,selections:[n,a,p,g,b,{kind:"FragmentSpread",name:"AskQuestionStepAddQuestion_tribe",args:null}]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isUserOid",selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:k,concreteType:"User",plural:!1,selections:[n,a,{kind:"FragmentSpread",name:"AskQuestionStepAddQuestion_a2aUser",args:null},y]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isSessionOid",selections:[{kind:"LinkedField",alias:null,name:"session",storageKey:null,args:f,concreteType:"Session",plural:!1,selections:[n,a,{kind:"LinkedField",alias:null,name:"hosts",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[n,a,y]},{kind:"FragmentSpread",name:"AskQuestionStepAddQuestion_session",args:null}]}]}]},operation:{kind:"Operation",name:"AskQuestionStepQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[n,a,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[n,a,t,v,h,S,T,F,E,K,C,A,_]},l,i,r,s,o,{kind:"ScalarField",alias:"noteModernStandardArabic",name:"booleanFeature",args:[{kind:"Literal",name:"name",value:"QuestionAskingNoteModernStandardArabic"}],storageKey:'booleanFeature(name:"QuestionAskingNoteModernStandardArabic")'},{kind:"LinkedField",alias:null,name:"audiencePickerTribesUserCanShareTo",storageKey:"audiencePickerTribesUserCanShareTo(contentType:44)",args:[{kind:"Literal",name:"contentType",value:44}],concreteType:"AudiencePickerTribesUserCanShareTo",plural:!1,selections:[n,a,{kind:"LinkedField",alias:null,name:"recentlyVisited",storageKey:null,args:null,concreteType:"Tribe",plural:!0,selections:O},{kind:"LinkedField",alias:null,name:"recommended",storageKey:null,args:null,concreteType:"Tribe",plural:!0,selections:O}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"canShowTranslationStep",selections:d}]},c,{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isTribeOid",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:m,concreteType:"Tribe",plural:!1,selections:[n,a,p,g,b,L,I]}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isUserOid",selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:k,concreteType:"User",plural:!1,selections:Q}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isSessionOid",selections:[{kind:"LinkedField",alias:null,name:"session",storageKey:null,args:f,concreteType:"Session",plural:!1,selections:[n,a,{kind:"LinkedField",alias:null,name:"hosts",storageKey:null,args:null,concreteType:"User",plural:!0,selections:Q}]}]}]},params:{operationKind:"query",name:"AskQuestionStepQuery",id:"11e18f19d0e464323f141011365e0767f63875e96699a3990476d4fb1e78a1b8",text:null,metadata:{}}}}();w.hash="ed347cdb802156392bd53ef12283c112";var C=w,A=function(){var e=[{kind:"LocalArgument",name:"comment",type:"String",defaultValue:null},{kind:"LocalArgument",name:"url",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"tribeContentQueueItemAdd",storageKey:null,args:[{kind:"Variable",name:"comment",variableName:"comment"},{kind:"Variable",name:"tribeId",variableName:"tribeId"},{kind:"Variable",name:"url",variableName:"url"}],concreteType:"TribeContentQueueItemAdd",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStep_tribeContentQueueItemAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AskQuestionStep_tribeContentQueueItemAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"AskQuestionStep_tribeContentQueueItemAdd_Mutation",id:"ccf209552e38929f30cce8a5e70c72eb49c23bb6632b40ce94d3d980fe9acdf4",text:null,metadata:{}}}}();A.hash="2a12e11562334e58cb3e408102e65540";var _=A,L=function(){var e=[{kind:"LocalArgument",name:"url",type:"String",defaultValue:null},{kind:"LocalArgument",name:"comment",type:"String",defaultValue:null},{kind:"LocalArgument",name:"selectedTribe",type:"BigInt!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"tribeSubmissionAdd",storageKey:null,args:[{kind:"Variable",name:"selectedTribe",variableName:"selectedTribe"},{kind:"Variable",name:"submissionComment",variableName:"comment"},{kind:"Variable",name:"url",variableName:"url"}],concreteType:"TribeSubmissionAdd",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"submission",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"submissionId",args:null,storageKey:null}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStep_tribeSubmissionAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AskQuestionStep_tribeSubmissionAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"AskQuestionStep_tribeSubmissionAdd_Mutation",id:"0270827f6eef96d561771771fb5e16398d8ebfaee3aa7dfb6956e6aef65f5787",text:null,metadata:{}}}}();L.hash="5e4a7bd17aa0d248ec6d1cf4beabe831";var I=L,O=function(){var e=[{kind:"LocalArgument",name:"url",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"comment",type:"String",defaultValue:null},{kind:"LocalArgument",name:"selectedTribe",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"shareToFeed",type:"Boolean",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t=[{kind:"LinkedField",alias:null,name:"shareHyperlinkAdd",storageKey:null,args:[{kind:"Variable",name:"comment",variableName:"comment"},{kind:"Variable",name:"selectedTribe",variableName:"selectedTribe"},{kind:"Variable",name:"shareToFeed",variableName:"shareToFeed"},{kind:"Variable",name:"url",variableName:"url"}],concreteType:"ShareHyperlinkAdd",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"failureReason",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:null,concreteType:null,plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStep_shareHyperlinkAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"AskQuestionStep_shareHyperlinkAdd_Mutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"AskQuestionStep_shareHyperlinkAdd_Mutation",id:"880ab686199ff54c7d94d1f253dd022bee77eba656baab888bd804e8da636bb7",text:null,metadata:{}}}}();O.hash="186aa9eb0c734181f056a63f403c9d37";var Q=O,q=function(){var e=[{kind:"LocalArgument",name:"titlePlaintext",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"isAnon",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"sourceUrl",type:"String",defaultValue:null},{kind:"LocalArgument",name:"sourceLocation",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"limitedUserDistro",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"targetType",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"targetOid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"shouldCheckDuplicate",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldCheckCorrection",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueue",type:"Boolean",defaultValue:null}],n=[{kind:"Variable",name:"isAnon",variableName:"isAnon"},{kind:"Variable",name:"limitedUserDistro",variableName:"limitedUserDistro"},{kind:"Variable",name:"shouldCheckCorrection",variableName:"shouldCheckCorrection"},{kind:"Variable",name:"shouldCheckDuplicate",variableName:"shouldCheckDuplicate"},{kind:"Variable",name:"shouldQueue",variableName:"shouldQueue"},{kind:"Variable",name:"sourceLocation",variableName:"sourceLocation"},{kind:"Variable",name:"sourceUrl",variableName:"sourceUrl"},{kind:"Variable",name:"targetOid",variableName:"targetOid"},{kind:"Variable",name:"targetType",variableName:"targetType"},{kind:"Variable",name:"titlePlaintext",variableName:"titlePlaintext"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"sourceUrl",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null},d={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"google_contact_import",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"shouldPromptFollowerInviteModal",args:null,storageKey:null}]},c={kind:"ScalarField",alias:null,name:"failureType",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"a2aFailureReason",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"anonRedirectUrl",args:null,storageKey:null},g=[{kind:"ScalarField",alias:null,name:"correctionSuggestion",args:null,storageKey:null}],b={kind:"ScalarField",alias:null,name:"isPartnerQuestion",args:null,storageKey:null},k={kind:"LinkedField",alias:null,name:"asker",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[t,l,{kind:"ScalarField",alias:null,name:"isEmployee",args:null,storageKey:null}]},y={kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null},f={kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,l,u,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},t]}]},v={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[t,l,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null}]},h={kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"nid",args:null,storageKey:null},t]},S={kind:"ScalarField",alias:null,name:"answerCount",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStep_questionCreate_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"questionCreate",storageKey:null,args:n,concreteType:"QuestionCreate",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,l,i,r,s,o,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,l,u,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[d]}]}]},{kind:"LinkedField",alias:null,name:"existingQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,l,o,{kind:"FragmentSpread",name:"DuplicateQuestionResult_exactQuestionMatch",args:null}]},c,m,p,{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"shouldCheckDuplicate",selections:[{kind:"LinkedField",alias:null,name:"duplicateSuggestions",storageKey:null,args:null,concreteType:"Question",plural:!0,selections:[t,l,o,{kind:"FragmentSpread",name:"DuplicateQuestionResult_dedupeQuestions",args:null}]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"shouldCheckCorrection",selections:g}]}]},operation:{kind:"Operation",name:"AskQuestionStep_questionCreate_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"questionCreate",storageKey:null,args:n,concreteType:"QuestionCreate",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,l,i,r,s,o,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,l,u,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[t,d]}]}]},{kind:"LinkedField",alias:null,name:"existingQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[t,l,o,i,r,b,k,y,f,v,h,S]},c,m,p,{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"shouldCheckDuplicate",selections:[{kind:"LinkedField",alias:null,name:"duplicateSuggestions",storageKey:null,args:null,concreteType:"Question",plural:!0,selections:[t,l,o,i,S,r,b,k,y,f,v,h]}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"shouldCheckCorrection",selections:g}]}]},params:{operationKind:"mutation",name:"AskQuestionStep_questionCreate_Mutation",id:"3ab6f71e63c623313d7264998c59fb8d4d6888d06d94edbe61d9b88d8259cb56",text:null,metadata:{}}}}();q.hash="9d6125dfafe3b1c1cae480881c6f9360";var P=q,N=a("q1tI"),D=a("DzJC"),j=a.n(D),R=a("VyO/"),x=a("AaDK"),M=a("NOjq"),U=a("dp7i"),V=a("nW6E"),B=a("ZXE+"),H=a("RA+f"),z=a("jufJ"),J=a("Gnru"),Z=a("yju1"),Y=a("SKAY"),G=a("nwxp"),W=a("oJdr"),X=a("UDrg"),$=a("R+um"),ee=a("3oqD"),ne=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AskQuestionStepShareLink_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserName_user",args:null}]},{kind:"FragmentSpread",name:"AudiencePickerSelector_viewer",args:[{kind:"Literal",name:"contentType",value:44}]}]}}();ne.hash="6faad1fe6b895834599acf799b4cf3a0";var ae=ne,te=function(){var e=[{kind:"LocalArgument",name:"url",type:"String!",defaultValue:null}],n=[{kind:"LinkedField",alias:null,name:"linkPreview",storageKey:null,args:[{kind:"Variable",name:"url",variableName:"url"}],concreteType:"LinkPreview",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"snippet",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"imageUrl",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AskQuestionStepShareLinkQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AskQuestionStepShareLinkQuery",argumentDefinitions:e,selections:n},params:{operationKind:"query",name:"AskQuestionStepShareLinkQuery",id:"59acd169d67ab24e171d50f33ffd6a3aa101abf5abf215a28892ce0e846ce1c0",text:null,metadata:{}}}}();te.hash="b64ce330b050ddfa2d69f5be640a1e96";var le=te,ie=a("zSrG"),re=a("D5Zh"),se=a("rAPm"),oe=a("6Gvz"),ue=a("F6zL"),de=a("r+vq"),ce=a("td6z"),me=a("OMLc"),pe=a("F0ZP"),ge=a("pdGF"),be=a("/bbo"),ke=a("NldC"),ye=function(e){return/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-zA-Z\u00a1-\uffff0-9]+)(?:\.(?:[a-zA-Z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-zA-Z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(e)};(function(e){function n(e){var a;return b()(this,n),(a=y()(this,v()(n).call(this,e))).state={url:"",hyperlinkComment:"",hyperlinkShareToFollowers:!1,updateKey:!0},a}return F()(n,e),S()(n,[{key:"updateUrl",value:function(e){var n,a,t,l,i=Object(ge.a)(e);ye(i)?(this.setState({url:i}),null===(n=(a=this.props).onShareLinkChange)||void 0===n||n.call(a,{hyperlinkUrl:i})):(this.setState({url:""}),null===(t=(l=this.props).onShareLinkChange)||void 0===t||t.call(l,{hyperlinkUrl:""}))}},{key:"clear",value:function(){this.setState(function(e){return{url:"",updateKey:!e.updateKey}})}},{key:"close",value:function(){var e,n;this.clear(),null===(e=(n=this.props).onClose)||void 0===e||e.call(n)}},{key:"render",value:function(){var e=this;return N.createElement(N.Fragment,null,N.createElement(H.d,{mt:"small",borderAll:!0,borderRadius:"small",px:"small",py:"medium"},N.createElement(H.q,null,N.createElement(H.a,{right:"n_medium",top:"n_large",zIndex:"popover"},N.createElement(be.a,{size:"small",variant:"gray",icon:N.createElement(me.a,{name:"SmallClose"}),onClick:function(){return e.close()}})),N.createElement(ue.c,{iconName:"EditorLink",placeholder:Object(z.K)("Enter a link"),onChange:function(n){return e.updateUrl(n.target.value)},noBorder:!0,key:""+this.state.updateKey,autoFocus:!0}),N.createElement(Oe,{url:this.state.url,onClear:ke.h,showX:!1}))))}}]),n}(N.Component)).displayName="ShareLinkInput";var fe,ve,he=a("rQ/h"),Se=a("PuWf"),Te=a("n2ec"),Fe=a("cbxS"),Ee=a("AFGi"),Ke=a("wB5M"),we=a("4oNN"),Ce=a("SW3P"),Ae=a("sP50"),_e=void 0!==fe?fe:fe=u,Le=function(e){function n(e){var a;return b()(this,n),(a=y()(this,v()(n).call(this,e))).handleOnSelectorChange=function(e){var n=e.tribe,t=e.hyperlinkShareToFollowers;a.setState({hyperlinkShareToFollowers:t}),a.props.onShareLinkChange({hyperlinkTribe:n,hyperlinkShareToFollowers:t,addToTribeContentQueue:!1})},a.state={url:"",hyperlinkComment:"",hyperlinkShareToFollowers:!1,updateKey:!0},a}return F()(n,e),S()(n,[{key:"updateUrl",value:function(e){var n=Object(ge.a)(e),a=ye(n);Object(x.a)("ask_question_link",{text:e,is_valid:a,is_react:!0}),a?(this.setState({url:n}),this.props.onShareLinkChange({hyperlinkUrl:n})):this.props.onShareLinkChange({hyperlinkUrl:""})}},{key:"updateContentQueueState",value:function(e){this.props.onShareLinkChange({addToTribeContentQueue:e})}},{key:"renderAudiencePicker",value:function(){var e=this,n=this.props,a=n.viewer,t=n.audiencePickerHeight,l=n.selectedTribe,i=this.state.hyperlinkShareToFollowers,r=i?Object(z.K)("Your followers"):l?N.createElement(H.j,{alignItems:"center"},N.createElement(Te.a,{tribe:l,linked:!1,size:18,mr:"tiny"}),N.createElement(Se.a,{tribe:l})):Object(z.K)("Choose a Space");return G.o?null:G.n?N.createElement(V.c,{modalFlowProps:{transitionName:"StandaloneModal",initialModalProps:{name:"AudiencePickerSelector",queryVariables:{contentType:44}},initialFlowData:{contentType:44},containerProps:{easyDismissEnabled:!0,legacy:!1,mobileHeight:t},postDismissCallback:function(n){if(n){var a=n.tribe,t=n.hyperlinkShareToFollowers;null==a&&null==t||e.handleOnSelectorChange({tribe:a,hyperlinkShareToFollowers:t})}}}},function(e){var n=e.openModalFlow;return N.createElement(be.a,{variant:"gray",icon:i||l?undefined:N.createElement(me.a,{name:"Plus"}),text:r,size:"small",chevronSuffix:"down",ml:"small",onClick:function(){n()}})}):N.createElement(he.a,{reference:N.createElement(be.a,{variant:"gray",icon:i||l?undefined:N.createElement(me.a,{name:"Plus"}),text:r,size:"small",chevronSuffix:"down",ml:"small"}),minWidth:210,minHeight:300,maxHeight:"55vh",placement:"right-start",borderColor:"gray",isInModal:!0},function(n){var t=n.hideMenu;return N.createElement(Ae.a,{contentType:44,viewer:a,onSelectorChange:function(n){e.handleOnSelectorChange(n),t()}})})}},{key:"render",value:function(){var e,n=this,a=this.props,t=a.viewer,l=a.selectedTribe,i=a.addToTribeContentQueue,r=t.user;if(!r)return null;var s=!!l&&(!l.viewerCanContribute&&(null===(e=l.settings)||void 0===e?void 0:e.isSubmissionEnabled)),o=!!l&&(l.viewerCanContribute&&l.viewerCanCreateContentQueueItem),u=l?l.submissionRules:null,d=Object(G.f)()&&!0===Object(Ce.a)("tribe_add_to_queue_from_question_asking_react")&&o;return N.createElement(H.d,{mt:G.j?"huge":"medium",mb:"medium"},N.createElement(pe.j,null,N.createElement(pe.g,null,N.createElement(de.a,{user:r})),N.createElement(pe.i,null,N.createElement(H.j,{alignItems:"center",whiteSpace:"pre"},N.createElement(z.A,null,N.createElement($.a,{user:r})," shared"),this.renderAudiencePicker()))),s&&N.createElement(Qe,{submissionRules:u}),d&&N.createElement(we.a,{alignment:"bottom",menuItems:[{label:Object(z.K)("Post now"),isCheckable:!0,closeOnClick:!0,isOn:!i,onSelected:function(){return n.updateContentQueueState(!1)}},{label:Object(z.K)("Add to queue"),isCheckable:!0,closeOnClick:!0,isOn:i,onSelected:function(){return n.updateContentQueueState(!0)}}],title:Object(z.K)("Settings")},function(e){return N.createElement(be.a,{size:"small",variant:"gray",onClick:e,chevronSuffix:"down",isFullWidth:!0,text:i?Object(z.K)("Add to queue"):Object(z.K)("Post now")})}),N.createElement(H.d,{py:"small"},N.createElement(ue.c,{placeholder:Object(z.K)("Say something about this..."),onChange:function(e){return n.updateLinkShareText(e.target.value)},noBorder:!0,charLimit:this.props.shareCommentMaxLength,useSoftCharLimit:!0,useTextArea:!0,autosize:!0,value:this.state.hyperlinkComment})),N.createElement(H.d,{mt:"small",borderAll:!0,borderRadius:"small",p:"small"},N.createElement(ue.c,{iconName:"Link",placeholder:Object(z.K)("Enter a link"),onChange:function(e){return n.updateUrl(e.target.value)},noBorder:!0,key:""+this.state.updateKey,autoFocus:!0}),N.createElement(Oe,{url:this.state.url,onClear:function(){return n.setState(function(e){return{url:"",updateKey:!e.updateKey}})}})))}},{key:"updateLinkShareText",value:function(e){this.props.onShareLinkChange({hyperlinkComment:e}),this.setState({hyperlinkComment:e})}}]),n}(N.Component);Le.displayName="AskQuestionStepShareLink",Le.queries={linkPreview:_e},Le.fragments={viewer:void 0!==ve?ve:ve=o};var Ie=Object(R.b)(Le),Oe=function(e){function n(){return b()(this,n),y()(this,v()(n).apply(this,arguments))}return F()(n,e),S()(n,[{key:"renderContent",value:function(e,n,a){return N.createElement(H.d,{pr:15},this.props.showX&&N.createElement(H.a,{right:"tiny",top:"tiny"},N.createElement(be.a,{size:"small",variant:"gray",icon:N.createElement(me.a,{name:"SmallClose"}),onClick:this.props.onClear})),e&&N.createElement(H.s,{bold:!0},e),a&&N.createElement(H.s,{truncateLines:3},a),N.createElement(se.a,{truncateLines:1,mt:"small",style:{wordBreak:"break-all"}},n))}},{key:"render",value:function(){var e=this,n=this.props.url;return n&&N.createElement(re.a,{query:_e,variables:{url:n}},function(n){var a=n.loading,t=n.error,l=n.data;if(a)return N.createElement(ce.a,null);if(t)return N.createElement(oe.a,{color:"red_error"},t);var i=l.linkPreview;if(!i)return null;var r=i.url,s=i.title,o=i.snippet,u=i.imageUrl;return r?N.createElement(ie.b,{imageUrl:u,content:e.renderContent(s,r,o),bg:"gray_ultralight",compact:!0,hover:!1}):null})}}]),n}(N.Component);Oe.displayName="AskQuestionStepShareLinkEmbedPreview",Oe.defaultProps={showX:!0};var Qe=function(e){function n(){return b()(this,n),y()(this,v()(n).apply(this,arguments))}return F()(n,e),S()(n,[{key:"render",value:function(){var e=this.props.submissionRules,n=JSON.parse(e),a=Object(Ee.l)(n),t=G.n?60:90;return N.createElement(Fe.a,{variant:"muted",my:"small",dismissable:!1},a?N.createElement(H.s,null,N.createElement(z.A,null,"This Space's admins will review your submission before it's posted. You'll be notified when it's approved.")):N.createElement(Ke.a,{qt:n,charLimit:t,truncationType:"regular"}))}}]),n}(N.Component);Qe.displayName="TribeSubmissionBanner";var qe=a("vOnD"),Pe=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AskQuestionStepAddQuestion_session",type:"Session",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"LinkedField",alias:null,name:"hosts",storageKey:null,args:null,concreteType:"User",plural:!0,selections:[e,n,{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},{kind:"FragmentSpread",name:"AskQuestionSelector_session",args:null}]}}();Pe.hash="2b1f4b0fda04c9eb0c3b618d4796b960";var Ne=Pe,De={kind:"Fragment",name:"AskQuestionStepAddQuestion_a2aUser",type:"User",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"AskQuestionSelector_user",args:null}],hash:"d5a196ec205d1f856e775ebca22f7a14"},je=De,Re={kind:"Fragment",name:"AskQuestionStepAddQuestion_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"AskQuestionSelector_tribe",args:null}],hash:"9196977e661e409ba26bf4455b064e34"},xe=Re,Me=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AskQuestionStepAddQuestion_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:"noteModernStandardArabic",name:"booleanFeature",args:[{kind:"Literal",name:"name",value:"QuestionAskingNoteModernStandardArabic"}],storageKey:'booleanFeature(name:"QuestionAskingNoteModernStandardArabic")'},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"UserPhoto_user",args:null},{kind:"FragmentSpread",name:"UserName_user",args:null}]}]}}();Me.hash="9d38f7a99e2f9d16b4a91c2b375823e2";var Ue,Ve,Be,He,ze=Me,Je=a("8lmh"),Ze=a("Yc5t"),Ye=a("6sb5"),Ge=a("xgmy"),We=a("LsdO"),Xe=Object(qe["default"])(Fe.a).withConfig({displayName:"AskQuestionStepAddQuestion___StyledBanner",componentId:"wpgp1f-0"})(["& ul{list-style:disc;margin-left:20px;}"]),$e=function(e){function n(){return b()(this,n),y()(this,v()(n).apply(this,arguments))}return F()(n,e),S()(n,[{key:"renderAudience",value:function(){var e=this.props,n=e.tribe,a=e.a2aUser,t=e.session;return n?this.renderTribeAudience():a?this.renderUserAudience(a):t?this.renderUserAudience(t.hosts[0]):this.renderDistroSwitcher()}},{key:"renderTribeAudience",value:function(){var e=this.props.tribe;return e?N.createElement(H.j,{ml:"small"},N.createElement(pe.g,null,N.createElement(Te.a,{tribe:e})),N.createElement(pe.i,null,N.createElement(H.j,{alignItems:"center"},N.createElement(z.A,null,N.createElement(Se.a,{tribe:e}))))):null}},{key:"renderUserAudience",value:function(e){return N.createElement(H.j,{ml:"small"},N.createElement(pe.g,null,N.createElement(de.a,{user:e})),N.createElement(pe.i,null,N.createElement(H.j,{alignItems:"center"},N.createElement(z.A,null,N.createElement($.a,{user:e})))))}},{key:"renderDistroSwitcher",value:function(){var e=this,n=this.props,a=n.distributionState,t=n.distributionSwitcherHeight;return N.createElement(H.d,{ml:"small"},N.createElement(we.a,{alignment:"bottom-end",title:Object(z.K)("Audience"),menuItems:[{label:Object(z.K)("Public"),subLabel:Object(z.K)("Others will see your identity alongside this question on your profile and in their feeds."),isOn:a===ee.a.PUBLIC,onSelected:function(){e.props.setAskQuestionStepDistributionState(ee.a.PUBLIC)},isCheckable:!0,closeOnClick:!0},{label:Object(z.K)("Anonymous"),subLabel:Object(z.K)("Your identity will never be associated with this question."),isOn:a===ee.a.ANON,onSelected:function(){e.props.setAskQuestionStepDistributionState(ee.a.ANON)},isCheckable:!0,closeOnClick:!0},{label:Object(z.K)("Limited"),subLabel:Object(z.K)("Your identity will be shown but this question will not appear in your followers' feeds or your profile."),isOn:a===ee.a.LIMITED,onSelected:function(){e.props.setAskQuestionStepDistributionState(ee.a.LIMITED)},isCheckable:!0,closeOnClick:!0}],isInModal:!0},function(n){return N.createElement(V.c,{modalFlowProps:{transitionName:"StandaloneModal",initialModalProps:{name:"AskQuestionDistributionSwitcher",extraProps:{currentDistributionState:a}},initialFlowData:{},containerProps:{easyDismissEnabled:!0,legacy:!1,mobileHeight:t},postDismissCallback:function(n){var a=n.distributionState;null!=a&&e.props.setAskQuestionStepDistributionState(a)}}},function(e){var t=e.openModalFlow;return N.createElement(ee.b,{currentState:a,onClick:Object(G.f)()?function(){return t()}:n})})}))}},{key:"renderTribeSubmissionBanner",value:function(){return N.createElement(Fe.a,{dismissable:!1,variant:"muted",mt:"small"},N.createElement(z.A,null,"This Space's admins will review your submission before it's posted. You'll be notified when it's approved."))}},{key:"getRequestTarget",value:function(){var e=this.props,n=e.a2aUser,a=e.session;return n||a}},{key:"renderReason",value:function(){var e=this.props,n=e.viewer,a=e.tribe,t=e.session,l=e.a2aUser;return"user"===e.controllerSetting&&l?null:n.user?N.createElement(pe.j,null,N.createElement(pe.g,null,N.createElement(de.a,{user:n.user})),N.createElement(pe.i,null,N.createElement(H.j,{alignItems:"center",whiteSpace:"pre"},a?N.createElement(z.A,null,N.createElement($.a,{user:n.user})," asks"):t?N.createElement(z.A,null,N.createElement($.a,{user:n.user})," added"):N.createElement(z.A,null,N.createElement($.a,{user:n.user})," asked"),!t&&this.renderAudience()))):(Object(Je.d)("react-AskQuestionStepAddQuestion","Rendered for logged-out user"),null)}},{key:"renderPartnersBanner",value:function(){return N.createElement(Ze.b,{ratioThreshold:1,minTimeInViewMs:1e3,onImpression:function(){return Object(x.a)("log_partners_policy_on_ask_question",{})}},N.createElement(Fe.a,{dismissable:!1,mb:"medium"},N.createElement(z.A,null,N.createElement(H.s,{fontSize:"small",bold:!0},"Partner Program Question Policy")),N.createElement("ul",null,N.createElement("li",null,N.createElement(Ye.a,null),N.createElement(z.A,null,N.createElement(H.s,{as:"span",fontSize:"small"},"Ask unique questions; avoid asking multiple variations of the same question"))),N.createElement("li",null,N.createElement(Ye.a,null),N.createElement(z.A,null,N.createElement(H.s,{as:"span",fontSize:"small"},"Use the third person (he, she, they) when asking questions unless it\u2019s about your personal experiences"))))))}},{key:"renderTipsBanner",value:function(){var e=this.props.viewer;return N.createElement(Xe,{dismissable:!1,mb:"medium"},N.createElement(z.A,null,N.createElement(H.s,{bold:!0},"Tips on getting good answers quickly")),N.createElement("ul",null,N.createElement("li",null,N.createElement(z.A,null,"Make sure your question has not been asked already")),N.createElement("li",null,N.createElement(z.A,null,"Keep your question short and to the point")),N.createElement("li",null,e.noteModernStandardArabic?N.createElement(z.A,null,"Double-check grammar and spelling and use Modern Standard Arabic"):N.createElement(z.A,null,"Double-check grammar and spelling"))))}},{key:"render",value:function(){var e,n=this,a=this.props,t=a.session,l=a.a2aUser,i=a.tribe,r=a.questionText,s=a.shouldShowTips,o=a.shouldShowTribeBanner,u=a.shouldRenderPartnerBanner,d=s?this.renderTipsBanner():u?this.renderPartnersBanner():null;return N.createElement(H.d,{mt:G.j?"huge":"medium",mb:"medium"},d,N.createElement(H.d,null,this.renderReason(),o&&this.renderTribeSubmissionBanner(),N.createElement(We.a,{handleInputChange:function(e){return n.props.setAskQuestionStepQuestionText(e)},initialInput:r,getCharLimit:this.props.getCharLimit,requestTarget:null!==(e=this.getRequestTarget())&&void 0!==e?e:undefined,inputPlaceholder:t?Object(z.K)(N.createElement(N.Fragment,null,"What is your question for"," ",N.createElement($.a,{user:t.hosts[0]}),"?")):Object(z.K)('Start your question with "What", "How", "Why", etc.'),user:l,session:t,tribe:i}),N.createElement(Ge.a,{onSourceUrlChange:this.props.setAskQuestionStepSourceUrl,currentUrl:this.props.sourceUrl})))}}]),n}(N.Component);$e.displayName="AskQuestionStepAddQuestion",$e.fragments={viewer:void 0!==Ue?Ue:Ue=p,tribe:void 0!==Ve?Ve:Ve=m,a2aUser:void 0!==Be?Be:Be=c,session:void 0!==He?He:He=d};var en,nn,an,tn,ln,rn=Object(R.b)($e),sn=a("xdZJ"),on={ADD_QUESTION:0,SHARE_LINK:1},un=void 0!==en?en:en=s,dn=void 0!==nn?nn:nn=r,cn=void 0!==an?an:an=i,mn=void 0!==tn?tn:tn=l,pn=function(e,n,a,t){var l=e.targetType,i=e.controllerSetting,r=e.actionSetting,s="index"===i&&"index"===r;e.qid=n,e.isAnon?e.redirectUrl=t:l?Object(G.f)()||(e.redirectUrl=window.location.href):e.redirectUrl=s?"/":a},gn=function(e){var n=e.currentTab,a=e.switchTab,t=e.dismissModal,l=e.canShareLink;return N.createElement(H.r,{top:0,zIndex:"header"},N.createElement(H.j,{alignItems:"center",borderBottom:!0,bg:"gray_ultralight"},N.createElement(bn,{translatedText:Object(z.K)("Add Question"),selected:n===on.ADD_QUESTION,onClick:function(){return a(on.ADD_QUESTION)}}),l&&N.createElement(bn,{translatedText:Object(z.K)("Share Link"),selected:n===on.SHARE_LINK,onClick:function(){return a(on.SHARE_LINK)}}),G.j&&N.createElement(H.d,{p:"small",ml:"auto"},N.createElement(V.b,{size:"small",onClick:function(){return null===t||void 0===t?void 0:t()}}))))};gn.displayName="AskQuestionTabBar";var bn=function(e){var n,a,t,l,i,r,s,o=e.translatedText,u=e.selected,d=e.onClick;return N.createElement(H.e,{underlineHover:!1,onClick:d,flex:null!==(n=G.n?1:null)&&void 0!==n?n:undefined},N.createElement(H.q,null,N.createElement(H.s,{medium:!0,textAlign:null!==(a=G.n?"center":null)&&void 0!==a?a:undefined,px:"large",py:null!==(t=G.n?null:"medium")&&void 0!==t?t:undefined,height:null!==(l=G.n?40:null)&&void 0!==l?l:undefined,color:u?"red":"gray",display:null!==(i=G.n?"flex":null)&&void 0!==i?i:undefined,alignItems:null!==(r=G.n?"center":null)&&void 0!==r?r:undefined,justifyContent:null!==(s=G.n?"center":null)&&void 0!==s?s:undefined,hover:{color:"red"}},u&&N.createElement(H.a,{height:2,width:"100%",bg:"red",bottom:0,left:0}),o)))};bn.displayName="AskQuestionTab";var kn=function(e){function n(e){var a,t,l;b()(this,n),(l=y()(this,v()(n).call(this,e))).createQuestionAndSetFlowData=j()(function(e){var n=l.props,a=n.flowData,t=n.queryResult;if(t){var i=t.network;if(i){var r=i.contentLanguageCode;l.setIsLoading(!0),a.questionText=l.state.questionText,a.sourceUrl=l.state.sourceUrl,a.distributionState=l.state.distributionState;var s=l.state.questionText;e(l.getCreateQuestionMutationOptions()).then(function(e){var n=e.data.questionCreate,t=n.success,i=n.question,o=n.failureType,u=n.duplicateSuggestions,d=n.existingQuestion,c=n.correctionSuggestion,m=n.anonRedirectUrl;if(c&&Object(x.a)("question_correction_logger",{question_text:s,suggestion_text:c}),!c&&!d&&!u){var p=!!a.targetType&&[X.a.AMA,X.a.USER].includes(a.targetType),g=Object(sn.c)(t,o,p,r);Object(W.a)({message:g,error:!t})}if(c?a.suggestedEdit=c:d?(a.exactQuestionMatch=d,a.dedupeQuestions=null):u&&(a.exactQuestionMatch=null,a.dedupeQuestions=u),t){var b=i.qid,k=i.url;pn(a,b,k,m)}l.setIsLoading(!1),(t||c||d||u)&&l.triggerTransition()})}}},3e3,{leading:!0,trailing:!1}),l.shareHyperlink=j()(function(e){var n=l.props.dismissModal,a=l.state,t=a.hyperlinkUrl,i=a.hyperlinkComment,r=a.hyperlinkTribe,s=r?r.tribeId:0;if(l.setIsLoading(!0),!t)return Object(W.a)({message:Object(z.K)("This link is invalid. Enter a valid URL."),error:!0}),void l.setIsLoading(!1);e({variables:{url:t,comment:i,selectedTribe:s,shareToFeed:!s}}).then(function(e){var a=e.data.shareHyperlinkAdd,t=a.success,i=a.failureReason,r=Object(sn.d)(t,i);Object(W.a)({message:r,error:!t}),l.setIsLoading(!1),i!=sn.b.linkInvalid&&(null===n||void 0===n||n())})},3e3,{leading:!0,trailing:!1}),l.addTribeSubmission=j()(function(e){var n=l.props.dismissModal,a=l.state,t=a.hyperlinkUrl,i=a.hyperlinkComment,r=a.hyperlinkTribe;e({variables:{url:t,comment:i,selectedTribe:r?r.tribeId:0}}).then(function(e){var a=e.data.tribeSubmissionAdd,t=a.success,l=a.msg;Object(W.a)({message:l,error:!t}),null===n||void 0===n||n()})},3e3,{leading:!0,trailing:!1}),l.addTribeContentQueueItem=j()(function(e){var n=l.props.dismissModal,a=l.state,t=a.hyperlinkUrl,i=a.hyperlinkComment,r=a.hyperlinkTribe;e({variables:{url:t,comment:i,tribeId:r?r.tribeId:0}}).then(function(e){var a=e.data.tribeContentQueueItemAdd,t=a.success,l=a.errMsg,i=t?Object(z.K)("You successfully shared the link."):l;Object(W.a)({message:i,error:!t}),null===n||void 0===n||n()})},3e3,{leading:!0,trailing:!1}),l.props.flowData.contentTranslationLanguageCode=undefined;var i=(null!==(a=null===(t=l.props.queryResult)||void 0===t?void 0:t.viewer)&&void 0!==a?a:{}).contentTranslationPromptNetwork;i&&(l.props.flowData.contentTranslationLanguageCode=i.contentLanguageCode,l.props.flowData.contentTranslationNid=i.nid);var r=l.props.flowData,s=r.queryText,o=r.questionText;if(l.state={currentTab:on.ADD_QUESTION,fallbackAddQuestionInput:"",isLoading:!1,questionText:o||(s||""),distributionState:ee.a.PUBLIC,sourceUrl:"",hyperlinkUrl:"",hyperlinkComment:"",hyperlinkTribe:null,hyperlinkShareToFollowers:G.n&&!Object(G.f)(),addToTribeContentQueue:!1,initialWindowHeight:window.innerHeight},l.getQuestionCharLimit=l.getQuestionCharLimit.bind(K()(K()(l))),Object(G.f)()){var u=e.client;Object(Y.registerMessageHandler)("askToolbarSubmit",function(){var e=l.getMutationCall(),n=e.mutationCall;(0,e.onClickHandler)(function(e){return u.mutate(Object.assign({},e,{mutation:n}))},function(e){return Object(J.logEvent)("{}",e)})()})}return l}return F()(n,e),S()(n,[{key:"triggerTransition",value:function(){Object(G.f)()&&Object(Z.a)("hideAskToolbar"),this.props.triggerTransition()}},{key:"shouldEnableAddOrShareButton",value:function(){var e,n,a,t=this.state,l=t.currentTab,i=t.questionText,r=t.hyperlinkComment;return l===on.ADD_QUESTION?i.length<=this.getQuestionCharLimit(i):r.length<=(null!==(e=null===(n=this.props.queryResult)||void 0===n?void 0:null===(a=n.viewer)||void 0===a?void 0:a.shareCommentMaxLength)&&void 0!==e?e:0)}},{key:"getQuestionCharLimit",value:function(e){var n,a;if(Object(B.b)(e))return 2e3;var t=null===(n=this.props.queryResult)||void 0===n?void 0:null===(a=n.viewer)||void 0===a?void 0:a.questionTitleMaxLength;return t||250}},{key:"setIsLoading",value:function(e){if(Object(G.f)())if(e){var n=this.state.currentTab===on.ADD_QUESTION;Object(Z.a)("showAskToolbar",{buttonText:n?Object(z.K)("Adding..."):Object(z.K)("Sharing..."),enabled:!1})}else this.showAskToolbar();else this.setState({isLoading:e})}},{key:"showAskToolbar",value:function(){var e=this.state.currentTab===on.ADD_QUESTION;Object(Z.a)("showAskToolbar",{buttonText:e?Object(z.K)("Add"):Object(z.K)("Share"),enabled:!0})}},{key:"getCreateQuestionMutationOptions",value:function(){var e=this.state,n=e.questionText,a=e.sourceUrl,t=e.distributionState,l=this.props.flowData,i=l.targetType,r=l.sourceLocation,s=l.targetOid;0===s&&(s=undefined);var o=t===ee.a.ANON,u=t===ee.a.LIMITED;return l.isAnon=o,l.limitedUserDistro=u,{variables:{titlePlaintext:n,isAnon:o,sourceUrl:a,sourceLocation:r,limitedUserDistro:u,targetType:i,targetOid:s,shouldCheckDuplicate:i!==X.a.TRIBE,shouldCheckCorrection:i!==X.a.TRIBE}}}}]),S()(n,[{key:"getMutationCall",value:function(){var e,a=this.state,t=a.currentTab,l=a.hyperlinkTribe,i=a.addToTribeContentQueue,r=a.hyperlinkShareToFollowers,s=!!l&&(!l.viewerCanContribute&&(null===(e=l.settings)||void 0===e?void 0:e.isSubmissionEnabled)),o=t===on.ADD_QUESTION,u=o?n.mutations.questionCreate:s?n.mutations.addTribeSubmission:i?n.mutations.addTribeContentQueueItem:n.mutations.hyperlinkShare,d=o?this.createQuestionAndSetFlowData.bind(this):s?this.addTribeSubmission.bind(this):i?this.addTribeContentQueueItem.bind(this):this.shareHyperlink.bind(this);return{mutationCall:u,onClickHandler:function(e,n){return function(){if(o)n("QuestionAskFlowStarted");else if(!r&&!l)return void Object(W.a)({message:Object(z.K)("Please choose a Space to share to."),error:!0});d(e)}}}}},{key:"componentDidMount",value:function(){Object(M.b)(U.b.ask_question_step,U.a.modal_open),Object(G.f)()&&this.showAskToolbar()}},{key:"componentDidUpdate",value:function(){var e=this.state.currentTab===on.ADD_QUESTION;Object(G.f)()&&Object(Z.a)("showAskToolbar",{buttonText:e?Object(z.K)("Add"):Object(z.K)("Share"),enabled:this.shouldEnableAddOrShareButton()})}},{key:"getTitleText",value:function(){var e=this.props.queryResult;return e?e.user?Object(z.K)(N.createElement(N.Fragment,null,"Ask ",N.createElement($.a,{user:e.user}))):e.session?Object(z.K)(N.createElement(N.Fragment,null,"Ask ",N.createElement($.a,{user:e.session.hosts[0]}))):G.n?e.tribe?Object(z.K)("Question"):Object(z.K)("New Question or Link"):null:null}},{key:"shouldRenderPartnerBanner",value:function(){var e=this.props.queryResult;if(!e)return!1;var n=e.viewer,a=n.isPartner,t=n.shouldShowPartnersPolicyOnAskQuestion;return a&&t}},{key:"shouldShowTips",value:function(){var e,n,a,t=this.props.queryResult;return(null!==(e=null===t||void 0===t?void 0:null===(n=t.viewer)||void 0===n?void 0:null===(a=n.user)||void 0===a?void 0:a.numQuestions)&&void 0!==e?e:1)<1}},{key:"shouldShowTribesBanner",value:function(){var e=this.props.queryResult;return!(null===e||void 0===e||!e.tribe||e.tribe.viewerCanContribute)}},{key:"getDefaultContainerHeight",value:function(){var e=this.props.queryResult;return this.shouldRenderPartnerBanner()&&this.shouldShowTips()&&this.shouldShowTribesBanner()?"600px":this.shouldRenderPartnerBanner()||this.shouldShowTips()||this.shouldShowTribesBanner()?"450px":e&&e.tribe?"340px":"284px"}},{key:"render",value:function(){var e,n,a,t=this,l=this.state,i=l.currentTab,r=l.initialWindowHeight,s=l.addToTribeContentQueue,o=l.sourceUrl,u=this.props,d=u.dismissModal,c=u.queryResult,m=u.flowData;if(!c)return null;var p=m.controllerSetting,g=i===on.ADD_QUESTION,b=this.shouldEnableAddOrShareButton(),k=c.user,y=c.tribe,f=c.session,v=c.viewer,h=!k&&!f&&!y&&(null===v||void 0===v?void 0:v.hyperlinkFeature),S=h&&N.createElement(gn,{currentTab:i,switchTab:function(e){t.setState({currentTab:e})},dismissModal:d,canShareLink:null!==(e=null===v||void 0===v?void 0:v.hyperlinkFeature)&&void 0!==e&&e}),T=N.createElement(H.d,{px:G.j?"huge":"medium",height:null!==(n=G.j?this.getDefaultContainerHeight():null)&&void 0!==n?n:undefined,overflowY:"scroll"},N.createElement(M.a,{stepType:U.b.ask_question_step},g&&N.createElement(rn,{viewer:c.viewer,questionText:this.state.questionText,contextLink:"",distributionState:this.state.distributionState,tribe:c.tribe||null,session:c.session||null,isPartner:c.viewer.isPartner,shouldShowPartnersPolicyOnAskQuestion:c.viewer.shouldShowPartnersPolicyOnAskQuestion,a2aUser:c.user||null,getCharLimit:this.getQuestionCharLimit,distributionSwitcherHeight:r,controllerSetting:p,setAskQuestionStepDistributionState:function(e){t.setState({distributionState:e})},setAskQuestionStepQuestionText:function(e){t.setState({questionText:e})},setAskQuestionStepSourceUrl:function(e){t.setState({sourceUrl:e})},shouldRenderPartnerBanner:this.shouldRenderPartnerBanner(),shouldShowTips:this.shouldShowTips(),shouldShowTribeBanner:this.shouldShowTribesBanner(),sourceUrl:o}),!g&&h&&N.createElement(Ie,{viewer:c.viewer,onShareLinkChange:function(e){t.setState(function(n){return Object.assign({},n,{},e)})},audiencePickerHeight:r,selectedTribe:this.state.hyperlinkTribe,addToTribeContentQueue:s,shareCommentMaxLength:null!==(a=null===v||void 0===v?void 0:v.shareCommentMaxLength)&&void 0!==a?a:0}))),F=N.createElement(z.A,null,N.createElement(z.a,{value:g?"addQuestion":"shareLink"},{addQuestion:G.j&&c.tribe?"Add to Space":"Add Question",shareLink:"Share Link"})),E=this.getMutationCall(),K=E.mutationCall,w=E.onClickHandler,C=this.getTitleText();return this.state.isLoading?N.createElement(V.f,null):G.n?N.createElement(J.ClientLogConsumer,null,function(e){return N.createElement(R.a,{mutation:K},function(n){return N.createElement(V.e,{hasPadding:!1,titleText:null!==C&&void 0!==C?C:undefined,primaryButtonProps:!Object(G.f)()&&{text:g?Object(z.K)("Add"):Object(z.K)("Share"),onClick:w(n,e),disabled:!b},navButtonProps:{onClick:function(){null===d||void 0===d||d()}}},S,T)})}):N.createElement(J.ClientLogConsumer,null,function(e){return N.createElement(R.a,{mutation:K},function(n){return N.createElement(H.j,{flexDirection:"column"},N.createElement(V.e,{navButton:"none",titleText:null!==C&&void 0!==C?C:undefined,hasPadding:!1,primaryButtonProps:{text:F,onClick:w(n,e),disabled:!b},secondaryButtonProps:{text:Object(z.K)("Cancel"),onClick:function(){null===d||void 0===d||d()}}},S,T))})})}}]),n}(N.Component);kn.displayName="AskQuestionStep",kn.queries={onLoad:void 0!==ln?ln:ln=t},kn.mutations={questionCreate:un,hyperlinkShare:dn,addTribeSubmission:cn,addTribeContentQueueItem:mn};n["default"]=Object(R.f)(kn)},Vx0C:function(e,n,a){"use strict";a.d(n,"a",function(){return Z});var t={};a.r(t),a.d(t,"default",function(){return S});var l={};a.r(l),a.d(l,"default",function(){return F});var i={};a.r(i),a.d(i,"default",function(){return K});var r={};a.r(r),a.d(r,"default",function(){return C});var s={};a.r(s),a.d(s,"default",function(){return _});var o={};a.r(o),a.d(o,"default",function(){return I});var u={};a.r(u),a.d(u,"default",function(){return x});var d=a("8ZkK"),c=a.n(d),m=a("tQZz"),p=a.n(m),g=a("7eVb"),b=a.n(g),k=a("n3k3"),y=a.n(k),f=a("10u2"),v=a.n(f),h=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null}],n=[{kind:"LinkedField",alias:"answerSubmit",name:"tribeSubmissionAnswerAdd",storageKey:null,args:[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"qid",variableName:"qid"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],concreteType:"TribeSubmissionAnswerAdd",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_tribeSubmissionAnswerAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:n},operation:{kind:"Operation",name:"AnswerEditorMutation_tribeSubmissionAnswerAdd_Mutation",argumentDefinitions:e,selections:n},params:{operationKind:"mutation",name:"AnswerEditorMutation_tribeSubmissionAnswerAdd_Mutation",id:"ecd9744455648ff619e26fc8d40495eb3cac513bbd7038981b27fc0d6954f372",text:null,metadata:{}}}}();h.hash="9d1c805bcc9396e756467de1801ca174";var S=h,T=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"tribeId",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"attachDisclaimer",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"businessUid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"businessCustomAction",type:"BusinessCustomActionInput",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t=[{kind:"LinkedField",alias:"answerSubmit",name:"answerCreate",storageKey:null,args:[{kind:"Variable",name:"attachDisclaimer",variableName:"attachDisclaimer"},{kind:"Variable",name:"businessCustomAction",variableName:"businessCustomAction"},{kind:"Variable",name:"businessUid",variableName:"businessUid"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"qid",variableName:"qid"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],concreteType:"AnswerCreate",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"errorType",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:null,concreteType:"Answer",plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"aid",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"businessCredential",storageKey:null,args:null,concreteType:"BusinessCredential",plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"translatedString",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"redirectUrl",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_answerCreate_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"AnswerEditorMutation_answerCreate_Mutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"AnswerEditorMutation_answerCreate_Mutation",id:"11fad667c948526e5933e312b6759bc9437a975333b7611ba0c177db94c62c2d",text:null,metadata:{}}}}();T.hash="62cdbfbf011c4eb197503ab8a7b09e5e";var F=T,E=function(){var e=[{kind:"LocalArgument",name:"aid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"toggleDisclaimer",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"businessUid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"businessCustomAction",type:"BusinessCustomActionInput",defaultValue:null}],n=[{kind:"Variable",name:"aid",variableName:"aid"},{kind:"Variable",name:"businessCustomAction",variableName:"businessCustomAction"},{kind:"Variable",name:"businessUid",variableName:"businessUid"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"toggleDisclaimer",variableName:"toggleDisclaimer"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"errorType",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"hasDisclaimer",args:null,storageKey:null},u={kind:"LinkedField",alias:null,name:"businessCredential",storageKey:null,args:null,concreteType:"BusinessCredential",plural:!1,selections:[i,r,{kind:"ScalarField",alias:null,name:"translatedString",args:null,storageKey:null}]},d={kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[i,r,{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null}]},c={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"logoUrl",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"objectiveType",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"cta",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"landingPageUrl",args:null,storageKey:null},k={kind:"ScalarField",alias:null,name:"leadGenFormId",args:null,storageKey:null},y=[p,g,b,k],f=[{kind:"Literal",name:"shouldLimit",value:!1}],v=[p,g,b,k,i];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_answerEdit_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:"answerSubmit",name:"answerEdit",storageKey:null,args:n,concreteType:"AnswerEdit",plural:!1,selections:[a,t,l,{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:null,concreteType:"Answer",plural:!1,selections:[i,r,s,o,u,d,{kind:"LinkedField",alias:null,name:"businessAnswer",storageKey:null,args:null,concreteType:"BusinessAnswer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"businessProfile",storageKey:null,args:null,concreteType:"BusinessProfile",plural:!1,selections:[c,m]},{kind:"LinkedField",alias:null,name:"businessCustomAction",storageKey:null,args:null,concreteType:"BusinessCustomAction",plural:!1,selections:y},{kind:"LinkedField",alias:"selectedBusinessCustomAction",name:"businessCustomAction",storageKey:"businessCustomAction(shouldLimit:false)",args:f,concreteType:"BusinessCustomAction",plural:!1,selections:y}]}]}]}]},operation:{kind:"Operation",name:"AnswerEditorMutation_answerEdit_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:"answerSubmit",name:"answerEdit",storageKey:null,args:n,concreteType:"AnswerEdit",plural:!1,selections:[a,t,l,{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:null,concreteType:"Answer",plural:!1,selections:[i,r,s,o,u,d,{kind:"LinkedField",alias:null,name:"businessAnswer",storageKey:null,args:null,concreteType:"BusinessAnswer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"businessProfile",storageKey:null,args:null,concreteType:"BusinessProfile",plural:!1,selections:[c,m,i]},{kind:"LinkedField",alias:null,name:"businessCustomAction",storageKey:null,args:null,concreteType:"BusinessCustomAction",plural:!1,selections:v},{kind:"LinkedField",alias:"selectedBusinessCustomAction",name:"businessCustomAction",storageKey:"businessCustomAction(shouldLimit:false)",args:f,concreteType:"BusinessCustomAction",plural:!1,selections:v},i]}]}]}]},params:{operationKind:"mutation",name:"AnswerEditorMutation_answerEdit_Mutation",id:"848c75bc53795d7cec86df0d91c75f47765f018ed4ac9afc6dd76204398470ef",text:null,metadata:{}}}}();E.hash="e53a1151c92e8152efd5559a52476eb7";var K=E,w=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t=[{kind:"LinkedField",alias:null,name:"answerDraftClear",storageKey:null,args:[{kind:"Variable",name:"qid",variableName:"qid"}],concreteType:"AnswerDraftClear",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[n,a,{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"saveTime",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_answerDraftClear_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"AnswerEditorMutation_answerDraftClear_Mutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"AnswerEditorMutation_answerDraftClear_Mutation",id:"8e631f40f836567a7be996636aebe57ed6f48ae5733b688696c2fb25ff459f49",text:null,metadata:{}}}}();w.hash="30e385f9006cd0ee0482cb0881879558";var C=w,A=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"aid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"isAutoSaved",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"isAnswerEdit",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"hasDisclaimer",type:"Boolean",defaultValue:null}],n=[{kind:"Variable",name:"aid",variableName:"aid"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"hasDisclaimer",variableName:"hasDisclaimer"},{kind:"Variable",name:"isAutoSaved",variableName:"isAutoSaved"},{kind:"Variable",name:"qid",variableName:"qid"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},i=[t,l,{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[t,l,{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"saveTime",args:null,storageKey:null}]}],r=[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:i}],s=[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:null,concreteType:"Answer",plural:!1,selections:i}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorMutation_answerDraftSave_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"answerDraftSave",storageKey:null,args:n,concreteType:"AnswerDraftSave",plural:!1,selections:[a,{kind:"Condition",isCustom:!1,customValue:null,passingValue:!1,condition:"isAnswerEdit",selections:r},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isAnswerEdit",selections:s}]}]},operation:{kind:"Operation",name:"AnswerEditorMutation_answerDraftSave_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"answerDraftSave",storageKey:null,args:n,concreteType:"AnswerDraftSave",plural:!1,selections:[a,{kind:"Condition",passingValue:!1,isCustom:!1,customValue:null,condition:"isAnswerEdit",selections:r},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isAnswerEdit",selections:s}]}]},params:{operationKind:"mutation",name:"AnswerEditorMutation_answerDraftSave_Mutation",id:"42c227ebb336dfe9509dfc88e8721330311b8f1af97c44dbb6eec9bca90451a6",text:null,metadata:{}}}}();A.hash="3dfc8027c79dfa0d541c22f606dd8683";var _=A,L=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a={kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[e,n]};return{kind:"Fragment",name:"AnswerEditorMutation_answer",type:"Answer",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"aid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"hasDisclaimer",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},a]},a]}}();L.hash="00445ccb5a78f2807476a4a257ac831d";var I=L,O=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AnswerEditorMutation_question",type:"Question",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanCreateAnswerSubmissions",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[e,n]}]}}();O.hash="c558ca4071cae99d159a82fb1343edd1";var Q,q,P,N,D,j,R,x=O,M=a("q1tI"),U=a("VyO/"),V=a("Gnru"),B=a("vkEr"),H=a("AFGi"),z=a("jufJ"),J=a("bqYg"),Z=function(e){var n=e.errorType;return M.createElement(z.a,{value:n},{add_answer_exception:"Something went wrong.",no_permission_on_question:"You do not have permission to answer this question.",no_permission_on_answer:"You do not have permission to edit this answer.",question_deleted:"This question has been deleted.",ama_session_not_started:"You cannot submit your answer to a session question until the session opens. Feel free to draft your answer in the meantime though.",add_answer_throttled:"You have reached your answer limit for today.",edit_answer_throttled:"You have reached your answer limit for today.",no_empty_answers:"Your answer cannot be blank.",answer_too_long:"Your answer is too long.",add_answer_block:"Your Draft has been saved. Please confirm your email before submitting an answer.",one_answer_per_question:"You may only write one answer for each question, but you can edit your existing answer.",one_answer_per_question_tribe:"This cannot be approved because this person has already written an answer for the question.",existing_pending_answer:"You already have a pending answer to this question.",answer_contains_unready_videos:"Submit your answer from the device the video was originally created, or delete the video to continue submission.",question_hidden_from_tribe:"This question has been removed from the Space.",business_account_unapproved:"Your business account is pending approval. You do not have permission to answer this question until your account is approved."})},Y=function(e){function n(){return c()(this,n),b()(this,y()(n).apply(this,arguments))}return v()(n,e),p()(n,[{key:"saveDraftMutationOptions",value:function(e,n,a,t){var l=this.props,i=l.isAnswerEdit,r=l.question,s=l.answer,o=i?{answer:s?{id:s.id,__typename:s.__typename,viewerDraft:s.viewerDraft?{id:s.viewerDraft.id,__typename:s.viewerDraft.__typename,content:JSON.stringify(e),saveTime:Object(B.j)()}:null}:null,question:null}:{question:r?{id:r.id,__typename:r.__typename,viewerDraft:r.viewerDraft?{id:r.viewerDraft.id,__typename:r.viewerDraft.__typename,content:JSON.stringify(e),saveTime:Object(B.j)()}:null}:null,answer:null};return{variables:{aid:i?null===s||void 0===s?void 0:s.aid:null,qid:i?null:null===r||void 0===r?void 0:r.qid,content:JSON.stringify(e),isAutoSaved:n,isAnswerEdit:!!i,hasDisclaimer:t},optimisticResponse:{answerDraftSave:Object.assign({success:!0},o)},onCompleted:function(e){var n;!i&&(null===e||void 0===e?void 0:null===(n=e.answerDraftSave)||void 0===n?void 0:n.success)&&a("QuestionSaveDraft",{qid:null===r||void 0===r?void 0:r.qid})}}}},{key:"editAnswerMutationOptions",value:function(e,n,a,t){var l=this.props,i=l.answer,r=l.toggleDisclaimer;if(!i)return undefined;var s=i.id,o=i.aid,u=i.question,d=i.hasDisclaimer,c=r?!d:d;return{variables:{aid:o,content:JSON.stringify(e),toggleDisclaimer:r,businessUid:n,businessCustomAction:t},optimisticResponse:{answerSubmit:{success:!0,errorType:null,msg:null,answer:{id:s,__typename:"Answer",hasDisclaimer:c,content:JSON.stringify(e),question:{id:u.id,__typename:"Question",qid:u.qid},businessCredential:a?{id:a.id,__typename:"BusinessCredential",translatedString:a.translatedString}:null,businessAnswer:null}}}}}},{key:"render",value:function(){var e,a,t,l,i=this,r=this.props,s=r.children,o=r.question,u=r.answer,d=r.isAnswerEdit,c=null!==(e=null===(a=this.props)||void 0===a?void 0:null===(t=a.question)||void 0===t?void 0:null===(l=t.tribeItem)||void 0===l?void 0:l.tribe)&&void 0!==e?e:{},m=c.tribeId,p=c.viewerCanCreateAnswerSubmissions,g=this.props.toggleDisclaimer;return M.createElement(J.a.Consumer,null,function(e){return M.createElement(V.ClientLogConsumer,null,function(a){return M.createElement(U.a,{mutation:n.mutations.saveDraft},function(t){return M.createElement(U.a,{mutation:n.mutations.clearDraft},function(l){return M.createElement(U.a,{mutation:n.mutations.createAnswer},function(r){return M.createElement(U.a,{mutation:n.mutations.createAnswerSubmission},function(c){return M.createElement(U.a,{mutation:n.mutations.editAnswer},function(n){return M.createElement(M.Fragment,null,s({saveDraft:function(e,n,r){if(Object(H.l)(e)){var s,c=d?null===u||void 0===u?void 0:null===(s=u.question)||void 0===s?void 0:s.qid:null===o||void 0===o?void 0:o.qid;return l({variables:{qid:c||0},onCompleted:function(){d||a("QuestionSaveDraft",{qid:null===o||void 0===o?void 0:o.qid})}})}return t(i.saveDraftMutationOptions(e,n,a,r))},submitAnswer:function(t,l,s,u){return d?n(i.editAnswerMutationOptions(t,l,s,u)):p||(null===e||void 0===e?void 0:e.viewerCanCreateAnswerSubmissions)?c({variables:{qid:(null===o||void 0===o?void 0:o.qid)||0,tribeId:m||(null===e||void 0===e?void 0:e.tribeId)||0,content:JSON.stringify(t)}}):r({variables:{qid:(null===o||void 0===o?void 0:o.qid)||0,content:JSON.stringify(t),tribeId:m||(null===e||void 0===e?void 0:e.tribeId),attachDisclaimer:g,businessUid:l,businessCustomAction:u},onCompleted:function(e){var n;(null===e||void 0===e?void 0:null===(n=e.answerSubmit)||void 0===n?void 0:n.success)&&a("AddAnswer",{qid:null===o||void 0===o?void 0:o.qid})}})},isTribeSubmission:p||(null===e||void 0===e?void 0:e.viewerCanCreateAnswerSubmissions)||!1}))})})})})})})})}}]),n}(M.Component);Y.displayName="AnswerEditorMutation",Y.fragments={question:void 0!==Q?Q:Q=u,answer:void 0!==q?q:q=o},Y.mutations={saveDraft:void 0!==P?P:P=s,clearDraft:void 0!==N?N:N=r,editAnswer:void 0!==D?D:D=i,createAnswer:void 0!==j?j:j=l,createAnswerSubmission:void 0!==R?R:R=t};n.b=Object(U.b)(Y)},"Y+rj":function(e,n,a){"use strict";a.r(n),a.d(n,"default",function(){return j});var t={};a.r(t),a.d(t,"default",function(){return k});var l={};a.r(l),a.d(l,"default",function(){return h});var i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("7eVb"),d=a.n(u),c=a("n3k3"),m=a.n(c),p=a("10u2"),g=a.n(p),b=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"titlePlaintext",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"sourceUrl",type:"String",defaultValue:null}],n=[{kind:"Variable",name:"qid",variableName:"qid"},{kind:"Variable",name:"sourceUrl",variableName:"sourceUrl"},{kind:"Variable",name:"titlePlaintext",variableName:"titlePlaintext"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"errorMessage",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"sourceUrl",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"QuestionEditorModal_questionEdit_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"questionEdit",storageKey:null,args:n,concreteType:"QuestionEdit",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[l,i]}]}]},operation:{kind:"Operation",name:"QuestionEditorModal_questionEdit_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"questionEdit",storageKey:null,args:n,concreteType:"QuestionEdit",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[l,i,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"QuestionEditorModal_questionEdit_Mutation",id:"ab3bad0846422a245177c3885ea2c92b809a867576cddcc6ae226cc179e82fd9",text:null,metadata:{}}}}();b.hash="baf75d990346c33f0a5a311dfcd18b65";var k=b,y=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"qid",variableName:"qid"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"QuestionEditorModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:n,concreteType:"Question",plural:!1,selections:[a,t,l,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null,isLive:!0},{kind:"ScalarField",alias:null,name:"sourceUrl",args:null,storageKey:null,isLive:!0},{kind:"LinkedField",alias:null,name:"linkedQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[l,i]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[a,{kind:"FragmentSpread",name:"TribeNameWithIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeQuestionAskedInTribeHeader_tribe",args:null}]}]}]}]},operation:{kind:"Operation",name:"QuestionEditorModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:n,concreteType:"Question",plural:!1,selections:[a,t,l,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"sourceUrl",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"linkedQuestion",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[l,i,a]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[a,t,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},i,{kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"}]},a]}]}]},params:{operationKind:"query",name:"QuestionEditorModalQuery",id:"6aee313db54401582db2ef54f5ef2bb9b2ecbe2ef586a50d90bb29812f49afad",text:null,metadata:{}}}}();y.hash="d635d7c8bd65a9a771d2a49da1e64817";var f,v,h=y,S=a("q1tI"),T=a("oJdr"),F=a("VyO/"),E=a("RA+f"),K=a("AFGi"),w=a("F6zL"),C=a("nW6E"),A=a("jufJ"),_=a("xgmy"),L=a("LW3J"),I=a("SW3P"),O=a("cbxS"),Q=a("8lmh"),q=a("eEjP"),P=a("9GZO"),N=a("rAPm"),D=a("M1Zk"),j=function(e){function n(e){var a;r()(this,n),a=d()(this,m()(n).call(this,e));var t=e.queryResult.question,l=null!==t&&void 0!==t?t:{},i=l.title,s=void 0===i?"":i,o=l.sourceUrl,u=void 0===o?null:o;return a.state={title:Object(K.p)(s,{includeMathTags:!0}),sourceUrl:u,canSubmit:!1},a}return g()(n,e),o()(n,[{key:"onInputUpdates",value:function(e,n){var a=this.props.queryResult.question;null!=a&&(e===Object(K.p)(a.title,{includeMathTags:!0})&&n===a.sourceUrl?this.setState({title:e,sourceUrl:n,canSubmit:!1}):this.setState({title:e,sourceUrl:n,canSubmit:!0}))}},{key:"render",value:function(){var e=this,a=this.props,t=a.queryResult.question,l=a.dismissModalFlow,i=this.state,r=i.title,s=i.sourceUrl,o=i.canSubmit;Object(Q.g)(t,"question is ".concat(t));var u=t.linkedQuestion;return S.createElement(F.a,{mutation:n.mutations.questionEdit},function(n){var a,i;return S.createElement(C.e,{titleText:Object(A.K)("Edit Question and Source"),navButtonProps:{onClick:function(){return l()}},secondaryButtonProps:{onClick:function(){return l()},text:Object(A.K)("Cancel")},primaryButtonProps:{text:Object(I.a)("tribes_a2a")?u?Object(A.K)("Unlink and Save"):Object(A.K)("Save"):Object(A.K)("Update"),disabled:!o,onClick:function(){t&&n({variables:{qid:t.qid,titlePlaintext:r,sourceUrl:s}}).then(function(e){var n,a,t=null!==(n=null===e||void 0===e?void 0:null===(a=e.data)||void 0===a?void 0:a.questionEdit)&&void 0!==n?n:{},i=t.success,r=t.errorMessage;i?(l(),Object(T.a)({message:Object(I.a)("tribes_a2a")&&u?Object(A.K)("Thank you for your change. Your question has been unlinked and your edit is being reviewed."):Object(A.K)("Thank you for your change. Your edit is being reviewed.")})):Object(T.a)({message:r||Object(A.K)("Could not save question. Please retry."),error:!0})})}}},S.createElement(E.d,{borderAll:!0,borderRadius:"small"},S.createElement(E.d,{p:"small",pb:"tiny",borderBottom:!0},(null===t||void 0===t?void 0:null===(a=t.tribeItem)||void 0===a?void 0:a.tribe)&&S.createElement(N.a,{mb:"tiny"},S.createElement(L.a,null,Object(D.b)()?S.createElement(P.a,{tribe:t.tribeItem.tribe,inline:!0}):S.createElement(E.m,{verticalAlign:"bottom"},S.createElement(q.a,{tribe:t.tribeItem.tribe})),Object(I.a)("tribes_a2a")&&u&&S.createElement(E.p,{href:u.url,color:"gray_light",navStyle:"present"},S.createElement(A.A,null,"See parent question")))),S.createElement(w.c,{value:r,useTextArea:!0,noBorder:!0,autosize:!0,variant:"large",placeholder:Object(A.K)("What is your question?"),onChange:function(n){return e.onInputUpdates(n.target.value,s)}})),S.createElement(E.d,{p:"small",pt:0},S.createElement(_.a,{onSourceUrlChange:function(n){return e.onInputUpdates(r,n)},currentUrl:null!==s&&void 0!==s?s:undefined}))),Object(I.a)("tribes_a2a")&&(null===t||void 0===t?void 0:null===(i=t.tribeItem)||void 0===i?void 0:i.tribe)&&u&&S.createElement(O.a,{mt:"small",variant:"muted",translatedText:S.createElement(A.A,null,"This question text is linked to"," ",S.createElement(E.p,{href:u.url,navStyle:"present"},"a parent question")," ","that shows the best answers across Quora. Editing this will unlink from the parent question and hide answers from this Space on the parent question.")}))})}}]),n}(S.Component);j.displayName="QuestionEditorModal",j.queries={onLoad:void 0!==f?f:f=l},j.mutations={questionEdit:void 0!==v?v:v=t}},YKuC:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",function(){return f});var l={};a.r(l),a.d(l,"default",function(){return T});var i=a("rhDr"),r=a.n(i),s=a("8ZkK"),o=a.n(s),u=a("tQZz"),d=a.n(u),c=a("7eVb"),m=a.n(c),p=a("n3k3"),g=a.n(p),b=a("10u2"),k=a.n(b),y=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AnswerEditorHeader_question",type:"Question",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewerDisplayCredential",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,n,{kind:"FragmentSpread",name:"EditorHeader_credential",args:null}]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"businessProfiles",storageKey:"businessProfiles(acceptedOnly:true)",args:[{kind:"Literal",name:"acceptedOnly",value:!0}],concreteType:"BusinessProfile",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"isBusiness",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"EditorHeader_viewer",args:null}]},{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e]}]}}();y.hash="16f892814a434ef41a45a2789cd85058";var f=y,v=function(){var e=[{kind:"LocalArgument",name:"qid",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"qid",variableName:"qid"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorHeaderQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:n,concreteType:"Question",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"viewerDisplayCredential",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,t,{kind:"FragmentSpread",name:"EditorHeader_credential",args:null}]}]}]},operation:{kind:"Operation",name:"AnswerEditorHeaderQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:n,concreteType:"Question",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"viewerDisplayCredential",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,t,{kind:"ScalarField",alias:null,name:"credentialId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"translatedString",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"AnswerEditorHeaderQuery",id:"f0596f1d678198e3b3947864f00480468145cfa1fdd99d47c6125cbf371f460e",text:null,metadata:{}}}}();v.hash="969b76a71b0e6a0b18578f7dd1b45633";var h,S,T=v,F=a("q1tI"),E=a("U3fp"),K=a("ttvG"),w=a("SW3P"),C=a("0xW3"),A=a("VyO/"),_=a("jufJ"),L=function(e){function n(){var e,a;o()(this,n);for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return(a=m()(this,(e=g()(n)).call.apply(e,[this].concat(l)))).allowEditBusinessCredentials=function(){var e,n,t,l,i,r,s=null===(e=a.props.question)||void 0===e?void 0:e.viewer,o=Boolean(null===(n=a.props)||void 0===n?void 0:null===(t=n.question)||void 0===t?void 0:t.tribeItem),u=null!==(l=null===s||void 0===s?void 0:null===(i=s.user)||void 0===i?void 0:i.isBusiness)&&void 0!==l&&l;return Object(w.a)("enable_business_services")&&!o&&Boolean(null===s||void 0===s?void 0:null===(r=s.businessProfiles)||void 0===r?void 0:r.length)&&!u},a}return k()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;Object(C.handleEventFromWebnode)("CREDENTIAL_SAVED",function(){var n=e.props,a=n.question.qid,t=n.relay;t&&t.refetch({qid:a},null,function(){var n,a;e.allowEditBusinessCredentials()&&(null===(n=(a=e.props).handleEditBusinessCredential)||void 0===n||n.call(a,{businessUid:null,businessCredential:null,businessName:null,businessLogoUrl:null}))})})}},{key:"render",value:function(){var e=this.props,n=e.question,a=e.isAnswerEdit,t=void 0!==a&&a,l=e.businessUid,i=e.businessCredential,s=e.handleEditBusinessCredential,o=e.editCredentialHint,u=r()(e,["question","isAnswerEdit","businessUid","businessCredential","handleEditBusinessCredential","editCredentialHint"]),d=n.viewer,c=n.viewerDisplayCredential,m=this.allowEditBusinessCredentials(),p=t?undefined:F.createElement(_.b,null,"Tap to edit your credential or write for your business profile");return F.createElement(C.WebnodeBridgeModal,{method:"open_question_choose_credential_modal",kwargs:{qid:n.qid}},function(e){return F.createElement(K["default"],{businessProfileUid:l,handleEditCredentials:function(n){if(n){var a=n.shouldOpenWebnodeModal,t=n.businessUid,l=n.businessCredential,i=n.businessName,r=n.businessLogoUrl;a?(c&&(null===s||void 0===s||s({businessUid:null,businessCredential:null,businessName:null,businessLogoUrl:null})),e()):null===s||void 0===s||s({businessUid:null!==t&&void 0!==t?t:null,businessCredential:null!==l&&void 0!==l?l:null,businessName:null!==i&&void 0!==i?i:null,businessLogoUrl:null!==r&&void 0!==r?r:null})}}},function(n){var a=n.openModalFlow;return F.createElement(E.a,Object.assign({openModal:m?a:e,credential:c,businessCredential:i,viewer:d,editCredentialHint:m?null!==o&&void 0!==o?o:p:undefined},u))})})}}]),n}(F.Component);L.displayName="AnswerEditorHeader",L.queries={refetchQuery:void 0!==h?h:h=l},L.fragments={question:void 0!==S?S:S=t};n.a=Object(A.e)(L)},"ZMf+":function(e,n,a){"use strict";a.r(n),a.d(n,"ContentTypeTabs",function(){return Be});var t={};a.r(t),a.d(t,"default",function(){return w});var l={};a.r(l),a.d(l,"default",function(){return A});var i={};a.r(i),a.d(i,"default",function(){return L});var r={};a.r(r),a.d(r,"default",function(){return V});var s={};a.r(s),a.d(s,"default",function(){return H});var o={};a.r(o),a.d(o,"default",function(){return W});var u={};a.r(u),a.d(u,"default",function(){return qe});var d={};a.r(d),a.d(d,"default",function(){return Ne});var c=a("8ZkK"),m=a.n(c),p=a("tQZz"),g=a.n(p),b=a("7eVb"),k=a.n(b),y=a("n3k3"),f=a.n(y),v=a("10u2"),h=a.n(v),S=a("g8yt"),T=a.n(S),F=a("8meh"),E=a.n(F),K=function(){var e=[{kind:"LocalArgument",name:"pid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null}],n=[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"pid",variableName:"pid"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"UniversalComposerModal_postEdit_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"postEdit",storageKey:null,args:n,concreteType:"PostEdit",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:[t,l]}]}]},operation:{kind:"Operation",name:"UniversalComposerModal_postEdit_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"postEdit",storageKey:null,args:n,concreteType:"PostEdit",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:[t,l,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"UniversalComposerModal_postEdit_Mutation",id:"20d1fe696379d534a04971c1a14360df5649520c3029e0fdd9a2bcad22187887",text:null,metadata:{}}}}();K.hash="a6bdf206cb0d13c1a05e2b98ba2b4149";var w=K,C=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"title",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"shouldQueue",type:"Boolean!",defaultValue:null}],n=[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"shouldQueue",variableName:"shouldQueue"},{kind:"Variable",name:"title",variableName:"title"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"msg",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"failureType",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null},o={kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[i,r,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]},u={kind:"LinkedField",alias:"addContent",name:"tribeNuxStep",storageKey:'tribeNuxStep(name:"ContentStep")',args:[{kind:"Literal",name:"name",value:"ContentStep"}],concreteType:"TribeNuxStep",plural:!1,selections:[i,r,{kind:"ScalarField",alias:null,name:"completedSubtasks",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isCompleted",args:null,storageKey:null}]},d={kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"google_contact_import",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"shouldPromptFollowerInviteModal",args:null,storageKey:null}]},c={kind:"ScalarField",alias:null,name:"numViewerPendingSubmissionsInTribe",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"contentType",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"UniversalComposerModal_postAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"postAdd",storageKey:null,args:n,concreteType:"PostAdd",plural:!1,selections:[a,t,l,{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:[i,r,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,r,s,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[o,u,d]}]}]},{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,r,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,r,s,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[o,d]}]}]},{kind:"LinkedField",alias:null,name:"queueItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[o]}]},{kind:"LinkedField",alias:null,name:"submission",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[c,o]}]},m]}]},operation:{kind:"Operation",name:"UniversalComposerModal_postAdd_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"postAdd",storageKey:null,args:n,concreteType:"PostAdd",plural:!1,selections:[a,t,l,{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:null,concreteType:"Post",plural:!1,selections:[i,r,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,r,s,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[o,u,i,d]}]}]},{kind:"LinkedField",alias:null,name:"share",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,r,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,r,s,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[o,i,d]}]}]},{kind:"LinkedField",alias:null,name:"queueItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[r,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[o,i]},i]},{kind:"LinkedField",alias:null,name:"submission",storageKey:null,args:null,concreteType:null,plural:!1,selections:[r,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[c,o,i]},i]},m]}]},params:{operationKind:"mutation",name:"UniversalComposerModal_postAdd_Mutation",id:"0882b52e6025f17961ae84cad4fe53ef11abb05e2541c0e7b8175d4f13e75498",text:null,metadata:{}}}}();C.hash="73472c3700faddd1ddb1db526bb3d865";var A=C,_=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"pid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"isPostEdit",type:"Boolean!",defaultValue:null}],n=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"viewerContentTypesCanAddInTribe",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},o={kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[a,t,{kind:"ScalarField",alias:null,name:"contentLanguageCode",args:null,storageKey:null}]},u={kind:"ScalarField",alias:"questionTitleMaxLength",name:"integerFeature",args:[{kind:"Literal",name:"name",value:"QuestionTitleMaxLength"}],storageKey:'integerFeature(name:"QuestionTitleMaxLength")'},d={kind:"ScalarField",alias:"postTitleMaxLength",name:"integerFeature",args:[{kind:"Literal",name:"name",value:"QuoraShareAndPostTitleMaxLength"}],storageKey:'integerFeature(name:"QuoraShareAndPostTitleMaxLength")'},c=[{kind:"Variable",name:"pid",variableName:"pid"}],m={kind:"ScalarField",alias:null,name:"pid",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"UniversalComposerModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[a,t,l,i,r,s,{kind:"FragmentSpread",name:"TribeNameWithIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"SubmissionRulesBanner_tribe",args:null},{kind:"FragmentSpread",name:"PostComposerEditor_tribe",args:null}]},o,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[u,d,{kind:"FragmentSpread",name:"UniversalComposerNuxBanner_viewer",args:null}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isPostEdit",selections:[{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:c,concreteType:"Post",plural:!1,selections:[m,p,g]}]}]},operation:{kind:"Operation",name:"UniversalComposerModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:n,concreteType:"Tribe",plural:!1,selections:[a,t,l,i,r,s,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[a,t,p,g,{kind:"ScalarField",alias:null,name:"saveTime",args:null,storageKey:null}]}]},o,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[u,d,{kind:"ScalarField",alias:null,name:"hasSeenComposerTooltip",args:[{kind:"Literal",name:"tooltipType",value:1}],storageKey:"hasSeenComposerTooltip(tooltipType:1)"},a]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isPostEdit",selections:[{kind:"LinkedField",alias:null,name:"post",storageKey:null,args:c,concreteType:"Post",plural:!1,selections:[m,p,g,a]}]}]},params:{operationKind:"query",name:"UniversalComposerModalQuery",id:"c896a32cb09c53e883644ae76cbdb943aec80266b69512ce9fb973a48cb164d0",text:null,metadata:{}}}}();_.hash="41987544f79f77876a6c82fd2e1073be";var L=_,I=a("q1tI"),O=a("VyO/"),Q=a("oJdr"),q=a("yju1"),P=a("AaDK"),N=a("jufJ"),D=a("RA+f"),j=a("nW6E"),R=a("PuWf"),x=a("iJoy"),M=a.n(x),U=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t=[{kind:"LinkedField",alias:null,name:"postDraftClear",storageKey:null,args:[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],concreteType:"PostDraftClear",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[n,a,{kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"PostComposerEditor_postDraftClear_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"PostComposerEditor_postDraftClear_Mutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"PostComposerEditor_postDraftClear_Mutation",id:"9103dc4f89dd768a3414f36c24c3079b45a3c5ec7efe35def7d6c71b0f4c384d",text:null,metadata:{}}}}();U.hash="ef7768a660b93766416a4b02d609c607";var V=U,B=function(){var e=[{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"title",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"isAutoSaved",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"draftId",type:"BigInt",defaultValue:null}],n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t=[{kind:"LinkedField",alias:null,name:"postDraftSave",storageKey:null,args:[{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"draftId",variableName:"draftId"},{kind:"Variable",name:"isAutoSaved",variableName:"isAutoSaved"},{kind:"Variable",name:"title",variableName:"title"},{kind:"Variable",name:"tribeId",variableName:"tribeId"}],concreteType:"PostDraftSave",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[n,a,{kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[n,a,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"PostComposerEditor_postDraftSave_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:t},operation:{kind:"Operation",name:"PostComposerEditor_postDraftSave_Mutation",argumentDefinitions:e,selections:t},params:{operationKind:"mutation",name:"PostComposerEditor_postDraftSave_Mutation",id:"cb839cc62c80a6a26f44720e16dd1ef2151432b96897ba815ba8d7cddcb5833a",text:null,metadata:{}}}}();B.hash="e0ba6e7f23395f23809c5e3721036cd4";var H=B,z=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"PostComposerEditor_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewerPostDraft",storageKey:null,args:null,concreteType:"PostDraft",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"saveTime",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null}]}}();z.hash="c228b13eb822366e49ec40f6954f01a6";var J,Z,Y,G,W=z,X=a("sEfC"),$=a.n(X),ee=a("LJFN"),ne=a("SW3P"),ae=a("EreF"),te=a("AFGi"),le=a("4Xda"),ie=a("nwxp"),re=a("SKAY"),se=a("8lmh"),oe=a("KP5v");!function(e){e[e["default"]=0]="default",e[e.link=1]="link",e[e.richText=2]="richText"}(G||(G={}));var ue=$()(function(e){var n=e.title,a=e.content;return(0,e.saveDraft)(n,a,!0)},750,{maxWait:1e4,leading:!0}),de=function(e){function n(e){var a;m()(this,n),(a=k()(this,f()(n).call(this,e))).editorRef=void 0,a.shouldSaveOnClose=void 0,a.bodyPlaceholder=void 0,a.photoPermissionMessageHandler=void 0,a.componentMounted=!1,a.updateSubmitButton=function(e){a.props.toggleCanSubmit(!e)},a.updatePhotoSelectorPreviewVisibility=function(e){if(Object(ie.f)()&&Object(re.getNativeSupportedSetting)("photo_preview_and_eager_image_uploading")){var n=ie.h?"photo_preview_and_eager_image_uploading_android":"photo_preview_and_eager_image_uploading";Object(oe.a)(n)&&Object(q.a)("setPhotoSelectorPreviewVisibility",{visible:e})}},a.editorRef=I.createRef();var t=a.getCurrentDraft();a.state={content:t,editorMode:G.richText,hyperlinkUrl:"",isDraftSaving:!1},a.shouldSaveOnClose=!0;var l=a.props.bodyPlaceholder;return a.bodyPlaceholder=l||Object(N.K)("Say something..."),a}return h()(n,e),g()(n,[{key:"componentWillMount",value:function(){this.setupEditor()}},{key:"componentDidMount",value:function(){Object(ie.f)()&&this.photoPermissionMessageHandler!==undefined&&Object(re.registerMessageHandler)("imageButtonTapped",this.photoPermissionMessageHandler),this.componentMounted=!0}},{key:"setupEditor",value:function(){Object(ie.f)()&&Object(q.a)("setupEditor",{hasDraft:!1})}},{key:"getQTextContent",value:function(){return this.editorRef.current?this.editorRef.current.save():this.state.content}},{key:"clearDraft",value:function(){var e,a=this.props.client,t=this.props.tribe;var l=t.id,i=t.__typename,r=t.viewerPostDraft;if(r){null===(e=this.editorRef.current)||void 0===e||e.clearState();var s=r.id,o=r.__typename;a.mutate({mutation:n.mutations.clearDraft,variables:{tribeId:t.tribeId},optimisticResponse:{postDraftClear:{tribe:{id:l,__typename:i,viewerPostDraft:{id:s,__typename:o,title:null,content:null}}}}}),this.shouldSaveOnClose=!1}else Object(se.d)("PostComposerEditor","Invalid viewerPostDraft: ".concat(r))}},{key:"getSerializedQTextTitle",value:function(){if(arguments.length>0&&arguments[0]!==undefined&&arguments[0]){var e,n=this.getQTextContent(),a=null===n||void 0===n?void 0:null===(e=n.sections)||void 0===e?void 0:e[0];if("heading"===a.type)return JSON.stringify({sections:[a]})}return JSON.stringify(Object(te.r)(""))}},{key:"getSerializedQTextContent",value:function(){if(arguments.length>0&&arguments[0]!==undefined&&arguments[0]){var e,n=this.getQTextContent();if("heading"===(null===n||void 0===n?void 0:null===(e=n.sections)||void 0===e?void 0:e[0]).type){var a=n.sections.slice(1);return JSON.stringify({sections:a})}}return JSON.stringify(this.getQTextContent())}},{key:"getCurrentDraft",value:function(){var e=this.props,n=e.tribe,a=e.post,t=e.isPostEdit,l=n.viewerPostDraft,i=Object(te.f)(),r=Object(te.f)(),s=t?null===a||void 0===a?void 0:a.title:null===l||void 0===l?void 0:l.title,o=t?null===a||void 0===a?void 0:a.content:null===l||void 0===l?void 0:l.content;return s&&(i=JSON.parse(s)),o&&(r=JSON.parse(o)),t?function(e,n){var a,t,l,i,r;return(null===e||void 0===e?void 0:null===(a=e.sections)||void 0===a?void 0:null===(t=a[0])||void 0===t?void 0:null===(l=t.spans)||void 0===l?void 0:null===(i=l[0])||void 0===i?void 0:null===(r=i.text)||void 0===r?void 0:r.length)>0&&(e.sections[0].type="heading"),{sections:[].concat(M()(e.sections),M()(n.sections))}}(i,r):r}},{key:"getStartingBody",value:function(){return this.state.content||Object(te.f)()}},{key:"isTitleAndBodyEmpty",value:function(){return!(this.editorRef.current&&!this.editorRef.current.state.doc.isOnlyWhiteSpace())}},{key:"isDirty",value:function(){var e,n;return null!==(e=null===(n=this.editorRef.current)||void 0===n?void 0:n.isDirty())&&void 0!==e&&e}},{key:"renderPhotoPermissionModal",value:function(){var e=this;return I.createElement(j.i,{standaloneModalProps:{containerProps:{mobileHeight:370},modalProps:{name:"PostPhotoPermissionModal",fetchPolicy:"store-only"},postDismissCallback:function(e){(null===e||void 0===e?void 0:e.success)&&Object(q.a)("showPhotoSelector")}}},function(n){var a=n.openStandaloneModal;return e.photoPermissionMessageHandler=function(e){var n;a({modalProps:{name:"PostPhotoPermissionModal",extraProps:{photoAuthorizationStatus:null!==(n=null===e||void 0===e?void 0:e.photoAuthorizationStatus)&&void 0!==n?n:0}}})},I.createElement(I.Fragment,null)})}},{key:"renderRichTextEditor",value:function(){var e=this;return I.createElement(le.a.Consumer,null,function(n){return I.createElement(ae.a,{placeholder:e.bodyPlaceholder,content:e.getStartingBody(),settingOverrides:{imageRemoveButtonEnabled:!0,qtext_hyperlink_embed:!0,qtextReactHyperlinkEmbed:Object(ne.a)("qtext_react_hyperlink_embed"),lightWeightContentToolbar:Object(ee.d)(),isDarkModeOn:n.isDarkModeOn,eagerImageUploading:Object(ee.e)(),minHeight:"260px"},ref:e.editorRef,isToolbarBottom:!ie.o,editorPaddingReset:!0,onMeaningfulChange:function(n){Object(te.p)(e.getSerializedQTextContent()).endsWith("?")&&e.props.onQuestionMarkTyped(),e.updateSubmitButton(n.isEmpty()),e.updatePhotoSelectorPreviewVisibility(n.isEmpty()),e.props.shouldAutosaveDraft&&e.saveDraft()},onEditorSetup:function(n){e.updateSubmitButton(n.isEmpty()),e.updatePhotoSelectorPreviewVisibility(n.isEmpty())},editorKey:"post-".concat(e.props.tribe.tribeId),onImageUploadStatusChange:e.props.onImageUploadStatusChange})})}},{key:"focusEditor",value:function(){var e;null===(e=this.editorRef.current.state.doc)||void 0===e||e.focus()}},{key:"render",value:function(){return I.createElement(I.Fragment,null,this.renderRichTextEditor(),Object(ie.f)()&&this.renderPhotoPermissionModal())}},{key:"componentWillUnmount",value:function(){this.shouldSaveOnClose&&this.saveDraft(),Object(ie.f)()&&this.photoPermissionMessageHandler!==undefined&&Object(re.removeMessageHandler)("imageButtonTapped",this.photoPermissionMessageHandler),this.updatePhotoSelectorPreviewVisibility(!1),this.componentMounted=!1}},{key:"saveDraft",value:function(){var e=this,a=this.props,t=a.client,l=a.isPostEdit,i=this.props.tribe,r=this.getSerializedQTextTitle(),s=this.getSerializedQTextContent(),o=i.id,u=i.__typename,d=i.viewerPostDraft;if(d){var c=d.id,m=d.__typename;if(!l){ue({title:r,content:s,saveDraft:function(a,l){if(!e.state.isDraftSaving){e.setState({isDraftSaving:!0});var r=function(){e.componentMounted&&e.setState({isDraftSaving:!1})};t.mutate({mutation:n.mutations.saveDraft,variables:{tribeId:i.tribeId,title:a,content:l,isAutoSaved:!0},optimisticResponse:{postDraftSave:{tribe:{id:o,__typename:u,viewerPostDraft:{id:c,__typename:m,title:a,content:l}},success:!0}},onCompleted:r,onError:r})}}})}}else Object(se.d)("PostComposerEditor","Invalid viewerPostDraft: ".concat(d))}}]),n}(I.Component);de.displayName="PostComposerEditor",de.fragments={tribe:void 0!==J?J:J=o},de.mutations={saveDraft:void 0!==Z?Z:Z=s,clearDraft:void 0!==Y?Y:Y=r};var ce=Object(O.b)(Object(O.f)(de)),me=a("LsdO"),pe=a("xgmy"),ge=function(e){function n(e){var a;return m()(this,n),(a=k()(this,f()(n).call(this,e))).questionSelectorRef=void 0,a.questionSelectorRef=I.createRef(),a.state={sourceUrl:a.props.initialSourceUrl||""},a}return h()(n,e),g()(n,[{key:"render",value:function(){var e=this;return I.createElement(I.Fragment,null,I.createElement(me.a,{handleInputChange:function(n){e.props.handleInputChange&&e.props.handleInputChange(n)},initialInput:this.props.initialInput,getCharLimit:this.props.getCharLimit,requestTarget:undefined,inputPlaceholder:Object(N.K)("What is your question?"),showDuplicateQuestions:!1,useTextArea:!0,borderBottom:this.props.borderBottom,charTolerance:.7,ref:this.questionSelectorRef,user:null,session:null,tribe:null}),I.createElement(pe.a,{onSourceUrlChange:function(n){e.props.handleSourceUrlChange&&e.props.handleSourceUrlChange(n),e.setState({sourceUrl:n})},currentUrl:this.state.sourceUrl}))}}]),n}(I.Component);ge.displayName="QuestionComposerEditor",ge.defaultProps={initialInput:"",initialSourceUrl:""};var be,ke=a("eEjP"),ye=a("UDrg"),fe=a("ZXE+"),ve=a("dp7i"),he=a("VEaG"),Se=a("xdZJ"),Te=a("ovGs"),Fe=a("4oNN"),Ee=a("zLpq"),Ke=a("OMLc"),we=a("VwdU"),Ce=a("PeiD"),Ae=a("HGXV");!function(e){e[e.GENERIC=1]="GENERIC",e[e.INSUFFICIENT_PERMISSIONS=3]="INSUFFICIENT_PERMISSIONS",e[e.TITLE_AND_CONTENT_EMPTY=4]="TITLE_AND_CONTENT_EMPTY",e[e.TITLE_EMPTY=5]="TITLE_EMPTY",e[e.CONTENT_EMPTY=6]="CONTENT_EMPTY",e[e.TITLE_TOO_LONG=7]="TITLE_TOO_LONG",e[e.CONTENT_TOO_LONG=8]="CONTENT_TOO_LONG",e[e.RATE_LIMIT_EXCEEDED=9]="RATE_LIMIT_EXCEEDED",e[e.USER_BANNED=10]="USER_BANNED",e[e.USER_EDIT_BLOCKED=11]="USER_EDIT_BLOCKED",e[e.REQUIRES_EXTERNAL_LINKS=12]="REQUIRES_EXTERNAL_LINKS",e[e.REQUIRES_QUORA_LINKS=13]="REQUIRES_QUORA_LINKS",e[e.REQUIRES_TEXT=14]="REQUIRES_TEXT",e[e.TRIBE_DOES_NOT_ACCEPT_POSTS=15]="TRIBE_DOES_NOT_ACCEPT_POSTS"}(be||(be={}));var _e=be,Le=a("3E9c"),Ie=function(){var e={kind:"ScalarField",alias:null,name:"hasSeenComposerTooltip",args:[{kind:"Literal",name:"tooltipType",value:1}],storageKey:"hasSeenComposerTooltip(tooltipType:1)"};return{kind:"Request",fragment:{kind:"Fragment",name:"UniversalComposerNuxBanner_markComposerTooltipAsSeen_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"markComposerTooltipAsSeen",storageKey:null,args:null,concreteType:"MarkComposerTooltipAsSeen",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e]}]}]},operation:{kind:"Operation",name:"UniversalComposerNuxBanner_markComposerTooltipAsSeen_Mutation",argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"markComposerTooltipAsSeen",storageKey:null,args:null,concreteType:"MarkComposerTooltipAsSeen",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"UniversalComposerNuxBanner_markComposerTooltipAsSeen_Mutation",id:"ed7f65bb1c4ecffacd11cee1d150200d8478d315d480e0518c964666b546fe85",text:null,metadata:{}}}}();Ie.hash="98373dc2f23cd4cd3517d1f7c470085b";var Oe,Qe,qe=Ie,Pe={kind:"Fragment",name:"UniversalComposerNuxBanner_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"hasSeenComposerTooltip",args:[{kind:"Literal",name:"tooltipType",value:1}],storageKey:"hasSeenComposerTooltip(tooltipType:1)"}],hash:"1f8d0dfe238130b507bd4355aa16078e"},Ne=Pe,De=a("cbxS"),je=a("Yc5t"),Re=a("6sb5"),xe=function(e){function n(e){var a;return m()(this,n),(a=k()(this,f()(n).call(this,e))).state={hasClosedNuxBanner:!1},a}return h()(n,e),g()(n,[{key:"shouldComponentUpdate",value:function(e,n){return this.state.hasClosedNuxBanner!==n.hasClosedNuxBanner}},{key:"render",value:function(){var e=this,a=this.props,t=a.client;return!a.viewer.hasSeenComposerTooltip&&!this.state.hasClosedNuxBanner&&I.createElement(je.b,{ratioThreshold:1,minTimeInViewMs:1e3,onImpression:function(){t.mutate({mutation:n.mutations.markComposerTooltipAsSeen})}},I.createElement(D.q,null,I.createElement(D.a,{right:"small",top:"small",zIndex:"popover"},I.createElement(D.e,{onClick:function(n){n.preventDefault(),e.setState({hasClosedNuxBanner:!0}),e.props.onClose()},hover:{bg:"darken"},borderRadius:"circle"},I.createElement(Ke.a,{color:"gray",name:"SmallClose"}))),I.createElement(De.a,{dismissable:!1,mb:"large",p:"medium",variant:"muted"},I.createElement(N.A,null,I.createElement(D.s,{bold:!0,fontSize:"medium",mb:"tiny"},"Welcome to the new editor")),I.createElement("ul",null,I.createElement("li",null,I.createElement(Re.a,null),I.createElement(N.A,null,I.createElement(D.s,{as:"span",fontSize:"small"},"Adding a link? Paste the URL directly in your post."))),I.createElement("li",null,I.createElement(Re.a,null),I.createElement(N.A,null,I.createElement(D.s,{as:"span",fontSize:"small"},"Tap"," ",I.createElement(N.D,null,I.createElement(Ke.a,{size:20,verticalAlign:"bottom",name:"EditorTextFormatting"}))," ","to add a title (",I.createElement(N.D,null,I.createElement(Ke.a,{size:16,name:"H1Font"})),"), create a list, or access more formatting options.")))))))}}]),n}(I.Component);xe.displayName="UniversalComposerNuxBanner",xe.fragments={viewer:void 0!==Oe?Oe:Oe=d},xe.mutations={markComposerTooltipAsSeen:void 0!==Qe?Qe:Qe=u};var Me,Ue,Ve,Be,He=Object(O.b)(Object(O.f)(xe)),ze=function(){return ie.j?"web":ie.h?"android":ie.k?"iphone":ie.o?"mweb":"device_unknown"};!function(e){e.Post="Post",e.Question="Question",e.Link="Link"}(Be||(Be={}));var Je=function(e,n){var a;return Object(N.K)(I.createElement(N.a,{value:n},(a={},E()(a,_e.GENERIC,"Something went wrong when posting to this Space. Please try again later."),E()(a,_e.INSUFFICIENT_PERMISSIONS,"You do not have permission to post in this Space."),E()(a,_e.TITLE_AND_CONTENT_EMPTY,"Post may not be empty."),E()(a,_e.TITLE_EMPTY,"Post may not be empty."),E()(a,_e.CONTENT_EMPTY,"Post may not be empty."),E()(a,_e.TITLE_TOO_LONG,"Your title is too long."),E()(a,_e.CONTENT_TOO_LONG,"Your post is too long."),E()(a,_e.RATE_LIMIT_EXCEEDED,"Sorry, you have exceeded the rate limit for creating posts."),E()(a,_e.REQUIRES_EXTERNAL_LINKS,"This Space does not accept posts without external links."),E()(a,_e.REQUIRES_QUORA_LINKS,"This Space does not accept posts without links to Quora content."),E()(a,_e.REQUIRES_TEXT,"This Space does not accept posts without text."),E()(a,"DEFAULT","Something went wrong when posting to this Space. Please try again later."),a)))};Je.displayName="getPostAddToastContent";var Ze=function(e){function n(e){var a;return m()(this,n),(a=k()(this,f()(n).call(this,e))).postEditorRef=void 0,a.questionEditorRef=void 0,a.handleImageUploadStatusChange=function(e){a.setState({imageUploadStatus:e})},a.blockActionIfImageIsUploading=function(e){return function(){a.state.imageUploadStatus===ee.b.uploading?Object(Q.a)({message:Object(N.K)("Your images are still uploading. Please wait and try again soon."),error:!0}):e.apply(void 0,arguments)}},a.postEditorRef=I.createRef(),a.questionEditorRef=I.createRef(),a.state={activeTabName:a.getInitialContentTypeTab(),showQuestionTooltip:!1,isSubmitting:!1,canSubmitPost:!1,canSubmitQuestion:!1,imageUploadStatus:ee.b.ready,hasCopiedPostInputToQuestionInput:!1,hasClosedNuxBanner:!1,questionInput:"",questionSourceUrl:"",shouldQueue:!1},a.getQuestionCharLimit=a.getQuestionCharLimit.bind(T()(T()(a))),a}return h()(n,e),g()(n,[{key:"getQuestionCharLimit",value:function(e){return Object(fe.b)(e)?2e3:null!==(n=null===(a=this.props.queryResult)||void 0===a?void 0:null===(t=a.viewer)||void 0===t?void 0:t.questionTitleMaxLength)&&void 0!==n?n:Ce.a;var n,a,t}},{key:"maybeShowQuestionTooltip",value:function(){var e,n,a=this;if(!((null===(e=this.props.extraProps)||void 0===e?void 0:e.isPostEdit)||(null===(n=this.props.extraProps)||void 0===n?void 0:n.isDraftEdit))){var t=Object(te.p)(this.postEditorRef.current.getSerializedQTextContent()),l=this.getQuestionCharLimit(t),i=this.postEditorRef.current.getQTextContent(),r=Object(te.i)(i,"plain");ie.j&&t.length<=l&&r&&!this.state.showQuestionTooltip&&!this.state.hasCopiedPostInputToQuestionInput&&(setTimeout(function(){a.setState({showQuestionTooltip:!0})},300),Object(P.a)("scribe_only",{scribe_category:"universal_composer_show_question_tooltip",log_viewer:!0,platform:ze()}))}}},{key:"shouldAutosavePostDraft",value:function(){var e;return ie.j&&!(null===(e=this.props.extraProps)||void 0===e?void 0:e.isPostEdit)}},{key:"renderBody",value:function(e){var n,a,t,l,i,r=this;if(!(null===(n=this.props.queryResult)||void 0===n?void 0:n.tribe))return null;var s=this.props.queryResult,o=s.tribe,u=s.viewer,d=s.post,c=null!==(a=null===u||void 0===u?void 0:u.postTitleMaxLength)&&void 0!==a?a:Ce.a,m=null===(t=this.postEditorRef)||void 0===t?void 0:null===(l=t.current)||void 0===l?void 0:l.getSerializedQTextContent(),p=this.state.showQuestionTooltip&&!this.state.hasCopiedPostInputToQuestionInput&&m?Object(te.p)(m):this.state.questionInput;return I.createElement(I.Fragment,null,this.shouldShowPostTab()&&e===Be.Post&&I.createElement(D.d,null,I.createElement(ce,{ref:this.postEditorRef,titleCharLimit:c,titlePlaceholder:Object(N.K)(I.createElement(I.Fragment,null,"Say something to ",I.createElement(R.a,{tribe:o}),"...")),tribe:o,post:d||undefined,isPostEdit:null===(i=this.props.extraProps)||void 0===i?void 0:i.isPostEdit,onQuestionMarkTyped:function(){return r.maybeShowQuestionTooltip()},toggleCanSubmit:function(e){r.setState({canSubmitPost:e})},onImageUploadStatusChange:this.handleImageUploadStatusChange,shouldAutosaveDraft:this.shouldAutosavePostDraft()})),this.shouldShowQuestionTab()&&e===Be.Question&&I.createElement(D.d,null,I.createElement(ge,{ref:this.questionEditorRef,getCharLimit:this.getQuestionCharLimit,borderBottom:!1,initialInput:p,initialSourceUrl:this.state.questionSourceUrl,handleInputChange:function(e){r.setState({questionInput:e}),r.setState({canSubmitQuestion:e.length>0})},handleSourceUrlChange:function(e){r.setState({questionSourceUrl:e})}})))}},{key:"submit",value:function(e,n){try{e===Be.Post?(this.postEditorRef.current.state.editorMode===G.link?this.submitHyperlink(n):this.submitPost(n),this.postEditorRef.current.shouldSaveOnClose=!1):e===Be.Question&&this.submitQuestion(n)}catch(a){Object(se.d)("UniversalComposerModal-submit","Error: ".concat(a.message)),this.setState({isSubmitting:!1})}}},{key:"editPost",value:function(e){var a=this,t=this.props,l=t.client,i=t.queryResult;if(null===i||void 0===i?void 0:i.post){var r=i.post,s=this.postEditorRef.current.getSerializedQTextContent();l.mutate({mutation:n.mutations.postEdit,variables:{pid:r.pid,content:s}}).then(function(n){var t,l=n.data;(null===l||void 0===l?void 0:null===(t=l.postEdit)||void 0===t?void 0:t.success)&&e({reason:"edit_success"}),a.setState(function(){return{isSubmitting:!1}})})["catch"](function(e){Object(se.d)("UniversalComposerModal-submit","Error: ".concat(e.message)),a.setState({isSubmitting:!1})})}}},{key:"focusEditorInner",value:function(){var e;this.state.activeTabName===Be.Post&&(null===(e=this.postEditorRef.current)||void 0===e||e.focusEditor())}},{key:"focusEditor",value:function(e){var n=this;e!==undefined?setTimeout(function(){n.focusEditorInner()},e):this.focusEditorInner()}},{key:"parseMutationResults",value:function(e,n){switch(n){case ye.a.POST:var a,t,l,i,r=e.postAdd;if(!r)throw new Error("postAdd invalid: ".concat(r));var s=r.post,o=void 0===s?null:s,u=r.share,d=void 0===u?null:u,c=r.failureType,m=r.success,p=r.contentType,g=(null===o||void 0===o?void 0:null===(a=o.tribeItem)||void 0===a?void 0:a.tribeItemId)||(null===d||void 0===d?void 0:null===(t=d.tribeItem)||void 0===t?void 0:t.tribeItemId),b=(null===o||void 0===o?void 0:null===(l=o.tribeItem)||void 0===l?void 0:null===(i=l.tribe)||void 0===i?void 0:i.shouldPromptFollowerInviteModal)||!1;return{tribeItemId:g,success:m,isSubmission:p===ye.a.TRIBE_SUBMISSION,failureType:c,shouldPromptFollowerInviteModal:b};case ye.a.QUESTION:var k=e.questionCreate;if(!k)throw new Error("questionCreate invalid: ".concat(k));var y=k.failureType;if(y===Se.a.shouldBeTribeSubmission)return{success:!0,tribeItemId:null,isSubmission:!0,failureType:y};if(y===Se.a.shouldBeTribeContentQueueItem)return{success:!0,tribeItemId:null,isSubmission:!1,failureType:y};var f,v,h,S=k.question,T=k.success,F=(null===S||void 0===S?void 0:null===(f=S.tribeItem)||void 0===f?void 0:null===(v=f.tribe)||void 0===v?void 0:v.shouldPromptFollowerInviteModal)||!1;return{success:T,tribeItemId:null===S||void 0===S?void 0:null===(h=S.tribeItem)||void 0===h?void 0:h.tribeItemId,isSubmission:!1,failureType:y,shouldPromptFollowerInviteModal:F};case ye.a.HYPERLINK:var E=null===e||void 0===e?void 0:e.tribeSubmissionAdd,K=null===e||void 0===e?void 0:e.tribeContentQueueItemAdd;if(E)return{success:e.tribeSubmissionAdd.success,tribeItemId:null,isSubmission:!0,failureType:null};if(K)return{success:e.tribeContentQueueItemAdd.success,tribeItemId:null,isSubmission:!1,failureType:null};var w,C,A,_=e.shareHyperlinkAdd,L=_.success,I=_.share,O=(null===I||void 0===I?void 0:null===(w=I.tribeItem)||void 0===w?void 0:null===(C=w.tribe)||void 0===C?void 0:C.shouldPromptFollowerInviteModal)||!1;return{success:L,tribeItemId:null===I||void 0===I?void 0:null===(A=I.tribeItem)||void 0===A?void 0:A.tribeItemId,isSubmission:!1,failureType:_.failureReason,shouldPromptFollowerInviteModal:O};default:return{}}}},{key:"getToastContent",value:function(e,n,a,t){return n?t?Object(N.K)("Your submission was successful."):this.state.shouldQueue?Object(N.K)("You queued this successfully."):null:e===ye.a.QUESTION?Object(Se.c)(n,a,!1):e===ye.a.HYPERLINK?Object(Se.d)(n,a):e===ye.a.POST?Je(0,a):Object(N.K)("You can't submit this content.")}},{key:"showPmsgAndMaybeDismissModal",value:function(e,n,a){var t=this.parseMutationResults(e,n),l=t.tribeItemId,i=t.success,r=t.isSubmission,s=void 0!==r&&r,o=t.failureType,u=t.shouldPromptFollowerInviteModal,d=void 0!==u&&u,c=this.getToastContent(n,i,o,s);(c&&Object(Q.a)({message:c,error:!i}),i)&&a({reason:"submit_success",tribeItemId:l,showInviteModal:d&&!this.state.shouldQueue})}},{key:"submitPost",value:function(e){var a=this,t=this.props,l=t.client,i=t.queryResult;if(null===i||void 0===i?void 0:i.tribe){var r=i.tribe,s=this.postEditorRef.current.getSerializedQTextTitle(!0),o=this.postEditorRef.current.getSerializedQTextContent(!0);l.mutate({mutation:n.mutations.postAdd,variables:{tribeId:r.tribeId,title:s,content:o,shouldQueue:this.state.shouldQueue}}).then(function(n){var t=n.data;a.showPmsgAndMaybeDismissModal(t,ye.a.POST,e),a.setState(function(){return{isSubmitting:!1}})})["catch"](function(e){Object(se.d)("UniversalComposerModal-submit","Error: ".concat(e.message)),a.setState({isSubmitting:!1})})}}},{key:"submitQuestion",value:function(e){var a=this,t=this.props,l=t.client,i=t.queryResult;if(null===i||void 0===i?void 0:i.tribe){var r=i.tribe,s=this.state.questionInput,o=this.state.questionSourceUrl;l.mutate({mutation:n.mutations.questionCreate,variables:{titlePlaintext:s,isAnon:!1,sourceUrl:o,sourceLocation:ve.c.tribes,limitedUserDistro:!1,targetType:ye.a.TRIBE,targetOid:r.tribeId,shouldCheckDuplicate:!1,shouldCheckCorrection:!1,shouldQueue:this.state.shouldQueue}}).then(function(n){var t=n.data;a.showPmsgAndMaybeDismissModal(t,ye.a.QUESTION,e),a.setState(function(){return{isSubmitting:!1}}),a.shouldAutosavePostDraft()&&a.state.showQuestionTooltip&&a.clearPostDraft()})["catch"](function(e){Object(se.d)("UniversalComposerModal-submit","Error: ".concat(e.message)),a.setState({isSubmitting:!1})})}}},{key:"clearPostDraft",value:function(){var e=this.props.client;if(this.postEditorRef.current)this.postEditorRef.current.clearDraft();else{var n,a=null===(n=this.props.queryResult)||void 0===n?void 0:n.tribe;if(!a)return;e.mutate({mutation:ce.mutations.clearDraft,variables:{tribeId:a.tribeId}})}}},{key:"shouldShowPostTab",value:function(){var e,n;if(null===(e=this.props.extraProps)||void 0===e?void 0:e.isPostEdit)return!0;if(!(null===(n=this.props.queryResult)||void 0===n?void 0:n.tribe))return null;var a=this.props.queryResult.tribe.viewerContentTypesCanAddInTribe;return a.includes(ye.a.QUORA_SHARE)||a.includes(ye.a.POST)}},{key:"shouldShowQuestionTab",value:function(){var e,n;if(!(null===(e=this.props.queryResult)||void 0===e?void 0:e.tribe))return null;var a=(null===(n=this.props.queryResult)||void 0===n?void 0:n.tribe).viewerContentTypesCanAddInTribe;return(void 0===a?[]:a).includes(ye.a.QUESTION)}},{key:"getInitialContentTypeTab",value:function(){return this.shouldShowPostTab()?Be.Post:Be.Question}},{key:"submitHyperlink",value:function(e){var a=this,t=this.postEditorRef.current.state.title,l=this.postEditorRef.current.state.hyperlinkUrl,i=t,r=this.props,s=r.client,o=r.queryResult;if(o){var u,d=o.tribe;if(d)u=!d.viewerCanContribute?{mutation:n.mutations.hyperlinkShareSubmission,variables:{url:l,selectedTribe:d.tribeId,comment:i}}:this.state.shouldQueue?{mutation:n.mutations.hyperlinkContentQueueItemAdd,variables:{url:l,tribeId:d.tribeId,comment:i}}:{mutation:n.mutations.hyperlinkShare,variables:{url:l,selectedTribe:d.tribeId,shareToFeed:!1,comment:i}},s.mutate(u).then(function(n){var t=n.data;a.showPmsgAndMaybeDismissModal(t,ye.a.HYPERLINK,e),a.setState(function(){return{isSubmitting:!1}})})}}},{key:"isPostEditorEmpty",value:function(){return!this.shouldShowPostTab()||this.postEditorRef.current.isTitleAndBodyEmpty()}},{key:"renderHeader",value:function(){var e,n,a,t=this;if(!(null===(e=this.props.queryResult)||void 0===e?void 0:e.tribe))return null;var l=this.state.activeTabName,i=I.createElement(D.j,{alignItems:"center",justifyContent:ie.j?"center":undefined},I.createElement(Ke.a,{name:"Pen"}),I.createElement(D.s,{fontSize:"14px",ml:"tiny"},Object(N.K)(I.createElement(N.A,{context:N.G.noun},"Post")))),r=I.createElement(D.j,{alignItems:"center",justifyContent:ie.j?"center":undefined},I.createElement(Ke.a,{name:"AskQuestion"}),I.createElement(D.s,{fontSize:"14px",ml:"tiny"},Object(N.K)(I.createElement(N.A,{context:N.G.noun},"Question"))));if((null===(n=this.props.extraProps)||void 0===n?void 0:n.isPostEdit)||(null===(a=this.props.extraProps)||void 0===a?void 0:a.isDraftEdit)||!this.shouldShowQuestionTab())return i;if(this.shouldShowPostTab()){var s=[];return this.shouldShowPostTab()&&s.push({label:Object(N.K)(I.createElement(N.A,{context:N.G.noun},"Post")),subLabel:Object(N.K)("Post what's on your mind"),onSelected:function(){t.setState(function(e){return{activeTabName:Be.Post,hasCopiedPostInputToQuestionInput:e.hasCopiedPostInputToQuestionInput||e.showQuestionTooltip&&e.activeTabName===Be.Question,showQuestionTooltip:!1}})}}),this.shouldShowPostTab()&&s.push({label:Object(N.K)(I.createElement(N.A,{context:N.G.noun},"Question")),subLabel:Object(N.K)("Ask others for answers"),onSelected:this.blockActionIfImageIsUploading(function(){t.state.showQuestionTooltip&&!t.state.hasCopiedPostInputToQuestionInput&&Object(P.a)("scribe_only",{scribe_category:"universal_composer_switch_to_question_tab_after_question_tooltip",log_viewer:!0,platform:ze()}),t.setState({activeTabName:Be.Question})})}),I.createElement(D.j,{alignItems:"center",justifyContent:ie.j?"center":undefined},I.createElement(Fe.a,{menuItems:s,alignment:"auto"},function(e){return I.createElement(we.a,{condition:t.state.showQuestionTooltip,wrapper:function(e){return I.createElement(Ae.a,{text:Object(N.K)("Is this a question?"),subText:Object(N.K)("Asking a question means you will get more answers"),placement:"bottom",hideTime:null,isDismissable:!0,hideOnAnchorClick:!0,displayOnMobile:!0,initiallyVisible:!0,size:"large",variant:"blue",trigger:"none"},e)}},I.createElement(Ee.a,{icon:I.createElement(Ke.a,{name:l===Be.Post?"Pen":"AskQuestion"}),text:l===Be.Post?Object(N.K)(I.createElement(N.A,{context:N.G.noun},"Post")):Object(N.K)(I.createElement(N.A,{context:N.G.noun},"Question")),onClick:e,chevronSuffix:"down_flippable"}))}))}return r}},{key:"renderPrimaryButton",value:function(){var e=this,n=this.props,a=n.dismissModalFlow,t=n.extraProps,l=this.state.activeTabName,i=null;i=t.isPostEdit?{text:Object(N.K)("Update"),onClick:function(){e.state.isSubmitting||e.setState({isSubmitting:!0},function(){e.editPost(a)})}}:{text:this.getTranslatedSubmitButtonLabel(),onClick:function(){e.state.isSubmitting||e.setState({isSubmitting:!0},function(){e.submit(l,a)})}};var r=this.state.activeTabName===Be.Post&&!this.state.canSubmitPost||this.state.imageUploadStatus===ee.b.uploading||this.state.activeTabName===Be.Question&&!this.state.canSubmitQuestion;return Object.assign({},i,{disabled:this.state.isSubmitting||r,useHaptics:!0})}},{key:"getTranslatedSubmitButtonLabel",value:function(){var e=this.props.queryResult.tribe;if(!e)throw new Error("invalid tribe ".concat(e));return!e.viewerCanContribute?Object(N.K)(I.createElement(N.A,{context:N.G.verb},"Submit")):this.state.shouldQueue?Object(N.K)(I.createElement(N.A,{context:N.G.verb},"Queue")):this.state.activeTabName===Be.Post?Object(N.K)(I.createElement(N.A,{context:N.G.verb},"Post")):Object(N.K)(I.createElement(N.A,{context:N.G.verb},"Ask"))}},{key:"render",value:function(){var e,n=this,a=this.props,t=a.dismissModalFlow,l=a.extraProps,i=a.queryResult;if(!(null===i||void 0===i?void 0:i.tribe))return null;var r=i.tribe,s=i.viewer,o=r.viewerCanContribute,u=r.viewerCanCreateContentQueueItem,d=!o,c=this.state.activeTabName,m=this.renderPrimaryButton(),p=u&&!(null===l||void 0===l?void 0:l.isPostEdit)?{buttonComponent:I.createElement(Te.d,{onSelectQueueItem:function(){n.setState(function(e){return{shouldQueue:!e.shouldQueue}})},shouldQueue:this.state.shouldQueue})}:d?{buttonComponent:I.createElement(j.i,{standaloneModalProps:{containerProps:{mobileHeight:"45%"},modalProps:{name:"TribeSubmissionRulesModal",queryVariables:{tribeId:r.tribeId},desktopWidth:650},postDismissCallback:function(){n.focusEditor(300)}}},function(e){var n=e.openStandaloneModal;return I.createElement(Ee.a,{key:"rules",onClick:function(e){e.preventDefault(),n()},mr:"small",icon:I.createElement(Le.a,null),text:Object(N.K)("Rules"),size:ie.n?"small":"regular"})})}:null;return I.createElement(j.e,{navButton:"close",primaryButtonProps:m,secondaryButtonProps:p,hasPadding:!1,navButtonProps:{onClick:function(){var e,a,l,i=null===(e=n.postEditorRef.current)||void 0===e?void 0:e.getQTextContent(),r=!!i&&!Object(te.l)(i)||(null===(a=n.postEditorRef.current)||void 0===a?void 0:a.isDirty());!(null===(l=n.props.extraProps)||void 0===l?void 0:l.isPostEdit)&&r&&ie.n&&n.state.activeTabName===Be.Post?Object(q.a)("showActionSheet",{title:"",buttonTitles:[Object(N.K)("Clear Draft"),Object(N.K)("Save Draft"),Object(N.K)("Keep Editing")],destructiveButtonIndex:0},function(e){var a=e.buttonIndex,l=function(e){Object(ie.f)()?t({reason:e}):setTimeout(function(){t({reason:e})},500)};0===a?(n.postEditorRef.current.clearDraft(),l("close_clear_draft")):1===a&&n.blockActionIfImageIsUploading(function(){n.postEditorRef.current.saveDraft(),l("close_save_draft")})()}):t({reason:"close"})}},header:null!==(e=this.renderHeader())&&void 0!==e?e:undefined,footerExtra:ie.j?I.createElement(D.d,{id:"modal_footer_portal_container",width:"100%",height:"38px"}):undefined,displayFooterExtraInline:!0},I.createElement(D.d,{px:"medium",pt:"small"},I.createElement(He,{viewer:s,onClose:function(){var e;return null===(e=n.postEditorRef.current)||void 0===e?void 0:e.focusEditor()}}),I.createElement(D.d,{mb:Object(ie.f)()?"medium":"small"},I.createElement(ke.a,{tribe:r,linked:!1,includeHovercard:!1})),this.renderBody(c)))}}]),n}(I.Component);Ze.queries={onLoad:void 0!==Me?Me:Me=i},Ze.mutations={postAdd:void 0!==Ue?Ue:Ue=l,postEdit:void 0!==Ve?Ve:Ve=t,questionCreate:he.QUESTION_CREATION_MUTATION,hyperlinkShare:he.HYPERLINK_SHARE_MUTATION,hyperlinkShareSubmission:he.HYPERLINK_SHARE_TRIBE_SUBMISSION_MUTATION,hyperlinkContentQueueItemAdd:he.TRIBE_CONTENT_QUEUE_ITEM_ADD_MUTATION,postDraftClear:ce.mutations.clearDraft};n["default"]=Object(O.b)(Object(O.f)(Ze))},ZR8f:function(e,n,a){"use strict";a.r(n),a.d(n,"default",function(){return j});var t={};a.r(t),a.d(t,"default",function(){return k});var l=a("8ZkK"),i=a.n(l),r=a("tQZz"),s=a.n(r),o=a("7eVb"),u=a.n(o),d=a("n3k3"),c=a.n(d),m=a("10u2"),p=a.n(m),g=function(){var e=[{kind:"LocalArgument",name:"aid",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"qid",type:"BigInt",defaultValue:null},{kind:"LocalArgument",name:"isAnswerEdit",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"tribeId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"hasContextualTribe",type:"Boolean!",defaultValue:null}],n=[{kind:"Literal",name:"acceptedOnly",value:!0}],a={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"isBusiness",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"logoUrl",args:null,storageKey:null},r={kind:"LinkedField",alias:null,name:"businessProfile",storageKey:null,args:null,concreteType:"BusinessProfile",plural:!1,selections:[l,a,i]},s=[{kind:"Variable",name:"qid",variableName:"qid"}],o={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"qid",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"viewerHasSubmissionToQuestion",args:null,storageKey:null},m={kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null},p={kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[o,u,m]},g={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},b={kind:"FragmentSpread",name:"TribeQuestionAskedInTribeHeader_tribe",args:null},k={kind:"FragmentSpread",name:"TribeContextProvider_tribe",args:null},y={kind:"FragmentSpread",name:"SubmissionRulesBanner_tribe",args:null},f={kind:"FragmentSpread",name:"AnswerEditorHeader_question",args:null},v={kind:"FragmentSpread",name:"QuestionTitle_question",args:null},h=[{kind:"Variable",name:"aid",variableName:"aid"}],S={kind:"ScalarField",alias:null,name:"aid",args:null,storageKey:null},T=[{kind:"Literal",name:"shouldLimit",value:!1}],F={kind:"ScalarField",alias:null,name:"objectiveType",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"cta",args:null,storageKey:null},K={kind:"ScalarField",alias:null,name:"landingPageUrl",args:null,storageKey:null},w={kind:"ScalarField",alias:null,name:"leadGenFormId",args:null,storageKey:null},C={kind:"ScalarField",alias:null,name:"translatedString",args:null,storageKey:null},A={kind:"LinkedField",alias:null,name:"businessCredential",storageKey:null,args:null,concreteType:"BusinessCredential",plural:!1,selections:[o,u,C]},_=[{kind:"Variable",name:"tribeId",variableName:"tribeId"}],L={kind:"LinkedField",alias:null,name:"businessProfiles",storageKey:"businessProfiles(acceptedOnly:true)",args:n,concreteType:"BusinessProfile",plural:!0,selections:[a,o]},I={kind:"LinkedField",alias:null,name:"businessProfile",storageKey:null,args:null,concreteType:"BusinessProfile",plural:!1,selections:[l,a,i,o]},O={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},q={kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"viewerCanCreateAnswerSubmissions",args:null,storageKey:null},N={kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},D={kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"tribeItemId",args:null,storageKey:null},R={kind:"LinkedField",alias:null,name:"viewerDisplayCredential",storageKey:null,args:null,concreteType:null,plural:!1,selections:[o,u,{kind:"ScalarField",alias:null,name:"credentialId",args:null,storageKey:null},C]},x=[u,o,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}],M={kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null},U={kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[o,u,l,{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:x},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:x},{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},t,{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[M]}]},V={kind:"ScalarField",alias:null,name:"title",args:null,storageKey:null},B={kind:"ScalarField",alias:null,name:"isPartnerQuestion",args:null,storageKey:null},H={kind:"LinkedField",alias:null,name:"asker",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[o,u,{kind:"ScalarField",alias:null,name:"isEmployee",args:null,storageKey:null}]},z={kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"nid",args:null,storageKey:null},o]};return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerEditorModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"businessProfiles",storageKey:"businessProfiles(acceptedOnly:true)",args:n,concreteType:"BusinessProfile",plural:!0,selections:[a]},{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[t,r]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!1,condition:"isAnswerEdit",selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:s,concreteType:"Question",plural:!1,selections:[o,u,d,c,p,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[o,u,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[o,u,g,b,k,y]}]},f,{kind:"FragmentSpread",name:"AnswerEditorMutation_question",args:null},v]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"isAnswerEdit",selections:[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:h,concreteType:"Answer",plural:!1,selections:[o,u,S,{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null,isLive:!0},{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[o,u,d,v,f]},p,{kind:"LinkedField",alias:null,name:"businessAnswer",storageKey:null,args:null,concreteType:"BusinessAnswer",plural:!1,selections:[r,{kind:"LinkedField",alias:null,name:"businessCustomAction",storageKey:"businessCustomAction(shouldLimit:false)",args:T,concreteType:"BusinessCustomAction",plural:!1,selections:[F,E,K,w]}]},A,{kind:"FragmentSpread",name:"AnswerEditorMutation_answer",args:null}]}]},{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"hasContextualTribe",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:_,concreteType:"Tribe",plural:!1,selections:[g,b,k,y]}]}]},operation:{kind:"Operation",name:"AnswerEditorModalQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[L,{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[t,I,o]},o]},{kind:"Condition",passingValue:!1,isCustom:!1,customValue:null,condition:"isAnswerEdit",selections:[{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:s,concreteType:"Question",plural:!1,selections:[o,u,d,c,p,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[o,u,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[o,u,g,O,a,Q,q,P,N,D]},j]},R,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[o,u,U,L,l]},V,g,B,H,M,z]}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"isAnswerEdit",selections:[{kind:"LinkedField",alias:null,name:"answer",storageKey:null,args:h,concreteType:"Answer",plural:!1,selections:[o,u,S,m,{kind:"LinkedField",alias:null,name:"question",storageKey:null,args:null,concreteType:"Question",plural:!1,selections:[o,u,d,V,g,B,H,M,{kind:"LinkedField",alias:null,name:"tribeItem",storageKey:null,args:null,concreteType:null,plural:!1,selections:[o,u,j,{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[O,o]}]},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[o,u,l,U,L]},z,R,{kind:"LinkedField",alias:null,name:"viewerDraft",storageKey:null,args:null,concreteType:"AnswerDraft",plural:!1,selections:[o,u]}]},p,{kind:"LinkedField",alias:null,name:"businessAnswer",storageKey:null,args:null,concreteType:"BusinessAnswer",plural:!1,selections:[I,{kind:"LinkedField",alias:null,name:"businessCustomAction",storageKey:"businessCustomAction(shouldLimit:false)",args:T,concreteType:"BusinessCustomAction",plural:!1,selections:[F,E,K,w,o]},o]},A,{kind:"ScalarField",alias:null,name:"hasDisclaimer",args:null,storageKey:null}]}]},{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"hasContextualTribe",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:_,concreteType:"Tribe",plural:!1,selections:[g,o,u,O,a,Q,q,P,N,D]}]}]},params:{operationKind:"query",name:"AnswerEditorModalQuery",id:"082e3d5134c4a137feae20e108d904be8bfd3e8b1955b2eaa921482edd8d3857",text:null,metadata:{}}}}();g.hash="30800da3438f6bdd31ef2f8f4d6ec8c6";var b,k=g,y=a("q1tI"),f=a("oJdr"),v=a("nwxp"),h=a("AaDK"),S=a("Gnru"),T=a("SW3P"),F=a("nW6E"),E=a("AFGi"),K=a("VwdU"),w=a("Kk/C"),C=a("zm58"),A=a("jufJ"),_=a("RA+f"),L=a("bqYg"),I=a("a6Nw"),O=a("QwTT"),Q=a("9GZO"),q=a("M1Zk"),P=a("Vx0C"),N=a("YKuC"),D=function(e){var n=e.isAnswerEdit,a=e.pageFramework,t=e.sourceComponent,l=e.clientLogMetadata,i=void 0===l?{}:l;return y.useEffect(function(){n||Object(S.logEvent)(i,"AnswerAddModalOpen",{})},[i,n]),y.useEffect(function(){Object(h.a)("answer_editor_opened",{pageFramework:a,editorFramework:"react",editorType:"modal",sourceComponent:t})},[a,t]),null},j=function(e){function n(e){var a,t,l,r,s,o,d,m,p;i()(this,n),(p=u()(this,c()(n).call(this,e))).allowEditBusinessCredentials=function(){var e,n,a=p.props.queryResult.viewer,t=void 0===a?null:a,l=Boolean(null===t||void 0===t?void 0:null===(e=t.businessProfiles)||void 0===e?void 0:e.length),i=null===t||void 0===t?void 0:null===(n=t.user)||void 0===n?void 0:n.isBusiness;return Object(T.a)("enable_business_services")&&(l||i)};var g=p.props.queryResult,b=g.answer,k=g.viewer,y=null!==(a=null===b||void 0===b?void 0:null===(t=b.businessAnswer)||void 0===t?void 0:t.businessProfile)&&void 0!==a?a:null===k||void 0===k?void 0:null===(l=k.user)||void 0===l?void 0:l.businessProfile,f=null===b||void 0===b?void 0:null===(r=b.businessAnswer)||void 0===r?void 0:r.businessCustomAction;return p.state={isSubmitting:!1,businessUid:null!==(s=null===y||void 0===y?void 0:y.uid)&&void 0!==s?s:null,businessCredential:null!==(o=null===b||void 0===b?void 0:b.businessCredential)&&void 0!==o?o:null,businessName:null!==(d=null===y||void 0===y?void 0:y.name)&&void 0!==d?d:null,businessLogoUrl:null!==(m=null===y||void 0===y?void 0:y.logoUrl)&&void 0!==m?m:null,businessCustomAction:null!==f&&void 0!==f?f:O.a.defaultCustomAction},p}return p()(n,e),s()(n,[{key:"getStartingContent",value:function(){var e=this.props,n=e.queryResult,a=n.question,t=n.answer,l=e.extraProps.isAnswerEdit,i=(null===t||void 0===t?void 0:t.viewerDraft)||(null===a||void 0===a?void 0:a.viewerDraft);if(!i)return Object(E.f)();if(null===i||void 0===i?void 0:i.content){var r=JSON.parse(i.content);if(!Object(E.l)(r))return r}return l&&t?JSON.parse(t.content):Object(E.f)()}},{key:"getEditorKey",value:function(){var e=this.props,n=e.queryResult,a=n.question,t=void 0===a?null:a,l=n.answer,i=void 0===l?null:l,r=e.extraProps.isAnswerEdit,s=r?"answer":"question",o=r?null===i||void 0===i?void 0:i.aid:null===t||void 0===t?void 0:t.qid;return"".concat(s,"-").concat(o)}},{key:"render",value:function(){var e,n=this,a=this.props,t=a.queryResult,l=t.question,i=void 0===l?null:l,r=t.answer,s=void 0===r?null:r,o=t.tribe,u=a.dismissModalFlow,d=a.extraProps,c=d.isAnswerEdit,m=d.pageFramework,p=d.sourceComponent,g=d.clientLogMetadata,b=void 0===g?"{}":g,k=d.editCredentialHint,E=(null===i||void 0===i?void 0:null===(e=i.tribeItem)||void 0===e?void 0:e.tribe)||o,j=this.state.isSubmitting,R=c?null===s||void 0===s?void 0:s.question:i;return y.createElement(S.ClientLogProvider,{value:JSON.parse(b)},y.createElement(K.a,{condition:!!E,wrapper:function(e){return E?y.createElement(L.b,{tribe:E},e):e}},y.createElement(F.i,{standaloneModalProps:{modalProps:{name:"AnswerUnconfirmedEmailModal"},containerProps:{legacy:!0}}},function(e){var a=e.openStandaloneModal;return y.createElement(y.Fragment,null,y.createElement(D,{isAnswerEdit:c,pageFramework:m,sourceComponent:p,clientLogMetadata:b}),y.createElement(P.b,{question:i,answer:s,isAnswerEdit:c},function(e){var t,l=e.saveDraft,i=e.submitAnswer,r=e.isTribeSubmission;return y.createElement(C.a,{editorKey:n.getEditorKey(),header:y.createElement(_.d,{bg:"gray_ultralight",borderBottom:!0},r&&E&&y.createElement(I.a,{tribe:E}),y.createElement(_.d,{px:"medium",py:"medium",borderTop:r},E&&Object(q.b)()&&y.createElement(Q.a,{tribe:E,mb:"tiny"}),R&&y.createElement(w.a,{question:R}),(v.j||n.allowEditBusinessCredentials())&&R&&y.createElement(N.a,{question:R,isAnswerEdit:c,businessUid:null!==(t=n.state.businessUid)&&void 0!==t?t:undefined,businessCredential:n.state.businessCredential,handleEditBusinessCredential:function(e){var a=e.businessUid,t=e.businessCredential,l=e.businessName,i=e.businessLogoUrl;n.setState(function(e){return{businessUid:a,businessCredential:t,businessName:l,businessLogoUrl:i,businessCustomAction:a===e.businessUid?e.businessCustomAction:O.a.defaultCustomAction}})},editCredentialHint:k,pt:"medium"}))),footer:Object(T.a)("enable_business_services")&&n.state.businessUid&&!E?y.createElement(O.a,{businessUid:n.state.businessUid,businessName:n.state.businessName,businessLogoUrl:n.state.businessLogoUrl,businessCustomAction:n.state.businessCustomAction,onCTAChange:function(e){return n.setState(function(){return{businessCustomAction:e}})},isAnswerEdit:c}):undefined,saveDraft:function(e,n){return l(e,n)},onPrimaryButtonClick:function(e){Object(h.a)("answer_editor_modal_submit",{qid:null===R||void 0===R?void 0:R.qid,pageFramework:m,editorFramework:"react",sourceComponent:p}),n.setState(function(){return{isSubmitting:!0}}),j||i(e,n.state.businessUid,n.state.businessCredential,n.state.businessCustomAction).then(function(e){var t,l;n.setState(function(){return{isSubmitting:!1}});var i=null!==(t=null===e||void 0===e?void 0:null===(l=e.data)||void 0===l?void 0:l.answerSubmit)&&void 0!==t?t:{},s=i.errorType,o=i.success,d=i.redirectUrl,c=i.msg;if(o)u(r?{redirectUrl:null===E||void 0===E?void 0:E.url,submission:!0}:{redirectUrl:d,submission:!0});else if("add_answer_block"===s)u({submission:!1}),a();else{var m=s?Object(A.K)(y.createElement(P.a,{errorType:s})):c;Object(f.a)({message:m,error:!0})}})},onNavButtonClick:function(){return u({submission:!1})},startingContent:n.getStartingContent(),titleText:Object(A.K)(c?"Edit your answer":"Your answer"),onFirstChange:function(){return Object(h.a)("answer_editor_modal_first_type",{pageFramework:m,editorFramework:"react",sourceComponent:p})},primaryButtonDisabled:j,placeholder:Object(A.K)("Write your answer")})}))})))}}]),n}(y.Component);j.displayName="AnswerEditorModal",j.queries={onLoad:void 0!==b?b:b=t}},ZsYs:function(e,n,a){"use strict";a.r(n),a.d(n,"customActionFlowTransition",function(){return f});var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("7eVb"),o=a.n(s),u=a("n3k3"),d=a.n(u),c=a("10u2"),m=a.n(c),p=a("nW6E"),g=a("q1tI"),b=a.n(g),k=a("DudT"),y=a("szkJ"),f=function(e){var n=e.showNextModal,a=e.flowData,t=a.nextModal,l=a.initialValues.businessUid,i={name:t};"BusinessServicesCustomActionLeadGenStep"===t&&(i.queryVariables={businessUid:l}),n({modalProps:i})},v=function(e){function n(){return l()(this,n),o()(this,d()(n).apply(this,arguments))}return m()(n,e),r()(n,[{key:"render",value:function(){var e=this.props,n=e.children,a=e.showProfileCustomAction,t=e.profileImageUrl,l=e.updateCustomAction,i=e.objectiveType,r=e.cta,s=void 0===r?k.w.applyNow:r,o=e.landingPageUrl,u=e.leadGenFormId,d=e.businessUid,c=e.businessName;return b.a.createElement(p.c,{modalFlowProps:{transitionName:"customActionFlowTransition",containerProps:{easyDismissEnabled:!0},initialFlowData:{nextModal:"BusinessServicesCustomActionInitialStep",initialValues:{profileImageUrl:t,objectiveType:null!==i&&void 0!==i?i:a?y.a.PROFILE:y.a.TRAFFIC,cta:s,landingPageUrl:o,leadGenFormId:u,businessUid:d,businessName:c},showProfileCustomAction:Boolean(a)},postDismissCallback:function(e){if(e){var n=e.objectiveType,a=e.cta,t=e.landingPageUrl,i=e.leadGenFormId;l({objectiveType:n,cta:a,landingPageUrl:t,leadGenFormId:i})}},initialModalProps:{name:"BusinessServicesCustomActionInitialStep"}},shouldPrefetch:!0},function(e){var a=e.openModalFlow;return n({openModalFlow:a})})}}]),n}(b.a.Component);v.displayName="CustomActionFlow",n["default"]=v},a6Nw:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",function(){return k});var l,i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("7eVb"),d=a.n(u),c=a("n3k3"),m=a.n(c),p=a("10u2"),g=a.n(p),b={kind:"Fragment",name:"SubmissionRulesBanner_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"SubmissionRulesText_tribe",args:null}],hash:"79f9a5bd4e675a22759f9b996194210e"},k=b,y=a("q1tI"),f=a("jufJ"),v=a("PuWf"),h=a("cbxS"),S=a("VyO/"),T=a("RAJQ"),F=function(e){function n(){return r()(this,n),d()(this,m()(n).apply(this,arguments))}return g()(n,e),o()(n,[{key:"renderTitle",value:function(){return y.createElement(f.A,null,"You're submitting to ",y.createElement(v.a,{tribe:this.props.tribe}),".")}},{key:"render",value:function(){return y.createElement(h.a,{variant:"muted",dismissable:!1,translatedText:this.renderTitle(),translatedSubtext:y.createElement(T.a,{tribe:this.props.tribe,bg:"gray_ultralight"})})}}]),n}(y.Component);F.displayName="SubmissionRulesBanner",F.fragments={tribe:void 0!==l?l:l=t};n.a=Object(S.b)(F)},bslc:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",function(){return f});var l,i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("7eVb"),d=a.n(u),c=a("n3k3"),m=a.n(c),p=a("10u2"),g=a.n(p),b=a("rhDr"),k=a.n(b),y={kind:"Fragment",name:"QuestionAnswerCount_question",type:"Question",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"answerCount",args:null,storageKey:null}],hash:"10f534cb260ae9c021a6e2d00c0e113f"},f=y,v=a("q1tI"),h=a("RA+f"),S=a("jufJ"),T=a("VyO/"),F=function(e){var n=e.size,a=void 0===n?"regular":n,t=e.count,l=k()(e,["size","count"]);return t>0?v.createElement(h.s,Object.assign({fontSize:a,color:"gray_light"},l),v.createElement(S.A,null,v.createElement(S.h,{value:t}),v.createElement(S.y,{value:t},{ONE:" Answer",OTHER:" Answers"}))):v.createElement(h.s,{fontSize:a,color:"gray_light"},v.createElement(S.A,null,"No answers yet"))};F.displayName="AnswerCount";var E=function(e){function n(){return r()(this,n),d()(this,m()(n).apply(this,arguments))}return g()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.question,a=k()(e,["question"]),t=n.answerCount;return v.createElement(F,Object.assign({size:"small",count:t},a))}}]),n}(v.Component);E.displayName="QuestionAnswerCount",E.fragments={question:void 0!==l?l:l=t};n.a=Object(T.b)(E)},dRzG:function(e,n,a){"use strict";a.r(n),a.d(n,"default",function(){return q});var t={};a.r(t),a.d(t,"default",function(){return k});var l={};a.r(l),a.d(l,"default",function(){return h});var i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("7eVb"),d=a.n(u),c=a("n3k3"),m=a.n(c),p=a("10u2"),g=a.n(p),b=function(){var e=[{kind:"LocalArgument",name:"containerId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"content",type:"JSONString!",defaultValue:null},{kind:"LocalArgument",name:"replyToId",type:"BigInt",defaultValue:null}],n=[{kind:"Variable",name:"commentType",variableName:"commentType"},{kind:"Variable",name:"containerId",variableName:"containerId"},{kind:"Variable",name:"content",variableName:"content"},{kind:"Variable",name:"replyToId",variableName:"replyToId"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"commentDraftContent",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAddModal_commentDraftAdd_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"commentDraftAdd",storageKey:null,args:n,concreteType:"CommentDraftAdd",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"container",storageKey:null,args:null,concreteType:null,plural:!1,selections:[t]}]}]},operation:{kind:"Operation",name:"CommentAddModal_commentDraftAdd_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"commentDraftAdd",storageKey:null,args:n,concreteType:"CommentDraftAdd",plural:!1,selections:[a,{kind:"LinkedField",alias:null,name:"container",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"CommentAddModal_commentDraftAdd_Mutation",id:"9085b74e7a4a04c8c0f193faa7c8f9ae1515f0c744ae24130102d4d83894d0b6",text:null,metadata:{}}}}();b.hash="993ecd6f5e581d8f72601f2dd538b791";var k=b,y=function(){var e=[{kind:"LocalArgument",name:"showReplyHeader",type:"Boolean!",defaultValue:null},{kind:"LocalArgument",name:"replyCommentId",type:"BigInt!",defaultValue:null},{kind:"LocalArgument",name:"commentType",type:"String!",defaultValue:null}],n=[{kind:"Variable",name:"commentId",variableName:"replyCommentId"},{kind:"Variable",name:"commentType",variableName:"commentType"}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l=[t,a,{kind:"ScalarField",alias:null,name:"reverseOrder",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"givenName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"familyName",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scriptCode",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"CommentAddModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"Condition",isCustom:!1,customValue:null,passingValue:!0,condition:"showReplyHeader",selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"FragmentSpread",name:"UserName_user",args:null},{kind:"FragmentSpread",name:"UserPhoto_user",args:null}]},{kind:"FragmentSpread",name:"CommentQTextExpandable_comment",args:null}]}]}]},operation:{kind:"Operation",name:"CommentAddModalQuery",argumentDefinitions:e,selections:[{kind:"Condition",passingValue:!0,isCustom:!1,customValue:null,condition:"showReplyHeader",selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:n,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"uid",args:null,storageKey:null},t,{kind:"ScalarField",alias:null,name:"useTranslatedName",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"names",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:l},{kind:"LinkedField",alias:null,name:"adminNames",storageKey:null,args:null,concreteType:"UserName",plural:!0,selections:l},{kind:"ScalarField",alias:null,name:"isAnon",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileImageUrl",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"isVerified",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"businessStatus",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"profileUrl",args:null,storageKey:null},{kind:"Condition",passingValue:!0,isCustom:!0,customValue:{name:"annotate_with_ids",value:"true"},condition:"onGate",selections:[{kind:"ScalarField",alias:null,name:"debugInfo",args:null,storageKey:null}]}]},a,t,{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}]}]}]},params:{operationKind:"query",name:"CommentAddModalQuery",id:"2268c38133d69a0c1685df5cc140aa024f9a8c034ba8cb4934b4875d35014a0f",text:null,metadata:{}}}}();y.hash="bbaa4a20a875eaa35ffcb25d8fe13477";var f,v,h=y,S=a("q1tI"),T=a("VyO/"),F=a("RA+f"),E=a("jufJ"),K=a("zm58"),w=a("R+um"),C=a("r+vq"),A=a("AFGi"),_=a("Y+p1"),L=a.n(_),I=a("nwxp"),O=a("ptJ+"),Q=function(e){var n=e.comment;return n?S.createElement(F.d,{px:"medium",py:"small",maxHeight:"155px",minHeight:"84px",overflowY:"scroll",bg:"gray_ultralight"},S.createElement(F.s,{pb:"tiny",fontSize:"small",color:"gray_light"},S.createElement(E.A,null,"Replying to:")),S.createElement(F.j,{alignItems:"center"},S.createElement(C.a,{user:n.user}),S.createElement(F.d,{as:"span",pl:"tiny"},S.createElement(w.a,{user:n.user}))),S.createElement(F.s,{pt:"tiny",fontSize:"small"},S.createElement(O.a,{comment:n,charLimit:100}))):null};Q.displayName="Header";var q=function(e){function n(){return r()(this,n),d()(this,m()(n).apply(this,arguments))}return g()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,a=e.extraProps,t=e.dismissModalFlow,l=e.queryResult,i=a.commentType,r=a.containerId,s=a.commentDraftContent,o=s?JSON.parse(s):Object(A.f)();return S.createElement(T.a,{mutation:n.mutations.saveDraft},function(e){return S.createElement(K.a,{onPrimaryButtonClick:function(e){return t({content:e})},onNavButtonClick:function(e){return t({shouldRefetch:Object(I.f)()&&e&&!L()(e,o)})},editorKey:"add-comment-".concat(i,"-").concat(r),header:S.createElement(Q,{comment:l.comment}),titleText:Object(E.K)("Add Comments"),startingContent:o,placeholder:Object(E.K)("Add a comment..."),saveDraft:function(n){return e({variables:{containerId:r,commentType:i,content:JSON.stringify(n)}})}})})}}]),n}(S.Component);q.displayName="CommentAddModal",q.queries={onLoad:void 0!==f?f:f=l},q.mutations={saveDraft:void 0!==v?v:v=t}},eL6j:function(e,n,a){"use strict";a.d(n,"a",function(){return T});var t={};a.r(t),a.d(t,"default",function(){return k});var l=a("8ZkK"),i=a.n(l),r=a("tQZz"),s=a.n(r),o=a("7eVb"),u=a.n(o),d=a("n3k3"),c=a.n(d),m=a("10u2"),p=a.n(m),g=function(){var e={kind:"ScalarField",alias:null,name:"linkUrl",args:[{kind:"Literal",name:"name",value:"spaces_faq"}],storageKey:'linkUrl(name:"spaces_faq")'},n={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"TribeFAQLinkQuery",type:"QueryRoot",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[e]}]}]},operation:{kind:"Operation",name:"TribeFAQLinkQuery",argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[e,n]},n]}]},params:{operationKind:"query",name:"TribeFAQLinkQuery",id:"6f26250c0ccc094b223e7a4fa8c0f3b5cbdd772d2d9e28d3693bfdbe2db9b2ea",text:null,metadata:{}}}}();g.hash="30de5af5245998a99d2536f42e034bb5";var b,k=g,y=a("q1tI"),f=a.n(y),v=a("zLpq"),h=a("jufJ"),S=a("D5Zh"),T=function(e){function n(){return i()(this,n),u()(this,c()(n).apply(this,arguments))}return p()(n,e),s()(n,[{key:"render",value:function(){return f.a.createElement(f.a.Fragment,null,f.a.createElement(S.a,{query:n.queries.getLinkUrl},function(e){var n,a,t=e.data;if(e.loading)return null;var l=null===(n=t.viewer)||void 0===n?void 0:null===(a=n.network)||void 0===a?void 0:a.linkUrl;return f.a.createElement(v.a,{href:l,navStyle:"present",text:Object(h.K)("Learn more"),chevronSuffix:"right"})}))}}]),n}(f.a.Component);T.displayName="TribeFAQLink",T.queries={getLinkUrl:void 0!==b?b:b=t}},gQkS:function(e,n,a){"use strict";a.r(n),a.d(n,"default",function(){return A});var t={};a.r(t),a.d(t,"default",function(){return k});var l={};a.r(l),a.d(l,"default",function(){return h});var i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("7eVb"),d=a.n(u),c=a("n3k3"),m=a.n(c),p=a("10u2"),g=a.n(p),b=function(){var e=[{kind:"LocalArgument",name:"disclaimer",type:"JSONString!",defaultValue:null}],n=[{kind:"Variable",name:"disclaimer",variableName:"disclaimer"}],a={kind:"ScalarField",alias:null,name:"success",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"errorMessage",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"disclaimer",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerDisclaimerEditorModal_userSetDisclaimer_Mutation",type:"MutationRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"userSetDisclaimer",storageKey:null,args:n,concreteType:"UserSetDisclaimer",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l]}]}]}]},operation:{kind:"Operation",name:"AnswerDisclaimerEditorModal_userSetDisclaimer_Mutation",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"userSetDisclaimer",storageKey:null,args:n,concreteType:"UserSetDisclaimer",plural:!1,selections:[a,t,{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[l,i]},i]}]}]},params:{operationKind:"mutation",name:"AnswerDisclaimerEditorModal_userSetDisclaimer_Mutation",id:"b5f6debf04d96a47587449db16aea4adbe986c66335cf9d868c54a2a918184f0",text:null,metadata:{}}}}();b.hash="311ae76ac4e26f5dba74a08b5df467fb";var k=b,y=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a=[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"network",storageKey:null,args:null,concreteType:"Network",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"linkUrl",args:[{kind:"Literal",name:"name",value:"disclaimer"}],storageKey:'linkUrl(name:"disclaimer")'}]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"AnswerDisclaimerEditorModalQuery",type:"QueryRoot",metadata:null,argumentDefinitions:[],selections:a},operation:{kind:"Operation",name:"AnswerDisclaimerEditorModalQuery",argumentDefinitions:[],selections:a},params:{operationKind:"query",name:"AnswerDisclaimerEditorModalQuery",id:"e3a93c2f4bddb4cf6849c1004fadd4cefde957ee26203ad8620e86f34b51faa5",text:null,metadata:{}}}}();y.hash="b46032be560615e263106be9301f2379";var f,v,h=y,S=a("q1tI"),T=a("zm58"),F=a("jufJ"),E=a("oJdr"),K=a("RA+f"),w=a("AFGi"),C=a("VyO/"),A=function(e){function n(){return r()(this,n),d()(this,m()(n).apply(this,arguments))}return g()(n,e),o()(n,[{key:"render",value:function(){var e,a,t,l=this,i=this.props,r=i.dismissModalFlow,s=i.extraProps,o=null!==(e=null===s||void 0===s?void 0:s.titleText)&&void 0!==e?e:Object(F.K)("Create Your Disclaimer"),u=null!==(a=null===s||void 0===s?void 0:s.primaryButtonText)&&void 0!==a?a:Object(F.K)("Create Disclaimer"),d=null!==(t=null===s||void 0===s?void 0:s.subtitleText)&&void 0!==t?t:this.renderHeader();return S.createElement(C.a,{mutation:n.mutations.setDisclaimer},function(e){return S.createElement(T.a,{editorKey:"answerDisclaimer",primaryButtonText:u,onPrimaryButtonClick:function(n){if(Object(w.l)(n))r();else{var a=JSON.stringify(n);e({variables:{disclaimer:a},onCompleted:function(e){if(e){var n=e.userSetDisclaimer,t=n.success,l=n.errorMessage;t?r({disclaimer:a}):l?Object(E.a)({message:Object(F.J)(l)}):Object(E.a)({message:Object(F.K)("Something went wrong.")})}}})}},onNavButtonClick:function(){r()},titleText:o,startingContent:l.getStartingContent(),hasPadding:!0,subtitleText:d})})}},{key:"renderHeader",value:function(){var e=this.props.queryResult.viewer.network.linkUrl;return S.createElement(F.A,null,"You may create a personal disclaimer to be displayed below your answers. For more information, see"," ",S.createElement(K.p,{href:e,navStyle:"present"},"What are disclaimers on Quora?"))}},{key:"getStartingContent",value:function(){var e,n=null===(e=this.props.extraProps)||void 0===e?void 0:e.disclaimer;return n?JSON.parse(n):Object(w.f)()}}]),n}(S.Component);A.displayName="AnswerDisclaimerEditorModal",A.queries={onLoad:void 0!==f?f:f=l},A.mutations={setDisclaimer:void 0!==v?v:v=t}},"gUk/":function(e,n,a){"use strict";a.r(n),a.d(n,"default",function(){return k});var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("7eVb"),o=a.n(s),u=a("n3k3"),d=a.n(u),c=a("10u2"),m=a.n(c),p=a("q1tI"),g=a("SW3P"),b=a("zm58"),k=function(e){function n(){return l()(this,n),o()(this,d()(n).apply(this,arguments))}return m()(n,e),r()(n,[{key:"render",value:function(){var e=this.props,n=e.extraProps,a=e.dismissModalFlow;return p.createElement(b.a,Object.assign({onPrimaryButtonClick:function(e){return a({content:e})},onNavButtonClick:function(){return a({})}},n))}}],[{key:"useReactVersion",value:function(){return Object(g.a)("use_react_editor_modal")}}]),n}(p.Component)},"ptJ+":function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",function(){return k});var l,i=a("8ZkK"),r=a.n(i),s=a("tQZz"),o=a.n(s),u=a("7eVb"),d=a.n(u),c=a("n3k3"),m=a.n(c),p=a("10u2"),g=a.n(p),b={kind:"Fragment",name:"CommentQTextExpandable_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"content",args:null,storageKey:null}],hash:"01d00496a36ec6b7b6f21f4167d21d95"},k=b,y=a("q1tI"),f=a("wB5M"),v=a("VyO/"),h=function(e){function n(){return r()(this,n),d()(this,m()(n).apply(this,arguments))}return g()(n,e),o()(n,[{key:"render",value:function(){var e=this.props,n=e.comment.content,a=e.charLimit,t=void 0===a?300:a,l=JSON.parse(n);return y.createElement(f.a,{qt:l,charLimit:t,truncationType:"regular",hasImageBoundary:!1,bg:"white"})}}]),n}(y.Component);h.displayName="CommentQTextExpandable",h.fragments={comment:void 0!==l?l:l=t};n.a=Object(v.b)(h)},sP50:function(e,n,a){"use strict";var t={};a.r(t),a.d(t,"default",function(){return S});var l={};a.r(l),a.d(l,"default",function(){return F});var i={};a.r(i),a.d(i,"default",function(){return A});var r=a("jQsN"),s=a.n(r),o=a("tcRq"),u=a.n(o),d=a("8ZkK"),c=a.n(d),m=a("tQZz"),p=a.n(m),g=a("7eVb"),b=a.n(g),k=a("n3k3"),y=a.n(k),f=a("10u2"),v=a.n(f),h=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null};return{kind:"Fragment",name:"AudiencePickerSelector_tribe",type:"Tribe",metadata:null,argumentDefinitions:[],selections:[e,n,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"isSubmissionEnabled",args:[{kind:"Literal",name:"contentType",value:49},{kind:"Literal",name:"isExternalHyperlinkShareSubmission",value:!0}],storageKey:"isSubmissionEnabled(contentType:49,isExternalHyperlinkShareSubmission:true)"}]},{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"SubmissionRulesBanner_tribe",args:null}]}}();h.hash="57d86488eacbbbbd2efa9ef66770c55a";var S=h,T=function(){var e={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},a=[e,n,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[e,n,{kind:"ScalarField",alias:null,name:"isSubmissionEnabled",args:[{kind:"Literal",name:"contentType",value:49},{kind:"Literal",name:"isExternalHyperlinkShareSubmission",value:!0}],storageKey:"isSubmissionEnabled(contentType:49,isExternalHyperlinkShareSubmission:true)"}]},{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"SubmissionRulesBanner_tribe",args:null}];return{kind:"Fragment",name:"AudiencePickerSelector_viewer",type:"Viewer",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"contentType",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"contentOid",type:"BigInt",defaultValue:null}],selections:[e,n,{kind:"LinkedField",alias:null,name:"audiencePickerTribesUserCanShareTo",storageKey:null,args:[{kind:"Variable",name:"contentOid",variableName:"contentOid"},{kind:"Variable",name:"contentType",variableName:"contentType"}],concreteType:"AudiencePickerTribesUserCanShareTo",plural:!1,selections:[e,n,{kind:"LinkedField",alias:null,name:"recentlyVisited",storageKey:null,args:null,concreteType:"Tribe",plural:!0,selections:a},{kind:"LinkedField",alias:null,name:"recommended",storageKey:null,args:null,concreteType:"Tribe",plural:!0,selections:a}]}]}}();T.hash="2901fc93af41ac8595e8939af45a3e4b";var F=T,E=function(){var e=[{kind:"LocalArgument",name:"query",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"contentType",type:"BigInt!",defaultValue:null}],n=[{kind:"Variable",name:"contextOid",variableName:"contentType"},{kind:"Literal",name:"limit",value:10},{kind:"Variable",name:"query",variableName:"query"},{kind:"Literal",name:"querySource",value:7},{kind:"Literal",name:"queryType",value:41}],a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"tribeId",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"submissionRules",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"viewerCanContribute",args:null,storageKey:null},o={kind:"ScalarField",alias:null,name:"viewerCanCreateContentQueueItem",args:null,storageKey:null},u={kind:"LinkedField",alias:null,name:"settings",storageKey:null,args:null,concreteType:"TribeSettings",plural:!1,selections:[a,t,{kind:"ScalarField",alias:null,name:"isSubmissionEnabled",args:[{kind:"Literal",name:"contentType",value:49},{kind:"Literal",name:"isExternalHyperlinkShareSubmission",value:!0}],storageKey:"isSubmissionEnabled(contentType:49,isExternalHyperlinkShareSubmission:true)"}]};return{kind:"Request",fragment:{kind:"Fragment",name:"AudiencePickerSelectorQuery",type:"QueryRoot",metadata:null,argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"searchQuery",storageKey:null,args:n,concreteType:null,plural:!0,selections:[a,t,{kind:"InlineFragment",type:"TribeSearchResult",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[a,t,l,i,r,s,o,u,{kind:"FragmentSpread",name:"TribeIcon_tribe",args:null},{kind:"FragmentSpread",name:"TribeName_tribe",args:null},{kind:"FragmentSpread",name:"SubmissionRulesBanner_tribe",args:null}]}]}]}]},operation:{kind:"Operation",name:"AudiencePickerSelectorQuery",argumentDefinitions:e,selections:[{kind:"LinkedField",alias:null,name:"searchQuery",storageKey:null,args:n,concreteType:null,plural:!0,selections:[a,t,{kind:"InlineFragment",type:"TribeSearchResult",selections:[{kind:"LinkedField",alias:null,name:"tribe",storageKey:null,args:null,concreteType:"Tribe",plural:!1,selections:[a,t,l,i,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"iconUrl",args:[{kind:"Literal",name:"size",value:100}],storageKey:"iconUrl(size:100)"},r,s,o,u]}]}]}]},params:{operationKind:"query",name:"AudiencePickerSelectorQuery",id:"a30377bce40000f7d1cec9254bfdf51ab281b4731b114dd2939545d4015e927a",text:null,metadata:{}}}}();E.hash="99e98c5f3d6a0c1f483b8195de56d2a9";var K,w,C,A=E,_=a("q1tI"),L=a("RA+f"),I=a("cztr"),O=a("MI6j"),Q=a("jufJ"),q=a("n2ec"),P=a("PuWf"),N=a("AFGi"),D=a("06DM"),j=a("OMLc"),R=a("nwxp"),x=a("VyO/"),M=void 0!==K?K:K=i,U=function(e){function n(e){var a;return c()(this,n),(a=b()(this,y()(n).call(this,e))).handleOnSelect=function(e){var n,t,l=e.title,i=e.data;null===(n=(t=a.props).onSelectorChange)||void 0===n||n.call(t,i),a.setState({input:l})},a.handleInputChange=function(e){a.setState({input:e})},a.clearInput=function(){a.setState({input:""})},a.state={input:""},a}return v()(n,e),p()(n,[{key:"render",value:function(){var e,n=this,a=[],t=this.props.viewer.audiencePickerTribesUserCanShareTo||{},l=t.recentlyVisited,i=t.recommended;if(a.push({item:_.createElement(O.b,{icon:_.createElement(j.a,{color:"blue",name:"Followers"}),mainText:Object(Q.K)("Your followers")}),title:Object(Q.K)("Your followers"),data:{tribe:null,hyperlinkShareToFollowers:!0}}),l&&0!==l.length){a.push({item:_.createElement(D.a,{fontSize:"small",mt:"small",titleText:Object(Q.K)("Recently visited Spaces")}),title:Object(Q.K)("Recently visited Spaces"),data:{tribe:null,hyperlinkShareToFollowers:!1},disabled:!0});for(var r=0;r<l.length;r++){var o=l[r];a.push({item:_.createElement(O.b,{icon:_.createElement(q.a,{linked:!1,tribe:o,includeHovercard:!1}),mainText:_.createElement(P.a,{tribe:o})}),title:Object(Q.L)(Object(N.p)(o.name)),data:{tribe:o,hyperlinkShareToFollowers:!1}})}}if(i&&0!==i.length){a.push({item:_.createElement(O.b,{mainText:Object(Q.K)("Recommended Spaces")}),title:Object(Q.K)(""),data:{tribe:null,hyperlinkShareToFollowers:!1}});for(var d=0;d<i.length;d++){var c=i[d];a.push({item:_.createElement(O.b,{icon:_.createElement(q.a,{linked:!1,tribe:c,includeHovercard:!1}),mainText:_.createElement(P.a,{tribe:c})}),title:Object(Q.L)(Object(N.p)(c.name)),data:{tribe:c,hyperlinkShareToFollowers:!1}})}}return _.createElement(L.d,{borderTop:R.n,pt:null!==(e=R.n?"tiny":null)&&void 0!==e?e:undefined},_.createElement(I.a,{async:!0,options:u()(s.a.mark(function m(){var e,t,l,i,r,o,u,d;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(n.state.input){s.next=2;break}return s.abrupt("return",a);case 2:return s.next=4,n.props.client.query({query:M,variables:{query:n.state.input,contentType:n.props.contentType},fetchPolicy:"store-or-network"});case 4:if(e=s.sent,t=e.data,l=[],t)for(i=0;i<t.searchQuery.length;i++)r=Object(Q.K)(""),o=t.searchQuery[i],(u=o.tribe)&&(d=u.name,r=Object(Q.L)(Object(N.p)(d))),l.push({item:_.createElement(V,{searchQuery:o}),data:{tribe:u,hyperlinkShareToFollowers:!1},title:r});return s.abrupt("return",l);case 9:case"end":return s.stop()}},m)})),inputPlaceholder:Object(Q.K)("Choose a Space"),limit:10,onInputChange:this.handleInputChange,onChange:this.handleOnSelect,autoFocus:!1,listComponent:L.f,inputWrapperProps:{variant:"small",iconName:"Search",mt:R.n?"small":"tiny",ml:R.n?"medium":"tiny",mr:R.n?"medium":"tiny"},forceOpenMenu:!0,onFocus:this.clearInput,listProps:{borderAll:!1}}))}}]),n}(_.Component);U.displayName="AudiencePickerSelector",U.fragments={viewer:void 0!==w?w:w=l},U.privateFragments={tribe:void 0!==C?C:C=t},U.queries={selector:M};n.a=Object(x.b)(Object(x.f)(U));var V=function(e){function n(){return c()(this,n),b()(this,y()(n).apply(this,arguments))}return v()(n,e),p()(n,[{key:"render",value:function(){var e=this.props.searchQuery.tribe;return e?_.createElement(O.b,{icon:_.createElement(q.a,{linked:!1,tribe:e,includeHovercard:!1}),mainText:_.createElement(P.a,{tribe:e})}):null}}]),n}(_.Component);V.displayName="AudiencePickerSelectorResult"},ttvG:function(e,n,a){"use strict";a.r(n),a.d(n,"editCredentialsFlowTransition",function(){return k});var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("7eVb"),o=a.n(s),u=a("n3k3"),d=a.n(u),c=a("10u2"),m=a.n(c),p=a("q1tI"),g=a.n(p),b=a("nW6E"),k=function(e){var n=e.flowData;(0,e.showNextModal)({modalProps:{name:n.nextModal}})},y=function(e){function n(){return l()(this,n),o()(this,d()(n).apply(this,arguments))}return m()(n,e),r()(n,[{key:"render",value:function(){var e=this.props,n=e.children,a=e.businessProfileUid,t=e.handleEditCredentials;return g.a.createElement(b.c,{modalFlowProps:{transitionName:"editCredentialsFlowTransition",containerProps:{easyDismissEnabled:!0},initialFlowData:{nextModal:"EditCredentialsProfilePickerStep",writeOnBehalfUid:a},initialModalProps:{name:"EditCredentialsProfilePickerStep"},postDismissCallback:function(e){if(e){var n=e,a=n.shouldOpenWebnodeModal,l=n.businessUid,i=n.businessCredential,r=n.businessName,s=n.businessLogoUrl;(a||l!==undefined)&&t({shouldOpenWebnodeModal:a,businessUid:l,businessCredential:i,businessName:r,businessLogoUrl:s})}}}},function(e){var a=e.openModalFlow;return n({openModalFlow:a})})}}]),n}(g.a.Component);y.displayName="EditCredentialsFlow",n["default"]=y},xdZJ:function(e,n,a){"use strict";a.d(n,"a",function(){return t}),a.d(n,"b",function(){return l}),a.d(n,"c",function(){return d}),a.d(n,"d",function(){return c});var t,l,i=a("8meh"),r=a.n(i),s=a("jufJ"),o=a("q1tI");!function(e){e[e.none=0]="none",e[e.tooShortQuestion=1]="tooShortQuestion",e[e.improperQuestion=2]="improperQuestion",e[e.directQuestion=3]="directQuestion",e[e.anyoneQuestion=4]="anyoneQuestion",e[e.canAnyoneQuestion=5]="canAnyoneQuestion",e[e.badPunctuation=6]="badPunctuation",e[e.surveyQuestion=7]="surveyQuestion",e[e.whoCanQuestion=8]="whoCanQuestion",e[e.badSurveyPhrase=9]="badSurveyPhrase",e[e.wrongLanguage=10]="wrongLanguage",e[e.tooLongQuestion=11]="tooLongQuestion",e[e.missingQuestionMark=12]="missingQuestionMark",e[e.missingInvertedQuestionMark=13]="missingInvertedQuestionMark",e[e.wrongScript=71]="wrongScript",e[e.userBlocked=101]="userBlocked",e[e.questionExists=102]="questionExists",e[e.a2aFailure=103]="a2aFailure",e[e.anonRateLimit=104]="anonRateLimit",e[e.invalidSource=105]="invalidSource",e[e.unconfirmedEmailUserRateLimit=106]="unconfirmedEmailUserRateLimit",e[e.needsEmailConfirmation=107]="needsEmailConfirmation",e[e.seededQuestionDNE=109]="seededQuestionDNE",e[e.seededQuestionTooSimilar=110]="seededQuestionTooSimilar",e[e.translatedToTranslation=111]="translatedToTranslation",e[e.shouldBeTribeSubmission=112]="shouldBeTribeSubmission",e[e.shouldBeTribeContentQueueItem=113]="shouldBeTribeContentQueueItem"}(t||(t={})),function(e){e[e.none=0]="none",e[e.unconfirmedEmail=1]="unconfirmedEmail",e[e.noPermission=2]="noPermission",e[e.linkInvalid=3]="linkInvalid"}(l||(l={}));var u="This question should be more general. Try starting your question with 'What is...', 'How do I...' or 'Why does...'",d=function(e,n,a,l){var i;return e?a?Object(s.K)("Request sent."):Object(s.K)("Successfully asked question."):Object(s.K)(o.createElement(s.a,{value:n},(i={},r()(i,t.tooShortQuestion,"This question needs more detail. Add more information to ask a clear question, written as a complete sentence."),r()(i,t.tooLongQuestion,"This question should be shorter. Please rephrase the question to be a concise, easily understood question with fewer than 250 characters."),r()(i,t.improperQuestion,"This question should be a complete sentence."),r()(i,t.directQuestion,"This question should be a complete sentence."),r()(i,t.anyoneQuestion,u),r()(i,t.canAnyoneQuestion,u),r()(i,t.badPunctuation,"This question has extra question marks. Rewrite this question to end with single question mark."),r()(i,t.surveyQuestion,u),r()(i,t.whoCanQuestion,u),r()(i,t.badSurveyPhrase,"This question should be a complete sentence."),r()(i,t.missingQuestionMark,"This question should end with a question mark."),r()(i,t.missingInvertedQuestionMark,"This question should include an inverted question mark."),r()(i,t.userBlocked,"You have been blocked from adding questions."),r()(i,t.anonRateLimit,"You have written too many anonymous questions or answers. Please try again later."),r()(i,t.invalidSource,"The source should be a valid link."),r()(i,t.unconfirmedEmailUserRateLimit,"You have reached your question adding limit."),r()(i,t.needsEmailConfirmation,"Please confirm your email before adding anonymous questions."),r()(i,t.seededQuestionDNE,"Failed to add question."),r()(i,t.seededQuestionTooSimilar,"Failed to add question."),r()(i,t.translatedToTranslation,"This question already exists as a translation of another question."),r()(i,t.shouldBeTribeSubmission,"Successfully submitted to Space."),r()(i,t.shouldBeTribeContentQueueItem,"You queued this successfully."),r()(i,t.questionExists,"This question has already been asked."),r()(i,t.a2aFailure,"Could not ask this user to answer this question."),r()(i,t.wrongScript,l?o.createElement(o.Fragment,null,"This question should be in ",o.createElement(s.t,{languageCode:l,nativeName:!0})):"This question is in the wrong language."),i)))},c=function(e,n){var a;return e?Object(s.K)("Successfully shared the link."):Object(s.K)(o.createElement(s.a,{value:n},(a={},r()(a,l.unconfirmedEmail,"Please confirm your email before adding a link."),r()(a,l.noPermission,"You do not have permission to add a link."),r()(a,l.linkInvalid,"This link is invalid. Enter a valid URL."),a)))}},xgmy:function(e,n,a){"use strict";var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("7eVb"),o=a.n(s),u=a("n3k3"),d=a.n(u),c=a("10u2"),m=a.n(c),p=a("q1tI"),g=a("RA+f"),b=a("jufJ"),k=a("F6zL"),y=function(e){function n(){return l()(this,n),o()(this,d()(n).apply(this,arguments))}return m()(n,e),r()(n,[{key:"render",value:function(){var e=this,n=this.props.currentUrl||"";return p.createElement(g.d,{pt:"small"},p.createElement(k.c,{iconName:"Link",variant:"small",noBorder:!0,placeholder:Object(b.K)("Optional: include a link that gives context"),value:n,onChange:function(n){return e.props.onSourceUrlChange(n.target.value)}}))}}]),n}(p.Component);y.displayName="AskQuestionSourceInput",n.a=y},zm58:function(e,n,a){"use strict";a.d(n,"a",function(){return E});var t=a("8ZkK"),l=a.n(t),i=a("tQZz"),r=a.n(i),s=a("7eVb"),o=a.n(s),u=a("n3k3"),d=a.n(u),c=a("10u2"),m=a.n(c),p=a("q1tI"),g=a("sEfC"),b=a.n(g),k=a("nwxp"),y=a("yju1"),f=a("0xW3"),v=a("jufJ"),h=a("EreF"),S=a("AFGi"),T=a("nW6E"),F=a("RA+f"),E=function(e){function n(e){var a,t;return l()(this,n),(t=o()(this,d()(n).call(this,e))).editorRef=void 0,t.docHasChanged=void 0,t.debouncedSaveDraft=void 0,t.editorRef=null!==(a=e.ref)&&void 0!==a?a:p.createRef(),t.docHasChanged=!1,t.debouncedSaveDraft=b()(function(){t.props.saveDraft&&t.saveDraft(!0)},750,{maxWait:1e4,leading:!0}),t}return m()(n,e),r()(n,[{key:"componentDidMount",value:function(){var e=this;if(Object(k.f)()){var n=this.props,a=n.saveDraft,t=n.onNavButtonClick;Object(f.handleEventFromWebnode)("qtextNativeSaveDraft",function(n){e.saveDraft(!1),t&&t(e.editorRef.current.save())}),Object(f.handleEventFromWebnode)("qtextNativeClearDraft",function(n){e.clearDraft(!1),t&&t(e.editorRef.current.save())}),Object(y.a)("setupEditor",{hasDraft:!!a})}}},{key:"saveDraft",value:function(e){var n=this.props.saveDraft;n&&(n(this.editorRef.current.save(),e),Object(k.f)()&&!e&&Object(y.a)("draftSaveComplete",{success:!0}))}},{key:"clearDraft",value:function(e){var n=this.props,a=n.saveDraft,t=n.editorKey;a&&(a(Object(S.f)(),e),Object(k.f)()&&Object(y.a)("draftClearComplete",{key:t,success:!0}))}},{key:"showDiscardActionSheet",value:function(){var e=this,n=this.props.onNavButtonClick;Object(y.a)("showActionSheet",{title:"",buttonTitles:[Object(v.K)("Discard"),Object(v.K)("Keep Editing")],destructiveButtonIndex:0},function(a){0===a.buttonIndex&&n&&n(e.editorRef.current.save())})}},{key:"showDraftActionSheet",value:function(){var e=this,n=this.props.onNavButtonClick;Object(y.a)("showActionSheet",{title:"",buttonTitles:[Object(v.K)("Clear Draft"),Object(v.K)("Save Draft"),Object(v.K)("Keep Editing")],destructiveButtonIndex:0},function(a){var t=a.buttonIndex;if(0===t)e.clearDraft(!1);else{if(1!==t)return;e.saveDraft(!1)}n&&n(e.editorRef.current.save())})}},{key:"onNavButtonClick",value:function(){var e=this.props,n=e.onNavButtonClick,a=e.saveDraft;Object(k.f)()&&this.docHasChanged?a?this.showDraftActionSheet():this.showDiscardActionSheet():n&&n(this.editorRef.current.save())}},{key:"render",value:function(){var e=this,n=this.props,a=n.header,t=n.footer,l=n.afterEditorContent,i=n.placeholder,r=n.onPrimaryButtonClick,s=n.primaryButtonDisabled,o=n.showPrimaryButton,u=void 0===o||o,d=n.editorKey,c=n.onFirstChange,m=n.startingContent,g=void 0===m?Object(S.f)():m,b=n.showToolbar,y=void 0===b||b,f=n.titleText,E=void 0===f?Object(v.K)("Editor"):f,K=n.primaryButtonText,w=void 0===K?Object(v.K)("Submit"):K,C=n.hasPadding,A=n.subtitleText,_=n.navButton,L=void 0===_?"back":_;return p.createElement(T.e,{hasPadding:C,navButton:L,footerExtra:t,primaryButtonProps:u&&{text:w,onClick:function(){r&&r(e.editorRef.current.save())},disabled:s},navButtonProps:{onClick:function(){return e.onNavButtonClick()}},titleText:E,subtitleText:A},a,p.createElement(F.d,{height:k.j?"50vh":undefined},p.createElement(h.a,{placeholder:i,content:g,editorKey:d,ref:this.editorRef,onMeaningfulChange:function(){c&&!e.docHasChanged&&c(),e.docHasChanged=!0,e.debouncedSaveDraft()},toolbarOnWeb:y,toolbarOnMobile:y})),l)}}]),n}(p.Component);E.displayName="EditorModalLayout",E.defaultProps={hasPadding:!1}}}]);