!function(e){function t(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,s){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:s})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var o in e)t.d(s,o,function(t){return e[t]}.bind(null,o));return s},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/public/",t(t.s=28)}([function(e,t,i){window,e.exports=function(){function e(s){if(i[s])return i[s].exports;var o=i[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return(i={},e.m=t=[function(e,t,i){"use strict";function s(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(){if(c()){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];(e=console).log.apply(e,s(l.apply(void 0,["MESSAGE:","color: darkseagreen;"].concat(i))))}}function n(){if(c()){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];(e=console).log.apply(e,s(l.apply(void 0,["EVENT:","color: lightsteelblue;"].concat(i))))}}function r(){if(c()){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];(e=console).info.apply(e,s(l.apply(void 0,["INFO:","color: powderblue;"].concat(i))))}}function a(){if(c()){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];(e=console).warn.apply(e,s(l.apply(void 0,["WARNING:","color: lightsalmon;"].concat(i))))}}function d(){if(c()){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];(e=console).error.apply(e,s(l.apply(void 0,["ERROR:","color: mediumvioletred;"].concat(i))))}}function l(e,t){for(var i=arguments.length,s=new Array(2<i?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];var n=s;return n.unshift(t),n.unshift("display: inline-block; color: #fff; background: #00c3dd; padding: 2px 5px 2px 4px; border-radius: 2px;"),n.unshift("%cSH%c ".concat(e)),n}function c(){return window.SH_DEBUG}i.r(t);var p={};i.r(p),i.d(p,"logMessage",(function(){return o})),i.d(p,"logEvent",(function(){return n})),i.d(p,"logInfo",(function(){return r})),i.d(p,"logWarn",(function(){return a})),i.d(p,"logError",(function(){return d}));var h=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){var s,o,n;s=e,n=i[o=t],o in s?Object.defineProperty(s,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[o]=n}))}return e}({},p,{EventBus:function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={},this.globalListeners=[]}return function(e,t,i){t&&function(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t)}(e,[{key:"addEventListener",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=e,n=!1;e.endsWith(".*")&&(o=e.substring(0,e.length-2),n=!0),this.events[o]||(this.events[o]=[]);var r={handler:t,once:i,withSubEvents:n};return s?this.events[o].unshift(r):this.events[o].push(r),this}},{key:"addGlobalEventListener",value:function(e){var t={handler:e,once:1<arguments.length&&void 0!==arguments[1]&&arguments[1]};return 2<arguments.length&&void 0!==arguments[2]&&arguments[2]?this.globalListeners.unshift(t):this.globalListeners.push(t),this}},{key:"once",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return this.addEventListener(e,t,!0,i)}},{key:"removeEventListener",value:function(e,t){return this.events[e]&&(this.events[e]=this.events[e].filter((function(e){return e.handler!==t}))),this}},{key:"removeGlobalEventListener",value:function(e){return this.globalListeners=this.globalListeners.filter((function(t){return t.handler!==e})),this}},{key:"dispatchEvent",value:function(e){for(var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=function(s){var o=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];s.forEach((function(s){(o||s.withSubEvents)&&(s.toRemove||t.asyncCall(s.handler,e,i),s.once&&(s.toRemove=!0))})),s=s.filter((function(e){return!0!==e.toRemove}))},o=e.split(".");o.length;){var n=o.join(".");this.events[n]&&s(this.events[n],n===e),o.pop()}return s(this.globalListeners),this}},{key:"asyncCall",value:function(e,t,i){setTimeout(e.bind(this,t,i),0)}},{key:"clearEvent",value:function(e){return delete this.events[e],this}},{key:"clearAll",value:function(){return this.events={},this.globalListeners=[],this}}]),e}()});t.default=h}],e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)e.d(s,o,function(e){return t[e]}.bind(null,o));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=0)).default;var t,i}()},function(e,t,i){"use strict";function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function n(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}i.d(t,"a",(function(){return l}));var d=i(0),l=function(e){function t(e){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=n(this,r(t).call(this,e));var s=e.spots,o=e.iframesCollection,a=e.spotRectangleChanger,d=e.services;return i.spots=s,i.iframesCollection=o,i.spotRectangleChanger=a,i.services=d,i.events=[],i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,d.EventBus),function(e,t,i){t&&o(e.prototype,t),i&&o(e,i)}(t,[{key:"searchPlaceholders",value:function(){this.spots.tryToSearch()}},{key:"disposePlaceholder",value:function(e){var t=e.querySelector("iframe[id]").getAttribute("id");this.iframesCollection.forget(t),this.spotRectangleChanger.forget(t),e.parentNode.removeChild(e)}},{key:"subscribe",value:function(e,t){this.addEventListener("".concat(e,".*"),t)}},{key:"unsubscribe",value:function(e){this.clearEvent(e)}},{key:"dispatch",value:function(e){"pubtag-player-api.event"===e.intent&&this.dispatchEvent(e.eventType,e.event),"pubtag-player-api.keywords"===e.intent&&(this.services.setKeywordsApi(e.url),e.keywordsVar&&(this.services.setKeywords(this.iframesCollection.websiteWindow[e.keywordsVar]),this.setKeywords(this.services.keywords)))}},{key:"intentPause",value:function(e){this.intentToIframe(e,"pause")}},{key:"intentNext",value:function(e){this.intentToIframe(e,"next")}},{key:"intentPlay",value:function(e){this.intentToIframe(e,"play")}},{key:"intentUnmute",value:function(e){this.intentToIframe(e,"unmute")}},{key:"intentMute",value:function(e){this.intentToIframe(e,"mute")}},{key:"intentResize",value:function(e,t){this.spotRectangleChanger.onIframeResize(e||this.iframesCollection.iframeIds[0],t)}},{key:"intentToIframe",value:function(e,t){this.iframesCollection.iframeConfigs[e||this.iframesCollection.iframeIds[0]].eventBus.dispatchEvent("pubtag-player-api.intent",{intent:"pubtag-player-api.intent",intentName:t})}}],[{key:"getIframeId",value:function(e){return e.querySelector("iframe[id]")?e.querySelector("iframe[id]").getAttribute("id"):null}},{key:"setKeywords",value:function(e){var t=this.services.getKeywordsApi();if(t&&e){for(var i=this.services.getPageUrl(),s={"[PAGE_KEYWORDS]":encodeURI(e),"[PAGEURL]":encodeURI(i)},o=t,n=Object.keys(s),r=0;r<n.length;r+=1)o=o.replace(n[r],s[n[r]]);var a=new XMLHttpRequest;a.open("GET",o,!0),a.onload=function(){},a.send(null)}}}]),t}()},function(e,t,i){"use strict";function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}i.d(t,"a",(function(){return o}));var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.spotRectangleChanger,s=t.websiteWindow,o=t.iframesCollection,n=t.debugLogger;this.ima3tag="https://imasdk.googleapis.com/js/sdkloader/ima3.js",this.spotRectangleChanger=i,this.iframesCollection=o,this.websiteWindow=s,this.debugLogger=n,this.configByFrameIds={},this.sdk=null,this.intervalTimer=null}return function(e,t,i){t&&s(e.prototype,t),i&&s(e,i)}(e,[{key:"init",value:function(t,i){var s=this,o=document.getElementById(t),n=document.createElement("div"),r=e.getVideoElement();this.configByFrameIds[t]=this.configByFrameIds[t]||{},this.configByFrameIds[t]={video:r,slot:n,duration:null,eventBus:this.iframesCollection.iframeConfigs[t].eventBus},n.setAttribute("style","position: absolute; z-index: 2; width: 100%; height: 100%; background: #000;"),n.appendChild(r),o.parentNode.appendChild(n),e.createIframe(n).then((function(e){e.style.display="none";var o=e.contentDocument;if(o){var n=o.querySelector("body");n.style.margin="0",s.appendScript(s.ima3tag,n).then((function(){void 0!==e.contentWindow.google?(s.sdk=e.contentWindow.google.ima,s.initializeIMA({iframeId:t,adTagUrl:i})):s.debugLogger.log("google-sdk-ima","google is not defined",{player_id:s.iframesCollection.iframeConfigs[t].playerId})})).catch((function(e){s.onLoadError(e)}))}else s.debugLogger.log("google-sdk-ima","invalid frame document",{player_id:s.iframesCollection.iframeConfigs[t].playerId})}))}},{key:"initializeIMA",value:function(e){var t=this,i=this.sdk,s=e.iframeId,o=e.adTagUrl,n=this.configByFrameIds[s];try{i.settings.setVpaidMode(i.ImaSdkSettings.VpaidMode.INSECURE)}catch(e){}try{var r=function(){var e=t.websiteWindow.navigator;return!!e&&!!e.languages&&(e.languages[0]||e.language||e.userLanguage||"").substring(0,2)}();r&&i.settings.setLocale(r)}catch(e){}n.adDisplayContainer=new i.AdDisplayContainer(n.slot,n.video),n.adsLoader=new i.AdsLoader(n.adDisplayContainer),n.adsRequest=new i.AdsRequest,n.adsRenderingSettings=new i.AdsRenderingSettings;var a=n.video,d=n.adsRequest,l=n.adsLoader;l.addEventListener(i.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this,s),!1),l.addEventListener(i.AdErrorEvent.Type.AD_ERROR,this.onLoadError.bind(this,s),!1),navigator.userAgent.match(/iPhone|iPod|iPad/)&&l.getSettings().setDisableCustomPlaybackForIOS10Plus(!0),d.adTagUrl=o,d.linearAdSlotWidth=a.clientWidth,d.linearAdSlotHeight=a.clientHeight,d.nonLinearAdSlotWidth=a.clientWidth,d.nonLinearAdSlotHeight=a.clientHeight/3,l.requestAds(d)}},{key:"onAdsManagerLoaded",value:function(e,t){var i=this.configByFrameIds[e];i.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!1,i.adsRenderingSettings.useStyledLinearAds=!0;var s=i.adsRenderingSettings,o=i.video,n=i.eventBus;i.adsManager=t.getAdsManager(o,s),this.setupSdkListeners(e),n.dispatchEvent("googleIMASDK.ready")}},{key:"setupSdkListeners",value:function(e){var t=this,i=this.sdk,s=this.configByFrameIds[e],o=s.adsManager,n=s.video;["ALL_ADS_COMPLETED","LOADED","STARTED","DURATION_CHANGE","COMPLETE","PAUSED","RESUMED","SKIPPED","CLICK"].forEach((function(s){o.addEventListener(i.AdEvent.Type[s],t.onAdEvent.bind(t,e))})),o.addEventListener(i.AdErrorEvent.Type.AD_ERROR,this.onError.bind(this,e)),n.addEventListener("playing",(function(){n.style.zIndex="-1"}))}},{key:"onAdEvent",value:function(e,t){var i=this,s=this.sdk,o=this.configByFrameIds[e],n=o.eventBus,r=o.adsManager,a=t.getAd();if(t.type===s.AdEvent.Type.LOADED){if(!a.isLinear())return void this.onError(e,"Ad is not linear");n.dispatchEvent("googleIMASDK.durationchanged",{duration:a.getDuration()})}t.type===s.AdEvent.Type.DURATION_CHANGE&&n.dispatchEvent("googleIMASDK.durationchanged",{duration:a.getDuration()}),t.type===s.AdEvent.Type.STARTED&&(a.isLinear()||this.onError(e,"Ad is not linear"),n.dispatchEvent("googleIMASDK.started"),this.intervalTimer=setInterval((function(){i.onCurrentTime(e,r.getRemainingTime())}),300)),t.type===s.AdEvent.Type.PAUSED&&(o.paused=!0,n.dispatchEvent("googleIMASDK.paused")),t.type===s.AdEvent.Type.RESUMED&&(o.paused=!1,n.dispatchEvent("googleIMASDK.resumed")),t.type===s.AdEvent.Type.CLICK&&n.dispatchEvent("googleIMASDK.click"),t.type===s.AdEvent.Type.SKIPPED&&(n.dispatchEvent("googleIMASDK.skipped"),this.destroy(e)),t.type===s.AdEvent.Type.COMPLETE&&(n.dispatchEvent("googleIMASDK.completed"),this.destroy(e))}},{key:"play",value:function(t){var i=this.sdk,s=this.configByFrameIds[t],o=s.adDisplayContainer,n=s.adsManager,r=s.video,a=s.slot;if(o){o.initialize();try{n.init(r.clientWidth,r.clientHeight,i.ViewMode.NORMAL),n.start(),e.createControls(a),this.onClickControls(t)}catch(e){this.onError(t,e)}}}},{key:"pause",value:function(e){this.configByFrameIds[e].adsManager.pause()}},{key:"resume",value:function(e){this.configByFrameIds[e].adsManager.resume()}},{key:"onCurrentTime",value:function(e,t){var i=this.configByFrameIds[e],s=i.paused,o=i.eventBus;i.duration||(i.duration=Math.round(t)),s||o.dispatchEvent("googleIMASDK.progress",{currentTime:i.duration-t})}},{key:"onLoadError",value:function(e){var t=this.configByFrameIds[e],i=t.eventBus,s=t.adsManager;i.dispatchEvent("googleIMASDK.loadError"),s&&s.destroy(),this.destroy(e)}},{key:"onError",value:function(e,t){this.configByFrameIds[e].eventBus.dispatchEvent("googleIMASDK.error",{error:t}),this.destroy(e)}},{key:"destroy",value:function(e){var t=this.configByFrameIds[e].slot;t.parentNode.removeChild(t),clearInterval(this.intervalTimer)}},{key:"onClickControls",value:function(e){var t=this.configByFrameIds[e],i=t.adsManager,s=t.eventBus;document.querySelector(".googleIMASDK-volume").addEventListener("click",(function(){0===i.getVolume()?(i.setVolume(1),document.querySelector(".googleIMASDK-volume-on").style.visibility="hidden",document.querySelector(".googleIMASDK-volume-off").style.visibility="visible"):(i.setVolume(0),document.querySelector(".googleIMASDK-volume-on").style.visibility="visible",document.querySelector(".googleIMASDK-volume-off").style.visibility="hidden"),s.dispatchEvent("googleIMASDK.volumechanged",{volume:i.getVolume()})}))}},{key:"appendScript",value:function(e,t){var i=this;return new Promise((function(s,o){var n=document.createElement("script");n.type="text/javascript",n.src=e,n.onerror=function(){return o(new Error("error on script element"))},n.onload=function(){return s()},n.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState&&s()},t.appendChild(n)}))}}],[{key:"createControls",value:function(e){var t=document.createElement("div");t.setAttribute("style","position: absolute; top: 4px; left: 6px; z-index: 999;"),t.innerHTML="<div style='display:flex; align-items: center; width:32px;height:32px; background: rgba(71,95,107,0.5); border-radius: 8px;'><div class='googleIMASDK-volume' style='position: relative; width: 18px; height: 18px; margin: 0 8px;cursor: pointer;'><img style='position: absolute; width: 18px; height: 18px;' class='googleIMASDK-volume-on'src='https://di-szm339fj.leasewebultracdn.com/storage/vpaid/gwd/ui/sound-on.svg' /><img style='position: absolute; visibility:hidden; width: 18px; height: 18px;' class='googleIMASDK-volume-off' src='https://di-szm339fj.leasewebultracdn.com/storage/vpaid/gwd/ui/sound-off.svg' /></div></div>",e.appendChild(t)}},{key:"createIframe",value:function(e){return new Promise((function(t){var i=document.createElement("iframe");i.src="about:blank",i.style.width="100%",i.style.height="100%",i.style.display="block",i.style.opacity="0",i.style.position="absolute",i.style.top="0px",i.style.border="none",i.scrolling="no",e.appendChild(i),i.contentWindow.document.open().write('<body onload="frameElement.frameonload();"><style>iframe {border-width: 0;}</style></body>'),i.frameonload=function(){return t(i)},i.contentWindow.document.close()}))}},{key:"getVideoElement",value:function(){var e=document.createElement("video");return e.setAttribute("playsinline","true"),e.setAttribute("webkit-playsinline","true"),e.setAttribute("preload","auto"),e.setAttribute("muted","true"),e.setAttribute("style","display:block; width: 100%; height: 100%; min-width:100%; max-width:100%; position: absolute; z-index: -1; top: 0px; object-fit: contain;"),e.volume=0,e.muted=!0,e}}]),e}()},function(e,t,i){"use strict";function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function n(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=i(0),l="spot.loaded";i.d(t,"a",(function(){return c}));var c=function(e){function t(e){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=n(this,r(t).call(this,e));var s=e.websiteWindow,o=e.spotRectangleChanger,a=e.passbackListener,d=e.iframesCollection,l=e.prebidComposer,c=e.adFlows,p=e.googleAd,h=e.switchInAd,u=e.isSafeFrame,f=e.googleIMASDK;return i.websiteWindow=s,i.spotRectangleChanger=o,i.passbackListener=a,i.iframesCollection=d,i.prebidComposer=l,i.adFlows=c,i.googleAd=p,i.switchInAd=h,i.isSafeFrame=u,i.googleIMASDK=f,i.api=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,d.EventBus),function(e,t,i){t&&o(e.prototype,t)}(t,[{key:"setupApi",value:function(e){this.api=e}},{key:"subscribeEvents",value:function(e){var t=this;e.addGlobalEventListener((function(e,i){if(e===l&&(t.iframesCollection.add(i.iframeId),t.isSafeFrame&&t.spotRectangleChanger.onMessageMakeShapeFixed({publisherIframeId:i.iframeId,aspectRatio:$sf.ext.geom().self.h/$sf.ext.geom().self.w,width:$sf.ext.geom().self.w,height:$sf.ext.geom().self.h})),"openUrl"===e){var s=t.websiteWindow.open(i.url,"_blank");null!=s||(t.websiteWindow.location.href=i.url)}"addAdToFlow"===e&&t.adFlows.setAd(i.publisherIframeId,i.type,i.adId,i.cpm,i.renderIntoSpot,i.vastId),"setAdSettings"===e&&(t.adFlows.setAdMaxTimeOut(i.publisherIframeId,i.options.timeout),t.passbackListener.setSpotPassbackListener(i.publisherIframeId,"noad",i.options.noadJS)),"getReadyAdFromFlow"===e&&t.adFlows.getReadyAd(i.publisherIframeId,i.timeout,i.type),"getNextReadyAdFromFlow"===e&&t.adFlows.getNextReadyAd(i.publisherIframeId),"stopWatchingAdFlow"===e&&t.adFlows.forget(i.publisherIframeId),"clearAdsFromAdFlow"===e&&t.adFlows.clearAdsByType(i.publisherIframeId,i.type),"setAnimation"===e&&t.spotRectangleChanger.setAnimation(i.publisherIframeId),"setHeader"===e&&t.spotRectangleChanger.onMessageSetHeader(i.publisherIframeId,i.headerHtml),"setCaptions"===e&&t.spotRectangleChanger.onMessageMakeCaptions(i.publisherIframeId,i.config),"removeCaptions"===e&&t.spotRectangleChanger.onMessageHideCaptions(i.publisherIframeId),"makeShapeResponsive"===e&&t.spotRectangleChanger.onMessageMakeShapeResponsive(i),"makeShapeFixed"===e&&t.spotRectangleChanger.onMessageMakeShapeFixed(i),"iframeResized"===e&&t.spotRectangleChanger.onIframeResized(i.publisherIframeId),"runPassbackListener"===e&&t.passbackListener.runPassback(i.publisherIframeId,i.type,i.pixel,i.pixelError,i.backMessageName),"googleIMASDK.init"===e&&t.googleIMASDK.init(i.publisherIframeId,i.adTagUrl),"googleIMASDK.play"===e&&t.googleIMASDK.play(i.publisherIframeId),"googleIMASDK.pause"===e&&t.googleIMASDK.pause(i.publisherIframeId),"googleIMASDK.resume"===e&&t.googleIMASDK.resume(i.publisherIframeId),"showGoogleAd"===e&&t.googleAd.render(i.publisherIframeId,i.adsUnitPath,i.adsSizes),"renderSwitchInAd"===e&&t.switchInAd.render(i.publisherIframeId,i.partner,i.pubId,i.src),"setupPrebid"===e&&t.prebidComposer.setup(i.publisherIframeId,i.config),"setKeywords"===e&&t.prebidComposer.setKeywords(i.publisherIframeId,i.config),"startDisplayAuction"===e&&t.prebidComposer.startDisplayAuction(i.publisherIframeId),"startNonLinearAuction"===e&&t.prebidComposer.startNonLinearAuction(i.publisherIframeId),"startVideoAuction"===e&&t.prebidComposer.startVideoAuction(i.publisherIframeId),"sasCookieSync"===e&&t.prebidComposer.sasCookieSync(i.config),"checkSmartHBVideoAds"===e&&t.prebidComposer.checkSmartHBAds(i.publisherIframeId,"video"),"setFullscreenOn"===e&&t.spotRectangleChanger.setFullscreenOn(i.publisherIframeId,i.mobileClickoutUrl,i.native),"setFullscreenOff"===e&&t.spotRectangleChanger.setFullscreenOff(i.publisherIframeId,i.native),"viewability"===e&&t.spotRectangleChanger.setViewability(i.publisherIframeId,i.intentParam1,i.intentParam2),"destroyPlayer"===e&&setTimeout((function(){t.spotRectangleChanger.destroySpot(i.publisherIframeId)}),100),"playerFocused"===e&&(t.spotRectangleChanger.device.isFirefox()?t.iframesCollection.checkActiveTab(!0):t.websiteWindow.focus()),"pubtag-player-api.event"!==i.intent&&"pubtag-player-api.keywords"!==i.intent||t.api.dispatch(i),"vpaidMode"===i.intent&&t.spotRectangleChanger.setVpaidMode(i.publisherIframeId,i.active)}))}},{key:"destroy",value:function(){for(var e in this.iframesCollection.iframeConfigs)this.iframesCollection.iframeConfigs.hasOwnProperty(e)&&this.iframesCollection.iframeConfigs[e].eventBus.removeGlobalEventListener()}}]),t}()},function(e,t,i){"use strict";e.exports=function(){var e=document.createElement("div");return e.setAttribute("data-a-b","c"),Boolean(e.dataset&&"c"===e.dataset.aB)}()?function(e){return e.dataset}:function(e){function t(){return this.value}function i(e,t){void 0===t?this.removeAttribute(e):this.setAttribute(e,t)}for(var s={},o=e.attributes,n=0,r=o.length;n<r;n++){var a=o[n];if(a){var d=a.name;if(0===d.indexOf("data-")){var l=d.slice(5).replace(/-./g,(function(e){return e.charAt(1).toUpperCase()})),c=a.value;Object.defineProperty(s,l,{enumerable:!0,get:t.bind({value:c||""}),set:i.bind(e,d)})}}}return s}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _modules_MessagesListner_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_modules_Api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_modules_GoogleIMASDK_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),Cookie=__webpack_require__(6),Device=__webpack_require__(7),Spots=__webpack_require__(11),SpotRectangleChanger=__webpack_require__(12),PlayerIframeComposer=__webpack_require__(14),IframesCollection=__webpack_require__(15),resetWindowStyles=__webpack_require__(16),Services=__webpack_require__(17),GDPRComposer=__webpack_require__(18),PrebidComposer=__webpack_require__(19),AdFlows=__webpack_require__(22),PassbackListener=__webpack_require__(23),GoogleAd=__webpack_require__(24),SwitchInAd=__webpack_require__(25),CustomIntegration=__webpack_require__(26),PubSub=__webpack_require__(27),runPubtag=function(e,t,i,s,o,n,r,a,d,l,c){var p=new Cookie(e.websiteWindow),h=new Device(e.websiteWindow,p,t);!0===h.isAutoplaySupportedImmediately()&&1!=d?(h.checkAutoplayDisallowing(),continuePubtag(!0,h,p,e,t,i,s,o,n,r,a,l,c)):!0===h.isAutoplayNotSupportedImmediately()||1==d?continuePubtag(!1,h,p,e,t,i,s,o,n,r,a,l,c):(h.runAutoplayTest(),setTimeout((function(){var d=!1;!0===h.isAutoplaySupported&&(h.checkAutoplayDisallowing(),d=!0),continuePubtag(d,h,p,e,t,i,s,o,n,r,a,l,c)}),1100))},continuePubtag=function continuePubtag(isNativeSupported,device,cookie,integrationType,debugLogger,zoneHost,playerHost,widgetHost,playerParams,passbackListener,noadPassbackListener,vpaid,carouselPassbackListener){var evalPassbackListener=function evalPassbackListener(){debugLogger.log("passback-browser-unsupported"),void 0!==passbackListener&&passbackListener&&setTimeout((function(){eval(passbackListener)}),2e3)},isSafeFrame="iframe_safeframe"===integrationType.within,isInsidePreviewIframe="iframe_preview"===integrationType.within,pageUrl=isSafeFrame||isInsidePreviewIframe?document.referrer:integrationType.websiteWindow.location.href;if(isNativeSupported);else if(!device.isCanvasSupported())return debugLogger.log("browser-unsupported",device.getFailedSupportMessage()),void evalPassbackListener();debugLogger.log("browser-supported"),"iframe"==integrationType.within&&resetWindowStyles(window);var iframesCollection=new IframesCollection(debugLogger,integrationType.websiteWindow,"iframe"===integrationType.within?integrationType.websiteIframe:null,isSafeFrame);isInsidePreviewIframe||vpaid||iframesCollection.watchActiveTab();var pubSub=new PubSub,spotRectangleChanger=new SpotRectangleChanger(iframesCollection,"iframe"===integrationType.within?integrationType.websiteIframe:null,integrationType.websiteWindow,device,isSafeFrame,debugLogger,pubSub);spotRectangleChanger.intial(),spotRectangleChanger.watchPositions(),spotRectangleChanger.watchViewport();var passbackListener=new PassbackListener(spotRectangleChanger,iframesCollection,{noad:noadPassbackListener,carouselStopped:carouselPassbackListener}),adFlows=new AdFlows(iframesCollection),prebidComposer=new PrebidComposer(iframesCollection,spotRectangleChanger,adFlows,pageUrl,debugLogger),googleAd=new GoogleAd(spotRectangleChanger,iframesCollection),googleIMASDK=new _modules_GoogleIMASDK_js__WEBPACK_IMPORTED_MODULE_2__.a({spotRectangleChanger:spotRectangleChanger,websiteWindow:integrationType.websiteWindow,iframesCollection:iframesCollection,debugLogger:debugLogger}),switchInAd=new SwitchInAd(spotRectangleChanger,iframesCollection),messagesListner=window.MessagesListner=new _modules_MessagesListner_js__WEBPACK_IMPORTED_MODULE_0__.a({websiteWindow:integrationType.websiteWindow,spotRectangleChanger:spotRectangleChanger,passbackListener:passbackListener,iframesCollection:iframesCollection,prebidComposer:prebidComposer,adFlows:adFlows,googleAd:googleAd,switchInAd:switchInAd,isSafeFrame:isSafeFrame,googleIMASDK:googleIMASDK}),playerIframeComposer=new PlayerIframeComposer(zoneHost,playerHost,widgetHost,pageUrl,device,isNativeSupported,playerParams,isInsidePreviewIframe,Boolean(void 0!==noadPassbackListener&&noadPassbackListener),isSafeFrame),spots=new Spots(integrationType,debugLogger,playerIframeComposer,spotRectangleChanger,passbackListener,iframesCollection,messagesListner),gdprComposer=new GDPRComposer(isSafeFrame);spots.checkOptStateAndCMP(gdprComposer);var services=new Services(pageUrl),api=new _modules_Api_js__WEBPACK_IMPORTED_MODULE_1__.a({spots:spots,iframesCollection:iframesCollection,spotRectangleChanger:spotRectangleChanger,services:services});window.SHCore.api=api,"function"==typeof window.onShowheroesPubtagAPIReady&&window.onShowheroesPubtagAPIReady.call(window,api),messagesListner.setupApi(api)},initPubtag=function(){window.ShowheroesEnv&&window.ShowheroesEnv.integrationType&&window.ShowheroesEnv.debugLogger&&(void 0!==window.MessagesListner&&window.MessagesListner.destroy(),window.SHCore={},window.ShowheroesEnv.zoneHost=window.ShowheroesEnv.zoneHost||"https://playview.showheroes.com",window.ShowheroesEnv.widgetHost=window.ShowheroesEnv.widgetHost||"https://apollo.showheroes.com",window.ShowheroesEnv.playerHost=window.ShowheroesEnv.playerHost||"https://video-library.showheroes.com",window.ShowheroesEnv.playerHost.indexOf("video-library")<0&&window.ShowheroesEnv.debugLogger.log("player-host-error","player host was overwritten",{player_host:window.ShowheroesEnv.playerHost}),window.ShowheroesEnv.playerParams=window.ShowheroesEnv.playerParams||null,window.ShowheroesEnv.inited=!0,new CustomIntegration(window.ShowheroesEnv.customSpotPlacement,window.ShowheroesEnv.integrationType,window.ShowheroesEnv.tagSrc,(function(){runPubtag(window.ShowheroesEnv.integrationType,window.ShowheroesEnv.debugLogger,window.ShowheroesEnv.zoneHost,window.ShowheroesEnv.playerHost,window.ShowheroesEnv.widgetHost,window.ShowheroesEnv.playerParams,window.ShowheroesEnv.passbackListener,window.ShowheroesEnv.noadPassbackListener,window.ShowheroesEnv.canvas,window.ShowheroesEnv.vpaid,window.ShowheroesEnv.carouselPassbackListener)}),window.ShowheroesEnv.debugLogger,window.ShowheroesEnv.customConfigs))};initPubtag()},function(e,t){var i=function(e){this.document=e.document};i.prototype.read=function(e){for(var t=this.document.cookie.split(";"),i=0;i<t.length;i++)if(t[i].substr(0,t[i].indexOf("=")).replace(/^\s+|\s+$/g,"")==e)return unescape(t[i].substr(t[i].indexOf("=")+1));return null},i.prototype.write=function(e,t,i){var s=new Date;s.setTime(s.getTime()+3600*i*1e3),this.document.cookie=e+"="+t+"; expires="+s.toUTCString()+"; path=/"},e.exports=i},function(e,t,i){var s=i(8),o=i(9),n=function(e,t,i){var s=(new o).getResult();this.browser=s.browser,this.websiteWindow=e,this.cookie=t,this.debugLogger=i,this.isAutoplaySupported=null,this.isAutoplayDisallow=!1,this.failedSupportMessage="",this.litmusSrc="https://static.showheroes.com/litmus.mp4",this.litmusDataUri="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAs1tZGF0AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMjYwMSBhMGNkN2QzIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTEgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEwIHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAD2WIhAA3//728P4FNjuZQQAAAu5tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAZAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACGHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAgAAAAIAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAGQAAAAAAAEAAAAAAZBtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAACgAAAAEAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAE7bWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAA+3N0YmwAAACXc3RzZAAAAAAAAAABAAAAh2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgACAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwFkAAr/4QAYZ2QACqzZX4iIhAAAAwAEAAADAFA8SJZYAQAGaOvjyyLAAAAAGHN0dHMAAAAAAAAAAQAAAAEAAAQAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAAsUAAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjQwLjEwMQ=="};n.prototype.isBot=function(){return!!this.websiteWindow.navigator.userAgent&&/bot|googlebot|crawler|spider|robot|crawling/.test(this.websiteWindow.navigator.userAgent.toLowerCase())},n.prototype.isDesktop=function(){return this.websiteWindow.document.documentElement.clientWidth>639},n.prototype.isAndroid=function(){return/android/i.test(this.websiteWindow.navigator.userAgent.toLowerCase())},n.prototype.isIOS=function(){return this.websiteWindow.navigator.userAgent.match(/iPhone|iPad|iPod/i)&&!this.websiteWindow.MSStream},n.prototype.isIOSFBInstantArticle=function(){return this.websiteWindow.navigator.userAgent.match(/iPhone|iPad|iPod/i)&&this.websiteWindow.navigator.userAgent.match(/FBAN|FBDV/i)&&!this.websiteWindow.navigator.userAgent.match(/FBIOS/i)&&!this.websiteWindow.MSStream},n.prototype.isIOSWebView=function(){return this.websiteWindow.navigator.userAgent.match(/iPhone|iPad|iPod/i)&&!this.websiteWindow.navigator.userAgent.match(/Safari/i)},n.prototype.isFirefox=function(){return this.websiteWindow.navigator.userAgent.indexOf("Firefox")>-1},n.prototype.isInternetExplorer=function(){return this.websiteWindow.navigator.userAgent.match(/Trident/i)&&!this.websiteWindow.navigator.userAgent.match(/Edge/i)},n.prototype.isIOSVersion=function(e,t){if(this.isIOS()){var i=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(this.websiteWindow.navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||0;if(i<t)return!0;if(i>=e&&!t)return!0}return!1},n.prototype.isAutoplayNotSupportedImmediately=function(){return!!this.isIOSVersion(0,10)&&(this.isAutoplaySupported=!1,!0)},n.prototype.isModernBrowser=function(){if(!s[this.browser.name])return null;var e=parseInt(s[this.browser.name],10);return this.browser.major>=e||!(this.browser.major<e)&&null},n.prototype.isAutoplaySupportedImmediately=function(){if(this.isBot())return this.failedSupportMessage="Bot crawler, not a browser",this.isAutoplaySupported=!1,!1;if(!0===this.isModernBrowser())return this.isAutoplaySupported=!0,!0;var e=this.cookie.read("showheroes_AutoplayTestResult");return"true"===e?(this.isAutoplaySupported=!0,!0):"false"===e?(this.failedSupportMessage="AutoplayTest result is negative",this.isAutoplaySupported=!1,!1):null},n.prototype.runAutoplayTest=function(){var e,t=5,i=0,s=document.createElement("video");"autoplay"in s||this.finishedAutoplayTest(!1);var o=this,n=function n(r){i++,clearTimeout(e);var a=r&&"playing"===r.type||0!==s.currentTime;!a&&i<=t?e=setTimeout(n,200):(o.finishedAutoplayTest(a),s.removeEventListener("playing",n,!1),s.parentNode.removeChild(s))};s.setAttribute("autoplay",""),s.autoplay=!0,s.setAttribute("muted",""),s.muted=!0,s.setAttribute("playsinline",""),s.playsinline=!0,s.style.cssText="position:fixed;bottom:0;left:0;width:1px;height:1px;overflow:hidden;opacity:0.1;z-index:9999999",this.websiteWindow.document.querySelector("body").appendChild(s),s.addEventListener("playing",n,!1);try{this.isIOS()?(s.src=this.litmusDataUri,s.play()):(s.src=this.litmusSrc,s.play(),t=30)}catch(e){return void this.finishedAutoplayTest(!1)}setTimeout((function(){s.addEventListener("playing",n,!1),e=setTimeout(n,200)}),0)},n.prototype.finishedAutoplayTest=function(e){this.isAutoplaySupported=e,!0===e&&this.cookie.write("showheroes_AutoplayTestResult","true",168)},n.prototype.isCanvasSupported=function(){if(this.isBot())return this.failedSupportMessage="Bot crawler, not a browser",!1;if(!window.requestAnimationFrame){for(var e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame)return this.failedSupportMessage="No support for requestAnimationFrame",!1}return void 0!==this.websiteWindow.ShowheroesEnv&&void 0!==this.websiteWindow.ShowheroesEnv.playerHost&&this.websiteWindow.ShowheroesEnv.playerHost.indexOf("video-library")>=0||(window.AudioContext||window.webkitAudioContext?"performance"in window&&window.performance.now()>0||(this.failedSupportMessage="No support for windowPerformance",!1):(this.failedSupportMessage="No support for webAudio",!1))},n.prototype.getFailedSupportMessage=function(){return this.failedSupportMessage},n.prototype.checkAutoplayDisallowing=function(){var e=this,t=document.createElement("video");t.setAttribute("autoplay",""),t.muted=!0,t.setAttribute("playsinline",""),t.src=this.isIOS()?this.litmusDataUri:this.litmusSrc;var i=t.play();void 0!==i&&i.then((function(){})).catch((function(t){e.isIOS()&&(e.isAutoplayDisallow=!0),e.debugLogger.log("video-error",t.message||"Video autoplay is disallow.")}))},e.exports=n},function(e,t){e.exports={"Mobile Safari":"10",Firefox:"50","Chrome Mobile":"53",Chrome:"51","Samsung Internet":"7","Samsung Browser":"7",UCBrowser:"9",Edge:"12",Facebook:"140",Safari:"10",IE:"10",Google:"30","Chrome Mobile WebView":"43","Android Browser":"4","Firefox Mobile":"50","Chrome Mobile iOS":"54","Mobile Safari UI/WKWebView":"10",WebKit:"400",Opera:"37","Amazon Silk":"65",Instagram:"72","Firefox iOS":"13","Opera Mobile":"49",Flipboard:"4"}},function(e,t,i){var s;!function(o,n){"use strict";var r="model",a="name",d="type",l="vendor",c="version",p="mobile",h="tablet",u={extend:function(e,t){var i={};for(var s in e)t[s]&&t[s].length%2==0?i[s]=t[s].concat(e[s]):i[s]=e[s];return i},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f={rgx:function(e,t){for(var i,s,o,n,r,a,d=0;d<t.length&&!r;){var l=t[d],c=t[d+1];for(i=s=0;i<l.length&&!r;)if(r=l[i++].exec(e))for(o=0;o<c.length;o++)a=r[++s],"object"==typeof(n=c[o])&&n.length>0?2==n.length?"function"==typeof n[1]?this[n[0]]=n[1].call(this,a):this[n[0]]=n[1]:3==n.length?"function"!=typeof n[1]||n[1].exec&&n[1].test?this[n[0]]=a?a.replace(n[1],n[2]):void 0:this[n[0]]=a?n[1].call(this,a,n[2]):void 0:4==n.length&&(this[n[0]]=a?n[3].call(this,a.replace(n[1],n[2])):void 0):this[n]=a||void 0;d+=2}},str:function(e,t){for(var i in t)if("object"==typeof t[i]&&t[i].length>0){for(var s=0;s<t[i].length;s++)if(u.has(t[i][s],e))return"?"===i?void 0:i}else if(u.has(t[i],e))return"?"===i?void 0:i;return e}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},g={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,c],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],c],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[a,c],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],c],[/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],c],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],c],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],c],[/(focus)\/([\w\.]+)/i],[[a,"Firefox Focus"],c],[/(opt)\/([\w\.]+)/i],[[a,"Opera Touch"],c],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],c],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],c],[/(brave)\/([\w\.]+)/i],[[a,"Brave"],c],[/(qqbrowserlite)\/([\w\.]+)/i],[a,c],[/(QQ)\/([\d\.]+)/i],[a,c],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,c],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[a,c],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,c],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[c,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[c,[a,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[a,c],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[c,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],c],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],c],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[c,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,c],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],c],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],c],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],c],[/fxios\/([\w\.-]+)/i],[c,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[c,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[c,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[c,f.str,m.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",u.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",u.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",u.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[r,l,[d,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[r,[l,"Apple"],[d,h]],[/(apple\s{0,1}tv)/i],[[r,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,r,[d,h]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[r,[l,"Amazon"],[d,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[r,f.str,m.device.amazon.model],[l,"Amazon"],[d,p]],[/android.+aft([bms])\sbuild/i],[r,[l,"Amazon"],[d,"smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[r,l,[d,p]],[/\((ip[honed|\s\w*]+);/i],[r,[l,"Apple"],[d,p]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,r,[d,p]],[/\(bb10;\s(\w+)/i],[r,[l,"BlackBerry"],[d,p]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[r,[l,"Asus"],[d,h]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[r,"Xperia Tablet"],[d,h]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[r,[l,"Sony"],[d,p]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,r,[d,"console"]],[/android.+;\s(shield)\sbuild/i],[r,[l,"Nvidia"],[d,"console"]],[/(playstation\s[34portablevi]+)/i],[r,[l,"Sony"],[d,"console"]],[/(sprint\s(\w+))/i],[[l,f.str,m.device.sprint.vendor],[r,f.str,m.device.sprint.model],[d,p]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,r,[d,h]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[r,/_/g," "],[d,p]],[/(nexus\s9)/i],[r,[l,"HTC"],[d,h]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[r,[l,"Huawei"],[d,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,r,[d,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[r,[l,"Microsoft"],[d,"console"]],[/(kin\.[onetw]{3})/i],[[r,/\./g," "],[l,"Microsoft"],[d,p]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[r,[l,"Motorola"],[d,p]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[r,[l,"Motorola"],[d,h]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,u.trim],[r,u.trim],[d,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[r,/^/,"SmartTV"],[l,"Samsung"],[d,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[r,[l,"Sharp"],[d,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],r,[d,h]],[/smart-tv.+(samsung)/i],[l,[d,"smarttv"],r],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[l,"Samsung"],r,[d,p]],[/sie-(\w*)/i],[r,[l,"Siemens"],[d,p]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[l,"Nokia"],r,[d,p]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[r,[l,"Acer"],[d,h]],[/android.+([vl]k\-?\d{3})\s+build/i],[r,[l,"LG"],[d,h]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],r,[d,h]],[/(lg) netcast\.tv/i],[l,r,[d,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[r,[l,"LG"],[d,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[r,[l,"Lenovo"],[d,h]],[/linux;.+((jolla));/i],[l,r,[d,p]],[/((pebble))app\/[\d\.]+\s/i],[l,r,[d,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,r,[d,p]],[/crkey/i],[[r,"Chromecast"],[l,"Google"]],[/android.+;\s(glass)\s\d/i],[r,[l,"Google"],[d,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[r,[l,"Google"],[d,h]],[/android.+;\s(pixel( [23])?( xl)?)\s/i],[r,[l,"Google"],[d,p]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[r,/_/g," "],[l,"Xiaomi"],[d,p]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[r,/_/g," "],[l,"Xiaomi"],[d,h]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[r,[l,"Meizu"],[d,h]],[/(mz)-([\w-]{2,})/i],[[l,"Meizu"],r,[d,p]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[r,[l,"OnePlus"],[d,p]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[r,[l,"RCA"],[d,h]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[r,[l,"Dell"],[d,h]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[r,[l,"Verizon"],[d,h]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],r,[d,h]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[r,[l,"NuVision"],[d,h]],[/android.+;\s(k88)\sbuild/i],[r,[l,"ZTE"],[d,h]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[r,[l,"Swiss"],[d,p]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[r,[l,"Swiss"],[d,h]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[r,[l,"Zeki"],[d,h]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[l,"Dragon Touch"],r,[d,h]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[r,[l,"Insignia"],[d,h]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[r,[l,"NextBook"],[d,h]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],r,[d,p]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[l,"LvTel"],r,[d,p]],[/android.+;\s(PH-1)\s/i],[r,[l,"Essential"],[d,p]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[r,[l,"Envizen"],[d,h]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[l,r,[d,h]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[r,[l,"MachSpeed"],[d,h]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,r,[d,h]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[r,[l,"Rotor"],[d,h]],[/android.+(KS(.+))\s+build/i],[r,[l,"Amazon"],[d,h]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[l,r,[d,h]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[d,u.lowerize],l,r],[/(android[\w\.\s\-]{0,9});.+build/i],[r,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[c,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,c],[/rv\:([\w\.]{1,9}).+(gecko)/i],[c,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[c,f.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[c,f.str,m.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[a,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],c],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],c],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[a,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],c],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[a,c],[/(haiku)\s(\w+)/i],[a,c],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[c,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[a,c]]},w=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof w))return new w(e,t).getResult();var i=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),s=t?u.extend(g,t):g;return this.getBrowser=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,i,s.browser),e.major=u.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return f.rgx.call(e,i,s.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return f.rgx.call(e,i,s.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,i,s.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,i,s.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};w.VERSION="0.7.19",w.BROWSER={NAME:a,MAJOR:"major",VERSION:c},w.CPU={ARCHITECTURE:"architecture"},w.DEVICE={MODEL:r,VENDOR:l,TYPE:d,CONSOLE:"console",MOBILE:p,SMARTTV:"smarttv",TABLET:h,WEARABLE:"wearable",EMBEDDED:"embedded"},w.ENGINE={NAME:a,VERSION:c},w.OS={NAME:a,VERSION:c},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=w),t.UAParser=w):i(10)?void 0!==(s=function(){return w}.call(t,i,t,e))&&(e.exports=s):o&&(o.UAParser=w);var b=o&&(o.jQuery||o.Zepto);if(void 0!==b&&!b.ua){var A=new w;b.ua=A.getResult(),b.ua.get=function(){return A.getUA()},b.ua.set=function(e){A.setUA(e);var t=A.getResult();for(var i in t)b.ua[i]=t[i]}}}("object"==typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,i){var s=["0f1c6658-63a2-47cc-aa65-ad307f1afca8","14543a27-b021-44e5-9ccd-302496d588fb","1634b589-6174-4a74-afda-21d3acae1728","25fc8821-2024-43be-aad6-5276fc0679b8","2aa586a3-89e0-4160-8f64-48839ff3039d","2b2549aa-e83a-4430-97e0-d6c087218813","2b50f3ea-87d6-4a61-a723-d1668dcc08d4","3245ca0f-6ce6-4440-a5d6-acec5c12b0bf","55fad13e-aa3a-4911-b4f7-b38b00297c6c","6c7a28a4-899d-47e0-94be-d67dc73cbf93","80382eab-21e1-46f7-862d-f0d7b66a7861","887a087d-a30f-44e5-94d0-4721a5965788","8b32f875-12fc-47ba-acc1-c45db2b5a160","910308b0-a60f-4dd9-9c7b-14760bd6db1a","93d775c7-864d-4cd8-a3bc-96077e573b4b","ad9f1fab-90cc-4fbb-bfd8-4927bb1e7eb7","c82c090d-f865-4ed9-a81f-deaa67e90ff3","ccaa247a-7cea-4e96-a245-34492f26705e","e0a0129c-4225-43fa-b5c7-48bfbe7b615d","e8e50d9b-52b1-4b22-9204-beb5004d4f70","f6bbff5f-d4cf-478e-af55-4bac5d26e651","f05c19b3-60b2-42de-9cc1-2a0fab53bfad","74e07f07-4d23-409c-8bb5-30954f1facd0","e383b214-0e48-4e13-a39c-69fe8404f7e0"],o=i(0),n=i(4),r=function(e,t,i,s,o,n,r){this.integrationType=e,this.debugLogger=t,this.playerIframeComposer=i,this.spotRectangleChanger=s,this.passbackListener=o,this.cmp=null,this.tcf=null,this.iframesCollection=n,this.messagesListner=r,this.defaultConsentString="BOyNAX_OyNAg_AHABBENC--AAAAuiAXAAqAB4AEEAJwAoABaADIAGkARABGACYAE8AKQAWwAxABvADmAH6AQABAgCGgFIAUoA4QCKAEdALqA"};r.prototype.fill=function(e,t,i){var s=this,n=Boolean(e.getAttribute("data-vpaid")),r=e.getAttribute("data-player"),a=e.getAttribute("data-noad-passback-listener"),d=this.integrationType.websiteWindow;if(a&&this.passbackListener.setSpotPassbackListener(t,"noad",a),"webpage"==this.integrationType.within&&null===e.offsetParent||"iframe_preview"==this.integrationType.within&&null===e.offsetParent||"iframe"==this.integrationType.within&&null===this.integrationType.websiteIframe.offsetParent&&!n)throw{message:"placeholder skipped because it is hidden or resides in an iframe that is hidden",debugEvent:"placeholder-hidden",params:{player_id:r}};e.appendChild(this.playerIframeComposer.compose(e,t)),this.iframesCollection.iframeConfigs[t]=this.iframesCollection.iframeConfigs[t]||{},this.iframesCollection.iframeConfigs[t].ampIntegration="iframe_preview"===this.integrationType.within&&(d.name.indexOf("amp")>=0||d.location.hash.indexOf("#amp=1")>=0),this.iframesCollection.iframeConfigs[t].playerId=r,this.iframesCollection.iframeConfigs[t].eventBus=new o.EventBus,this.messagesListner.subscribeEvents(this.iframesCollection.iframeConfigs[t].eventBus);var l=this.playerIframeComposer.makeSrc(e,i);l.indexOf("video-library")<0&&this.debugLogger.log("player-host-error","player host was overwritten before spot call",{player_host:this.playerIframeComposer.playerHost,player_id:r});var c=e.querySelector("#"+t),p='<script async onerror=\'(function() { window.postMessage("spot-error", "*"); })()\' src=\''+l+"'><\/script>";c.contentWindow.document.write(p),c.contentWindow.document.close();var h,u=null;u=setInterval((function(){if(!0!==h){if("function"==typeof c.contentWindow.initSetup)try{c.contentWindow.initSetup(s.iframesCollection.iframeConfigs[t].eventBus,s.getMacroses(e))}catch(e){s.debugLogger.log("spot-error","spot code has an Error: "+e.message,{player_id:r})}finally{clearInterval(u)}}else clearInterval(u)}),100),c.contentWindow.addEventListener("message",(function e(t){"spot-error"===t.data&&(h=!0,s.debugLogger.log("spot-error","cannot load spot",{player_id:r,player_host:s.playerIframeComposer.playerHost}),c.contentWindow.removeEventListener("message",e))}))},r.prototype.search=function(){for(var e,t,i=window.document.querySelectorAll(".publisher-sh-spot, .showheroes-spot, .showheroes-spot-polls"),o=0;o<i.length;o++)if(!(e=i[o]).hasAttribute("data-filled")&&!e.hasAttribute("data-skipped")){var n=document.createElement("div");n.classList.add("publisher-sh-spot-container"),n.style.flex="1 0 100%",e.parentNode.insertBefore(n,e),n.appendChild(e);try{t="showheroes-iframe-"+Math.random().toString().substring(2);var r=this.tcf?this.tcf:this.cmp;(!1===window.allowAdTracking||"out"==e.getAttribute("data-opt-state"))&&(r={consentData:"BON9SZFON9SZFAHABBENAUAAAAALeAAA",gdprApplies:!0});var a=e.getAttribute("data-player");s.indexOf(a)>=0&&(r={consentData:this.defaultConsentString,gdprApplies:!0}),this.fill(e,t,r),e.setAttribute("data-filled","true"),this.debugLogger.log("player-requested"),this.spotRectangleChanger.onSpotFilled(t)}catch(t){if(!t.message)throw t;e.setAttribute("data-skipped","true"),this.debugLogger.log(t.debugEvent,t.message,t.params)}}},r.prototype.tryToSearch=function(){this.cmp&&this.search()},r.prototype.checkOptStateAndCMP=function(e){var t=this;e.init((function(e){var i=e.cmp,s=e.tcf;if(i)t.cmp=i;else if(s){var o=s.tcString,n=s.gdprApplies;t.tcf={consentData:o,gdprApplies:n}}else t.cmp={consentData:t.defaultConsentString,gdprApplies:!0};t.search(),t.watch()}),(function(e){var i,s=e.cmp,o=e.tcf;s?(t.cmp=s,i=s):o&&(t.tcf={consentData:tcString,gdprApplies:gdprApplies},i=t.tcf),t.spotRectangleChanger.iframesCollection.setCMP(i)}))},r.prototype.watch=function(){var e=this;clearTimeout(e.watchTimeout);var t=40;e.watchTimeout=setTimeout((function i(){--t>0&&(e.search(),e.watchTimeout=setTimeout(i,1e3))}),1e3)},r.prototype.getMacroses=function(e){var t=n(e),i=null;return Object.keys(t).forEach((function(e){if("macros"===e){i=i||{};var s=JSON.parse(decodeURIComponent(t[e]));for(var o in s)if(s.hasOwnProperty(o)){var n=o.toUpperCase();i[n="["+n+"]"]=s[o]}}else if(0===e.indexOf("macros")){var r=e.replace("macros","").toUpperCase();0!==r.indexOf("SH_PUB_")&&(r="SH_PUB_"+r),(i=i||{})[r="["+r+"]"]=t[e]}})),i},e.exports=r},function(e,t,s){var o=s(13),n=function(e,t,i,s,o,n,r){this.iframesCollection=e,this.websiteIframe=t,this.websiteWindow=i,this.device=s,this.isSafeFrame=o,this.googleSafeframe=o&&this.websiteWindow.location.host.indexOf("googlesyndication")>=0,this.debugLogger=n,this.stickyframeId=null,this.measures={},this.captions={},this.headers={},this.aspectRatios={},this.fixedSizes={},this.vpaidMode={},this.settings={},this.watchViewportInterval=null,this.watchPositionsInterval=null,this.viewportSetterTimer=null,this.spotPositions={},this.observerSupported="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,this.debugLogger.log("viewport-detection-type","isSafe: "+this.isSafeFrame+"; observerSupported: "+this.observerSupported),this.pubSub=r,this.fullscreenEnabled=!1};n.prototype.forget=function(e){var t=!1;this.watchPositionsInterval&&(t=!0,clearInterval(this.watchPositionsInterval),this.watchPositionsInterval=null),e in this.headers&&this.headers[e].parentNode&&this.headers[e].parentNode.removeChild(this.headers[e]),e in this.captions&&this.captions[e].parentNode&&this.captions[e].parentNode.removeChild(this.captions[e]),e in this.measures&&this.measures[e].parentNode&&this.measures[e].parentNode.removeChild(this.measures[e]),e in this.headers&&delete this.headers[e],e in this.captions&&delete this.captions[e],e in this.measures&&delete this.measures[e],e in this.aspectRatios&&delete this.aspectRatios[e],e in this.fixedSizes&&delete this.fixedSizes[e],e in this.settings&&delete this.settings[e],t&&this.watchPositions()},n.prototype.setVpaidMode=function(e,t){this.vpaidMode[e]=t},n.prototype.setViewability=function(e,t,i){this.iframesCollection.iframeViewport[e]={delay:1e3*i,top:(0===t?1:t)/100,bottom:(100-t)/100,setted:!1,threshold:t<50?[t/100,(100-t)/100]:[.5],viewport:t}},n.prototype.recalculatePositions=function(){for(var e=0;e<this.iframesCollection.iframeIds.length;e++){this.iframesCollection.iframeIds[e]in this.spotPositions||(this.spotPositions[this.iframesCollection.iframeIds[e]]={});var t=this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]);if(this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).classList.contains("interscroller")){t=this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).parentNode.parentNode.parentNode.parentNode.parentNode;var i=(this.websiteWindow.document.documentElement.clientHeight-this.iframesCollection.iframes[this.iframesCollection.iframeIds[e]].clientHeight)/2;this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).style.marginTop=i+"px";var s=this.websiteWindow.document.documentElement.clientWidth,o=this.websiteWindow.document.documentElement.clientHeight,n=-(s-t.clientWidth)/2;this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).parentNode.parentNode.parentNode.style.width=s+"px",this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).parentNode.parentNode.parentNode.style.height=o+"px",this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).parentNode.parentNode.parentNode.style.left=n.toString()+"px",this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).parentNode.parentNode.parentNode.parentNode.style.minHeight=o+"px",this.spotPositions[this.iframesCollection.iframeIds[e]].offsetTop=t.offsetTop}else if(!this.isSafeFrame){var r=t,a=window;this.spotPositions[this.iframesCollection.iframeIds[e]].offsetTop=0;do{this.spotPositions[this.iframesCollection.iframeIds[e]].offsetTop+=r.offsetTop,null==(r=r.offsetParent)&&(r=a.frameElement,a=a.parent)}while(r)}this.spotPositions[this.iframesCollection.iframeIds[e]].width=t.offsetWidth,this.spotPositions[this.iframesCollection.iframeIds[e]].height=t.offsetHeight}this.iframesCollection.recalculatePositions()},n.prototype.watchPositions=function(){this.recalculatePositions();var e=this;this.watchPositionsInterval=setInterval((function(){e.recalculatePositions()}),1e3)},n.prototype.watchViewport=function(){if(!this.watchViewportInterval){var e=this;this.watchViewportInterval=setInterval((function(){e.isSafeFrame?e.checkViewport_SafeFrame():e.observerSupported?(e.setIntersectionObserver(),e.checkEPB()):(e.checkViewport_Old(),e.checkEPB())}),200)}},n.prototype.stopViewportWatching=function(e){clearInterval(this.watchViewportInterval);var t=this.spotPositions[e];t.observer&&(t.observer.stopObserve(),t.observer=null),this.watchViewportInterval=null},n.prototype.setIntersectionObserver=function(){for(var e=this,t=0;t<this.iframesCollection.iframeIds.length;t++){var i=this.iframesCollection.iframeIds[t];if(this.spotPositions[i]&&!this.spotPositions[i].observer){var s={root:null,rootMargin:"0px",threshold:Array.apply(null,{length:100}).map((function(e,t){return t/100}))};this.spotPositions[i].observer=new o({target:this.getWidgetTargetElement(i),options:s,iframeId:i,pubSub:this.pubSub}),this.pubSub.subscribe("pubtag.changeViewability",(function(t,i){e.checkViewport(i.ratio,i.iframeId);var s=i.ratio;e.isSafeFrame&&(s=$sf.ext.inViewPercentage()),e.iframesCollection.message(i.iframeId,{intent:"viewability-size",value:s>0?s:0})}))}}},n.prototype.checkViewability=function(e){if(this.iframesCollection.iframePositions[e]){var t=this.websiteWindow.innerWidth,i=this.websiteWindow.innerHeight,s=this.iframesCollection.iframePositions[e].width*this.iframesCollection.iframePositions[e].height,o=this.iframesCollection.iframes[e].getBoundingClientRect(),n=o.right-o.left,r=o.bottom-o.top;t<n&&(n=o.right-(o.right-t)-o.left),i<o.bottom?r-=o.bottom-i:o.top<0&&(r=o.bottom);var a=n*r,d=Math.round(100*a/s);this.isSafeFrame&&(d=$sf.ext.inViewPercentage()),this.iframesCollection.message(e,{intent:"viewability-size",value:d>0?d:0})}},n.prototype.checkViewport=function(e,t){var i=this.getWidgetTargetElement(t);if(i){var s=i.getAttribute("data-sticky-spot"),o=this.iframesCollection,n=o.iframePositions[t],r=o.iframeViewport[t];if(o.iframeIds.length&&!0===o.iframeConfigs[this.iframesCollection.iframeIds[0]].ampIntegration)!0!==n.ampNotFirstTime&&(this.iframesCollection.message(t,{intent:"play"}),n.ampNotFirstTime=!0);else if(e>=r.viewport&&!0!==n.inViewport)n.inViewport=!0,s&&this.setStickyStyles(t,!1),r.setted?o.message(t,{intent:"play"}):this.viewportSetterTimer=setTimeout((function(){r.setted=!0,o.message(t,{intent:"play"})}),r.delay);else if(e<r.viewport&&!0===n.inViewport){if(this.viewportSetterTimer&&clearTimeout(this.viewportSetterTimer),n.inViewport=!1,s)return void this.setStickyStyles(t,!0);o.message(t,{intent:"pause"})}}},n.prototype.checkViewport_Old=function(){this.websiteWindow.innerWidth,this.websiteWindow.innerHeight;var e,t,i=this.websiteWindow.document.documentElement.scrollTop||this.websiteWindow.document.body.scrollTop;for(e=0;e<this.iframesCollection.iframeIds.length;e++)if(this.spotPositions[this.iframesCollection.iframeIds[e]]){var s=this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).getAttribute("data-sticky-spot"),o=this.iframesCollection.iframeViewport[this.iframesCollection.iframeIds[e]],n=o.delay,r=o.top,a=o.bottom,d=o.setted;if(i+this.websiteWindow.innerHeight>this.spotPositions[this.iframesCollection.iframeIds[e]].offsetTop+r*this.spotPositions[this.iframesCollection.iframeIds[e]].height&&!(a*this.spotPositions[this.iframesCollection.iframeIds[e]].height+this.spotPositions[this.iframesCollection.iframeIds[e]].offsetTop<i)){if(!0!==this.iframesCollection.iframePositions[this.iframesCollection.iframeIds[e]].inViewport){for(this.iframesCollection.iframePositions[this.iframesCollection.iframeIds[e]].inViewport=!0,s&&this.setStickyStyles(this.iframesCollection.iframeIds[e],!1),t=0;t<this.iframesCollection.iframeIds.length;t++)t!=e&&this.iframesCollection.message(this.iframesCollection.iframeIds[t],{intent:"pause"});var l=this,c=e;d?l.iframesCollection.message(l.iframesCollection.iframeIds[c],{intent:"play"}):this.viewportSetterTimer=setTimeout((function(){l.iframesCollection.iframeViewport[l.iframesCollection.iframeIds[c]].setted=!0,l.iframesCollection.message(l.iframesCollection.iframeIds[c],{intent:"play"})}),n)}}else if(!0===this.iframesCollection.iframePositions[this.iframesCollection.iframeIds[e]].inViewport){if(this.iframesCollection.iframePositions[this.iframesCollection.iframeIds[e]].inViewport=!1,s)return void this.setStickyStyles(this.iframesCollection.iframeIds[e],!0);this.iframesCollection.message(this.iframesCollection.iframeIds[e],{intent:"pause"}),this.viewportSetterTimer&&clearTimeout(this.viewportSetterTimer)}this.checkViewability(this.iframesCollection.iframeIds[e])}},n.prototype.checkViewport_SafeFrame=function(){if(0!==this.iframesCollection.iframeIds.length){var e=this.iframesCollection.iframeIds[0],t=this.iframesCollection.iframeViewport[e],i=100*t.top;t.bottom,$sf.ext.inViewPercentage()>=i?!0!==this.iframesCollection.iframePositions[e].inViewport&&(this.iframesCollection.iframePositions[e].inViewport=!0,this.iframesCollection.message(e,{intent:"play"})):!0===this.iframesCollection.iframePositions[e].inViewport&&(this.iframesCollection.iframePositions[e].inViewport=!1,this.iframesCollection.message(e,{intent:"pause"})),this.websiteWindow.innerWidth,this.websiteWindow.innerHeight,this.checkViewability(e)}},n.prototype.checkEPB=function(){for(var e=this.websiteWindow.innerHeight,t=.7*e,i=this.websiteWindow.document.documentElement.scrollTop||this.websiteWindow.document.body.scrollTop,s=0;s<this.iframesCollection.iframeIds.length;s++){var o=this.spotPositions[this.iframesCollection.iframeIds[s]];if(!this.getWidgetTargetElement(this.iframesCollection.iframeIds[s]).getAttribute("data-sticky-spot")&&this.spotPositions[this.iframesCollection.iframeIds[s]]){var n=o.height,r=o.offsetTop,a=o.offsetTop+n;if(i<r-e-t||i>a+t){if(o.outEPB)return;o.outEPB=!0,this.iframesCollection.message(this.iframesCollection.iframeIds[s],{intent:"adPlay"})}else{if(!o.outEPB)return;o.outEPB=!1,this.iframesCollection.message(this.iframesCollection.iframeIds[s],{intent:"adPause"})}}}},n.prototype.setStickyStyles=function(e,t){var i=this;this.stickyframeId&&this.stickyframeId!==e&&this.setStickyStyles(this.stickyframeId,!1);var s=document.getElementById(e);if(this.stickyframeId=e,!0===t){var o=this.device.isDesktop(),n=!o,r=this.getWidgetTargetElement(e),a=n&&r.getAttribute("data-sticky-mobile-spot")||r.getAttribute("data-sticky-spot")||"bottom-right",d=a.split("-"),l=n&&r.getAttribute("data-sticky-mobile-width")&&r.getAttribute("data-sticky-mobile-height")||r.getAttribute("data-sticky-width")&&r.getAttribute("data-sticky-height"),c=n&&r.getAttribute("data-sticky-mobile-width")||r.getAttribute("data-sticky-width")||r.clientWidth||300,p=n&&r.getAttribute("data-sticky-mobile-height")||r.getAttribute("data-sticky-height")||r.clientHeight||300,h=s.getBoundingClientRect();s.setAttribute("style","");var u=!(!n||!r.getAttribute("data-banner-style")),f=20,m=o?.75:.67,g=h.top>0?"up":"down",w="up"===g?.4:.7,b=l?c:c*m,A=l?p:p*m,y="bottom"===d[0]?"up"===g?h[d[0]]-window.innerHeight-A:h[d[0]]+window.innerHeight+A:h[d[0]],v="right"===d[1]?window.innerWidth-h.left-b:h[d[1]],I="position:fixed !important; z-index:999 !important;width:"+c+"px !important;height:"+p+"px !important;margin:"+f+"px !important;";if(u){var C=r.getAttribute("data-sticky-mobile-margin")?r.getAttribute("data-sticky-mobile-margin").split("-"):0;f="";C&&(f="margin-".concat(C[0],": ").concat(C[1],"px !important;")),I="position:fixed !important; z-index:999 !important;width:"+window.innerWidth+"px !important;height:"+9*window.innerWidth/16+"px !important;"+f}s.setAttribute("style",I),s.style[d[0]]=(y||0)+"px !important",s.style[d[1]]=(v||0)+"px !important",s.style.boxShadow="0 0 10px rgba(0,0,0,0.3)",l||u||(s.style.transform="scale("+m+")"),setTimeout((function(){s.style[d[0]]="0",s.style[d[1]]="0",s.style.transition="all "+w+"s"}),20),s.style.border=0,s.style.transformOrigin=d[0]+" "+d[1]+" 0px",o&&i.addCloseButton(e,{spotPosition:a,position:d,originalMidth:c,originalHeight:p,width:b,height:A,margin:f,showDelay:w});var S=b/2+f,x=0;this.startTouchListening(s.contentDocument,{touchstart:function(e,t){s.style.transition=""},touchmove:function(t,o){"right"===d[1]?x-=o:x+=o,s.style[d[1]]=x+"px",(x<-S||x>window.innerWidth-S)&&i.setStickyStyles(e,!1)},touchend:function(){x<-S||x>window.innerWidth-S?i.setStickyStyles(e,!1):(x=0,s.style[d[1]]="0",s.style.transition="all "+w+"s")}})}else s.setAttribute("style","position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0;overflow:hidden;"),this.removeCloseButton(e),this.stopTouchListening(s.contentDocument)},n.prototype.addCloseButton=function(e,t){var i=(t=t||{}).position||[],s=document.createElement("div");s.setAttribute("class","showheroes-sticky-close"),s.setAttribute("data-iframe-id",e),s.innerHTML="&times;",s.style.width="24px",s.style.height="24px",s.style.position="fixed",s.style[i[0]]=parseInt(t.height,10)+parseInt(t.margin,10)+5+"px",s.style[i[1]]=t.margin+"px",s.style.background="rgba(0,0,0,0.3)",s.style.textAlign="center",s.style.lineHeight="24px",s.style.color="#ffffff",s.style.borderRadius="50%",s.style.boxShadow="0 0 10px rgba(0,0,0,0.3)",s.style.cursor="pointer",t.showDelay&&(s.style.opacity="0",setTimeout((function(){s&&(s.style.opacity="1",s.style.transition="opacity 0.3s")}),1e3*t.showDelay)),s.onclick=this.setStickyStyles.bind(this,e),this.iframesCollection.iframes[e].parentNode.appendChild(s)},n.prototype.removeCloseButton=function(e){var t=this.iframesCollection.iframes[e].parentNode.querySelector(".showheroes-sticky-close");t&&t.parentNode.removeChild(t)},n.prototype.onSpotFilled=function(e){this.appendSpotMeasure(e)},n.prototype.setAspectRatio=function(e,t,i,s,o){if(this.iframesCollection.iframes[e]&&!0!==this.fullscreenEnabled){if(this.aspectRatios[e]=t,o||this.vpaidMode[e]?this.iframesCollection.iframes[e].parentNode.style.height="100%":this.iframesCollection.iframes[e].parentNode.style.paddingBottom=(100*t).toString()+"%",s&&(this.iframesCollection.iframes[e].parentNode.parentNode.style.maxWidth=s.toString()+"px",this.measures[e].style.maxWidth=s.toString()+"px"),null!==this.websiteIframe&&!(null!==this.websiteIframe&&this.websiteIframe.name.indexOf("showheroes")>=0))if(this.websiteIframe.parentNode&&(this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper")||this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper-2")||this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper-1")))this.websiteIframe.parentNode.style.paddingBottom=(100*t).toString()+"%",s&&(this.websiteIframe.parentNode.parentNode.style.maxWidth=s.toString()+"px");else if(i){if(this.websiteIframe.parentNode.clientHeight>25)this.websiteIframe.style.width=this.websiteIframe.parentNode.clientWidth.toString()+"px",this.websiteIframe.style.height=this.websiteIframe.parentNode.clientHeight.toString()+"px";else{var n=this.measures[e].offsetTop>100?this.measures[e].offsetTop:this.measures[e].offsetWidth;this.websiteIframe.style.width=this.measures[e].offsetWidth.toString()+"px",this.websiteIframe.style.height=(1==t?n*t:n).toString()+"px"}var r=this;r.measures[e].prevWidth=this.measures[e].offsetWidth,r.measureInterval=setInterval((function(){r.measures[e].prevWidth!=r.measures[e].offsetWidth&&(clearInterval(r.measureInterval),r.recalculateShape(e,!0))}),(this.device.isDesktop(),300))}this.isSafeFrame&&!this.googleSafeframe&&(this.iframesCollection.iframes[e].parentNode.parentNode.style.position="absolute")}},n.prototype.setSize=function(e,t,i){this.iframesCollection.iframes[e].parentNode.parentNode.style.minWidth=t.toString()+"px",this.iframesCollection.iframes[e].parentNode.parentNode.style.maxWidth=t.toString()+"px",this.iframesCollection.iframes[e].parentNode.parentNode.style.width=t.toString()+"px",this.iframesCollection.iframes[e].parentNode.parentNode.style.height=i.toString()+"px",null!==this.websiteIframe&&(this.websiteIframe.parentNode&&(this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper")||this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper-2")||this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper-1"))?(this.websiteIframe.parentNode.parentNode.style.minWidth=t.toString()+"px",this.websiteIframe.parentNode.parentNode.style.maxWidth=t.toString()+"px",this.websiteIframe.parentNode.parentNode.style.width=t.toString()+"px",this.websiteIframe.parentNode.parentNode.style.height=i.toString()+"px"):(this.websiteIframe.style.width=t.toString()+"px",this.websiteIframe.style.height=i.toString()+"px"))},n.prototype.setFrameFullSize=function(e,t,i,s){this.websiteIframe&&(this.setSize(e,t,i),s&&(this.websiteIframe.style.minHeight="-webkit-fill-available"))},n.prototype.onMessageMakeShapeResponsive=function(e){(e=e||{}).publisherIframeId in this.fixedSizes&&delete this.fixedSizes[e.publisherIframeId],e.publisherIframeId in this.settings?this.settings[e.publisherIframeId].isDisplay=e.isDisplay:this.settings[e.publisherIframeId]={isDisplay:e.isDisplay},this.setAspectRatio(e.publisherIframeId,e.aspectRatio,!0,e.maxWidth),this.recalculatePositions()},n.prototype.onMessageMakeCaptions=function(e,t){this.measures[e]&&(this.isSafeFrame&&!this.googleSafeframe||(e in this.captions?this.adjustSpotCaptionWidth(e,this.measures[e].offsetWidth):this.createSpotCaption(e,this.measures[e].offsetWidth,t)))},n.prototype.onMessageHideCaptions=function(e){if(this.measures[e]&&this.getWidgetTargetElement(e)){var t=this.getWidgetTargetElement(e).parentNode.querySelector(".publisher-sh-spot-caption");t&&(t.style.display="none")}},n.prototype.onMessageMakeShapeFixed=function(e){e=e||{},this.fixedSizes[e.publisherIframeId]={width:e.width,height:e.height},this.settings[e.publisherIframeId]={isDisplay:e.isDisplay},this.setAspectRatio(e.publisherIframeId,e.aspectRatio,!1,null,!0),this.setSize(e.publisherIframeId,e.width,e.height),this.recalculatePositions()},n.prototype.recalculateShape=function(e,t){if(this.measures[e]){var i=e in this.fixedSizes?this.fixedSizes[e].width:this.measures[e].offsetWidth;this.adjustSpotHeaderWidth({iframeId:e,width:i}),this.adjustSpotCaptionWidth(e,i),this.setAspectRatio(e,this.aspectRatios[e],!!t,null,e in this.fixedSizes),this.recalculatePositions()}},n.prototype.intial=function(){null===this.websiteIframe||null!==this.websiteIframe&&this.websiteIframe.name.indexOf("showheroes")>=0||this.resetWebsiteIframe()},n.prototype.resetWebsiteIframe=function(){this.websiteIframe.removeAttribute("width"),this.websiteIframe.removeAttribute("height"),this.websiteIframe.setAttribute("allowFullscreen","true"),this.websiteIframe.allowFullscreen=!0,this.websiteIframe.parentNode&&(this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper")||this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper-2")||this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper-1"))&&this.websiteIframe.parentNode.parentNode&&(this.websiteIframe.parentNode.parentNode.classList.contains("showheroes-responsive-wrapper")||this.websiteIframe.parentNode.parentNode.classList.contains("showheroes-responsive-wrapper-1")||this.websiteIframe.parentNode.parentNode.classList.contains("showheroes-responsive-wrapper-2"))?(this.websiteIframe.parentNode.parentNode.setAttribute("style","display:block; margin:0 auto; width:100%; min-width:240px; max-width:"+(this.device.isDesktop()?1440:500)+"px; padding:0;"),this.websiteIframe.parentNode.setAttribute("style","display:block; position:relative; overflow:hidden; height:0; padding:0 0 2px 0;"),this.websiteIframe.setAttribute("style","display:block; position:absolute; overflow:hidden; top:0; bottom:0; left:0; right:0; width:100%; height:100%; border:0;")):this.websiteIframe.setAttribute("style","display:block; width:100%; height:2px; overflow:hidden; margin:0 auto;")},n.prototype.getWidgetTargetElement=function(e){var t=null;return null!==this.websiteIframe?(((t=this.websiteIframe).parentNode.classList.contains("showheroes-responsive-wrapper")||t.parentNode.classList.contains("showheroes-responsive-wrapper-2"))&&(t=t.parentNode),(t.parentNode.classList.contains("showheroes-responsive-wrapper")||t.parentNode.classList.contains("showheroes-responsive-wrapper-1"))&&(t=t.parentNode),t.contentDocument&&t.contentDocument.querySelector(".publisher-sh-spot")&&(t=t.contentDocument.querySelector(".publisher-sh-spot")),t.contentDocument&&t.contentDocument.querySelector(".showheroes-spot")&&(t=t.contentDocument.querySelector(".showheroes-spot")),t.contentDocument&&t.contentDocument.querySelector(".showheroes-spot-polls")&&(t=t.contentDocument.querySelector(".showheroes-spot-polls"))):e in this.iframesCollection.iframes?this.iframesCollection.iframes[e]&&this.iframesCollection.iframes[e].parentNode&&(t=this.iframesCollection.iframes[e].parentNode.parentNode.parentNode):t=document.getElementById(e)?document.getElementById(e).parentNode.parentNode.parentNode:null,t},n.prototype.insertBeforeWidget=function(e,t){var i=this.getWidgetTargetElement(e);i.parentNode.insertBefore(t,i)},n.prototype.insertAfterWidget=function(e,t){var i=this.getWidgetTargetElement(e),s=i.parentNode;s.lastchild==i?s.appendChild(t):s.insertBefore(t,i.nextSibling)},n.prototype.onMessageSetHeader=function(e,t){e in this.headers&&(this.headers[e].parentNode.removeChild(this.headers[e]),this.headers[e]=null,delete this.headers[e]),this.measures[e]&&(this.createSpotHeader(e,t,this.measures[e].offsetWidth),this.recalculatePositions())},n.prototype.createSpotHeader=function(e,t,i){var s=document.createElement("div");s.innerHTML=t,s.classList.add("publisher-sh-spot-header"),s.style.textAlign="left",s.style.display="block",s.style.margin="0 auto",s.style.width=i.toString()+"px",s.style.fontSize="14px",s.style.lineHeight="1.2",this.headers[e]=s,this.insertBeforeWidget(e,s)},n.prototype.adjustSpotHeaderWidth=function(e){var t=(e=e||{}).iframeId,i=t in this.settings&&this.settings[t]&&this.settings[t].header||{};t in this.headers&&(i.maxWidth?this.headers[t].style.maxWidth=i.maxWidth.toString()+"px":this.headers[t].style.width=e.width.toString()+"px",i.margin&&(this.headers[t].style.margin=i.margin))},n.prototype.setAnimation=function(e){this.iframesCollection.iframes[e].parentNode.style.transition="all 1s"},n.prototype.setIframeSettings=function(e,t){var i=this;e in this.settings?Object.keys(t).forEach((function(s){t.hasOwnProperty(s)&&(i.settings[e][s]=t[s])})):this.settings[e]=t},n.prototype.createSpotCaption=function(e,t,i){var s=document.createElement("div");s.setAttribute("class","publisher-sh-spot-caption");var o,n=document.createElement("a");n.setAttribute("style","color:#999;font-size:11px;font-family:sans-serif;text-decoration:none;"),n.setAttribute("target","_blank"),n.setAttribute("href",i.link),i.icon?((o=document.createElement("img")).src=i.icon,n.appendChild(o),n.appendChild(document.createTextNode(i.text)),o.setAttribute("style","width:17px; height:17px; display:inline-block; vertical-align:middle; margin-right:3px;")):((o=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("version","1"),o.setAttribute("fill","#6f7070"),o.setAttribute("role","img"),o.setAttribute("aria-label","ShowHeroes"),o.setAttribute("viewBox","0 0 283.5 31.2"),o.appendChild(this.getSVGNode("title","ShowHeroes")),o.appendChild(this.getSVGNode("path","M10.1,18.2c-1-0.3-2.8-0.7-4.4-1.8C3.4,14.8,2.1,12.5,2,9.7c-0.1-2.3,0.6-4.4,2.1-6c2.2-2.2,5.3-2.9,6.8-2.9 c4.2,0,6.6,1.5,8.7,2.9l1,0.6l-3,5l-1-0.7c-1.9-1.2-3.1-2-5.6-2C10.5,6.7,9,7,8.3,7.8C8,8.1,7.7,8.5,7.8,9.5c0,1.5,1.1,2.3,3.8,3 c0.3,0.1,0.6,0.2,0.8,0.2c2.8,1,5,2.2,6.5,3.9s2.3,3.6,2.3,5.7c0,2-0.9,4.2-2.3,5.8c-1.7,1.9-4.1,3-6.7,3c-1.3,0-3-0.1-5.1-0.7 c-2.6-0.8-5-2.3-7-4.4l4.2-4c3.1,3.3,6.5,3.3,7.8,3.3c2.4,0,3.2-2.2,3.2-3c0-1.6-1.8-3-4.8-4.1h-0.1L10.1,18.2z")),o.appendChild(this.getSVGNode("polygon","42.3,1.4 42.3,12.5 31.5,12.5 31.5,1.4 25.7,1.4 25.7,30.5 31.5,30.5 31.5,18.4 42.3,18.4 42.3,30.5   48.2,30.5 48.2,1.4")),o.appendChild(this.getSVGNode("path","M58.5,15.9c0,5,4.1,9.1,9.1,9.1s9.1-4.1,9.1-9.1s-4.1-9.1-9.1-9.1C62.6,6.8,58.5,10.9,58.5,15.9 M82.8,15.9   C82.8,24.2,76,31,67.7,31s-15.1-6.8-15.1-15.1S59.4,0.8,67.7,0.8C76,0.8,82.8,7.6,82.8,15.9")),o.appendChild(this.getSVGNode("polygon","115.2,1.3 107.6,17.5 100,1.3 93.5,1.3 99.2,12.8 96.6,17.7 88.8,1.3 82.3,1.3 95.7,30.5 97.1,30.5   102,19.8 106.9,30.5 108.3,30.5 121.7,1.3")),o.appendChild(this.getSVGNode("polygon","145,0.7 145,11.8 134.2,11.8 134.2,0.7 128.4,0.7 128.4,29.8 134.2,29.8 134.2,17.7 145,17.7   145,29.8 150.9,29.8 150.9,0.7")),o.appendChild(this.getSVGNode("polygon","155.9,0.6 155.9,29.8 175.2,29.8 175.2,24 161.7,24 161.7,17.7 173,17.7 173,11.8 161.7,11.8   161.7,6.4 175.3,6.4 175.3,0.6")),o.appendChild(this.getSVGNode("path","M186.2,6.4v5.9h5.2c1.6,0,2.9-1.3,2.9-2.9s-1.3-3-2.9-3C191.4,6.4,186.2,6.4,186.2,6.4z M194.5,29.8L189,18.1   h-2.9v11.7h-5.8V0.6h11c4.8,0,8.7,4,8.7,8.8c0,3.5-2.1,6.6-5.1,8l5.8,12.5h-6.2V29.8z")),o.appendChild(this.getSVGNode("path","M209,15.2c0,5,4.1,9.1,9.1,9.1s9.1-4.1,9.1-9.1s-4.1-9.1-9.1-9.1C213.1,6.1,209,10.2,209,15.2 M233.3,15.2   c0,8.3-6.8,15.1-15.1,15.1s-15.1-6.8-15.1-15.1s6.8-15.1,15.1-15.1C226.5,0.1,233.3,6.9,233.3,15.2")),o.appendChild(this.getSVGNode("polygon","238.3,0.6 238.3,29.8 257.6,29.8 257.6,24 244.1,24 244.1,17.7 255.4,17.7 255.4,11.8 244.1,11.8   244.1,6.4 257.8,6.4 257.8,0.6")),o.appendChild(this.getSVGNode("path","M272.5,17.4c-1-0.2-2.7-0.7-4.4-1.8c-2.3-1.5-3.6-3.8-3.8-6.6c-0.1-2.3,0.6-4.4,2.1-6c2.2-2.3,5.3-2.9,6.8-2.9   c4.3,0,6.6,1.5,8.8,2.9l1,0.6l-3,5l-1-0.7c-1.9-1.2-3.1-2-5.6-2c-0.4,0-1.8,0.3-2.6,1.1c-0.2,0.3-0.5,0.7-0.5,1.7   c0,1.5,1.1,2.3,3.8,3c0.3,0.1,0.6,0.2,0.8,0.2c2.8,1,5,2.2,6.5,3.9s2.3,3.6,2.3,5.7c0,2-0.9,4.2-2.3,5.8c-1.7,1.9-4.1,3-6.7,3   c-1.3,0-3-0.1-5.1-0.7c-2.6-0.8-5-2.3-7-4.4l4.3-4c3.1,3.3,6.5,3.3,7.8,3.3c2.4,0,3.2-2.2,3.2-3c0-1.6-1.8-3-4.8-4.1H273   L272.5,17.4z")),n.appendChild(document.createTextNode(i.text)),n.appendChild(o),o.setAttribute("style","width:82px; height:12px; display:inline-block; vertical-align:text-top;margin-left:3px;")),s.appendChild(n),s.style.textAlign="left",s.style.display="block",s.style.margin="0 auto",s.style.width=t.toString()+"px",this.captions[e]=s,this.insertAfterWidget(e,s)},n.prototype.getSVGNode=function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg",e);return"path"===e?i.setAttribute("d",t):"polygon"===e?i.setAttribute("points",t):i.textContent=t,i},n.prototype.adjustSpotCaptionWidth=function(e,t){e in this.captions&&(this.captions[e].style.width=t.toString()+"px")},n.prototype.appendSpotMeasure=function(e){var t=document.createElement("div");t.setAttribute("class","publisher-sh-spot-measure"),t.setAttribute("data-iframe-id",e),t.style.width="100%",t.style.maxWidth=this.device.isDesktop()?"1440px":"500px",t.style.height="1px",this.measures[e]=t,this.insertAfterWidget(e,t)},n.prototype.onIframeResized=function(e){this.recalculateShape(e)},n.prototype.onWebsiteWindowResized=function(){for(var e=0;e<this.iframesCollection.iframeIds.length;e++)this.recalculateShape(this.iframesCollection.iframeIds[e])},n.prototype.setFullscreenOn=function(e,t,i){if(this.fullscreenEnabled=!0,this.stopViewportWatching(e),!i){var s=this.websiteIframe||this.iframesCollection.iframes[e];this.websiteIframe&&(this.iframesCollection.iframes[e].parentNode.style.position="static");var o=this.websiteWindow.document.querySelector("body");o.setAttribute("data-prev-overflow",o.style.overflow);var n=this.websiteWindow.document.querySelector("body");n.setAttribute("data-prev-overflow",n.style.overflow),o.style.overflow="hidden",n.style.overflow="hidden",s.setAttribute("data-prev-style",s.getAttribute("style")),s.setAttribute("style","display:block; width:100%; height:100%; position:fixed; top:0; left:0; right:0; bottom:0; z-index:99999999; border:0; background:#888;"),this.websiteWindow.document.querySelector(".jPanelMenu-panel")&&(this.websiteWindow.document.querySelector(".jPanelMenu-panel").style.transform="none"),this.websiteWindow.document.querySelector("#mainContainer")&&(this.websiteWindow.document.querySelector("#mainContainer").style.transform="none",this.websiteWindow.document.querySelector("#mainContainer").style.webkitTransform="none",this.websiteWindow.document.querySelector("#mainContainer").style.mozTransform="none")}},n.prototype.setFullscreenOff=function(e,t){if(this.fullscreenEnabled=!1,t)this.watchViewport();else{var i=this.websiteIframe||this.iframesCollection.iframes[e];if(this.websiteIframe&&(this.iframesCollection.iframes[e].parentNode.style.position="relative"),i.getAttribute("data-prev-style")){i.setAttribute("style",i.getAttribute("data-prev-style")),i.removeAttribute("data-prev-style");var s=this.websiteWindow.document.querySelector("body");s.style.overflow=s.getAttribute("data-prev-overflow");var o=this.websiteWindow.document.querySelector("body");o.style.overflow=o.getAttribute("data-prev-overflow")}this.websiteWindow.document.querySelector(".jPanelMenu-panel")&&(this.websiteWindow.document.querySelector(".jPanelMenu-panel").style.transform="translate3d(0px, 0px, 0px)"),this.websiteWindow.document.querySelector("#mainContainer")&&(this.websiteWindow.document.querySelector("#mainContainer").style.transform="translate3d(0px, 0px, 0px)",this.websiteWindow.document.querySelector("#mainContainer").style.webkitTransform="translate3d(0px, 0px, 0px)",this.websiteWindow.document.querySelector("#mainContainer").style.mozTransform="translate3d(0px, 0px, 0px)");var n=this;setTimeout((function(){n.watchViewport()}),1e3)}},n.prototype.onIframeResize=function(e,t){var i=t.width,s=t.height;(i||s)&&this.onMessageMakeShapeFixed({publisherIframeId:e,aspectRatio:1/s/i,width:i,height:s})},n.prototype.destroySpot=function(e){for(i=0;i<this.iframesCollection.iframeIds.length;i++)if(this.iframesCollection.iframeIds[i]===e){var t=this.getWidgetTargetElement(this.iframesCollection.iframeIds[i]);t.parentNode.removeChild(t)}this.iframesCollection.forget(e),this.forget(e)},n.prototype.startTouchListening=function(e,t){var i,s,o,n,r,a=e,d=(t=t||{}).touchstart||function(){},l=t.touchmove||function(){},c=t.touchend||function(){},p=e._touchstart_=function(e){var t=e.changedTouches[0];i="none",s=t.pageX,o=t.pageY,d(s,o)},h=e._touchmove_=function(e){var t=e.changedTouches[0];n=t.pageX-s,r=t.pageY-o,i=Math.abs(n)>=Math.abs(r)?n<0?"left":"right":r<0?"up":"down",l(i,n,r)},u=e._touchend_=function(e){var t=e.changedTouches[0];n=t.pageX-s,r=t.pageY-o,i=Math.abs(n)>=Math.abs(r)?n<0?"left":"right":r<0?"up":"down",c(i,n,r)};a.addEventListener("touchstart",p,!0),a.addEventListener("touchmove",h,!0),a.addEventListener("touchend",u,!0)},n.prototype.stopTouchListening=function(e){e.removeEventListener("touchstart",e._touchstart_,!0),e.removeEventListener("touchmove",e._touchmove_,!0),e.removeEventListener("touchend",e._touchend_,!0)},e.exports=n},function(e,t){var i=function(e){this.target=e.target,this.options=e.options,this.ratio=null,this.pubSub=e.pubSub,this.iframeId=e.iframeId,this.init()};i.prototype.init=function(){this.observer=new IntersectionObserver(this.handleIntersect.bind(this),this.options),this.observer.observe(this.target)},i.prototype.handleIntersect=function(e){var t=null;if(e.forEach((function(e){(!t||e.time>t.time)&&(t=e)})),t){var i=0,s=0,o=t.intersectionRatio;if(o>0&&(i=1,s=o),Math.round(100*s)===this.ratio)return;this.ratio=Math.round(100*s),this.pubSub.publish("pubtag.changeViewability",{ratio:this.ratio,status:i,iframeId:this.iframeId})}},i.prototype.stopObserve=function(){this.observer.unobserve(this.target)},e.exports=i},function(e,t){var i=function(e,t,i,s,o,n,r,a,d,l){this.playerHost=t,this.zoneHost=e,this.widgetHost=i,this.pageUrl=s,this.device=o,this.pageUrl.indexOf("#")>0&&(this.pageUrl=this.pageUrl.substr(0,this.pageUrl.indexOf("#"))),this.isDesktop=this.device.isDesktop(),this.isNative=n,this.playerParams=r,this.isInsidePreviewIframe=a,this.isIOSFBInstantArticle=this.device.isIOSFBInstantArticle(),this.hasNoadPassbackListener=d,this.isSafeFrame=l,this.objToString=function(e){var t="&";for(var i in e)e.hasOwnProperty(i)&&e[i]&&(t+=i+"="+e[i]+"&");return t.replace(/&$/,"")};var c=parseInt(this.device.browser.major,10),p="Firefox"===this.device.browser.name;this.FFHack=this.isDesktop&&p&&c>=72};i.prototype.makeSrc=function(e,t){var i=e.classList.contains("showheroes-spot-polls"),s=e.getAttribute("data-zone")||e.getAttribute("data-config")||null,o=e.getAttribute("data-player")||null,n=e.getAttribute("data-placement")||null,r=e.getAttribute("data-poll")||null,a=e.getAttribute("data-video")||null,d=e.getAttribute("data-version")||null,l=e.getAttribute("data-canvas")||null,c=e.getAttribute("data-footer-caption")||1,p=e.getAttribute("data-debug")||this.pageUrl.indexOf("pubtag_debug=1")>=0||null,h=e.getAttribute("data-vpaid")||null,u=("boolean"==typeof window.allowAdTracking?window.allowAdTracking?"in":"out":null)||e.getAttribute("data-opt-state")||null,f=e.getAttribute("data-autoplay")||null,m=e.getAttribute("data-amp-autoplay")||null,g=e.getAttribute("data-macros")||null,w=e.getAttribute("data-noad-passback-listener")||null,b=e.getAttribute("data-spot-size")||null,A=e.getAttribute("data-max-width")||null,y=e.getAttribute("data-max-height")||null,v=e.getAttribute("data-onhover-unmute")||null,I=e.getAttribute("data-aspect-ratio")||null,C=e.getAttribute("data-skin")||null,S=e.getAttribute("data-vast-1")||null,x=e.getAttribute("data-sas-network-id")||null,k=e.getAttribute("data-sas-integration")||null,E="";if(o||1!=k||(o="8ed4bab6-26ef-490f-9e09-82d1ab962406"),s&&o)throw{message:"Either data-zone or data-player attribute is allowed for placeholder, but not both simultaneously",debugEvent:"integration-invalid"};if(!(s||o||n||r))throw{message:"Neither data-zone nor data-player nor data-placement nor data-poll attribute is found for placeholder. At least one is required",debugEvent:"integration-invalid"};if(g)try{void 0!==(g=JSON.parse(decodeURIComponent(g))).pageurl&&/^http/.test(g.pageurl)&&(this.pageUrl=g.pageurl,delete g.pageurl),void 0!==g.player_type&&(E=g.player_type,delete g.player_type),void 0!==g.user_consent_string&&t&&(t.consentData=g.user_consent_string),void 0!==g.gdpr_applies&&t&&(t.gdprApplies=g.gdpr_applies)}catch(e){}var _=this.playerHost;return i?_=this.widgetHost:s&&(_=this.zoneHost),_+(i?"/delivery/p":"/spot/iframe")+"?pageurl="+encodeURIComponent(this.pageUrl)+(s?"&zone="+encodeURIComponent(s):"")+(o?"&player="+encodeURIComponent(o):"")+(n?"&pid="+encodeURIComponent(n):"")+(r?"&pollid="+encodeURIComponent(r):"")+(E?"&player_type="+encodeURIComponent(E):"")+(a?"&video="+encodeURIComponent(a):"")+(d?"&ver="+encodeURIComponent(d):"")+(p?"&debug="+encodeURIComponent(p):"")+(b?"&spsize="+encodeURIComponent(b):"")+(A?"&maxvpw="+encodeURIComponent(A):"")+(y?"&maxvph="+encodeURIComponent(y):"")+(v?"&onhvrunmt="+encodeURIComponent(v):"")+(I?"&aspctr="+encodeURIComponent(I):"")+(C?"&skin="+encodeURIComponent(C):"")+(S?"&advst1="+encodeURIComponent(S):"")+(x?"&sasnetid="+encodeURIComponent(x):"")+(this.hasNoadPassbackListener||w?"&noad=1":"")+(h?"&vpaid=1":"")+(this.isSafeFrame?"&sfd=1":"")+(c?"&footer="+encodeURIComponent(c):"")+(e.getAttribute("data-publisher-id")?"&publisherid="+encodeURIComponent(e.getAttribute("data-publisher-id")):"")+(e.getAttribute("data-ad-vast-tag")?"&advasttag="+encodeURIComponent(e.getAttribute("data-ad-vast-tag")):"")+(e.getAttribute("data-passback-url")?"&passbackurl="+encodeURIComponent(e.getAttribute("data-passback-url")):"")+(e.getAttribute("data-tracking-url")?"&trackingurl="+encodeURIComponent(e.getAttribute("data-tracking-url")):"")+(e.getAttribute("data-click-tracking")?"&clicktracking="+encodeURIComponent(e.getAttribute("data-click-tracking")):"")+(this.isDesktop?"&desktop=true":"")+(g?"&cmacros="+encodeURIComponent(JSON.stringify(g)):"")+(u?"&opt_state="+encodeURIComponent(u):"")+(l?"&native=false":this.isNative||this.isInsidePreviewIframe||this.isIOSFBInstantArticle?"&native=true":"")+(this.playerParams?"&"+this.playerParams:"")+((this.isInsidePreviewIframe||this.isIOSFBInstantArticle||this.device.isAutoplayDisallow)&&!m?"&sh_ap=0":f?"&sh_ap="+encodeURIComponent(f):"")+(t?this.objToString(t):"")},i.prototype.compose=function(e,t){var i=document.createElement("div");i.setAttribute("style","width:100%;margin:0 auto;min-width:240px;max-width:"+(this.isDesktop?1440:500)+"px;");var s=document.createElement("div");s.setAttribute("style","position:relative;display:block;height:0;padding:0;overflow:hidden;padding:0 0 2px 0;box-sizing:border-box;");var o=document.createElement("iframe");if(o.setAttribute("style","position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0;overflow:hidden;box-shadow:none !important;"),o.setAttribute("id",t),o.setAttribute("name",t),this.FFHack||o.setAttribute("src","javascript:void(0)"),o.setAttribute("scrolling","no"),o.setAttribute("allowFullscreen","true"),o.setAttribute("allow","autoplay; fullscreen"),s.appendChild(o),i.appendChild(s),"interscroller"===e.getAttribute("data-integration-mode")){var n=e.getAttribute("data-bg-color")||"#27bc9c",r=document.documentElement.clientWidth,a=document.documentElement.clientHeight,d=(r-e.clientWidth)/2,l=document.createElement("div");l.setAttribute("style","position: relative;min-height: "+a+"px;");var c=document.createElement("div");c.setAttribute("style","overflow: hidden; display: block; width: "+r+"px; height: "+a+"px; position: absolute; left: -"+d+"px; right: auto; top: 0px; bottom: auto;");var p=document.createElement("div");p.setAttribute("style","position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; margin: 0px; padding: 0px; overflow: hidden; clip-path: inset(0px); clip: rect(0px auto auto 0px);");var h=document.createElement("div");h.setAttribute("style","position: fixed;top: auto;left: 0px;width: 100%;height: 100%;margin: 0px;padding: 0px;bottom: 0px;transform: translateZ(0px); background: "+n+";");var u=document.createElement("div");return u.classList.add("interscroller"),u.setAttribute("style","text-align: center;"),u.appendChild(i),h.appendChild(u),p.appendChild(h),c.appendChild(p),l.appendChild(c),l}return i},e.exports=i},function(e,t){var i=function(e,t,i,s){this.iframes={},this.iframeIds=[],this.iframePositions={},this.iframeViewport={},this.iframeConfigs={},this.iframePlayCalled={},this.debugLogger=e,this.websiteWindow=t,this.websiteIframe=i||null,this.isSafeFrame=s,this.leavedTab=!1,this.getUniqueId=function(){var e=0;return function(){return e++}}()};i.prototype.message=function(e,t){this.iframes[e]?("play"!==t.intent||this.iframePlayCalled[e]||(this.iframePlayCalled[e]=!0,this.debugLogger.log("pubtag-play","isSafeFrame: "+this.isSafeFrame+"; Viewport: "+JSON.stringify(this.iframeViewport[e]||"")+"; Positions: "+JSON.stringify(this.iframePositions[e]||"")+"; Configs: "+JSON.stringify(this.iframeConfigs[e]||""),{player_id:this.iframeConfigs[e].playerId})),this.iframeConfigs[e].eventBus.dispatchEvent(t.intent,t)):this.forget(e)},i.prototype.add=function(e){this.debugLogger.log("player-loaded"),this.iframeConfigs[e]=this.iframeConfigs[e]||{};var t=document.getElementById(e);this.iframes[e]=t,this.iframeIds.push(e),this.iframeConfigs[e]._id=this.getUniqueId(),this.recalculatePositions();var i="";try{i=this.websiteWindow.document.title}catch(e){}this.message(e,{intent:"publisherIframeId",publisherIframeId:e,pageTitle:i}),this.isSafeFrame?this.message(e,{intent:"size",width:$sf.ext.geom().self.w,height:$sf.ext.geom().self.h,windowWidth:$sf.ext.geom().win.w,windowHeight:$sf.ext.geom().win.h,isSafeFrame:!0}):this.message(e,{intent:"size",width:this.iframePositions[e].width,height:this.iframePositions[e].height,windowWidth:this.websiteWindow.innerWidth,windowHeight:this.websiteWindow.innerHeight}),this.message(e,{intent:"loaded"})},i.prototype.forget=function(e){var t=!1;this.watchPositionsInterval&&(t=!0,clearInterval(this.watchPositionsInterval),this.watchPositionsInterval=null),this.iframeConfigs[e].eventBus.clearAll(),e in this.iframes&&delete this.iframes[e],e in this.iframePositions&&delete this.iframePositions[e],e in this.iframeViewport&&delete this.iframeViewport[e],this.iframeIds.indexOf(e)>-1&&this.iframeIds.splice(this.iframeIds.indexOf(e),1),t&&this.watchPositions()},i.prototype.getConfigs=function(e){return this.iframeConfigs[e]},i.prototype.recalculatePositions=function(){for(var e,t=0;t<this.iframeIds.length;t++){if(this.iframeIds[t]in this.iframePositions||(this.iframePositions[this.iframeIds[t]]={}),this.iframeIds[t]in this.iframeViewport||(this.iframeViewport[this.iframeIds[t]]={top:.2,bottom:.8,delay:0,setted:!1}),!this.isSafeFrame){this.iframePositions[this.iframeIds[t]].offsetTop=0,e=this.websiteIframe?this.websiteIframe:this.iframes[this.iframeIds[t]];do{this.iframePositions[this.iframeIds[t]].offsetTop+=e.offsetTop,e=e.offsetParent}while(e&&"body"!=e.tagName.toLowerCase()&&"html"!=e.tagName.toLowerCase())}this.iframePositions[this.iframeIds[t]].width=this.iframes[this.iframeIds[t]].offsetWidth,this.iframePositions[this.iframeIds[t]].height=this.iframes[this.iframeIds[t]].offsetHeight}},i.prototype.watchPositions=function(){var e=this;this.watchPositionsInterval=setInterval((function(){e.recalculatePositions()}),1e3)},i.prototype.watchActiveTab=function(){function e(e){return e?e+"Hidden":"hidden"}function t(){r||(r=!0,o.checkActiveTab(!0))}function i(){r&&(r=!1,o.checkActiveTab(!1))}function s(e){if("boolean"==typeof e){if(e)return t();if(o.websiteWindow.document.activeElement.tagName==="iframe".toUpperCase())return;return i()}return o.websiteWindow.document[d]?i():t()}var o=this,n=["moz","ms","o","webkit"],r=!0,a=function(){for(var t=0;t<n.length;t++)if(e(n[t])in document)return n[t];return null}(),d=e(a),l=function(e){return(e||"")+"visibilitychange"}(a);this.websiteWindow.document.addEventListener(l,s,!1);var c=function(){s(!0)},p=function(){s(!1)};this.websiteWindow.document.addEventListener("focus",c,!1),this.websiteWindow.document.addEventListener("blur",p,!1),this.websiteWindow.addEventListener("focus",c,!1),this.websiteWindow.addEventListener("blur",p,!1),this.removeListeners=function(){o.websiteWindow.document.removeEventListener(l,s),o.websiteWindow.document.removeEventListener("focus",c),o.websiteWindow.document.removeEventListener("blur",p),o.websiteWindow.removeEventListener("focus",c),o.websiteWindow.removeEventListener("blur",p)}},i.prototype.checkActiveTab=function(e){for(var t=0;t<this.iframeIds.length;t++)!0===this.iframePositions[this.iframeIds[t]].inViewport&&(e?this.message(this.iframeIds[t],{intent:"play"}):this.message(this.iframeIds[t],{intent:"end-current"}))},i.prototype.stopActiveTabWatching=function(){"function"==typeof this.removeListeners&&this.removeListeners()},i.prototype.setCMP=function(e){for(var t=0;t<this.iframeIds.length;t++)this.message(this.iframeIds[t],{intent:"cmpData",data:e})},e.exports=i},function(e,t){e.exports=function(e){var t=e.document.querySelector("html");t&&(t.style.margin="0",t.style.padding="0");var i=e.document.querySelector("body");i&&(i.style.margin="0",i.style.padding="0",i.style.background="transparent")}},function(e,t){e.exports=function(e){var t=this;this.pageUrl=e,this.keywords=null,this.keywordsApi=null,this.setKeywords=function(e){t.keywords=e},this.setKeywordsApi=function(e){t.keywordsApi=e},this.getKeywordsApi=function(){return t.keywordsApi},this.getPageUrl=function(){return t.pageUrl}}},function(e,t){var i=function(e){this.isSafeFrame=e,this.timeout=1e3};i.prototype.init=function(e,t){if(this.cmpReturn=e,this.cmpReturnWaiting=t,window.__tcfapi&&"function"==typeof window.__tcfapi)this.tcfInsertDirectly("getTCData");else if(window.__cmp&&"function"==typeof window.__cmp)this.cmpInsertDirectly("getConsentData");else if(this.isSafeFrame&&"function"==typeof window.$sf.ext.cmp)this.cmpReturn({});else{for(var i,s,o=window;!i||!s;){try{o.frames.__cmpLocator?i=o:o.frames.__tcfapiLocator&&(s=o)}catch(e){}if(o===window.top)break;o=o.parent}i?this.cmpWhileInIframe("getConsentData",i):s?this.tcfWhileInIframe("getTCData",s):this.cmpReturn({})}},i.prototype.cmpInsertDirectly=function(e){var t=window.__cmp,i=this,s=null,o=(new Date).getTime(),n=!1,r=setInterval((function(){var e=(new Date).getTime();s?(clearInterval(r),i.cmpReturn({cmp:s})):!s&&e-o>=i.timeout&&(n=!0,clearInterval(r),i.cmpReturn({}))}),100);t(e,null,(function(e){s=e,n&&i.cmpReturnWaiting({cmp:s})}))},i.prototype.tcfInsertDirectly=function(e){var t=window.__tcfapi,i=this,s=null,o=(new Date).getTime(),n=!1,r=setInterval((function(){var e=(new Date).getTime();s?(clearInterval(r),i.cmpReturn({tcf:s})):!s&&e-o>=i.timeout&&(n=!0,clearInterval(r),i.cmpReturn({}))}),100);t(e,2,(function(e,t){s=e,n&&i.cmpReturnWaiting({tcf:s})}))},i.prototype.cmpWhileInSafeFrame=function(e){var t=this;window.$sf.ext.register(1,1,(function(i,s){if("cmpReturn"===i){var o="getConsentData"===e?s.vendorConsentData:s.vendorConsents;t.cmpReturn({cmp:o})}})),window.$sf.ext.cmp(e)},i.prototype.cmpWhileInIframe=function(e,t){function i(e){try{e.data&&e.data.__cmpReturn&&s.cmpReturn({cmp:e.data.__cmpReturn.returnValue})}catch(e){s.cmpReturn({})}}var s=this;t?(window.__cmp=function(e,i,s){var o={__cmpCall:{command:e,parameter:i,callId:Math.random()+""}};t.postMessage(o,"*")},window.addEventListener("message",i,!1),window.__cmp(e,null,(function(e){window.removeEventListener("message",i,!1),s.cmpReturn({cmp:e})}))):s.cmpReturn({})},i.prototype.tcfWhileInIframe=function(e,t){function i(e){try{e.data&&e.data.__tcfapiReturn&&s.cmpReturn({tcf:e.data.__tcfapiReturn.returnValue})}catch(e){s.cmpReturn({})}}var s=this;t?(window.__tcfapi=function(e,i,s,o){var n={__tcfapiCall:{command:e,parameter:o,version:i,callId:Math.random()+""}};t.postMessage(n,"*")},window.addEventListener("message",i,!1),window.__tcfapi(e,2,(function(e,t){t&&(window.removeEventListener("message",i,!1),s.cmpReturn({tcf:e}))}),null)):s.cmpReturn({})},e.exports=i},function(e,t,i){var s=i(20),o=i(21),n=function(e,t,i,s,n){this.pageUrl=s,this.iframesCollection=e,this.spotRectangleChanger=t,this.adFlows=i,this.settingsByIframe={},this.injectedScripts=[],this.debugLogger=n,window.shpbjs=window.shpbjs||{},o.call(this,e,this.debugLogger)};(n.prototype=Object.create(o.prototype)).constructor=n,n.prototype.setup=function(e,t){var i=this.spotRectangleChanger.getWidgetTargetElement(e),s=this.iframesCollection.getConfigs(e),o="showheroes-"+s._id,n=t.smartAdServerTag.enabled,r="video-"+o,a="display-"+o,d="nonlinear-"+o;n&&(t.smartAdServerTag.minimumCPM=t.minimumCPM,void 0===window.sas?this.initSmart(s.playerId):window.sasSetupSetted||(n=!1,this.debugLogger.log("prebid","SAS tag was set before SH holistic. Disable SAS.",{player_id:s.playerId}))),this.settingsByIframe[e]={sasEnabled:n,config:t,spot:i,videoBidders:t.adUnits.video,displayBidders:t.adUnits.display,nonLinearBidders:t.adUnits.nonLinear,videoCode:r,displayCode:a,nonLinearCode:d,playerWidth:t.playerWidth},(t.adUnits.video||t.adUnits.display||t.adUnits.nonLinear)&&this.initPrebid(t,e);var l=i;if(i.childNodes.length)for(var c=0;c<i.childNodes.length;c++)"DIV"===i.childNodes[c].nodeName.toUpperCase()&&(l=i.childNodes[c]);this.createNode(r,i),this.createNode(a,l,"text-align: center;")},n.prototype.initPrebid=function(e,t){var i=this;this.prebidInited=!0,s("stage_pubtag",this.pageUrl)?this.injectScript("https://pubtag.stage.showheroes.com/prebid.v1.js","prebid"):this.injectScript("https://static.showheroes.com/prebid.v1.js","prebid"),window.shpbjs.que=[],window.shpbjs.que.push((function(){window.shpbjs.aliasBidder("pubmatic","pubmatic-video"),window.shpbjs.aliasBidder("grid","themediagrid-display"),window.shpbjs.aliasBidder("grid","themediagrid-video"),window.shpbjs.aliasBidder("yieldlab","yieldlab-display"),window.shpbjs.aliasBidder("spotx","spotx-goldbach"),window.shpbjs.aliasBidder("spotx","spotx-showheroes"),window.shpbjs.aliasBidder("appnexus","appnexus-video"),window.shpbjs.aliasBidder("criteo","criteo-video"),window.shpbjs.onEvent("bidResponse",(function(e){i.iframesCollection.message(t,{intent:"bidResponse",bid:e})})),window.shpbjs.onEvent("bidderDone",(function(e,s){!1===s&&i.iframesCollection.message(t,{intent:"bidError",bid:e.bids.length?e.bids[0]:{}})})),window.shpbjs.onEvent("bidRequested",(function(e){i.iframesCollection.message(t,{intent:"bidRequested",bid:e.bids.length?e.bids[0]:{}})}))})),window.shpbjs.que.push((function(){window.shpbjs.setConfig({priceGranularity:"dense",currency:e.currency,consentManagement:{cmpApi:"static",allowAuctionWithoutConsent:!1,consentData:{getConsentData:{gdprApplies:1==e.gdpr.gdprApplies,hasGlobalScope:!1,consentData:e.gdpr.consentData},getVendorConsents:{metadata:"",meta:""},getTCData:{tcString:e.gdpr.consentData,gdprApplies:1==e.gdpr.gdprApplies}}},cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},debug:e.debug,bidderTimeout:700,userSync:{iframeEnabled:!0,enabledBidders:["pubmatic","pubmatic-video","appnexus-xaxis","appnexus-xaxis-interstitial","appnexus","appnexus-video","danmarket","danmarket-video","rubicon","justpremium","criteo","criteo-video"],syncDelay:6e3}})}))},n.prototype.startPrebidAuction=function(e,t,i,s){t.length&&window.shpbjs.que.push((function(){window.shpbjs.addAdUnits(t),window.shpbjs.requestBids({adUnitCodes:[s],timeout:3e3,bidsBackHandler:i})}));var o=this.settingsByIframe[e],n=s.indexOf("display")>=0;if(o.config.smartAdServerTag.enabled){var r=o.config.smartAdServerTag.videoFormatId;n&&(r=o.config.smartAdServerTag.displayFormatId),r&&this.smartCall(o.config.smartAdServerTag,o.spot,e,s,[{id:r,tagId:s}]),!t.length&&n&&window.sas.cmd.push((function(){window.sas.render(s)}))}},n.prototype.checkSmartHBAds=function(e,t){window.sas.render(this.settingsByIframe[e][t+"Code"])},n.prototype.startVideoAuction=function(e){if(this.settingsByIframe[e]){this.settingsByIframe[e].sas=this.settingsByIframe[e].sas||{};var t,i=[],s=this.settingsByIframe[e],o=s.config,n=s.videoBidders;n&&n.bids&&n.bids.length&&(n.code=s.videoCode,this.customiseBidders(e,n.bids),i.push(n)),i.length&&(t=this.bidsBackHandler.bind(this,s.spot,e,s.videoCode,o.minimumCPM)),s.sasEnabled&&!s.sas[s.videoCode]&&(t=this.smartBidsBackHandler.bind(this,o.minimumCPM,s.videoCode,s.spot,e),this.settingsByIframe[e].sas[s.videoCode]=!0),t?this.startPrebidAuction(e,i,t,s.videoCode):this.iframesCollection.message(e,{intent:"auctionIsEnded",type:"video",empty:!0})}},n.prototype.startDisplayAuction=function(e){var t,i=[],s=this.settingsByIframe[e],o=s.config,n=s.displayBidders;n&&n.bids&&n.bids.length&&(n.code=s.displayCode,this.customiseBidders(e,n.bids),i.push(n)),i.length&&(t=this.bidsBackHandler.bind(this,s.spot,e,s.displayCode,o.minimumCPM)),s.sasEnabled&&o.smartAdServerTag.displayFormatId&&(t=this.smartBidsBackHandler.bind(this,o.minimumCPM,s.displayCode)),t?this.startPrebidAuction(e,i,t,s.displayCode):this.iframesCollection.message(e,{intent:"auctionIsEnded",type:"display",empty:!0})},n.prototype.startNonLinearAuction=function(e){var t=[],i=this.settingsByIframe[e],s=i.config,o=i.nonLinearBidders;if(o&&o.bids&&o.bids.length&&(o.code=i.nonLinearCode,this.customiseBidders(e,o.bids),t.push(o)),t.length){var n=this.bidsBackHandler.bind(this,i.spot,e,i.nonLinearCode,s.minimumCPM);window.shpbjs.que.push((function(){window.shpbjs.addAdUnits(t),window.shpbjs.requestBids({adUnitCodes:[o.code],timeout:3e3,bidsBackHandler:n})}))}else this.iframesCollection.message(e,{intent:"auctionIsEnded",type:"nonlinear",empty:!0})},n.prototype.bidsBackHandler=function(e,t,i,s,o){var n=this,r=!0,a="function"==typeof window.shpbjs.getHighestCpmBids?window.shpbjs.getHighestCpmBids(i)[0]:null;if(a&&a.adUnitCode.indexOf("nonlinear")>=0){var d=this.settingsByIframe[t].playerWidth,l=window.shpbjs.getBidResponsesForAdUnitCode(i);if(l.bids.length>1&&d<a.width)for(var c=0;c<l.bids.length;c++){if(l.bids[c].width>d&&(l.bids[c].native||l.bids[c].nativeCallback)){var p=a.width/a.height;(a=l.bids[c]).width=d,a.height=d/p;break}if(d>=l.bids[c].width){a=l.bids[c];break}}}a&&a.cpm>s&&(r=!1,"video"===a.mediaType||a.adUnitCode.indexOf("nonlinear")>=0||"outbrain-wrapper"===a.bidder?this.iframesCollection.message(t,{intent:"wonBidder",bid:a}):this.adFlows.setAd(t,"display",a.bidder,a.cpm,(function(){n.renderDisplayBid(t,a)}))),this.iframesCollection.message(t,{intent:"auctionIsEnded",type:i.indexOf("display")>=0?"display":i.indexOf("nonlinear")>=0?"nonlinear":"video",empty:r}),window.shpbjs.que&&window.shpbjs.que.push((function(){window.shpbjs.removeAdUnit(i)}))},n.prototype.setDisplayAdSizes=function(e,t){var i="auto 0",s=this.settingsByIframe[e].displayCode,o=this.settingsByIframe[e].config,n=this.getNode(s,this.settingsByIframe[e].spot),r=n.parentNode.offsetWidth.toString();o.sizes&&o.sizes.responsiveBidders.indexOf(t)<0&&o.sizes.maxWidth?n.style.maxWidth=o.sizes.maxWidth+"px":n.style.maxWidth=(r*o.aspectRatio).toString()+"px",o.sizes&&o.sizes.maxHeight&&o.sizes.responsiveBidders.indexOf(t)<0&&(n.style.maxHeight=o.sizes.maxHeight+"px"),o.sizes&&o.sizes.spotAdAlign&&o.sizes.responsiveBidders.indexOf(t)<0&&("center"===o.sizes.spotAdAlign&&(i="0 auto"),"right"===o.sizes.spotAdAlign&&(i="auto 0 auto auto"),n.style.margin=i,this.spotRectangleChanger.setIframeSettings(e,{header:{maxWidth:o.sizes.maxWidth,margin:i}}))},n.prototype.renderDisplayBid=function(e,t){var i=this.settingsByIframe[e],s=this.getNode(t.adUnitCode,i.spot),o=document.createElement("iframe");o.style.border="0 none",s.appendChild(o),o.src="javascript:void(0)",this.setDisplayAdSizes(e,t.bidder),window.shpbjs.renderAd(o.contentWindow.document,t.adId),o.contentWindow.document.body&&(o.contentWindow.document.body.style.margin=0),this.iframesCollection.message(e,{intent:"wonDisplayBidder",bid:t})},n.prototype.customiseBidders=function(e,t){for(var i=[],s=0;s<t.length;s++){if(t[s].bidder.indexOf("rubicon")>=0){t[s].params.referrer=this.pageUrl;var o=/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/g.exec(this.pageUrl);t[s].params.inventory={},t[s].params.inventory.domain=[o.length>1?o[1]:""]}if((t[s].bidder.indexOf("danmarket")>=0||t[s].bidder.indexOf("outbrain-wrapper")>=0)&&(t[s].params.contentPageUrl=this.pageUrl),"criteo"===t[s].bidder){var n=JSON.parse(JSON.stringify(t[s]));n.params.nativeCallback=function(e){var t=document.createElement("div"),i="";for(var s in i+='<div class="criteo_privacy" style="position: absolute; right: 0px; top: 0px; z-index: 1000;">',i+='<a href="'+e.privacy.optout_click_url+'" target="_blank"><img src="'+e.privacy.optout_image_url+'" style="width:19px; height:15px; display: block; text-decoration: none;"></a>',i+="</div>",i+='<div class="criteo_products" style="overflow: hidden">',e.products){if(s>=2)break;i+='<div class="criteo_product" style="position: relative;height: 100vh; padding: 5px 0 5px 100vh;">',i+='<a href="'+e.products[s].click_url+'" style="text-decoration: none;" target="_blank">',i+='<div class="criteo_product_image" style="width: 100vh; height: 100vh; position: absolute; left: 0; top: 0;"><img src="'+e.products[s].image.url+'" style="max-width: 100%; max-height: 100%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: auto !important; height: auto !important;"></div>',i+='<div class="criteo_product_title" style="color: rgba(0,0,0,.87); font-weight: bold; margin-left: 10px;">'+e.products[s].title+"</div>",i+='<div class="criteo_product_description" style="color: #000; margin-left: 10px;">'+e.products[s].description+"</div>",e.products[s].call_to_action&&(i+='<div class="criteo_product_cta" style="margin-left: 10px;">'+e.products[s].call_to_action+"</div>"),i+="</a>",i+='<a href="'+e.advertiser.logo_click_url+'" style="text-decoration: none;" target="_blank">',i+='<div class="criteo_advertiser" style="font-size: 10px; color: #999;">'+e.advertiser.domain+"</div>",i+="</a>",i+="</div>"}for(s in i+="</div>",e.impression_pixels)i+='<img src="'+e.impression_pixels[s].url+'" width="0px" height="0px" style="display:none;" >';t.innerHTML=i,t.style.display="block",t.style.position="position",t.style.overflow="hidden",t.style.background="#f5f5f5",t.style.width="100%",this.document.appendChild(t)},i.push(n)}}i.forEach((function(e){t.push(e)}))},n.prototype.createNode=function(e,t,i){if(!document.getElementById(e)){var s=document.createElement("div");s.setAttribute("id",e),i&&s.setAttribute("style",i),t.appendChild(s)}},n.prototype.getNode=function(e,t){return t.querySelector("#"+e)},n.prototype.removeNode=function(e,t){var i=t.querySelector("#"+e);t.removeChild(i)},n.prototype.injectScript=function(e,t,i,s){if(!(this.injectedScripts.indexOf(t)>=0)){this.injectedScripts.push(t);var o=document.createElement("script");o.src=e,o.async=!0,"function"==typeof i&&(o.onload=i),document.head.appendChild(o)}},n.prototype.reduceFromArray=function(e,t){for(var i=[],s=0;s<e.bids.length;s++)e.bids[s].bidder!==t&&i.push(e.bids[s]);return e.bids=i,e},n.prototype.setKeywords=function(e,t){var i=t.keywords;if(this.settingsByIframe[e].videoBidders){var s=this.settingsByIframe[e].videoBidders.bids.find((function(e){return"appnexus-video"===e.bidder}));s&&(s.params.keywords=i)}},e.exports=n},function(e,t){e.exports=function(e,t){e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}},function(e,t){var i=function(e,t){this.iframesCollection=e,this.debugLogger=t};i.prototype.initSmart=function(e){var t=this;this.injectScript("https://ced.sascdn.com/tag/2161/smart.js","smart"),window.sas=window.sas||{},window.sas.cmd=window.sas.cmd||[],window.sas.cmd.push((function(){try{window.sasSetupSetted||(window.sas.setup({networkid:2161,domain:"//www8.smartadserver.com",async:!0,renderMode:2}),window.sasSetupSetted=!0)}catch(i){t.debugLogger.log("prebid","SAS setup has an Error: "+i.message,{player_id:e})}}))},i.prototype.smartBidsBackHandler=function(e,t,i,s,o){var n=this;window.sas.cmd.push((function(){window.shpbjs.que.push((function(){var o="function"==typeof window.shpbjs.getHighestCpmBids?window.shpbjs.getHighestCpmBids(t)[0]:null,r=t.indexOf("display")>=0;o&&o.cpm>e&&(window.sas.setHeaderBiddingWinner(t,o),r||n.bidsBackHandler(i,s,t,e)),r&&window.sas.render(t)}))}))},i.prototype.smartCall=function(e,t,i,s,o){var n=this;e.noAd={},window.sas.cmd.push((function(){window.sas.call("onecall",{siteId:e.siteId,pageId:e.pageId,formats:o,target:""},{onNoad:n.onNoadSas.bind(n,e,t,i,s),onLoad:n.onLoadSas.bind(n,e,t,i,s)})}))},i.prototype.sasCookieSync=function(e){this.injectScript("https://ced.sascdn.com/tag/2161/smart.js","smart");var t="https://www8.smartadserver.com/ac?pgid="+e.pid+"&insid="+e.iid+"&tmstp="+Math.round(1e10*Math.random())+"&out=js";this.injectScript(t,"smartSync")},i.prototype.onNoadSas=function(e,t,i,s,o){e.noAd[o.formatId]=!0;var n=o.tagId.indexOf("display")>=0,r="function"==typeof window.shpbjs.getHighestCpmBids?window.shpbjs.getHighestCpmBids(s)[0]:null;n?this.bidsBackHandler(t,i,s,e.minimumCPM):r||this.iframesCollection.message(i,{intent:"auctionIsEnded",type:"video",empty:!0})},i.prototype.onLoadSas=function(e,t,i,s,o){var n=this;setTimeout((function(){if(!e.noAd[o.formatId]){var t=o.tagId.indexOf("display")>=0;n.iframesCollection.message(i,{intent:"auctionIsEnded",type:t?"display":"video",empty:!1}),t&&n.setDisplayAdSizes(i,"smartadserver"),n.adFlows.forget(i),o.formatId,o.isVideo=e.videoFormatId===o.formatId,n.iframesCollection.message(i,{intent:"smartFormatWon",intentParam:o})}}),0)},e.exports=i},function(e,t){var i=function(e){this.iframesCollection=e,this.priority=["priority-video","video","display"],this.timers={},this.ads={},this.maxTimeouts={},this.statuses={},this.deathTime=18e4};i.prototype.setAdMaxTimeOut=function(e,t){this.maxTimeouts[e]=t},i.prototype.getReadyAd=function(e,t,i){var s=this;if(this.ads[e]||t||"FAIL"!==s.statuses[e]||s.iframesCollection.message(e,{intent:"nothingToShow"}),t&&"WAITING"!==this.statuses[e]&&(!this.ads[e]||this.ads[e]&&!this.ads[e].length)&&(this.timers[e]=null,this.ads[e]=null,this.maxTimeouts[e]=t),!s.ads[e]&&!this.timers[e]){this.statuses[e]="WAITING";var o=(new Date).getTime();this.timers[e]=setInterval((function(){s.statuses[e]="WAITING";var t=(new Date).getTime();s.ads[e]||t-o>=s.maxTimeouts[e]?(clearInterval(s.timers[e]),!s.ads[e]||i&&s.ads[e]&&"display"===s.ads[e][0].type?(s.statuses[e]="FAIL",s.iframesCollection.message(e,{intent:"nothingToShow"})):s.ads[e]&&s.getReadyAd(e)):s.getReadyAd(e)}),300)}if(this.ads[e]&&this.checkAdsTiming(e),this.ads[e]){if(i&&s.ads[e]&&s.ads[e][0]&&"display"===s.ads[e][0].type)return s.statuses[e]="FAIL",void s.iframesCollection.message(e,{intent:"nothingToShow"});this.statuses[e]="SUCCESS",this.ads[e]=this.sortBy(this.ads[e],"order"),this.ads[e]=this.sortBy(this.ads[e],"cpm","desc");var n=this.ads[e].shift();if(!n)return s.statuses[e]="FAIL",void s.iframesCollection.message(e,{intent:"nothingToShow"});"function"==typeof n.renderIntoSpot?n.renderIntoSpot():this.iframesCollection.message(e,{intent:"adIsReadyToShow",ad:n}),clearInterval(s.timers[e])}},i.prototype.checkAdsTiming=function(e){for(var t=(new Date).getTime(),i=0;i<this.ads[e].length;i++)t-this.ads[e][i].timestemp>=this.deathTime&&(this.ads[e][i].adId,this.ads[e].splice(i,1),i--)},i.prototype.getNextReadyAd=function(e){var t={},i=this.ads[e];i&&(i=this.sortBy(i,"order"),t=(i=this.sortBy(i,"cpm","desc"))[0]),this.iframesCollection.message(e,{intent:"nextAdReadyToShow",ad:t})},i.prototype.forget=function(e){this.timers[e]&&clearInterval(this.timers[e])},i.prototype.setAd=function(e,t,i,s,o,n){this.ads[e]=this.ads[e]||[];var r={adId:i,order:this.priority.indexOf(t),type:t,cpm:s,vastId:n,renderIntoSpot:o,timestemp:(new Date).getTime()};this.ads[e].push(r)},i.prototype.clearAdsByType=function(e,t){if(this.ads[e])for(var i=0;i<this.ads[e].length;i++)this.ads[e][i].type.indexOf(t)>=0&&this.ads[e].splice(i,1)},i.prototype.removeAd=function(e,t){},i.prototype.sortBy=function(e,t,i){return e.sort((function(e,s){var o=0;return e[t]>s[t]?o="desc"===i?-1:1:e[t]<s[t]&&(o="desc"===i?1:-1),o}))},e.exports=i},function(module,exports){var PassbackListener=function(e,t,i){this.spotRectangleChanger=e,this.iframesCollection=t,this.passbacks=i};PassbackListener.prototype.runPassback=function(iframeId,type,pixel,pixelError,backMessageName){var passbackScript=this.passbacks[iframeId]&&this.passbacks[iframeId][type]||this.passbacks[type]||null;if(passbackScript){this.spotRectangleChanger.stopViewportWatching(iframeId),this.iframesCollection.stopActiveTabWatching(),pixel&&this.track(pixel);try{if(eval(passbackScript),this.spotRectangleChanger.websiteIframe&&this.spotRectangleChanger.websiteIframe.id.indexOf("google")>=0)var _this=this,lastTime=(new Date).getTime(),timer=setInterval((function(){var e=(new Date).getTime();if(document.getElementsByTagName("iframe")[0]&&document.getElementsByTagName("iframe")[0].id.indexOf("google")>=0){var t=document.getElementsByTagName("iframe")[0].getAttribute("width")+"px",i=document.getElementsByTagName("iframe")[0].getAttribute("height")+"px";_this.spotRectangleChanger.websiteIframe.setAttribute("style","display:block; width: "+(t||"100%")+"; height:"+(i||"100%")+"; overflow:hidden; margin:0 auto;"),clearInterval(timer)}else e-lastTime>=18e4&&clearInterval(timer)}),100);else this.spotRectangleChanger.destroySpot(iframeId)}catch(e){pixelError&&this.track(pixelError),this.spotRectangleChanger.getWidgetTargetElement(iframeId)?(this.spotRectangleChanger.watchPositions(),this.spotRectangleChanger.watchViewport(),backMessageName&&this.iframesCollection.message(iframeId,{intent:backMessageName})):this.spotRectangleChanger.destroySpot(iframeId)}}else backMessageName&&this.iframesCollection.message(iframeId,{intent:backMessageName})},PassbackListener.prototype.track=function(e){(new Image).src=e},PassbackListener.prototype.setSpotPassbackListener=function(e,t,i){this.passbacks[e]=this.passbacks[e]||{},this.passbacks[e][t]||(this.passbacks[e][t]=i)},module.exports=PassbackListener},function(e,t){var i=function(e,t){this.spotRectangleChanger=e,this.iframesCollection=t};i.prototype.render=function(e,t,i){var s=this,o=this.spotRectangleChanger.getWidgetTargetElement(e),n=document.createElement("div"),r="google-ad-"+e;n.setAttribute("id",r),n.style.width="100%",n.style.height="100%",n.style.textAlign="center",o.appendChild(n),window.googletag=window.googletag||{},googletag.cmd=googletag.cmd||[],function(){var e=document.createElement("script");e.async=!0;var t="https:"==document.location.protocol;e.src=(t?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}(),googletag.cmd.push((function(){googletag.defineSlot(t,i,r).addService(googletag.pubads()).setCollapseEmptyDiv(!0,!0),googletag.pubads().addEventListener("slotRequested",(function(t){s.iframesCollection.message(e,{intent:"gptTrack",type:"request"})})),googletag.pubads().addEventListener("slotRenderEnded",(function(t){t.isEmpty?(s.iframesCollection.message(e,{intent:"gptTrack",type:"error"}),s.iframesCollection.message(e,{intent:"gptNoad"})):(s.iframesCollection.message(e,{intent:"gptTrack",adId:t.creativeId,type:"response"}),s.iframesCollection.message(e,{intent:"gptRendered"}))})),googletag.pubads().addEventListener("impressionViewable",(function(t){s.iframesCollection.message(e,{intent:"gptTrack",type:"impression"})})),googletag.pubads().enableSingleRequest(),googletag.enableServices(),googletag.display(r)}))},e.exports=i},function(e,t){var i=function(e,t){this.spotRectangleChanger=e,this.iframesCollection=t};i.prototype.render=function(e,t,i,s){if(this.track("request",e,t,i),!document.querySelector('script[src*="'+s+'"]')){var o=this,n=this.spotRectangleChanger.getWidgetTargetElement(e),r=document.createElement("script");r.src=s,r.onerror=function(){o.track("error",e,t,i,1401)},window.addEventListener("rec_noAd",(function(s){var n=s.detail&&s.detail.recFrameID||e;o.track("error",n,t,i,1402)})),window.addEventListener("recAdImp",(function(s){var n=s.detail&&s.detail.recFrameID||e;o.track("impression",n,t,i)})),window.addEventListener("recImgImp",(function(s){var n=s.detail&&s.detail.recFrameID||e;o.track("response",n,t,i)})),n.appendChild(r)}},i.prototype.track=function(e,t,i,s,o){this.iframesCollection.message(t,{intent:"switchInTrack",type:e,partner:i,code:o,pubId:s})},e.exports=i},function(module,exports){var CustomIntegration=function(e,t,i,s,o,n){this.integrationType=t,this.websiteWindow=t.websiteWindow,this.websiteDocument=this.websiteWindow.document||this.websiteWindow.contentDocument,this.runPubtag=s,this.logger=o,this.tagSrc=i,this.configs=n,this.currentConfig=null,this.pixelParams={},"1"===e?this.init():this.runPubtag()};CustomIntegration.prototype.init=function(){var e=this,t=this.getSpot();if(t)if(this.pixelParams.player_id=t.getAttribute("data-player"),this.configs){try{this.configs=JSON.parse(this.configs)}catch(e){this.logger.log("custom-integration","invalid data attr config "+e.message,this.pixelParams)}try{this.migrateSpot(t)}catch(e){this.logger.log("custom-integration","migrating spot error: "+e.message,this.pixelParams)}}else this.loadConfig((function(i,s){i?e.logger.log("custom-integration","cannot load config file",e.pixelParams):(e.configs=s,e.migrateSpot(t))}));else this.logger.log("custom-integration","spot tag is undefined")},CustomIntegration.prototype.migrateSpot=function(e){if(this.currentConfig=this.getCurrentConfig(),this.currentConfig){var t=this.getPlace();if(t){var i=e.outerHTML;e.parentNode.removeChild(e);var s=document.createElement("div");if(s.id="showheroes-ad",s.innerHTML=i,this.currentConfig.style&&s.setAttribute("style",this.currentConfig.style),this.currentConfig.class&&s.setAttribute("class",this.currentConfig.class),t.insertAdjacentElement(this.currentConfig.position,s),"webpage"!==this.integrationType.within){if(!(n=this.getPublisherTag()))return;var o=this.websiteDocument.createElement("script");Object.keys(n.attributes).forEach((function(e){if("data-custom-spot-placement"!==n.attributes[e].name&&"data-noad-passback-listener"!==n.attributes[e].name)o.setAttribute(n.attributes[e].name,n.attributes[e].value);else if("data-noad-passback-listener"===n.attributes[e].name){var t=n.attributes[e].value.replace(/\((.+)?\);/g,"");if("function"==typeof window[t]){var i='document.getElementById("'+window.name+'").contentWindow.'+n.attributes[e].value;o.setAttribute("data-noad-passback-listener",i)}else o.setAttribute(n.attributes[e].name,n.attributes[e].value)}})),s.appendChild(o)}else this.runPubtag()}else{this.logger.log("custom-integration","invalid selectors",this.pixelParams);var n,r=(n=this.getPublisherTag()).getAttribute("data-noad-passback-listener",this.pixelParams);r&&this.runPassback(r,e)}}else this.logger.log("custom-integration","config for this site is not set",this.pixelParams)},CustomIntegration.prototype.getCurrentConfig=function(){var e=this.websiteWindow.location.hostname,t=null,i=null;if(this.configs[e]?i=this.configs[e]:(e=0===e.indexOf("www.")?e.replace("www.",""):"www."+e,this.configs[e]&&(i=this.configs[e])),i)if(i instanceof Array){for(var s=0;s<i.length;s++)if(this.availablePath(i[s].paths)){t=i[s];break}}else this.availablePath(i.paths)&&(t=i);return t},CustomIntegration.prototype.availablePath=function(e){var t=this.websiteWindow.location.pathname,i=!0;if(e){var s=e instanceof Array?e:[e];i=!1;for(var o=0;o<s.length;o++)if(0===t.indexOf(s[o])){i=!0;break}}return i},CustomIntegration.prototype.getSpot=function(){return document.querySelector(".publisher-sh-spot, .showheroes-spot")},CustomIntegration.prototype.getPublisherTag=function(){return document.querySelector("script[data-custom-spot-placement]")},CustomIntegration.prototype.getPlace=function(){if("iframe_safeframe"===this.integrationType.within)return this.websiteDocument.body;this.currentConfig.selectors instanceof Array&&1===this.currentConfig.selectors.length&&(this.currentConfig.selectors=this.currentConfig.selectors[0].split(",")),"string"==typeof this.currentConfig.selectors&&(this.currentConfig.selectors=[this.currentConfig.selectors]);for(var e=this.getValidSelectors(this.currentConfig.selectors),t=null,i=0;i<e.length;i++)if(this.websiteDocument.querySelector(e[i])){t=this.websiteDocument.querySelector(e[i]);break}return t},CustomIntegration.prototype.getValidSelectors=function(e){for(var t=[],i=0;i<e.length;i++)try{var s=this.websiteDocument.querySelector(e[i]);if(s&&null===s.offsetParent)throw{message:"parent is hidden"};t.push(e[i])}catch(t){this.logger.log("custom-integration","invalid selector "+e[i]+": "+t.message,this.pixelParams)}return t},CustomIntegration.prototype.loadConfig=function(e){var t=this.tagSrc.replace("publishertag.js","custom.json"),i=new XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(){if(4===i.readyState){if(200!==i.status)return 400===i.status?e(null,null):e(new Error("XHRURLHandler: "+i.statusText));try{return e(null,JSON.parse(i.responseText))}catch(t){return e(t,null)}}},i.send(null)},CustomIntegration.prototype.runPassback=function(script,spot){this.logger.log("noadPassback",null,this.pixelParams,"report-video");try{eval(script)}catch(e){this.logger.log("noadPassbackError",e.message,this.pixelParams,"report-video")}},module.exports=CustomIntegration},function(e,t){var i=function(){this.topics={},this.subUid=-1};i.prototype.subscribe=function(e,t){this.topics[e]||(this.topics[e]=[]);var i=(++this.subUid).toString();return this.topics[e].push({token:i,func:t}),i},i.prototype.publish=function(e,t,i,s){var o=e.split(".");1==o.length?this._publish(o[0],e,t,i,s):2==o.length?(this._publish(o[0],e,t,i,s),this._publish(o[0]+"."+o[1],e,t,i,s)):3==o.length&&(this._publish(o[0],e,t,i,s),this._publish(o[0]+"."+o[1],e,t,i,s),this._publish(o[0]+"."+o[1]+"."+o[2],e,t,i,s))},i.prototype._publish=function(e,t,i,s,o){if(!this.topics[e])return!1;for(var n=this.topics[e],r=n?n.length:0;r--;)n[r].func(t,i,s,o);return!0},i.prototype.unsubscribe=function(e){for(var t in this.topics)if(this.topics[t])for(var i=0,s=this.topics[t].length;i<s;i++)if(this.topics[t][i].token===e)return this.topics[t].splice(i,1),e;return!1},e.exports=i},function(e,t,i){e.exports=i(5)}]);