!function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=21)}([function(e,t,i){"use strict";var r=i(1),n=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},o=window,a=function(){function e(){}return e.createPlayerWrapperElement=function(t){var i=t.playerLocation,r=e.getPlayerWrapperElement(t);switch(r&&r.parentNode.removeChild(r),i){case"inWidget":return e.createInWidgetPlayerWrapper(t);case"aboveWidget":return e.createAboveWidgetPlayerWrapper(t);case"belowWidget":return e.createBelowWidgetPlayerWrapper(t);default:return e.createInWidgetPlayerWrapper(t)}},e.reset=function(t){var i=e.getPlayerWrapperElement(t);i&&i.parentNode.removeChild(i)},e.getUpdatedPlayerDimensions=function(t){var i={};this.providerConfig=t;var r=t.playerLocation,n=t.containerID,o=e.getWidgetElement(n),a=t.playerMaxWidth;switch(r){case"inWidget":var s=parseInt(t.firstIndex),l=parseInt(t.lastIndex),d=o.querySelector(".ob-recIdx-"+s),p=o.querySelector(".ob-recIdx-"+l);i=e.getPlayerDimensions(d,p);break;case"aboveWidget":var u=o.querySelector(".ob-widget-items-container")||o.querySelector(".ob-widget");i=e.getPlayerDimensionsForOuterPlayer(u,o,a);break;case"belowWidget":var c=o.querySelectorAll(".ob-widget-items-container")||o.querySelectorAll(".ob-widget");if(c&&c.length){var h=c[c.length-1];i=e.getPlayerDimensionsForOuterPlayer(h,o,a)}}return i},e.getPlayerWrapperElement=function(e){var t=e.containerID,i=e.widgetID,r=t+"_"+i+"_playerWrapper";return document.getElementById(r)},e.createInWidgetPlayerWrapper=function(t){var i=t.containerID,r=e.getWidgetElement(i),n=t.widgetID,o=parseInt(t.firstIndex),a=parseInt(t.lastIndex);try{var s=r.querySelector(".ob-recIdx-"+o),l=r.querySelector(".ob-recIdx-"+a),d=e.getPlayerDimensions(s,l),p=e.createPlayerWrapperDiv(i+"_"+n+"_playerWrapper",d.width,d.height-5);return s.appendChild(p)}catch(e){return null}},e.createAboveWidgetPlayerWrapper=function(t){try{var i=t.containerID,r=e.getWidgetElement(i),n=t.widgetID,o=r.querySelector(".ob-widget-items-container")||r.querySelector(".ob-widget"),a=t.playerMaxWidth;if(o){var s=e.getPlayerDimensionsForOuterPlayer(o,r,a),l=e.createPlayerWrapperDiv(i+"_"+n+"_playerWrapper",s.width,s.height);return l.style.marginBottom="10px",o.parentElement.insertBefore(l,o)}}catch(e){return null}},e.getPlayerDimensionsForOuterPlayer=function(t,i,r){if(i.getAttribute("data-feed-idx")){var n=i.querySelector(".ob-widget-section");return e.getPlayerDimensions(n,null,r)}return e.getPlayerDimensions(t,null,r)},e.createBelowWidgetPlayerWrapper=function(t){try{var i=t.containerID,r=e.getWidgetElement(i),n=t.widgetID,o=t.playerMaxWidth,a=r.querySelectorAll(".ob-widget-items-container")||r.querySelectorAll(".ob-widget");if(a&&a.length){var s=a[a.length-1],l=e.getPlayerDimensionsForOuterPlayer(s,r,o),d=e.createPlayerWrapperDiv(i+"_"+n+"_playerWrapper",l.width,l.height);return d.style.marginBottom="10px",s.parentElement.appendChild(d)}}catch(e){return null}},e.createPlayerWrapperDiv=function(e,t,i){var r=window.document.createElement("div");return r.id=e,r.style.setProperty("width",t+"px","important"),r.style.height=i+"px",r.style.zIndex="1",r.style.visibility="hidden",r.style.top="0px",r.style.position="absolute",r.style.overflow="hidden",r.style.marginRight="auto",r.style.marginLeft="auto",r},e.getTopLeftPoint=function(t,i){var r=e.getWidgetElement(t);if(i){var n=r.querySelector(".ob-recIdx-"+i);if(n)return n.getBoundingClientRect().top}return r.getBoundingClientRect().top},e.getPlayerEffectiveTopLeftPosition=function(t,i,r){var n=e.getWidgetElement(t);switch(i){case"inWidget":var o=n.querySelector(".ob-recIdx-"+r);if(o)return o.getBoundingClientRect().top;break;case"aboveWidget":return n.getBoundingClientRect().top;case"belowWidget":return n.getBoundingClientRect().bottom;default:return n.getBoundingClientRect().top}return n.getBoundingClientRect().top},e.getWidgetHeight=function(t){return e.getWidgetElement(t).getBoundingClientRect().height},e.getWidgetRecSourceInfo=function(t){var i={},n=t.containerID,o=e.getWidgetElement(n),a=o.querySelector(".ob-recIdx-0"),s=a.querySelector(".ob-rec-source");return s&&(i.style=window.getComputedStyle(s)||{},i.size=r.a.getTextSize(t.source,i.style)),i},e.isEmptyWidget=function(t){return!e.getWidgetElement(t).querySelector(".ob-recIdx-0")},e.getWidgetRecTitleInfo=function(t){var i={},n=t.containerID,o=e.getWidgetElement(n),a=o.querySelector(".ob-recIdx-0"),s=a.querySelector(".ob-rec-text");return s&&(i.style=window.getComputedStyle(s)||{},i.size=r.a.getTextSize(t.title,i.style)),i},e.hideWidgetElements=function(t,i){for(var r=e.getWidgetElement(t),n=0;n<i.length;n++){var o=String(i[n]-1),a=r.querySelector(".ob-recIdx-"+o);a.style.visibility="hidden",a.classList.add("playerPlay")}},e.showWidgetElements=function(t,i){for(var r=e.getWidgetElement(t),n=0;n<i.length;n++){var o=String(i[n]-1),a=r.querySelector(".ob-recIdx-"+o);a.style.visibility="visible",a.classList.remove("playerPlay")}},e.getWidgetElement=function(e){return document.getElementById(e)},e.getPlayerDimensions=function(e,t,i){void 0===i&&(i=null);var r=e.getBoundingClientRect();if(t){var n=t.getBoundingClientRect(),o=n.right-r.left>0?n.right-r.left:r.right-n.left,a=n.bottom-r.top;return{width:o&&o>0?o:0,height:a&&a>0?a:0}}var s=i&&i<r.width?i:r.width;return{width:s,height:Math.max(Math.floor(9*s/16),250)}},e.getWidgetSetting=function(t,i,r){return e.widgetProxy.getSet(t,i,r)},e.getVideoProviderWidgetSettings=function(t){var i=e.getWidgetIndex(t),o=i?"outbrain_widget_"+i:"outbrain_widget_0",a=e.getWidgetElement(o),s=e.getGenericProviderSettings(t),l=e.getProvidersWaterfall(t),d=l&&l.length?l[0]:"",p={widget:t,widgetID:e.getWidgetId(t),reportedWidgetId:e.getReportedWidgetJSId(t,a),widgetIdx:i||0,isSmartFeed:e.isSmartFeed(a),pubID:e.getWidgetRequest(t,"pid",null),reqID:e.getWidgetRequest(t,"req_id",-1),pageViewId:e.getWidgetRequest(t,"pvId",""),containerID:o,docId:e.getWidgetRequest(t,"did",-1),sourceId:e.getWidgetRequest(t,"sid",null),lazyListingsPixel:e.getWidgetMeta(t,"lazyListingsPixel",null),datasrc:e.getDocUrl(a),parallelPlay:e.getWidgetSetting(t,"vidgetParallelPlay","avoid"),viewabiltyEventTime:e.getWidgetSetting(t,"vidgetViewabilityMinDuration",2),viewabilityPercentageThreshold:e.getWidgetSetting(t,"vidgetViewabilityPercentageThreshold",50),playerMaxWidth:e.getWidgetSetting(t,"vidgetPlayerMaxWidth",null),playOnlyOnWifi:e.getWidgetSetting(t,"vidgetPlayOnlyOnWifi",!0),reportedSubWidgetId:e.getReportedSubWidgetId(t,a),consentData:e.getWidgetRequest(t,"cnsnt",""),gdprInt:this.getGdprOrLegit(t),abTestVal:e.getWidgetRequest(t,"abTestVal","no_abtest"),isIframe:r.a.isIframe(),fid:e.getFeedFatherId(t,a),stickyPlayer:e.getWidgetSetting(t,"stickyPlayer","None")};return n({},p,s,{providersWaterfall:l,provider:d})},e.getDocUrl=function(e){var t=e.getAttribute("data-src");return t&&t.includes("http")?t:window.location.href},e.getProvidersWaterfall=function(t){var i=[],n=e.getQueryString("vidgetProvider")||e.getWidgetSetting(t,"vidgetProvider",null)||"Aniview",a=e.getWidgetSetting(t,"vidgetProvidersWaterfall",null),s=e.getWidgetSetting(t,"providersBalancing",null);if(n&&!a&&!s)return i.push(n),i;if(a){if((i=a.split(",").map(function(e){return e.trim()}))&&i.length)return i}else if(s){try{s=o.JSON.parse(s)}catch(e){s={}}var l=r.a.performRandomWithBalance(s);if(l)return i.push(l),i}return i.push.Aniview,i},e.getProviderSettings=function(t,i){var r=e.getWidgetSetting(t,"vidgetData","{}"),a=e.getVidegtPlayMode(t);try{r=o.JSON.parse(r),a=a[i]?a[i]:a,r.specificPlayMode=a}catch(e){r={}}switch(i){case"Aniview":return n({},e.getAniviewProviderSettings(r),{provider:"Aniview"});case"Vidazoo":return n({},e.getVidazooProviderSettings(r),{provider:"Vidazoo"});case"Teads":return n({},e.getTeadsProviderSettings(r),{provider:"Teads"});case"OPA":return n({},e.getRtbVideoProviderSettings(r),{provider:"OPA"});default:return{}}},e.renamingPlayMode=function(t){if(t.includes("{")){t=JSON.parse(t);var i={};for(var r in t)t[r]?i[r]=e.renamingPlayMode(t[r]):i[r]="load";return i}switch(t){case"auto-play":return"load";case"in-view":return"view";default:return"load"}},e.getGenericProviderSettings=function(t){var i=e.getWidgetSetting(t,"vidgetData","{}");try{i=o.JSON.parse(i)}catch(e){i={}}var r=e.getWidgetSetting(t,"vidgetIndexes","1"),n=e.getQueryString("obLocation")||e.getWidgetSetting(t,"vidgetPlayerLocation",null),a=e.getWidgetSetting(t,"vidgetAdUnitType",null),s=(e.getWidgetRequest(t,"abTestVal","no_abtest"),0),l=0,d=r.split(",");if(r&&r.length&&(s=d.length&&parseInt(d[0])>0?parseInt(d[0])-1:0,l=d.length?parseInt(d[d.length-1])-1:0),i.firstIndex=s,i.lastIndex=l,i.indexes=d,i.playMode=e.getVidegtPlayMode(t),i.pubDomain=document.location.hostname||document.location.href,i.ctaText=i.ctaText||"",i.smartScroll=void 0!==i.smartScroll&&i.smartScroll,i.playerLocation=n||"inWidget",i.instream=a&&"instream"===a,i.unMuteOnMouseEnter=void 0!==i.unMuteOnMouseEnter&&i.unMuteOnMouseEnter,i.closeButton=void 0!==i.closeButton&&i.closeButton,i.stickyPlayer=e.getQueryString("obSticky")||e.getWidgetSetting(t,"vidgetActivateStickyPlayer","none").toString(),i.stickyPlayer="false"!=i.stickyPlayer&&i.stickyPlayer,i.configuredReloadTime=1e3*parseInt(e.getWidgetSetting(t,"vidgetReloadTime",4)),i.configuredReloadCount=e.getWidgetSetting(t,"vidgetReloadCount",3),i.initialDelay=void 0!==i.initialDelay?1e3*parseInt(i.initialDelay):5e3,i.debug=void 0!==i.debug&&i.debug,i.test=void 0!==i.test&&i.test,i.sticky=Object.assign({width:400,get height(){return Math.ceil(this.width/this.ratio)},ratio:16/9},i.sticky||{}),i.vidgetCustomControls=this.isValidJson(e.getWidgetSetting(t,"vidgetCustomControls","")),"mobile-app-js-widget"===e.getWidgetSetting(t,"InstallationType","web-js-widget")){i.inApp=!0,i.appName=void 0!==i.appName?i.appName:void 0,i.appCategory=void 0!==i.appCategory?i.appCategory:void 0,i.packageName=void 0!==i.packageName?i.packageName:void 0,i.bundleId=void 0!==i.bundleId?i.bundleId:void 0,i.appStoreUrl=void 0!==i.appStoreUrl?i.appStoreUrl:void 0,i.playStoreUrl=void 0!==i.playStoreUrl?i.playStoreUrl:void 0,i.mobileUserId=e.getApiUserId(t);var p=navigator.userAgent;p.includes("iPhone")||p.includes("iPad")?i.platform="ios":p.includes("Android")&&(i.platform="android")}else i.inApp=!1;return i},e.isValidJson=function(e){try{return JSON.parse(e)}catch(e){return}},e.getVidegtPlayMode=function(t){var i=e.getWidgetSetting(t,"vidgetPlayMode",'{"Aniview":"auto-play","Teads":"auto-play","Vidazoo":"auto-play","OPA":"in-view"}');return e.getQueryString("playMode")?e.renamingPlayMode(decodeURIComponent(e.getQueryString("playMode"))):e.renamingPlayMode(i)},e.getTimeoutSetting=function(e,t){var i=void 0!==e.timeout?e.timeout:null;return i&&i.length?(i=i.split(",").map(function(e){return e.trim()}),i[0]==t||"All"==i[0]?1e3*parseInt(i[1]):2e4):2e4},e.getGdprOrLegit=function(t){var i=e.getWidgetRequest(t,"gdpr",0);if(1==i&&"void"!=e.getWidgetRequest(t,"cnsnt","void"))return 1;var r=e.getWidgetSetting(t,"vidgetData","{}");try{r=o.JSON.parse(r)}catch(e){return i}return"undefined"!==r.gdpr&&"legitimate"==r.gdpr?2:i},e.getQueryString=function(e){var t=window.location.href,i=new RegExp("[?&]"+e+"=([^&#]*)","i"),r=i.exec(t);return r?r[1]:null},e.getAniviewProviderSettings=function(t){var i={};return i.publisherId=t.publisherId||"58a5addb28a0612d3529bc5e",i.maxRetries=t.retries||2,i.errorLimit=t.errorLimit||3,i.channelId=e.getQueryString("obChannelId")||t.channelId,i.providerTimeout=this.getTimeoutSetting(t,"Aniview"),i.playMode=t.specificPlayMode,i.trafficType=7,i},e.getVidazooProviderSettings=function(e){var t={};return t.playerId=e.playerId||"5ae0a5c0da5fdd00042f78f5",t.userId=e.userId||"5a9ea5a0225f7d0004c70045",t.providerTimeout=this.getTimeoutSetting(e,"Vidazoo"),t.maxRetries=e.retries||1,t.playMode=e.specificPlayMode,t.trafficType=7,t},e.getTeadsProviderSettings=function(t){var i={};return i.allowParallelInview=e.getQueryString("allowParallelInview")||t.allowParallelInview,i.tagId=e.getQueryString("obTagId")||t.tagId,i.providerTimeout=this.getTimeoutSetting(t,"Teads"),i.playMode=t.specificPlayMode,i.trafficType=7,i},e.getRtbVideoProviderSettings=function(e){var t={};return t.providerTimeout=this.getTimeoutSetting(e,"OPA"),t.playMode=e.specificPlayMode,t.trafficType=9,t},e.makeHandshake=function(t){e.widgetProxy&&e.widgetProxy.makeHandshake&&e.widgetProxy.makeHandshake(t)},e.getWidgetId=function(t){return e.getWidgetRequest(t,"widgetJsId",e.widgetProxy.getWidgetId(t))},e.getWidgetIndex=function(t){if(e.widgetProxy.getWidgetIndex)return e.widgetProxy.getWidgetIndex(t)},e.getReportedWidgetJSId=function(t,i){var r=e.getWidgetId(t);if(e.isSmartFeed(i)){var n=e.widgetProxy.getFeedParentWidget?e.widgetProxy.getFeedParentWidget(t):t;r=e.getWidgetId(n)}return r},e.getFeedFatherId=function(t,i){if(e.isSmartFeed(i)){var r=e.widgetProxy.getFeedParentWidget?e.widgetProxy.getFeedParentWidget(t):t;return e.getWidgetRequest(r,"wnid",null)}return null},e.isSmartFeed=function(e){return!(!e||!e.getAttribute("data-feed-idx")&&!e.getAttribute("data-card-idx"))},e.getReportedSubWidgetId=function(t,i){var r=e.getWidgetId(t);return e.isSmartFeed(i)?r:null},e.getWidgetRequest=function(t,i,r){if(e.widgetProxy.getRequest)return e.widgetProxy.getRequest(t,i,r)},e.getWidgetMeta=function(t,i,r){if(e.widgetProxy&&"function"==typeof e.widgetProxy.getMeta)try{return e.widgetProxy.getMeta(t,i,r)}catch(e){throw"*** Get widget meta from widget proxy failed ***"}return null},e.getApiUserId=function(t){if(e.widgetProxy&&"function"==typeof e.widgetProxy.getUserId)try{return e.widgetProxy.getUserId(t)}catch(e){throw"*** Get Api user id from widget proxy failed ***"}return null},e.canVideoBePorvided=function(t){var i=t.containerID,r=t.sourceId,n=e.getWidgetElement(i);if(!n||!r)return!1;var o=null;switch(t.playerLocation){case"inWidget":var a=parseInt(t.firstIndex),s=parseInt(t.lastIndex),l=n.querySelector(".ob-recIdx-"+a),d=n.querySelector(".ob-recIdx-"+s);return l&&d;case"aboveWidget":return o=n.querySelector(".ob-widget-items-container")||n.querySelector(".ob-widget");case"belowWidget":return(o=n.querySelectorAll(".ob-widget-items-container")||n.querySelectorAll(".ob-widget"))&&o.length;default:return!1}},e.stylePropertyValid=function(e,t){return void 0!==t&&"object"!=typeof t&&"function"!=typeof t&&t.length>0&&t!=parseInt(t)},e.odbCall=function(e,t){window.OBR.extern.callRecs(e,t)},e.widgetProxy=o.OB_PROXY||{},e.providerConfig={},e}();t.a=a},function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?n(e.value):new i(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function i(e){return function(t){return r([e,t])}}function r(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,o=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(a=l.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,o,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},o=function(){function e(){}return e.addPolyfills=function(){Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,r=function(){function e(){}return e}(),n=function(){return i.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,n.prototype=new r,n}),window.Promise=window.Promise||i(10).Promise},e.enumHasValue=function(e,t){for(var i in e)if(i===t)return!0;return!1},e.getViewportSizeGlobal=function(){var e,t,i,r={height:0,width:0};return e=void 0!==window.innerWidth,t=void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth,i=!1===e&&!1===t,e?(r.height=window.innerHeight,r.width=window.innerWidth):t?(r.height=document.documentElement.clientHeight,r.width=document.documentElement.clientWidth):i&&(r.height=document.getElementsByTagName("body")[0].clientHeight,r.width=document.getElementsByTagName("body")[0].clientWidth),r},e.elementInViewport=function(t,i){if(i||(i=0),!t||i<0||i>100)return!1;var r=t.getBoundingClientRect(),n=e.getViewportSizeGlobal().height,o=t.clientHeight,a=Math.round(o*i/100);return a=a>n?n-1:a,r.top+a<=n&&r.bottom-a>=0},e.viewPercentage=function(t){if(!t)return 0;var i=t.getBoundingClientRect(),r=e.getViewportSizeGlobal().height,n=t.clientHeight;if(!n)return 0;var o=i.top,a=i.top+n,s=0;if(o>0){if(o>r)return 0;if(a<r)return 100;s=r-o}else{if(a<0)return 0;s=a>r?r:a}return Math.round(100*s/n)},e.elementPercHeightInViewport=function(t,i,r,n,o){if(void 0===o&&(o="both"),r||(r=0),!t||r<0||r>100)return!1;var a=e.getViewportSizeGlobal().height,s=Math.round(i*r/100);if(s=s>a?a-1:s,n)return t+s<=a&&t+i-s>=0;var l=t+i-s<0,d=t+s>a;switch(o){case"both":return l||d;case"up":return l;case"down":return d}},e.getDocumentUrl=function(){var e=window.location.href;return window.self!==window.top&&(e=window.parent.location.href),e},e.isIframe=function(){try{return window.self!==window.top}catch(e){return console.error(e),!0}},e.toDash=function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})},e.getFormattedDate=function(){var e=function(e){return e>=10?e:"0"+e},t=new Date,i=e(t.getDate()),r=e(t.getMonth()+1),n=e(t.getHours()),o=e(t.getMinutes()),a=e(t.getSeconds()),s=t.getMilliseconds();return[t.getFullYear(),"-",r,"-",i," ",n,":",o,":",a,".",s].join("")},e.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},e.getTextSize=function(t,i){var r=document.createElement("div");r.style.position="absolute",r.style.visibility="hidden",r.style.height="auto",r.style.width="auto",r.style.whiteSpace="nowrap",r.innerHTML=t;var n=["color","fontStyle","lineHeight","fontFamily","fontWeight","padding","margin","border","fontSize","textAlign"];for(var o in n){var a=n[o];i.hasOwnProperty(a)&&(r.style[e.toDash(a)]=i[a])}var s=document.getElementsByTagName("body")[0];s.appendChild(r);var l=r.offsetHeight+1||0,d=r.offsetWidth+1||0;return s.removeChild(r),{height:l,width:d}},e.isVideoPlayingOnPageSync=function(t){switch(t){case"allow":return!1;case"strict":return e.isVideoElementsOnPageStrictMode();case"avoid":default:return e.isVideoPlayingOnPageAvoidMode()}},e.isVideoPlayingOnPageAsync=function(t,i){return r(this,void 0,void 0,function(){return n(this,function(r){return"allow"===t?[2,Promise.resolve(!1)]:[2,e.delay(i).then(function(){return Promise.resolve(e.isVideoPlayingOnPageSync(t))})]})})},e.delay=function(e){return new Promise(function(t){return setTimeout(t,e)})},e.isMobile=function(){return!!/(iphone|ipod|symbian|android|windows ce|blackberry|palm|ipad)/.test(navigator.userAgent.toLowerCase())},e.isWifiConnection=function(){if(!navigator)return!1;var e=navigator.connection;if(e){var t=e.type;if(t&&"unknown"!=t)return"wifi"===t}return!1},e.checkYoutubeElements=function(e,t){void 0===e&&(e="strict"),void 0===t&&(t="object");for(var i=document.getElementsByTagName(t),r=0;r<i.length;r++){var n=i.item(r),o="object"===t?n.data:n.src;if(void 0!==o){var a="strict"===e||o.includes("autoplay=1");if(o&&o.includes("youtube.com")&&a)return!0}}return!1},e.checkVideoElements=function(e){void 0===e&&(e="strict");var t=document.getElementsByTagName("video");if(0===t.length)return!1;if("strict"!==e){for(var i=0;i<t.length;i++){var r=t.item(i);if(r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2)return!0}return!1}return!0},e.checkEmbedElements=function(){for(var e=document.getElementsByTagName("embed"),t=0;t<e.length;t++){var i=e.item(t),r=i.src;if(r&&(r.includes(".mov")||r.includes(".mp4")))return!0}return!1},e.isVideoPlayingOnPageAvoidMode=function(){var t=e.checkYoutubeElements("avoid","iframe");if(t)return t;var i=e.checkYoutubeElements("avoid","object");return i||e.checkVideoElements("avoid")},e.isVideoElementsOnPageStrictMode=function(){var t=e.checkVideoElements("strict");if(t)return t;var i=e.checkYoutubeElements("strict","iframe");if(i)return i;var r=e.checkYoutubeElements("strict","object");return r||e.checkEmbedElements()},e.performRandomWithBalance=function(e){var t=0,i=[];if(!e)return null;for(var r in e)t+=e[r],i.push({name:r,balance:e[r]});t<1&&(i[0].balance+=1-t),t>1&&(i[0].balance-=t-1);for(var n=Math.random(),o=0,a=0;o<i.length;o++){var s=i[o];if(n<s.balance+a)return s.name;a+=s.balance}return null},e.waterfall=function(e,t){return this.reducePollyfill.call(e,function(e,i){return e.then(t?i.bind(t):i)},Promise.resolve())},e.reducePollyfill=function(e,t){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var i,r=Object(this),n=r.length>>>0,o=0;if(2==arguments.length)i=arguments[1];else{for(;o<n&&!r.hasOwnProperty(o);)o++;if(o>=n)throw new TypeError("Reduce of empty array with no initial currentValue");i=r[o++]}for(;o<n;o++)o in r&&(i=e(i,r[o],o,r));return i},e}();t.a=o},function(e,t,i){"use strict";var r=function(){function e(e,t,i,r){this.extractVideoConfig(e,i,r),this.sessionId=t}return e.prototype.extractVideoConfig=function(e,t,i){this.videoProviderConfig=e,this.videoProviderConfig.providerIndex=t,this.videoProviderConfig.currentReload=i},e.prototype.updateCurrentReload=function(e){this.videoProviderConfig.currentReload=e},e.prototype.provide=function(e){},e}();t.a=r},function(e,t,i){"use strict";var r=i(1),n=i(6),o=i(0),a=i(5),s=i(7),l=function(){function e(e,t,i,r){void 0===i&&(i=null),void 0===r&&(r=null),this.smartScroll=!1,this.isMobile=!1,this.playerHeight=0,this.playerWrapperHeight=0,this.playerInView=!1,this.isInstream=!1,this.playerPlay=!1,this.widgetElementsHidden=!1,this.playerVisibleFirstTime=!0,this.playerDescriptionHeight=0,this.cancelProviderTimeoutDuration=null,this.rejectProviderTimeout=null,this.viewabiltyEventInterval=null,this.totalContinuosViewTime=0,this.viewabiltyEventTime=null,this.viewabiltyIntervalTime=100,this.viewabilityPercentageThreshold=0,this.adPaused=!1,this.internalPause=!1,this.bpLoadTime=Date.now(),this.lastEventTime=Date.now(),this.playerState=s.a.none,this.providerConfig=e,this.sessionId=t,this.playerIdsPrefix=e.containerID+"_"+e.widgetID+"_",this.playerWrapperElementId=this.playerIdsPrefix+"playerWrapper",this.noVideoCallback=i,this.videoPlayCallback=r,this.viewabiltyEventTime=1e3*this.providerConfig.viewabiltyEventTime,this.viewabilityPercentageThreshold=this.providerConfig.viewabilityPercentageThreshold,this.cancelProviderTimeoutDuration=this.providerConfig.providerTimeout?this.providerConfig.providerTimeout:2e3}return e.prototype.getPlayerWrapperElementId=function(){return this.playerWrapperElementId},e.prototype.getPlayerContainerId=function(){return""},e.prototype.destroyPlayer=function(){this.player&&this.player.destroy&&this.player.destroy()},e.prototype.getPlayer=function(){return this.player},e.prototype.getAdCurrentTime=function(){return 0},e.prototype.isValidEvent=function(e){return!!r.a.enumHasValue(this.playerEvents,e)},e.prototype.onEvent=function(e){this.audit({eventType:e,videoProgress:Math.round(this.getAdCurrentTime()/1e3),viewability:this.getCurrentViewability()})},e.prototype.registerEvents=function(){this.registerEvent("onPlay",this.onPlay.bind(this)),this.registerEvent("onLoad",this.onLoad.bind(this)),this.registerEvent("onPause",this.onPause.bind(this)),this.registerEvent("onResume",this.onResume.bind(this)),this.registerEvent("onClose",this.onClose.bind(this)),this.registerEvent("onPlay25",this.onEvent.bind(this,"FIRST_QUARTILE")),this.registerEvent("onPlay50",this.onEvent.bind(this,"SECOND_QUARTILE")),this.registerEvent("onPlay75",this.onEvent.bind(this,"THIRD_QUARTILE")),this.registerEvent("onPlay100",this.onPlay100.bind(this)),this.registerEvent("onSkip",this.hidePlayer.bind(this)),this.registerEvent("onClick",this.onEvent.bind(this,"CLICK")),this.registerEvent("onError",this.onError.bind(this)),this.registerEvent("onNoAd",this.onError.bind(this)),this.registerEvent("onUnmute",this.onEvent.bind(this,"UNMUTE")),this.providerConfig.unMuteOnMouseEnter&&this.handleMuteOnMouseEnter()},e.prototype.onError=function(e){this.isInstream||(this.providerConfig.lazyListingsPixel&&((new Image).src=this.providerConfig.lazyListingsPixel),this.closePlayerNoAd())},e.prototype.onPause=function(){this.adPaused=!0,this.audit({eventType:"PAUSE",viewability:this.getCurrentViewability()})},e.prototype.onResume=function(){this.adPaused=!1,this.audit({eventType:"RESUME",viewability:this.getCurrentViewability()})},e.prototype.pausePlayer=function(){},e.prototype.resumePlayer=function(){},e.prototype.onClose=function(){this.hidePlayer(!0)},e.prototype.registerEvent=function(e,t){},e.prototype.getPlayerWidth=function(){return this.playerElement.clientWidth},e.prototype.getPlayerHeight=function(){return this.playerHeight},e.prototype.getCurrentPlayerHeight=function(){if(this.playerElement&&this.playerElement.getBoundingClientRect().height)return this.playerElement.getBoundingClientRect().height},e.prototype.handleVideoDescription=function(){var e=0,t=0,i=this.playerElement.querySelector("#"+this.playerIdsPrefix+"videoSource"),n=this.playerElement.querySelector("#"+this.playerIdsPrefix+"videoTitle"),a=this.providerConfig.title||!1,s=this.providerConfig.source||!1;if(this.playerHeight=this.playerElement.clientHeight,o.a.isEmptyWidget(this.providerConfig.containerID)||!a&&!s)o.a.isEmptyWidget(this.providerConfig.containerID)&&(a||s)&&(a&&(e=parseInt(window.getComputedStyle(n,null).getPropertyValue("height"))),s&&(t=parseInt(window.getComputedStyle(i,null).getPropertyValue("height"))));else{var l=s?o.a.getWidgetRecSourceInfo(this.providerConfig):{},d=a?o.a.getWidgetRecTitleInfo(this.providerConfig):{},p=["color","fontStyle","lineHeight","fontFamily","fontWeight","padding","margin","border","fontSize","textAlign"];for(var u in p){var c=p[u];s&&l.style.hasOwnProperty(c)&&(i.style[r.a.toDash(c)]=l.style[c]),a&&d.style.hasOwnProperty(c)&&(n.style[r.a.toDash(c)]=d.style[c])}a&&(e=parseInt(d.size.height)),s&&(t=parseInt(l.size.height))}this.playerDescriptionHeight+=e+t,"inWidget"===this.providerConfig.playerLocation&&(this.playerHeight=this.playerHeight-this.playerDescriptionHeight),this.playerHeight="sliderAlwaysRight"===this.providerConfig.stickyPlayer?this.providerConfig.sticky.height:this.playerHeight},e.prototype.handlePlayerWrapperHeight=function(){"inWidget"!==this.providerConfig.playerLocation&&(this.playerWrapperHeight=this.playerElement.clientHeight+this.playerDescriptionHeight,this.playerElement.style.height="0px",this.playerElement.style.transition="height 1s")},e.prototype.handleMuteOnMouseEnter=function(){var e=this;this.playerElement.addEventListener("mouseenter",function(t){setTimeout(function(){e.player.unmute()},5)}),this.playerElement.addEventListener("mouseleave",function(t){setTimeout(function(){e.player.mute()},5)})},e.prototype.auditError=function(e){this.audit({eventType:"ERROR",description:e})},e.prototype.onPlay=function(e){this.startViewabilityInterval(),this.clearProviderRejectTimeout(),this.playerPlay=!0,this.isMobile?this.canvasPlayBtn=this.playerElement.querySelector("#play-pause"):this.videoElement=this.playerElement.getElementsByTagName("video")[0],"Aniview"===this.providerConfig.provider&&this.setAniviewCustomePlayer(),this.showPlayer(),this.addResizeEventListener(),"slider"===this.providerConfig.stickyPlayer||"sliderAlwaysRight"===this.providerConfig.stickyPlayer?this.playerViewCallbackActivateSlider():"regular"===this.providerConfig.stickyPlayer&&(this.bindedStartStickyPlayerCallback=this.PlayerViewCallbackActivateRegular.bind(this),window.addEventListener("scroll",this.bindedStartStickyPlayerCallback)),this.audit({eventType:"PLAY"})},e.prototype.startViewabilityInterval=function(){var e=this;this.viewabiltyEventInterval=window.setInterval(function(){var t=e.getCurrentViewability();!e.adPaused&&t&&t>=e.viewabilityPercentageThreshold?e.totalContinuosViewTime+=e.viewabiltyIntervalTime:e.totalContinuosViewTime=0,e.totalContinuosViewTime>=e.viewabiltyEventTime&&(window.clearInterval(e.viewabiltyEventInterval),e.audit({eventType:"VIDGET_VIEWABILITY",viewability:t,description:"viewability percentage threshold: "+e.viewabilityPercentageThreshold}))},this.viewabiltyIntervalTime)},e.prototype.getCurrentViewability=function(){return r.a.viewPercentage(this.playerElement)},e.prototype.onLoad=function(e){this.providerLoad()},e.prototype.addResizeEventListener=function(){this.playerElement.style.transition="right 2s",this.resizeCallback=this.resizePlayer.bind(this),window.addEventListener("resize",this.resizeCallback)},e.prototype.clearResizeEventListener=function(){window.removeEventListener("resize",this.resizeCallback)},e.prototype.resizePlayer=function(){if(this.player){var e=o.a.getUpdatedPlayerDimensions(this.providerConfig),t=e.height+this.playerDescriptionHeight;this.player.resize(e.width,t),this.playerElement.style.width=e.width,this.playerElement.style.height=t}},e.prototype.onPlay100=function(e){var t=this;this.audit({eventType:"COMPLETE",videoProgress:Math.round(this.getAdCurrentTime()/1e3),viewability:this.getCurrentViewability()}),this.playerOutOfViewportLeaveAnimationEffect().then(function(){return t.hidePlayer()})},e.prototype.getTopLeftWidgetPosition=function(){return o.a.getTopLeftPoint(this.providerConfig.containerID,null)},e.prototype.getPlayerTopLeftPosition=function(){return this.playerPlay?this.playerElement.getBoundingClientRect().top:o.a.getPlayerEffectiveTopLeftPosition(this.providerConfig.containerID,this.providerConfig.playerLocation,this.providerConfig.firstIndex)},e.prototype.getPlaceHolderTopLeftPosition=function(){return this.playerPlaceholder.getBoundingClientRect().top},e.prototype.getWidgetHeight=function(){return o.a.getWidgetHeight(this.providerConfig.containerID)},e.prototype.getPlaceholderHeight=function(){return this.playerPlaceholder.getBoundingClientRect().height},e.prototype.showPlayer=function(){var e=this.playerElement.getElementsByTagName("canvas");e&&e.length&&(e[0].style.top="0px"),"inWidget"===this.providerConfig.playerLocation?(this.playerElement.style.visibility="visible",this.playerElement.style.top="0px",this.playerElement.style.display="block","sliderAlwaysRight"!==this.providerConfig.stickyPlayer&&(this.widgetElementsHidden=!0,o.a.hideWidgetElements(this.providerConfig.containerID,this.providerConfig.indexes))):(this.playerElement.style.position="relative",this.playerElement.style.top="0px",this.playerElement.style.visibility="visible",this.playerElement.style.display="block",function(){var e=this;window.setTimeout(function(){var t;t="regular"!==e.providerConfig.stickyPlayer&&"none"!==e.providerConfig.stickyPlayer&&!e.isPlaceholderInView()||"sliderAlwaysRight"===e.providerConfig.stickyPlayer?Math.max(e.playerElement.clientHeight,e.providerConfig.sticky.height):e.playerWrapperHeight,e.playerElement.style.height=t+"px"},100)}.bind(this)())},e.prototype.hidePlayer=function(e){var t=this;if(void 0===e&&(e=!1),this.clearResources(),!this.isInstream&&this.player){this.widgetElementsHidden&&o.a.showWidgetElements(this.providerConfig.containerID,this.providerConfig.indexes),this.playerVisibleFirstTime=!0,this.playerElement.style.height="0px";var i="inWidget"===this.providerConfig.playerLocation?0:1e3,r=Math.round(this.getAdCurrentTime()/1e3);window.setTimeout(function(){t.playerElement.style.display="none",t.playerPlaceholder&&(t.playerPlaceholder.style.display="none"),t.playerPlay=!1,t.widgetElementsHidden=!1,"pause"===t.providerConfig.test?t.playerState===s.a.finished||t.playerState===s.a.none?(t.destroyPlayer(),setTimeout(function(){t.playerElement&&t.playerElement.parentNode&&(t.playerElement.parentNode.removeChild(t.playerElement),t.player=null),t.audit({eventType:"CLOSE",videoProgress:r}),a.a.setNotRunning(),t.videoPlayCallback&&t.videoPlayCallback(e)},5)):(t.pausePlayer(),t.audit({eventType:"CLOSE",videoProgress:r}),a.a.setNotRunning(),t.videoPlayCallback&&t.videoPlayCallback(e)):(t.destroyPlayer(),setTimeout(function(){t.playerElement&&t.playerElement.parentNode&&(t.playerElement.parentNode.removeChild(t.playerElement),t.player=null),t.audit({eventType:"CLOSE",videoProgress:r}),a.a.setNotRunning(),t.videoPlayCallback&&t.videoPlayCallback(e)},5))},i)}},e.prototype.playerViewCallbackActivateSlider=function(){this.createPlayerPlaceholder(),"sliderAlwaysRight"===this.providerConfig.stickyPlayer&&this.removeScrollListener(),this.isPlayerPositionInlineWithWidget()&&"slider"===this.providerConfig.stickyPlayer||(this.playerOutOfViewportLeaveAnimationEffect(),this.playerOutOfViewport(),"true"==this.providerConfig.sticky.stickRight&&this.removeScrollListener())},e.prototype.createPlayerPlaceholderWrapper=function(){if("static"===window.getComputedStyle(this.playerElement.parentElement).getPropertyValue("Position")){var e=document.createElement("div");e.setAttribute("class","outbrain-place-holder-wrapper"),e.style.position="relative",this.playerElement.parentNode.insertBefore(e,this.playerElement),e.appendChild(this.playerElement)}},e.prototype.PlayerViewCallbackActivateRegular=function(){var e="belowWidget"===this.providerConfig.playerLocation,t=e?1:this.getWidgetHeight(),i=this.getTopLeftWidgetPosition(),n=this.getTopLeftWidgetPosition()+this.getWidgetHeight()-(this.playerElement?parseInt(this.playerElement.style.height.split("px")[0]):0);r.a.elementPercHeightInViewport(e?n:i,t,30,!0)&&(window.removeEventListener("scroll",this.bindedStartStickyPlayerCallback),this.createPlayerPlaceholder())},e.prototype.createPlayerPlaceholder=function(){this.playerPlaceholder=this.playerElement.cloneNode(!1),this.playerPlaceholder.setAttribute("id","player-place-holder"),this.playerPlaceholder.style.position="absolute",this.playerPlaceholder.style.zIndex="0",this.playerElement.parentNode.appendChild(this.playerPlaceholder),this.bindedPlaceholderVisibleCallback=this.placeholderVisibilityCallback.bind(this,!0),this.bindedPlaceholderDissapearCallback=this.placeholderVisibilityCallback.bind(this,!1),window.addEventListener("scroll",this.bindedPlaceholderDissapearCallback)},e.prototype.placeholderVisibilityCallback=function(e){this.getPlaceHolderTopLeftPosition(),this.getPlaceholderHeight(),this.isMobile;if(e){if(this.isPlaceholderInView()){window.removeEventListener("scroll",this.bindedPlaceholderVisibleCallback),window.addEventListener("scroll",this.bindedPlaceholderDissapearCallback),window.addEventListener("scroll",this.bindedViewCallback);var t=this.providerConfig.stickyPlayer;this.providerConfig.stickyPlayer="none",this.resizePlayer(),this.providerConfig.stickyPlayer=t,this.playerInViewport()}}else this.isPlaceholderInView(!1)&&(window.removeEventListener("scroll",this.bindedViewCallback),window.removeEventListener("scroll",this.bindedPlaceholderDissapearCallback),window.addEventListener("scroll",this.bindedPlaceholderVisibleCallback),this.playerOutOfViewport())},e.prototype.isPlaceholderInView=function(e){void 0===e&&(e=!0);var t=this.getPlaceHolderTopLeftPosition(),i=this.getPlaceholderHeight(),n=this.isMobile?99:15;return r.a.elementPercHeightInViewport(t,i,n,e)},e.prototype.isPlayerPositionInlineWithWidget=function(){var e="belowWidget"===this.providerConfig.playerLocation,t=e?1:this.getWidgetHeight(),i=this.getTopLeftWidgetPosition(),n=this.getTopLeftWidgetPosition()+this.getWidgetHeight()-(this.playerElement?parseInt(this.playerElement.style.height.split("px")[0]):0);return r.a.elementPercHeightInViewport(e?n:i,t,30,!0)},e.prototype.playerInViewport=function(){var e=this.playerHeight;this.playerPlaceholder.style.position="absolute",this.playerElement.style.position="inWidget"===this.providerConfig.playerLocation?"absolute":"relative",this.playerElement.style.top="0",this.playerElement.style.bottom="0",this.playerElement.style.right="0",this.resize(this.playerPlaceholder.clientWidth,e),this.playerElement.style.width=this.playerPlaceholder.style.width},e.prototype.playerOutOfViewport=function(){var e=this.providerConfig.sticky.width,t=this.providerConfig.sticky.height,i=e/t,r=Math.max(e,40*this.playerElement.clientWidth/100),n=Math.max(t,r/i);this.playerElement.style.position="fixed",this.playerPlaceholder.style.position="inWidget"===this.providerConfig.playerLocation?"absolute":"relative",this.adPaused&&this.internalPause&&(this.internalPause=!1,this.resume()),this.isMobile?(this.playerElement.style.bottom="2px",this.playerElement.style.right="2px",this.playerElement.style.top="auto",r=Math.max(document.documentElement.clientWidth,window.innerWidth||0)/2,n=r/i):(this.playerElement.style.top="auto",this.playerElement.style.bottom="2px",this.playerElement.style.right="2px"),this.resize(r,n),this.playerElement.style.width=r+"px",this.playerElement.style.height=n+this.playerDescriptionHeight+"px",this.clearResizeEventListener()},e.prototype.playerOutOfViewportLeaveAnimationEffect=function(){return("regular"!==this.providerConfig.stickyPlayer&&"slider"!==this.providerConfig.stickyPlayer||this.isPlayerPositionInlineWithWidget())&&"sliderAlwaysRight"!==this.providerConfig.stickyPlayer?Promise.resolve("Done"):(this.playerElement.style.right="-"+this.providerConfig.sticky.width+"px",this.waitForAnimationEnd("right"))},e.prototype.waitForAnimationEnd=function(e){var t=this;return new Promise(function(i,r){t.playerElement.addEventListener("transitionend",t.animationDone.bind(t,i,r,e))})},e.prototype.animationDone=function(e,t,i,r){var n=r.propertyName;return this.playerElement.removeEventListener("animationend",this.animationDone.bind(this,e,t,i)),i?n===i?e("Animation Done"):void 0:e("Animation Done")},e.prototype.playerViewCallback=function(e){var t=this.getPlayerTopLeftPosition(),i=this.getPlayerHeight();e?r.a.elementPercHeightInViewport(t,i,50,!0)?this.playerVisibleFirstTime?(this.playerVisibleFirstTime=!1,this.play()):this.adPaused&&this.internalPause&&(this.internalPause=!1,this.resume()):this.adPaused||this.playerVisibleFirstTime||(this.internalPause=!0,this.pause()):r.a.elementPercHeightInViewport(t,i,50,!0)&&this.playerVisibleFirstTime&&(this.playerVisibleFirstTime=!1,window.removeEventListener("scroll",this.bindedViewCallback),this.play())},e.prototype.pause=function(){this.adPaused=!0,this.player.pause&&this.player.pause()},e.prototype.resume=function(){this.adPaused=!1,this.playerResume()},e.prototype.playerResume=function(){this.player.resume&&this.player.resume()},e.prototype.start=function(){switch(this.isMobile=r.a.isMobile(),"none"!==this.providerConfig.stickyPlayer&&this.createPlayerPlaceholderWrapper(),this.providerConfig.playMode){case"view":this.smartScroll=this.providerConfig.smartScroll,this.bindedViewCallback=this.playerViewCallback.bind(this,this.smartScroll),window.addEventListener("scroll",this.bindedViewCallback),this.playerViewCallback(this.smartScroll);break;case"load":this.playerInView=!0,this.play();break;default:this.playerInView=!0,this.play()}},e.prototype.play=function(){this.providerPlay(),this.setProvideTimeout()},e.prototype.setProvideTimeout=function(){var e=this;this.rejectProviderTimeout=window.setTimeout(function(){e.closePlayerNoAd("provider timeout")},this.cancelProviderTimeoutDuration)},e.prototype.providerPlay=function(){this.player.play&&("pause"===this.providerConfig.test?this.playerState===s.a.paused?this.resumePlayer():(this.providerConfig.currentReload>=this.providerConfig.configuredReloadCount?this.playerState=s.a.finished:this.playerState=s.a.running,this.player.play()):this.player.play())},e.prototype.providerLoad=function(){},e.prototype.resize=function(e,t){this.player.resize(e,t)},e.prototype.clearProviderRejectTimeout=function(){window.clearTimeout(this.rejectProviderTimeout)},e.prototype.clearViewabilityInterval=function(){window.clearInterval(this.viewabiltyEventInterval)},e.prototype.clearResources=function(){this.clearProviderRejectTimeout(),this.clearViewabilityInterval(),this.removeScrollListener(),this.clearResizeEventListener()},e.prototype.removeScrollListener=function(){window.removeEventListener("scroll",this.bindedViewCallback),window.removeEventListener("scroll",this.bindedStartStickyPlayerCallback),window.removeEventListener("scroll",this.bindedPlaceholderVisibleCallback),window.removeEventListener("scroll",this.bindedPlaceholderDissapearCallback)},e.prototype.closePlayerNoAd=function(e){var t=this;void 0===e&&(e="no video provided"),this.clearResources(),this.playerElement&&(this.playerElement.style.display="none"),"pause"===this.providerConfig.test?this.playerState===s.a.finished?this.destroyPlayer():this.pausePlayer():this.destroyPlayer(),this.widgetElementsHidden&&o.a.showWidgetElements(this.providerConfig.containerID,this.providerConfig.indexes),setTimeout(function(){t.playerElement&&t.playerElement.parentNode&&(t.playerElement.parentNode.removeChild(t.playerElement),t.player=null),a.a.setNotRunning(),!t.playerPlay&&t.noVideoCallback&&(t.providerConfig.debug&&t.audit({eventType:"PROVIDER_PASS",description:e}),t.noVideoCallback())},5)},e.prototype.audit=function(e){var t=new n.a(this.sessionId,this.providerConfig,this.playerConfig,this.bpLoadTime,this.lastEventTime);t.body=e,t.send(),this.lastEventTime=Date.now()},e.prototype.setAniviewCustomePlayer=function(){if(this.providerConfig.vidgetCustomControls){if(this.providerConfig.vidgetCustomControls.playbackButtons.pause){document.querySelector("#av-container #av-inner #gui #buttons #left #play-pause.pause").setAttribute("style",'background-image: url("'+this.providerConfig.vidgetCustomControls.playbackButtons.pause+'")')}if(this.providerConfig.vidgetCustomControls.soundButtons){if(this.providerConfig.vidgetCustomControls.soundButtons.on){var e=document.getElementById("sound");e.style.backgroundImage='url("'+this.providerConfig.vidgetCustomControls.soundButtons.on+'")'}if(this.providerConfig.vidgetCustomControls.soundButtons.off){var e=document.getElementById("sound");e.style.backgroundImage='url("'+this.providerConfig.vidgetCustomControls.soundButtons.off+'")'}}if(this.providerConfig.vidgetCustomControls.logo){var t=document.getElementById("aniview-credit");if(t.style.position="relative",this.providerConfig.vidgetCustomControls.logo.top&&(t.style.top=this.providerConfig.vidgetCustomControls.logo.top),this.providerConfig.vidgetCustomControls.logo.left&&(t.style.left=this.providerConfig.vidgetCustomControls.logo.left),this.providerConfig.vidgetCustomControls.logo.right&&(t.style.right=this.providerConfig.vidgetCustomControls.logo.right),this.providerConfig.vidgetCustomControls.logo.text&&(t.style.content=this.providerConfig.vidgetCustomControls.logo.text),this.providerConfig.vidgetCustomControls.logo.font&&(t.style.fontFamily=this.providerConfig.vidgetCustomControls.logo.font),this.providerConfig.vidgetCustomControls.logo.fontSize&&(t.style.fontSize=this.providerConfig.vidgetCustomControls.logo.fontSize),this.providerConfig.vidgetCustomControls.logo.color&&(t.style.color=this.providerConfig.vidgetCustomControls.logo.color),this.providerConfig.vidgetCustomControls.logo.space&&(t.style.textIndent=this.providerConfig.vidgetCustomControls.logo.space),this.providerConfig.vidgetCustomControls.logo.bottom){t.style.top="unset";for(var i=this.providerConfig.vidgetCustomControls.logo.bottom,r=i.split(""),n="",o=0;o<r.length;o++)isNaN(r[o])||(n+=r[o]+"");t.style.bottom=""===n?i:0-(this.playerHeight-t.offsetHeight-10)+"px"}}}},e}();t.a=l},function(e,t,i){"use strict";i.d(t,"d",function(){return r}),i.d(t,"c",function(){return n}),i.d(t,"b",function(){return a}),i.d(t,"a",function(){return o});var r;!function(e){e[e.onLoad="onLoad"]="onLoad",e[e.onReady="onReady"]="onReady",e[e.onPlay="onPlay"]="onPlay",e[e.onPlay25="onPlay25"]="onPlay25",e[e.onPlay50="onPlay50"]="onPlay50",e[e.onPlay75="onPlay75"]="onPlay75",e[e.onPlay100="onPlay100"]="onPlay100",e[e.onSkip="onSkip"]="onSkip",e[e.onPause="onPause"]="onPause",e[e.onResume="onResume"]="onResume",e[e.onMute="onMute"]="onMute",e[e.onUnmute="onUnmute"]="onUnmute",e[e.onClick="onClick"]="onClick",e[e.onClose="onClose"]="onClose",e[e.onError="onError"]="onError"}(r||(r={}));var n;!function(e){e[e.onLoad="adLoad"]="onLoad",e[e.onPlay="adVideoStart"]="onPlay",e[e.onPlay25="adFirstQuartile"]="onPlay25",e[e.onPlay50="adMidpointQuartile"]="onPlay50",e[e.onPlay75="adThirdQuartile"]="onPlay75",e[e.onPlay100="adFinish"]="onPlay100",e[e.onSkip="adSkip"]="onSkip",e[e.onPause="adPaused"]="onPause",e[e.onResume="adPlaying"]="onResume",e[e.onMute="muted"]="onMute",e[e.onUnmute="unMuted"]="onUnmute",e[e.onClick="adClickThru"]="onClick",e[e.onClose="closed"]="onClose",e[e.onError="adRuntimeError"]="onError",e[e.onContentPlay100="contentFinish"]="onContentPlay100",e[e.onContentPlay="contentStart"]="onContentPlay",e[e.onNoAd="adRollEmpty"]="onNoAd"}(n||(n={}));var o;!function(e){e[e.onLoad="AdLoaded"]="onLoad",e[e.onPlay="AdVideoStart"]="onPlay",e[e.onPlay25="AdVideoFirstQuartile"]="onPlay25",e[e.onPlay50="AdVideoMidpoint"]="onPlay50",e[e.onPlay75="AdVideoThirdQuartile"]="onPlay75",e[e.onPlay100="AdVideoComplete"]="onPlay100",e[e.onSkip="AdSkipped"]="onSkip",e[e.onPause="AdPaused"]="onPause",e[e.onResume="AdPlaying"]="onResume",e[e.onMute="mute"]="onMute",e[e.onUnmute="unmute"]="onUnmute",e[e.onClick="AdClickThru"]="onClick",e[e.onClose="AdUserClose"]="onClose",e[e.onContentPlay="AdVideoStart"]="onContentPlay",e[e.onError="AdError"]="onError",e[e.onNoAd="noAd"]="onNoAd"}(o||(o={}));var a;!function(e){e[e.onLoad="playerReady"]="onLoad",e[e.onReady="ready"]="onReady",e[e.onPlay="adstarted"]="onPlay",e[e.onPlay25="adfirstquartile"]="onPlay25",e[e.onPlay50="admidpoint"]="onPlay50",e[e.onPlay75="adthirdquartile"]="onPlay75",e[e.onPlay100="adcomplete"]="onPlay100",e[e.onSkip="adskipped"]="onSkip",e[e.onPause="adpaused"]="onPause",e[e.onResume="adresumed"]="onResume",e[e.onMute="mute"]="onMute",e[e.onUnmute="unmute"]="onUnmute",e[e.onClick="adclick"]="onClick",e[e.onClose="aduserclose"]="onClose",e[e.onError="aderror"]="onError"}(a||(a={}))},function(e,t,i){"use strict";var r=function(){function e(){}return e.isRunning=function(){return e.running},e.getRunningWidgetIdx=function(){return e.widgetIdx},e.setRunning=function(t){e.running=!0,e.widgetIdx=t},e.setNotRunning=function(){e.running=!1,e.widgetIdx=-1},e.running=!1,e.widgetIdx=-1,e}();t.a=r},function(e,t,i){"use strict";var r=i(20),n=i(5),o=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},a=function(){function e(e,t,i,r,n){this.auditUrl="https://videoevents.outbrain.com/events/recordjp",this._sessionId=e,this._providerConfig=t||{},this._playerConfig=i||{},this._win=window,this._iframe=t.isIframe,this._firstLoadTime=r,this._lastLoadTime=n,"function"!=typeof this._win.OB_VidgetAuditCallback&&(this._win.OB_VidgetAuditCallback=this.onAuditResponse.bind(this))}return e.prototype.send=function(){var e=[this.auditUrl,"?json=",encodeURIComponent(JSON.stringify(this.extractAuditParams()))].join("");r.a.jsonp(e,"OB_VidgetAuditCallback")},e.prototype.onAuditResponse=function(e){},e.prototype.extractAuditParams=function(){var e={eventType:"",sessionId:this._sessionId,sourceDocUrl:this._providerConfig.datasrc||this._win.location.href,sourcePvId:this._providerConfig.pageViewId,sourceRequestId:this._providerConfig.reqID,sourceWidgetId:this._providerConfig.reportedWidgetId,sourceSubWidgetId:this._providerConfig.reportedSubWidgetId,widgetIdx:this._providerConfig.widgetIdx,sourceId:this._providerConfig.sourceId,publisherId:this._providerConfig.pubID,runningWidgetIdx:n.a.getRunningWidgetIdx(),videoClickUrl:null,videoDuration:0,videoHeight:parseInt(this._playerConfig.height),videoId:this._playerConfig.videoId,videoIsAutoPlay:"load"===this._playerConfig.autoPlay,videoMediaUrl:null,videoPlayerId:this._playerConfig.videoPlayerId,videoPositionInWidget:this._providerConfig.index,videoVastUrl:null,videoViewablePixels:0,videoWidth:parseInt(this._playerConfig.width),orientation:this._win.innerHeight>this._win.innerWidth?"PORTRAIT":"LANDSCAPE",screenResolution:[this._win.screen.availHeight,"x",this._win.screen.availWidth].join(""),videoProgress:0,description:"",playingType:"load"===this._providerConfig.playMode?"AUTO_PLAY":"VIEW_TO_PLAY",provider:this._providerConfig.provider?this._providerConfig.provider.toUpperCase():"ANIVIEW",localTime:(new Date).toString(),providerIndex:this._providerConfig.providerIndex||1,currentReload:this._providerConfig.currentReload||1,configuredProvidersCount:this._providerConfig.providersWaterfall?this._providerConfig.providersWaterfall.length:1,waterfall:this._providerConfig.providersWaterfall?this._providerConfig.providersWaterfall.toString():null,configuredReloadCount:this._providerConfig.configuredReloadCount||1,viewability:-1,docId:this._providerConfig.docId,consentData:this._providerConfig.consentData,gdpr:this._providerConfig.gdprInt,abTestVal:this._providerConfig.abTestVal,iframe:this._iframe,timeSinceFirstEvent:Date.now()-this._firstLoadTime||null,timeSincePreviousEvent:Date.now()-this._lastLoadTime||null,trafficType:this._providerConfig.trafficType,opaBidder:this._playerConfig.adSystem,marketerId:this._playerConfig.marketerId,marketerName:this._playerConfig.marketerName,campaignId:this._playerConfig.campaignId,sticky:this._providerConfig.stickyPlayer,bid:this.getBid(),partner:this.getPartner(),prebid:!!this._playerConfig.prebid&&this._playerConfig.prebid,subPlatform:this._providerConfig.inApp?"app":"web"};return o({},e,this._body)},e.prototype.getBid=function(){if(this._playerConfig.bid&&"PLAY"===this._body.eventType)return this._playerConfig.bid;delete this._playerConfig.bid},e.prototype.getPartner=function(){if(this._playerConfig.partner)return this._playerConfig.partner;delete this._playerConfig.partner},Object.defineProperty(e.prototype,"body",{get:function(){return this._body},set:function(e){this._body=e},enumerable:!0,configurable:!0}),e}();t.a=a},function(e,t,i){"use strict";var r;!function(e){e[e.none=0]="none",e[e.running=1]="running",e[e.paused=2]="paused",e[e.finished=3]="finished"}(r||(r={})),t.a=r},function(e,t,i){"use strict";var r=(i(2),i(16)),n=i(19),o=i(17),a=i(18);i.d(t,"a",function(){return r.a}),i.d(t,"b",function(){return n.a}),i.d(t,"c",function(){return o.a}),i.d(t,"d",function(){return a.a})},function(e,t){window.VIDGET_VERSION="p.1.0.1.49"},function(e,t,i){(function(t,i){!function(t,i){e.exports=i()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"==typeof e}function n(e){j=e}function o(e){z=e}function a(){return void 0!==H?function(){H(l)}:s()}function s(){var e=setTimeout;return function(){return e(l,1)}}function l(){for(var e=0;e<B;e+=2){(0,Y[e])(Y[e+1]),Y[e]=void 0,Y[e+1]=void 0}B=0}function d(e,t){var i=this,r=new this.constructor(u);void 0===r[X]&&A(r);var n=i._state;if(n){var o=arguments[n-1];z(function(){return _(n,r,o,i._result)})}else I(i,r,e,t);return r}function p(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var i=new t(u);return P(i,e),i}function u(){}function c(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function g(e){try{return e.then}catch(e){return ee.error=e,ee}}function y(e,t,i,r){try{e.call(t,i,r)}catch(e){return e}}function f(e,t,i){z(function(e){var r=!1,n=y(i,t,function(i){r||(r=!0,t!==i?P(e,i):w(e,i))},function(t){r||(r=!0,b(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&n&&(r=!0,b(e,n))},e)}function v(e,t){t._state===Z?w(e,t._result):t._state===$?b(e,t._result):I(t,void 0,function(t){return P(e,t)},function(t){return b(e,t)})}function m(e,t,i){t.constructor===e.constructor&&i===d&&t.constructor.resolve===p?v(e,t):i===ee?(b(e,ee.error),ee.error=null):void 0===i?w(e,t):r(i)?f(e,t,i):w(e,t)}function P(t,i){t===i?b(t,c()):e(i)?m(t,i,g(i)):w(t,i)}function C(e){e._onerror&&e._onerror(e._result),E(e)}function w(e,t){e._state===K&&(e._result=t,e._state=Z,0!==e._subscribers.length&&z(E,e))}function b(e,t){e._state===K&&(e._state=$,e._result=t,z(C,e))}function I(e,t,i,r){var n=e._subscribers,o=n.length;e._onerror=null,n[o]=t,n[o+Z]=i,n[o+$]=r,0===o&&e._state&&z(E,e)}function E(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var r=void 0,n=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],n=t[a+i],r?_(i,r,n,o):n(o);e._subscribers.length=0}}function S(e,t){try{return e(t)}catch(e){return ee.error=e,ee}}function _(e,t,i,n){var o=r(i),a=void 0,s=void 0,l=void 0,d=void 0;if(o){if(a=S(i,n),a===ee?(d=!0,s=a.error,a.error=null):l=!0,t===a)return void b(t,h())}else a=n,l=!0;t._state!==K||(o&&l?P(t,a):d?b(t,s):e===Z?w(t,a):e===$&&b(t,a))}function T(e,t){try{t(function(t){P(e,t)},function(t){b(e,t)})}catch(t){b(e,t)}}function x(){return te++}function A(e){e[X]=te++,e._state=void 0,e._result=void 0,e._subscribers=[]}function W(){return new Error("Array Methods must be provided an Array")}function k(e){return new ie(this,e).promise}function V(e){var t=this;return new t(N(e)?function(i,r){for(var n=e.length,o=0;o<n;o++)t.resolve(e[o]).then(i,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function R(e){var t=this,i=new t(u);return b(i,e),i}function O(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function L(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function D(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=re}var M=void 0;M=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var N=M,B=0,H=void 0,j=void 0,z=function(e,t){Y[B]=e,Y[B+1]=t,2===(B+=2)&&(j?j(l):J())},U="undefined"!=typeof window?window:void 0,q=U||{},F=q.MutationObserver||q.WebKitMutationObserver,G="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Y=new Array(1e3),J=void 0;J=G?function(){return function(){return t.nextTick(l)}}():F?function(){var e=0,t=new F(l),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}():Q?function(){var e=new MessageChannel;return e.port1.onmessage=l,function(){return e.port2.postMessage(0)}}():void 0===U?function(){try{var e=Function("return this")().require("vertx");return H=e.runOnLoop||e.runOnContext,a()}catch(e){return s()}}():s();var X=Math.random().toString(36).substring(2),K=void 0,Z=1,$=2,ee={error:null},te=0,ie=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(u),this.promise[X]||A(this.promise),N(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&w(this.promise,this._result))):b(this.promise,W())}return e.prototype._enumerate=function(e){for(var t=0;this._state===K&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,r=i.resolve;if(r===p){var n=g(e);if(n===d&&e._state!==K)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(i===re){var o=new i(u);m(o,e,n),this._willSettleAt(o,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,i){var r=this.promise;r._state===K&&(this._remaining--,e===$?b(r,i):this._result[t]=i),0===this._remaining&&w(r,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;I(e,void 0,function(e){return i._settledAt(Z,t,e)},function(e){return i._settledAt($,t,e)})},e}(),re=function(){function e(t){this[X]=x(),this._result=this._state=void 0,this._subscribers=[],u!==t&&("function"!=typeof t&&O(),this instanceof e?T(this,t):L())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,i=t.constructor;return r(e)?t.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){throw t})}):t.then(e,e)},e}();return re.prototype.then=d,re.all=k,re.race=V,re.resolve=p,re.reject=R,re._setScheduler=n,re._setAsap=o,re._asap=z,re.polyfill=D,re.Promise=re,re})}).call(t,i(11),i(22))},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(e){if(p===setTimeout)return setTimeout(e,0);if((p===i||!p)&&setTimeout)return p=setTimeout,setTimeout(e,0);try{return p(e,0)}catch(t){try{return p.call(null,e,0)}catch(t){return p.call(this,e,0)}}}function o(e){if(u===clearTimeout)return clearTimeout(e);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function a(){y&&h&&(y=!1,h.length?g=h.concat(g):f=-1,g.length&&s())}function s(){if(!y){var e=n(a);y=!0;for(var t=g.length;t;){for(h=g,g=[];++f<t;)h&&h[f].run();f=-1,t=g.length}h=null,y=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function d(){}var p,u,c=e.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:i}catch(e){p=i}try{u="function"==typeof clearTimeout?clearTimeout:r}catch(e){u=r}}();var h,g=[],y=!1,f=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];g.push(new l(e,t)),1!==g.length||y||n(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=d,c.addListener=d,c.once=d,c.off=d,c.removeListener=d,c.removeAllListeners=d,c.emit=d,c.prependListener=d,c.prependOnceListener=d,c.listeners=function(e){return[]},c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,t,i){"use strict";var r=i(3),n=i(0),o=i(4),a=i(7),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),l=window,d=function(e){function t(t,i,r,n){var a=e.call(this,t,i,r,n)||this;return a.timelineUpdate=!1,a.isInstream=!!a.providerConfig.instream,a.playerEvents=o.d,a.preparePlayerElement(),a}return s(t,e),t.prototype.createPlayer=function(){this.playerElement?(this.extractPlayerConfig(),this.player=new l.avPlayer(this.playerConfig),this.registerEvents()):(this.auditError("No Player Element created."),this.closePlayerNoAd("No Player Element created."))},t.prototype.extractPlayerConfig=function(){var e=this.providerConfig.reportedSubWidgetId?this.providerConfig.reportedWidgetId+"#"+this.providerConfig.reportedSubWidgetId:this.providerConfig.reportedWidgetId,t=[];this.providerConfig.inApp&&(t.push(""),"android"===this.providerConfig.platform&&(this.providerConfig.packageName&&t.push("AV_APPPKGNAME="+this.providerConfig.packageName),this.providerConfig.playStoreUrl&&t.push("AV_APPSTOREURL="+this.providerConfig.playStoreUrl)),"ios"===this.providerConfig.platform&&(this.providerConfig.bundleId&&t.push("AV_APPPKGNAME="+this.providerConfig.bundleId),this.providerConfig.appStoreUrl&&t.push("AV_APPSTOREURL="+this.providerConfig.appStoreUrl)),this.providerConfig.mobileUserId&&t.push("AV_IDFA="+this.providerConfig.mobileUserId),this.providerConfig.appCategory&&t.push("AV_CATEGORY="+this.providerConfig.appCategory),this.providerConfig.appName&&t.push("AV_APPNAME="+this.providerConfig.appName)),this.playerConfig={loglevel:this.providerConfig.debug?10:void 0,publisherId:this.providerConfig.publisherId,videoPlayerId:"Aniview",channelId:this.providerConfig.channelId,width:this.playerElement.style.width.split("px")[0],height:this.playerHeight,HD:!0,errorlimit:parseInt(this.providerConfig.errorLimit),autoPlay:"None"!==this.providerConfig.playMode,ref1:"AV_SUBID="+this.providerConfig.pubID+"&AV_CDIM1="+e+"&AV_UID="+this.providerConfig.reqID+"&AV_CDIM2="+this.providerConfig.abTestVal+"&AV_CDIM3="+this.providerConfig.sourceId+t.join("&"),adServerDomain:"observe.aniview.com",baseJsUrl:"https://player.aniplayer.net/script/6.1/",soundButton:!0,pauseButton:!0,logo:!1,vastRetry:1,maxrun:parseInt(this.providerConfig.maxRetries),position:this.getPlayerContainerId(),loop:!0===this.providerConfig.instream,closeButton:this.providerConfig.closeButton,noifsnd:!0,updatewaterfall:function(e){if(e)for(var t=0;t<e.length;t++)try{console.log("Aniview extra log:"+e[t].url)}catch(e){}},customLogo:this.providerConfig.vidgetCustomControls&&this.providerConfig.vidgetCustomControls.logo?{link:this.providerConfig.vidgetCustomControls.logo.link,height:this.providerConfig.vidgetCustomControls.logo.height,width:this.providerConfig.vidgetCustomControls.logo.width,text:this.providerConfig.vidgetCustomControls.logo.text,clickthrough:this.providerConfig.vidgetCustomControls.logo.clickthrough}:void 0},this.providerConfig.instream&&(this.playerConfig.preloader={type:"content",link:this.providerConfig.preloaderLink,poster:"",clickthrough:""},this.playerConfig.midrolldelay=10,this.playerConfig.midrolltime=10,this.playerConfig.maxrun=void 0)},t.prototype.getPlayerContainerId=function(){return this.playerIdsPrefix+"aniplayer"},t.prototype.preparePlayerElement=function(){if(this.providerConfig.containerID&&(this.playerElement=n.a.createPlayerWrapperElement(this.providerConfig),this.playerElement)){var e=this.providerConfig.ctaText&&this.providerConfig.ctaText.length?'<div class="more-btn" id="'+this.playerIdsPrefix+'more-btn">'+this.providerConfig.ctaText+"</div>":"",t="",i="";this.providerConfig.title&&(t=t+'<div id="'+this.playerIdsPrefix+'videoTitle">'+this.providerConfig.title+"</div>"),this.providerConfig.source&&(t=t+'<div id="'+this.playerIdsPrefix+'videoSource">'+this.providerConfig.source+"</div>"),this.providerConfig.vidgetCustomControls&&(i=this.setAniviewPlayerStyle()),this.playerElement.innerHTML=i+'<div id="'+this.playerIdsPrefix+'aniAnimation" class="aniAnimationOpen"><div id="'+this.playerIdsPrefix+'aniviewBox"><div id="'+this.playerIdsPrefix+'aniplayer"></div><div id="'+this.playerIdsPrefix+'aniplayerbut" style="display:none">'+e+"</div></div></div>"+t,this.handlePlayerButtons(),this.handleVideoDescription(),this.handlePlayerWrapperHeight()}},t.prototype.handlePlayerButtons=function(){var e=(this.playerElement.querySelector("#"+this.playerIdsPrefix+"aniplayerbut"),this.playerElement.querySelector("#"+this.playerIdsPrefix+"more-btn")),t=this.playerElement.querySelector("#"+this.playerIdsPrefix+"aniAnimation"),i=document.createElement("div");e&&(e.style.cssText="position:absolute;bottom:60px;right:0;padding:0 12px;height:32px;background-color:#323232;background-color:rgba(0,0,0,.4);color:#fff;font-family:Helvetica,Arial,fallback,sans-serif;font-size:14px;text-align:center;text-transform:uppercase;line-height:32px;border-color:#fff;border-style:solid;border-width:1px 0 1px 1px;-webkit-transition:all .15s ease-in-out;-moz-transition:all .15s ease-in-out;-o-transition:all .15s ease-in-out;transition:all .15s ease-in-out"),t&&(t.style.height=Node.clientHeight-3+"px",i.id=this.playerIdsPrefix+"aniAnimation_close",t.appendChild(i))},t.prototype.setAniviewPlayerStyle=function(){var e="<style>";return this.providerConfig.vidgetCustomControls?(this.providerConfig.vidgetCustomControls.playbackButtons.play&&(e+=this.providerConfig.vidgetCustomControls.playbackButtons.play?'#av-container #av-inner #gui #buttons #left #play-pause.play {background-image: url("'+this.providerConfig.vidgetCustomControls.playbackButtons.play+'") !important;}':""),this.providerConfig.vidgetCustomControls.logo&&(e+="#aniview-credit {display: inline !important; position: relative !important; } ",(this.providerConfig.vidgetCustomControls.logo.height||this.providerConfig.vidgetCustomControls.logo.height.width)&&(e+="#aniview-credit span{",this.providerConfig.vidgetCustomControls.logo.height&&(e+="height: "+this.providerConfig.vidgetCustomControls.logo.height+" !important;"),this.providerConfig.vidgetCustomControls.logo.width&&(e+="width: "+this.providerConfig.vidgetCustomControls.logo.width+" !important;"),e+="} ")),e+="</style>"):""},t.prototype.registerEvent=function(e,t){this.isValidEvent(e)&&(this.player[this.playerEvents[e]]=t)},t.prototype.onPlay=function(t){this.playerConfig.videoId=t.asid;var i=this.playerElement.querySelector("#"+this.playerIdsPrefix+"aniplayerbut"),r=this.playerElement.querySelector("#"+this.playerIdsPrefix+"more-btn"),n=this.playerElement.querySelector("#"+this.playerIdsPrefix+"aniAnimation");"NOCNTRL"==t.ops?(this.timelineUpdate=!0,this.player.updateGui({playPause:!1,sound:!1,showTimeline:!1})):this.timelineUpdate&&(this.timelineUpdate=!1,this.player.updateGui({playPause:!0,sound:!0,showTimeline:!0})),t.clickThrough&&(i.style.display="block",r&&(r.onclick=function(){window.open(t.clickThrough)})),n.style.top="",n.style.position="",t&&t.tagInfo&&"pb"===t.tagInfo.type&&(this.playerConfig.bid=t.tagInfo.bidCpm,this.playerConfig.partner=t.tagInfo.platform,this.playerConfig.marketerId=t.tagInfo.platform,this.playerConfig.prebid=!0),e.prototype.onPlay.call(this,t)},t.prototype.onError=function(e){e&&e.errorlimit&&!this.isInstream?(this.providerConfig.lazyListingsPixel&&((new Image).src=this.providerConfig.lazyListingsPixel),this.closePlayerNoAd()):this.playerPlay&&(this.auditError("Error during Aniview player play"),this.hidePlayer())},t.prototype.destroyPlayer=function(){this.player&&(this.player.onClose=null,this.player.onPause=null,this.player.close())},t.prototype.getAdCurrentTime=function(){var e=0;return 1e3*(e=this.player.getAdDuration()-this.player.getAdRemainingTime()||e)},t.prototype.pausePlayer=function(){this.pauseAnivewPlayer()},t.prototype.resumePlayer=function(){this.resumeAniviewPlayer()},t.prototype.pauseAnivewPlayer=function(){this.player.setWaterfallState(!1,!1),this.playerState=a.a.paused},t.prototype.resumeAniviewPlayer=function(){this.player.setWaterfallState(!0,!0),this.playerState=a.a.running},t}(r.a);t.a=d},function(e,t,i){"use strict";var r=i(3),n=i(0),o=i(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=window,l=function(e){function t(t,i,r,n){var a=e.call(this,t,i,r,n)||this;return a.playerInitPromise=null,a.preparePlayerElement(),a.outbrainPlayerElement=document.getElementById(a.getPlayerContainerId()),a.playerEvents=o.b,a.extractPlayerConfig(),a}return a(t,e),t.prototype.createPlayer=function(){this.playerElement?(this.addVideoDataToConfig(),this.player=new s.OutbrainMP(this.getPlayerContainerId()),this.audit({eventType:"READY",description:this.playerConfig.vastXML.substring(0,70)}),this.initPlayer(),this.registerEvents()):this.closePlayerNoAd("No Player Element created.")},t.prototype.addVideoDataToConfig=function(){this.playerConfig&&(this.playerConfig.vastXML=this.providerConfig.vastXML,this.playerConfig.pixels=this.providerConfig.pixels,this.playerConfig.partner=this.providerConfig.advId,this.playerConfig.marketerId=this.providerConfig.advId,this.playerConfig.marketerName=this.providerConfig.advName,this.playerConfig.campaignId=this.providerConfig.campaignId,this.playerConfig.outstream=!0)},t.prototype.extractPlayerConfig=function(){this.playerConfig={relativeSize:!0,autoPlay:!1,muted:!0,videoPlayerId:"Outbrain",showClose:this.providerConfig.closeButton}},t.prototype.initPlayer=function(){var e=this;this.playerInitPromise=new Promise(function(t,i){e.player.init(e.playerConfig),e.outbrainPlayerElement.addEventListener("ready",function(){t("ready")})})},t.prototype.preparePlayerElement=function(){if(this.providerConfig.containerID&&(this.playerElement=n.a.createPlayerWrapperElement(this.providerConfig),this.playerElement)){var e="";this.providerConfig.title&&(e=e+'<div id="'+this.playerIdsPrefix+'videoTitle">'+this.providerConfig.title+"</div>"),this.providerConfig.source&&(e=e+'<div id="'+this.playerIdsPrefix+'videoSource">'+this.providerConfig.source+"</div>"),this.playerElement.innerHTML='<div id="'+this.playerIdsPrefix+'omp"></div>'+e,this.handleVideoDescription(),this.handlePlayerWrapperHeight()}},t.prototype.registerEvent=function(e,t){this.isValidEvent(e)&&this.outbrainPlayerElement.addEventListener(this.playerEvents[e],t)},t.prototype.getPlayerContainerId=function(){return this.playerIdsPrefix+"omp"},t.prototype.providerPlay=function(){var e=this;this.playerInitPromise.then(function(){e.playerConfig.adSystem=e.player.getAdSystem(),e.player.play(),e.player.resize()})},t.prototype.getAdCurrentTime=function(){var e=0;return e=this.player.getAdCurrentTime()||e},t}(r.a);t.a=l},function(e,t,i){"use strict";var r=i(3),n=i(0),o=i(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=function(e){function t(t,i,r,n){var a=e.call(this,t,i,r,n)||this;return a.preparePlayerElement(),a.setPlayerConfig(),a.playerEvents=o.a,a}return a(t,e),t.prototype.preparePlayerElement=function(){if(this.providerConfig.containerID&&(this.playerElement=n.a.createPlayerWrapperElement(this.providerConfig),this.playerElement)){var e="";this.providerConfig.title&&(e=e+'<div id="'+this.playerIdsPrefix+'videoTitle">'+this.providerConfig.title+"</div>"),this.providerConfig.source&&(e=e+'<div id="'+this.playerIdsPrefix+'videoSource">'+this.providerConfig.source+"</div>"),this.playerElement.innerHTML='<div id="'+this.playerIdsPrefix+'teadsplayer"></div>'+e,this.handleVideoDescription(),this.handlePlayerWrapperHeight()}},t.prototype.getPlayerContainerId=function(){return this.playerIdsPrefix+"teadsplayer"},t.prototype.setPlayerConfig=function(){this.playerConfig={videoPlayerId:"Teads",width:this.playerElement.style.width.split("px")[0],height:this.playerHeight,HD:!0,autoPlay:"None"!==this.providerConfig.playMode}},t.prototype.createPlayer=function(e){this.player=e,this.registerEvents()},t.prototype.registerEvent=function(e,t){this.isValidEvent(e)&&this.player[this.playerEvents[e]].push(function(){t()})},t.prototype.destroyPlayer=function(){},t.prototype.providerLoad=function(){this.showPlayer()},t.prototype.handlePlayerWrapperHeight=function(){"inWidget"!==this.providerConfig.playerLocation&&(this.playerWrapperHeight=parseInt(this.playerElement.style.height.split("px")[0]),this.playerElement.style.transition="unset")},t.prototype.resize=function(e,t){},t}(r.a);t.a=s},function(e,t,i){"use strict";var r=i(3),n=i(0),o=i(4),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=function(e){function t(t,i,r,n){var a=e.call(this,t,i,r,n)||this;return a.playerInitPromise=null,a.preparePlayerElement(),a.setPlayerConfig(),a.playerEvents=o.c,a}return a(t,e),t.prototype.preparePlayerElement=function(){if(this.providerConfig.containerID&&(this.playerElement=n.a.createPlayerWrapperElement(this.providerConfig),this.playerElement)){var e="";this.providerConfig.title&&(e=e+'<div id="'+this.playerIdsPrefix+'videoTitle">'+this.providerConfig.title+"</div>"),this.providerConfig.source&&(e=e+'<div id="'+this.playerIdsPrefix+'videoSource">'+this.providerConfig.source+"</div>"),this.playerElement.innerHTML='<div id="'+this.playerIdsPrefix+'vidplayer"></div>'+e,this.handleVideoDescription(),this.handlePlayerWrapperHeight()}},t.prototype.getPlayerContainerId=function(){return this.playerIdsPrefix+"vidplayer"},t.prototype.setPlayerConfig=function(){this.playerConfig={videoPlayerId:"Vidazoo",width:this.playerElement.style.width.split("px")[0],height:this.playerHeight,HD:!0,autoPlay:"None"!==this.providerConfig.playMode}},t.prototype.createPlayer=function(e){this.player=e,this.registerEvents(),this.playerInitPromise=this.player.init()},t.prototype.registerEvent=function(e,t){this.isValidEvent(e)&&this.player.on(this.playerEvents[e],t)},t.prototype.onNoAd=function(){this.closePlayerNoAd(this.noVideoCallback)},t.prototype.destroyPlayer=function(){this.player&&this.player.destroy()},t.prototype.playerResume=function(){this.player.play()},t.prototype.providerPlay=function(){var e=this;this.playerInitPromise.then(function(){e.player.start()})},t.prototype.isPaused=function(){return this.player.isPaused()},t.prototype.resize=function(e,t){this.player.resize(e,t,!0)},t.prototype.getAdCurrentTime=function(){var e=0;return 1e3*(e=this.player.getAdTime()||e)},t}(r.a);t.a=s},function(e,t,i){"use strict";var r=i(2),n=i(12),o=i(0),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l=window,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.provide=function(){var e=this;return new Promise(function(t,i){e.waterfallContinue=t,e.waterfallStop=i,e.videoProviderConfig=s({},e.videoProviderConfig,o.a.getProviderSettings(e.videoProviderConfig.widget,"Aniview")),e.trackInit(),e.videoProviderConfig.instream?e.handleInstream():e.handleOutstream()})},t.prototype.handleOutstream=function(){this.player=new n.a(this.videoProviderConfig,this.sessionId,this.waterfallContinue,this.waterfallStop),this.downloadAniviewScript()},t.prototype.handleInstream=function(){var e=this,t=new XMLHttpRequest,i=function(){var i=JSON.parse(t.responseText);e.videoProviderConfig.preloaderLink=i.data.Vurls,e.player=new n.a(e.videoProviderConfig,e.sessionId,this.waterfallContinue,this.waterfallStop),e.downloadAniviewScript()};t.addEventListener("load",i),t.open("GET","https://s3.amazonaws.com/test.wibbitz.com/boom/wibbitz-videos-en.json"),t.send()},t.prototype.downloadAniviewScript=function(){if(l.avPlayer)this.onAniviewLoaded();else{var e=document.createElement("script");e.src=t.playerProviderUrl,e.onload=this.onAniviewLoaded.bind(this),document.getElementsByTagName("head")[0].appendChild(e)}},t.prototype.onAniviewLoaded=function(){this.player.createPlayer(),this.player.getPlayer()&&this.player.start()},t.prototype.trackInit=function(){t.initTracked||(t.initTracked=!0,(new Image).src="https://track.aniview.com/track?pid="+this.videoProviderConfig.pubID+"&cid="+this.videoProviderConfig.channelId+"&e=playerLoaded&cb="+Date.now())},t.playerProviderUrl="https://player.aniplayer.net/script/6.1/aniview.js",t.initTracked=!1,t}(r.a);t.a=d},function(e,t,i){"use strict";var r=i(2),n=i(13),o=i(0),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.provide=function(){var e=this;return new Promise(function(t,i){e.waterfallContinue=t,e.waterfallStop=i,e.videoProviderConfig=s({},e.videoProviderConfig,o.a.getProviderSettings(e.videoProviderConfig.widget,"OPA")),e.player=new n.a(e.videoProviderConfig,e.sessionId,e.waterfallContinue,e.waterfallStop),e.lookupRTBVideo()})},t.prototype.downloadOutbrainPlayerScript=function(){var e=document.createElement("script");e.src=t.playerProviderUrl,e.onload=this.onPlayerScriptLoaded.bind(this),document.getElementsByTagName("head")[0].appendChild(e)},t.prototype.onPlayerScriptLoaded=function(){this.player.createPlayer(),this.player.getPlayer()&&this.player.start()},t.prototype.onOutbrainRtbReponse=function(e){var t=this.getRtbDataFromRespone(e);t?(this.videoProviderConfig.vastXML=t.vastXML,this.videoProviderConfig.pixels=t.pixels,this.videoProviderConfig.advId=t.advId,this.videoProviderConfig.advName=t.advName,this.videoProviderConfig.campaignId=t.campaignId,this.downloadOutbrainPlayerScript()):this.player.closePlayerNoAd()},t.prototype.getRtbDataFromRespone=function(e){var t=null,i=e.doc;if(i&&i[0]){var r=i[0].video;r&&(t={vastXML:r.vastxml,pixels:i[0].pixels,advId:i[0].advId,advName:i[0].adv_name,campaignId:i[0].campaign_id})}return t},t.prototype.lookupRTBVideo=function(){var e={permalink:this.videoProviderConfig.datasrc||window.location.href,widgetId:this.videoProviderConfig.widgetID,rtbEnabled:!0,servePc:!0,num:"1",maxNumAds:"1",recMode:"odb_video",maxNumOrganicRecs:"0",maxRTB:"1",maxZRTB:"1",maxBSRTB:"1",fId:this.videoProviderConfig.fid?this.videoProviderConfig.fid.toString():null,videoWidth:this.player.getPlayerWidth()?this.player.getPlayerWidth().toString():null,videoHeight:this.player.getPlayerHeight()?this.player.getPlayerHeight().toString():null};o.a.odbCall(e,this.onOutbrainRtbReponse.bind(this))},t.playerProviderUrl="https://libs.sphere.com/video/outbrain-player/current/omp.min.js",t}(r.a);t.a=l},function(e,t,i){"use strict";var r=i(2),n=i(14),o=i(0),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l=window,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.provide=function(){var e=this;return new Promise(function(t,i){return e.waterfallContinue=t,e.waterfallStop=i,e.videoProviderConfig=s({},e.videoProviderConfig,o.a.getProviderSettings(e.videoProviderConfig.widget,"Teads")),e.player=new n.a(e.videoProviderConfig,e.sessionId,e.waterfallContinue,e.waterfallStop),!e.videoProviderConfig.allowParallelInview&&e.checkForTeadsOnPage()?void e.player.closePlayerNoAd("Teads player already on page"):void 0===e.videoProviderConfig.tagId||""===e.videoProviderConfig.tagId?void e.player.closePlayerNoAd("Wrong Teads tagId = "+e.videoProviderConfig.tagId):void("view"===e.videoProviderConfig.playMode?e.checkForAppendingPlayer(e.getPlayerContainerElement()).then(e.downloadTeadsScript.bind(e)).catch(function(e){return console.log("ERROR to play Teads: ",e)}):e.downloadTeadsScript())})},t.prototype.checkForTeadsOnPage=function(){return document.getElementsByClassName("teads").length>0||document.getElementsByClassName("teads-inread").length>0},t.prototype.downloadTeadsScript=function(){var e=document.createElement("script");e.src=t.playerProviderUrl.replace("#ID",this.videoProviderConfig.tagId),e.className="teads",e.async=!0,e.onload=this.onTeadsLoaded.bind(this),this.getPlayerContainerElement().appendChild(e)},t.prototype.checkForAppendingPlayer=function(e){var t=this;return new Promise(function(i){new IntersectionObserver(function(e,r){return t.playerContainerElementLoaded(i,r,e)}).observe(e)})},t.prototype.playerContainerElementLoaded=function(e,t,i){if(i[0].intersectionRatio>0)return t.disconnect(),e(!0)},t.prototype.onTeadsLoaded=function(){l.teadsObj=l.teadsObj;var e=this,t=setInterval(function(){l.teadsObj&&(clearInterval(t),e.player.createPlayer(l.teadsObj),e.player.start())},20)},t.prototype.getPlayerContainerElement=function(){return document.getElementById(this.player.getPlayerContainerId())},t.playerProviderUrl="//a.teads.tv/page/#ID/tag",t}(r.a);t.a=d},function(e,t,i){"use strict";var r=i(2),n=i(15),o=i(0),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=this&&this.__assign||Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l=window,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.provide=function(){var e=this;return new Promise(function(t,i){e.waterfallContinue=t,e.waterfallStop=i,e.videoProviderConfig=s({},e.videoProviderConfig,o.a.getProviderSettings(e.videoProviderConfig.widget,"Vidazoo")),e.player=new n.a(e.videoProviderConfig,e.sessionId,e.waterfallContinue,e.waterfallStop),e.extractVidazooBootstrapConfig(),e.downloadVidazooScript()})},t.prototype.extractVidazooBootstrapConfig=function(){var e=this.videoProviderConfig.reportedSubWidgetId?this.videoProviderConfig.reportedWidgetId+"#"+this.videoProviderConfig.reportedSubWidgetId:this.videoProviderConfig.reportedWidgetId;return{userId:this.videoProviderConfig.userId,playerId:this.videoProviderConfig.playerId,auto:!1,inApp:this.videoProviderConfig.inApp,el:"#"+this.player.getPlayerContainerId(),query:{param1:e,param2:this.videoProviderConfig.sourceId,campaign:this.videoProviderConfig.pubID,param3:this.videoProviderConfig.abTestVal,appName:this.videoProviderConfig.appName,appBundle:"android"===this.videoProviderConfig.platform?this.videoProviderConfig.packageName:this.videoProviderConfig.bundleId,appCategory:this.videoProviderConfig.appCategory,appStoreUrl:this.videoProviderConfig.appStoreUrl,deviceIfa:"ios"===this.videoProviderConfig.platform?this.videoProviderConfig.mobileUserId:void 0,deviceAid:"android"===this.videoProviderConfig.platform?this.videoProviderConfig.mobileUserId:void 0},player:{autoPlay:!1,loop:!0===this.videoProviderConfig.instream,skin:"https://static.vidazoo.com/basev/skins/outbrain/outbrain.js",skinParams:{hideAdSkin:!1,hideContentSkin:!1,hideOnIma:!1,hideOnVpaid:!1,hideOnVast:!1,animateClose:!0,rounded:!0,close:this.videoProviderConfig.closeButton,progress:!0,sound:!0,playback:!0,playbackButtons:this.videoProviderConfig.vidgetCustomControls&&this.videoProviderConfig.vidgetCustomControls.playbackButtons?{play:this.videoProviderConfig.vidgetCustomControls.playbackButtons.play,pause:this.videoProviderConfig.vidgetCustomControls.playbackButtons.pause}:void 0,soundButtons:this.videoProviderConfig.vidgetCustomControls&&this.videoProviderConfig.vidgetCustomControls.soundButtons?{on:this.videoProviderConfig.vidgetCustomControls.soundButtons.on,off:this.videoProviderConfig.vidgetCustomControls.soundButtons.off}:void 0,logo:this.videoProviderConfig.vidgetCustomControls&&this.videoProviderConfig.vidgetCustomControls.logo?{link:this.videoProviderConfig.vidgetCustomControls.logo.link,top:this.videoProviderConfig.vidgetCustomControls.logo.top,left:this.videoProviderConfig.vidgetCustomControls.logo.left,right:this.videoProviderConfig.vidgetCustomControls.logo.right,bottom:this.videoProviderConfig.vidgetCustomControls.logo.bottom,height:this.videoProviderConfig.vidgetCustomControls.logo.height,width:this.videoProviderConfig.vidgetCustomControls.logo.width,text:this.videoProviderConfig.vidgetCustomControls.logo.text,font:this.videoProviderConfig.vidgetCustomControls.logo.font,fontSize:this.videoProviderConfig.vidgetCustomControls.logo.fontSize,color:this.videoProviderConfig.vidgetCustomControls.logo.color,space:this.videoProviderConfig.vidgetCustomControls.logo.space,clickthrough:this.videoProviderConfig.vidgetCustomControls.logo.clickthrough,target:this.videoProviderConfig.vidgetCustomControls.logo.target}:void 0},tagSentSessionCap:parseInt(this.videoProviderConfig.maxRetries)},tpl:{width:this.player.getPlayerWidth()+"px",height:this.player.getPlayerHeight()+"px"},macros:{ob_page_url:encodeURI(this.videoProviderConfig.datasrc),docId:this.videoProviderConfig.docId,user_consent_str:this.videoProviderConfig.consentData,gdpr:this.videoProviderConfig.gdprInt}}},t.prototype.downloadVidazooScript=function(){if(l.vdz&&l.vdz.create)this.onVidazooLoaded();else{var e=document.createElement("script");e.src=t.playerProviderUrl,e.onload=this.onVidazooLoaded.bind(this),document.getElementsByTagName("head")[0].appendChild(e)}},t.prototype.onVidazooLoaded=function(){var e=this.extractVidazooBootstrapConfig(),t=this;l.vdz.create(e,function(e,i){e?t.player.closePlayerNoAd(t.waterfallContinue):(t.player.createPlayer(i),t.player.start())})},t.playerProviderUrl="https://static.vidazoo.com/basev/vpt.js",t}(r.a);t.a=d},function(e,t,i){"use strict";var r=function(){function e(){}return e.get=function(e,t,i){var r=new XMLHttpRequest;r.open("GET",e),r.onload=function(){200===r.status?void 0!==t&&t(r.responseText):void 0!==i&&i("Request failed.  Returned status of "+r.status)},r.send()},e.post=function(e,t,i,r){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/json"),n.onload=function(){200===n.status?void 0!==i&&i(n.responseText):void 0!==r&&r("Request failed.  Returned status of "+n.status)},n.send(JSON.stringify(t))},e.jsonp=function(e,t){var i=document.createElement("script");i.setAttribute("src",e+"&callback="+t),document.getElementsByTagName("head")[0].appendChild(i)},e}();t.a=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(8),n=i(9),o=(i.n(n),i(0)),a=i(1),s=i(6),l=i(5),d=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?n(e.value):new i(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},p=this&&this.__generator||function(e,t){function i(e){return function(t){return r([e,t])}}function r(i){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,o&&(a=2&i[0]?o.return:i[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,i[1])).done)return a;switch(o=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,o=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(a=l.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],o=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,o,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},u=function(){function e(){this.vidgetRuns={},this.videoPlayingCheckIntervalTime=5e3,this.vidgetLoadTime=Date.now(),this.lastEventTime=Date.now()}return e.prototype.init=function(e,t){return d(this,void 0,void 0,function(){var t,i,r;return p(this,function(n){return t=o.a.getVideoProviderWidgetSettings(e),i=a.a.guid(),r={currentReload:1,sessionId:i,widgetSettings:t,configuredReloadCount:t.configuredReloadCount?t.configuredReloadCount:1,configuredReloadTime:t.configuredReloadTime?t.configuredReloadTime:4e3,videoPlayingCheckIntervalId:null,parallelPlay:t.parallelPlay,wasPendingAtCurrentReload:!1,canReload:!0,initialDelay:t.initialDelay?t.initialDelay:5e3,debug:!!t.debug&&t.debug,AniviewObject:null,test:t.test},this.vidgetRuns[t.containerID]?(r.debug&&this.auditVidgetEvent(r,"VIDGET_CANCELED","Same widget container already exists"),[2]):this.canVideoBeProvidedOnWidget(r.widgetSettings)?(this.vidgetRuns[t.containerID]=r,r.debug&&this.auditVidgetEvent(r,"VIDGET_LOADED",null),this.startVidgetIteration(r),[2]):(r.debug&&this.auditVidgetEvent(r,"VIDGET_CANCELED","Bad widget structure for current player location"),[2])})})},e.prototype.startVidgetIteration=function(e){return d(this,void 0,void 0,function(){var t,i;return p(this,function(r){switch(r.label){case 0:return e.wasPendingAtCurrentReload=!1,e.canReload&&e.currentReload<=e.configuredReloadCount?[4,a.a.isVideoPlayingOnPageAsync(e.parallelPlay,e.initialDelay)]:[3,2];case 1:if(t=r.sent()||l.a.isRunning()){if(i=l.a.isRunning()?"Another Vidget is running":"Other video is playing on page","strict"==e.parallelPlay)return e.debug&&this.auditVidgetEvent(e,"VIDGET_CANCELED",i),[2];this.checkAtIntervalsIfVidgetCanBePlayed(e,i)}else this.runVidget(e);return[3,3];case 2:case 3:return[2]}})})},e.prototype.checkAtIntervalsIfVidgetCanBePlayed=function(e,t){var i=this;void 0===t&&(t=""),e.wasPendingAtCurrentReload=!0,e.debug&&this.auditVidgetEvent(e,"VIDGET_PENDING",t),this.setIntervalTillNoVideoIsPlayed(e).then(function(){i.runVidget(e)}).catch(function(){e.debug&&i.auditVidgetEvent(e,"VIDGET_ITERATION_CANCELED",t),i.onVidgetIterationFinished(e)})},e.prototype.runVidget=function(e){return d(this,void 0,void 0,function(){var t,i;return p(this,function(r){switch(r.label){case 0:return[4,this.doubleCheckIsVideoPlaying(e.widgetSettings)];case 1:if(t=r.sent()||l.a.isRunning()){if(i=l.a.isRunning()?"Another Vidget is running":"Other video is playing on page","strict"==e.parallelPlay)return e.debug&&this.auditVidgetEvent(e,"VIDGET_CANCELED",i),[2];e.wasPendingAtCurrentReload?(e.debug&&this.auditVidgetEvent(e,"VIDGET_ITERATION_CANCELED",i),this.onVidgetIterationFinished(e)):this.checkAtIntervalsIfVidgetCanBePlayed(e,i)}else l.a.setRunning(e.widgetSettings.widgetIdx),this.handleWaterfall(e);return[2]}})})},e.prototype.handleWaterfall=function(e){for(var t=this,i=e.widgetSettings.providersWaterfall,r=[],n=0,o=0,s=i;o<s.length;o++){var l=s[o];n++,r.push(this.provide(l,e,n))}a.a.waterfall(r,this).catch(function(i){i&&t.endIterations(e)}).finally(function(){t.onVidgetIterationFinished(e)})},e.prototype.endIterations=function(e){e.canReload=!1},e.prototype.onVidgetIterationFinished=function(e){var t=this;e.currentReload++,window.setTimeout(function(){o.a.reset(e.widgetSettings),t.startVidgetIteration(e)},e.configuredReloadTime)},e.prototype.provide=function(e,t,i){var r=this;return function(){return r.createProvider(e,t,i).provide()}},e.prototype.createProvider=function(e,t,i){switch(e){case"Aniview":return"pause"!==t.test?new r.a(t.widgetSettings,t.sessionId,i,t.currentReload):(1===t.currentReload?t.AniviewObject=new r.a(t.widgetSettings,t.sessionId,i,t.currentReload):t.AniviewObject.updateCurrentReload(t.currentReload),t.AniviewObject);case"Vidazoo":return new r.b(t.widgetSettings,t.sessionId,i,t.currentReload);case"OPA":return new r.c(t.widgetSettings,t.sessionId,i,t.currentReload);case"Teads":return new r.d(t.widgetSettings,t.sessionId,i,t.currentReload);default:return new r.a(t.widgetSettings,t.sessionId,i,t.currentReload)}},e.prototype.setIntervalTillNoVideoIsPlayed=function(e){var t=this,i=24;return new Promise(function(r,n){e.videoPlayingCheckIntervalId=setInterval(function(){i--,a.a.isVideoPlayingOnPageSync(e.widgetSettings.parallelPlay)||(clearInterval(e.videoPlayingCheckIntervalId),r(!0)),0==i&&(clearInterval(e.videoPlayingCheckIntervalId),n(!1))},t.videoPlayingCheckIntervalTime)})},e.prototype.doubleCheckIsVideoPlaying=function(e){return d(this,void 0,void 0,function(){return p(this,function(t){return"allow"!==e.parallelPlay?[2,a.a.delay(1e3).then(function(){return Promise.resolve(a.a.isVideoPlayingOnPageSync(e.parallelPlay))})]:[2,Promise.resolve(!1)]})})},e.prototype.canVideoBeProvidedOnWidget=function(e){return o.a.canVideoBePorvided(e)},e.prototype.auditVidgetEvent=function(e,t,i){var r=new s.a(e.sessionId,e.widgetSettings,null,this.vidgetLoadTime,this.lastEventTime);r.body={eventType:t,currentReload:e.currentReload},i&&(r.body.description=i),r.send(),this.lastEventTime=Date.now()},e}();a.a.addPolyfills(),window.OB_VIDGET=window.OB_VIDGET||new u,o.a.makeHandshake("VIDGET")},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i}]);