window.MB_DEV_SCRIPT = false;
function _handleMultipleEvents(a,b,c,d){vjs.arr.forEach(c,function(c){a(b,c,d)})}function _logType(a,b){var c,d,e;c=Array.prototype.slice.call(b),d=function(){},e=window.console||{log:d,warn:d,error:d},a?c.unshift(a.toUpperCase()+":"):a="log",vjs.log.history.push(c),c.unshift("VIDEOJS:"),e[a].apply?e[a].apply(e,c):e[a](c.join(" "))}!function(a,b,c){"use strict";b.mb_fgp=function(){"use strict";var a=function(b){if(!(this instanceof a))return new a(b);var c={swfContainerId:"fingerprintjs2",
swfPath:"flash/compiled/FontList.swf",detectScreenOrientation:!0,sortPluginsFor:[/palemoon/i],userDefinedFonts:[]};this.options=this.extend(b,c),this.nativeForEach=Array.prototype.forEach,this.nativeMap=Array.prototype.map};return a.prototype={extend:function(a,b){if(null==a)return b;for(var c in a)null!=a[c]&&b[c]!==a[c]&&(b[c]=a[c]);return b},get:function(a){var b=[];b=this.userAgentKey(b),b=this.languageKey(b),b=this.colorDepthKey(b),b=this.pixelRatioKey(b),b=this.hardwareConcurrencyKey(b),
b=this.screenResolutionKey(b),b=this.availableScreenResolutionKey(b),b=this.timezoneOffsetKey(b),b=this.sessionStorageKey(b),b=this.localStorageKey(b),b=this.indexedDbKey(b),b=this.addBehaviorKey(b),b=this.openDatabaseKey(b),b=this.cpuClassKey(b),b=this.platformKey(b),b=this.doNotTrackKey(b),b=this.pluginsKey(b),b=this.canvasKey(b),b=this.webglKey(b),b=this.adBlockKey(b),b=this.hasLiedLanguagesKey(b),b=this.hasLiedResolutionKey(b),b=this.hasLiedOsKey(b),b=this.hasLiedBrowserKey(b),
b=this.touchSupportKey(b),b=this.customEntropyFunction(b);var c=b.slice();c=this.gpuKey(c),c=this.codecKey(c);var d=this;this.audioKey(b,c,function(b,c){d.fontsKey(b,c,function(b,c){var e=[];d.each(b,function(a){var b=a.value;void 0!==a.value.join&&(b=a.value.join(";")),e.push(b)});var f=d.x64hash128(e.join("~~~"),31),g=[];d.each(c,function(a){var b=a.value;void 0!==a.value.join&&(b=a.value.join(";")),g.push(b)});var h=d.x64hash128(g.join("~~~"),31);return a(f,h,b,c)})})},
audioKey:function(a,b,c){return this.options.excludeAudio||"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?c(a,b):this.getAudioKey(a,b,c)},getAudioKey:function(a,b,c){var d=function(d){d=d||"",b.push({key:"audio",value:d}),c(a,b)};!function(a){var b,c=c||function(a,b){var c={},d=c.lib={},e=function(){},f=d.Base={extend:function(a){e.prototype=this;var b=new e;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),
b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},g=d.WordArray=f.extend({init:function(a,b){a=this.words=a||[],this.sigBytes=void 0!=b?b:4*a.length},toString:function(a){return(a||i).stringify(this)},concat:function(a){
var b=this.words,c=a.words,d=this.sigBytes;if(a=a.sigBytes,this.clamp(),d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-e%4*8&255)<<24-(d+e)%4*8;else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-c%4*8,b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){
for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new g.init(c,b)}}),h=c.enc={},i=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-d%4*8&255;c.push((e>>>4).toString(16)),c.push((15&e).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-d%8*4;return new g.init(c,b/2)}},j=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes
;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-d%4*8&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-d%4*8;return new g.init(c,b)}},k=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(a){throw Error("Malformed UTF-8 data")}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},l=d.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,
this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,h=e/(4*f),h=b?a.ceil(h):a.max((0|h)-this._minBufferSize,0);if(b=h*f,e=a.min(4*b,e),b){for(var i=0;i<b;i+=f)this._doProcessBlock(d,i);i=d.splice(0,b),c.sigBytes-=e}return new g.init(i,e)},clone:function(){var a=f.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0})
;d.Hasher=l.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return new m.HMAC.init(a,c).finalize(b)}}});var m=c.algo={};return c}(Math)
;!function(){var a=c,b=a.lib,d=b.WordArray,e=b.Hasher,f=[],b=a.algo.SHA1=e.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],e=c[1],g=c[2],h=c[3],i=c[4],j=0;80>j;j++){if(16>j)f[j]=0|a[b+j];else{var k=f[j-3]^f[j-8]^f[j-14]^f[j-16];f[j]=k<<1|k>>>31}k=(d<<5|d>>>27)+i+f[j],
k=20>j?k+(1518500249+(e&g|~e&h)):40>j?k+(1859775393+(e^g^h)):60>j?k+((e&g|e&h|g&h)-1894007588):k+((e^g^h)-899497514),i=h,h=g,g=e<<30|e>>>2,e=d,d=k}c[0]=c[0]+d|0,c[1]=c[1]+e|0,c[2]=c[2]+g|0,c[3]=c[3]+h|0,c[4]=c[4]+i|0},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;return b[d>>>5]|=128<<24-d%32,b[14+(d+64>>>9<<4)]=Math.floor(c/4294967296),b[15+(d+64>>>9<<4)]=c,a.sigBytes=4*b.length,this._process(),this._hash},clone:function(){var a=e.clone.call(this)
;return a._hash=this._hash.clone(),a}});a.SHA1=e._createHelper(b),a.HmacSHA1=e._createHmacHelper(b)}();try{if(!(b=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,44100,44100)))return a();var d=b.createOscillator();d.type="triangle",d.frequency.value=1e4;var e=b.createDynamicsCompressor();e.threshold&&(e.threshold.value=-50),e.knee&&(e.knee.value=40),e.ratio&&(e.ratio.value=12),e.reduction&&(e.reduction.value=-20),e.attack&&(e.attack.value=0),e.release&&(e.release.value=.25),
d.connect(e),e.connect(b.destination),b.startRendering(),b.oncomplete=function(b){function d(a,b,c){for(var d in b)"dopplerFactor"===d||"speedOfSound"===d||"currentTime"===d||"number"!=typeof b[d]&&"string"!=typeof b[d]||(a[(c||"")+d]=b[d]);return a}for(var f=0,g=c.algo.SHA1.create(),h=0;h<b.renderedBuffer.length;h++)g.update(b.renderedBuffer.getChannelData(0)[h].toString());f=g.finalize().toString(c.enc.Hex),e.disconnect(),Mb.helpers.log("Memo : "+f);var i;try{
var j=window.AudioContext||window.webkitAudioContext;if("function"!=typeof j)i="Not available";else{var k=new j,l=k.createAnalyser();i=d({},k,"ac-"),i=d(i,k.destination,"ac-"),i=d(i,k.listener,"ac-"),i=d(i,l,"an-"),i=window.JSON.stringify(i,void 0,2)}}catch(a){i=0}return Mb.helpers.log("Audio context : "+i),a(f+i)}}catch(b){return a()}}(d)},customEntropyFunction:function(a){return"function"==typeof this.options.customFunction&&a.push({key:"custom",value:this.options.customFunction()}),a},
userAgentKey:function(a){return this.options.excludeUserAgent||a.push({key:"user_agent",value:this.getUserAgent()}),a},getUserAgent:function(){return navigator.userAgent},languageKey:function(a){return this.options.excludeLanguage||a.push({key:"language",value:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||""}),a},colorDepthKey:function(a){return this.options.excludeColorDepth||a.push({key:"color_depth",value:screen.colorDepth||-1}),a},
pixelRatioKey:function(a){return this.options.excludePixelRatio||a.push({key:"pixel_ratio",value:this.getPixelRatio()}),a},getPixelRatio:function(){return window.devicePixelRatio||""},screenResolutionKey:function(a){return this.options.excludeScreenResolution?a:this.getScreenResolution(a)},getScreenResolution:function(a){var b;return b=this.options.detectScreenOrientation&&screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height],void 0!==b&&a.push({key:"resolution",
value:b}),a},availableScreenResolutionKey:function(a){return this.options.excludeAvailableScreenResolution?a:this.getAvailableScreenResolution(a)},getAvailableScreenResolution:function(a){var b;return screen.availWidth&&screen.availHeight&&(b=this.options.detectScreenOrientation?screen.availHeight>screen.availWidth?[screen.availHeight,screen.availWidth]:[screen.availWidth,screen.availHeight]:[screen.availHeight,screen.availWidth]),void 0!==b&&a.push({key:"available_resolution",value:b}),a},
timezoneOffsetKey:function(a){return this.options.excludeTimezoneOffset||a.push({key:"timezone_offset",value:(new Date).getTimezoneOffset()}),a},sessionStorageKey:function(a){return!this.options.excludeSessionStorage&&this.hasSessionStorage()&&a.push({key:"session_storage",value:1}),a},localStorageKey:function(a){return!this.options.excludeSessionStorage&&this.hasLocalStorage()&&a.push({key:"local_storage",value:1}),a},indexedDbKey:function(a){
return!this.options.excludeIndexedDB&&this.hasIndexedDB()&&a.push({key:"indexed_db",value:1}),a},addBehaviorKey:function(a){return document.body&&!this.options.excludeAddBehavior&&document.body.addBehavior&&a.push({key:"add_behavior",value:1}),a},openDatabaseKey:function(a){return!this.options.excludeOpenDatabase&&window.openDatabase&&a.push({key:"open_database",value:1}),a},cpuClassKey:function(a){return this.options.excludeCpuClass||a.push({key:"cpu_class",value:this.getNavigatorCpuClass()}),a
},platformKey:function(a){return this.options.excludePlatform||a.push({key:"navigator_platform",value:this.getNavigatorPlatform()}),a},doNotTrackKey:function(a){return this.options.excludeDoNotTrack||a.push({key:"do_not_track",value:this.getDoNotTrack()}),a},canvasKey:function(a){return!this.options.excludeCanvas&&this.isCanvasSupported()&&a.push({key:"canvas",value:this.getCanvasFp()}),a},webglKey:function(a){return this.options.excludeWebGL?a:this.isWebGlSupported()?(a.push({key:"webgl",
value:this.getWebglFp()}),a):a},adBlockKey:function(a){return this.options.excludeAdBlock||a.push({key:"adblock",value:this.getAdBlock()}),a},hasLiedLanguagesKey:function(a){return this.options.excludeHasLiedLanguages||a.push({key:"has_lied_languages",value:this.getHasLiedLanguages()}),a},hasLiedResolutionKey:function(a){return this.options.excludeHasLiedResolution||a.push({key:"has_lied_resolution",value:this.getHasLiedResolution()}),a},hasLiedOsKey:function(a){
return this.options.excludeHasLiedOs||a.push({key:"has_lied_os",value:this.getHasLiedOs()}),a},hasLiedBrowserKey:function(a){return this.options.excludeHasLiedBrowser||a.push({key:"has_lied_browser",value:this.getHasLiedBrowser()}),a},audioContextKey:function(a){return this.options.excludeAudioContextKey||a.push({key:"audio_context",value:this.getAudioContext()}),a},gpuKey:function(a){return this.options.excludeGpuKey||a.push({key:"gpu",value:this.getGpu()}),a},codecKey:function(a){
return this.options.excludeCodecKey||a.push({key:"codec",value:this.getCodec()}),a},fontsKey:function(a,b,c){return this.options.excludeJsFonts?this.flashFontsKey(a,b,c):this.jsFontsKey(a,b,c)},flashFontsKey:function(a,b,c){return this.options.excludeFlashFonts?c(a,b):this.hasSwfObjectLoaded()&&this.hasMinFlashInstalled()?void 0===this.options.swfPath?c(a,b):void this.loadSwfAndDetectFonts(function(d){a.push({key:"swf_fonts",value:d.join(";")}),b.push({key:"swf_fonts",value:d.join(";")}),c(a,b)
}):c(a,b)},jsFontsKey:function(a,b,c){var d=this;return setTimeout(function(){
var e=["monospace","sans-serif","serif"],f=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Garamond","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"],g=["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"]
;d.options.extendedJsFonts&&(f=f.concat(g)),f=f.concat(d.options.userDefinedFonts);var h=document.getElementsByTagName("body")[0],i=document.createElement("div"),j=document.createElement("div"),k={},l={},m=function(){var a=document.createElement("span");return a.style.position="absolute",a.style.left="-9999px",a.style.fontSize="72px",a.style.lineHeight="normal",a.innerHTML="mmmmmmmmmmlli",a},n=function(a,b){var c=m();return c.style.fontFamily="'"+a+"',"+b,c},o=function(){
for(var a=[],b=0,c=e.length;b<c;b++){var d=m();d.style.fontFamily=e[b],i.appendChild(d),a.push(d)}return a}();h.appendChild(i);for(var p=0,q=e.length;p<q;p++)k[e[p]]=o[p].offsetWidth,l[e[p]]=o[p].offsetHeight;var r=function(){for(var a={},b=0,c=f.length;b<c;b++){for(var d=[],g=0,h=e.length;g<h;g++){var i=n(f[b],e[g]);j.appendChild(i),d.push(i)}a[f[b]]=d}return a}();h.appendChild(j);for(var s=[],t=0,u=f.length;t<u;t++)(function(a){
for(var b=!1,c=0;c<e.length;c++)if(b=a[c].offsetWidth!==k[e[c]]||a[c].offsetHeight!==l[e[c]])return b;return b})(r[f[t]])&&s.push(f[t]);h.removeChild(j),h.removeChild(i),a.push({key:"js_fonts",value:s}),b.push({key:"js_fonts",value:s}),c(a,b)},1)},pluginsKey:function(a){return this.options.excludePlugins||(this.isIE()?this.options.excludeIEPlugins||a.push({key:"ie_plugins",value:this.getIEPlugins()}):a.push({key:"regular_plugins",value:this.getRegularPlugins()})),a},getRegularPlugins:function(){
for(var a=[],b=0,c=navigator.plugins.length;b<c;b++)a.push(navigator.plugins[b]);return this.pluginsShouldBeSorted()&&(a=a.sort(function(a,b){return a.name>b.name?1:a.name<b.name?-1:0})),this.map(a,function(a){var b=this.map(a,function(a){return[a.type,a.suffixes].join("~")}).join(",");return[a.name,a.description,b].join("::")},this)},getIEPlugins:function(){var a=[];if(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window){
var b=["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"]
;a=this.map(b,function(a){try{return new ActiveXObject(a),a}catch(a){return null}})}return navigator.plugins&&(a=a.concat(this.getRegularPlugins())),a},pluginsShouldBeSorted:function(){for(var a=!1,b=0,c=this.options.sortPluginsFor.length;b<c;b++){var d=this.options.sortPluginsFor[b];if(navigator.userAgent.match(d)){a=!0;break}}return a},touchSupportKey:function(a){return this.options.excludeTouchSupport||a.push({key:"touch_support",value:this.getTouchSupport()}),a},
hardwareConcurrencyKey:function(a){return this.options.excludeHardwareConcurrency||a.push({key:"hardware_concurrency",value:this.getHardwareConcurrency()}),a},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(a){return!0}},hasLocalStorage:function(){try{return!!window.localStorage}catch(a){return!0}},hasIndexedDB:function(){try{return!!window.indexedDB}catch(a){return!0}},getHardwareConcurrency:function(){
return navigator.hardwareConcurrency?navigator.hardwareConcurrency:"unknown"},getNavigatorCpuClass:function(){return navigator.cpuClass?navigator.cpuClass:"unknown"},getNavigatorPlatform:function(){return navigator.platform?navigator.platform:"unknown"},getDoNotTrack:function(){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:"unknown"},getTouchSupport:function(){var a=0,b=!1
;void 0!==navigator.maxTouchPoints?a=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(a=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),b=!0}catch(a){}return[a,b,"ontouchstart"in window]},getCanvasFp:function(){var a=[],b=document.createElement("canvas");b.width=2e3,b.height=200,b.style.display="inline";var c=b.getContext("2d");return c.rect(0,0,10,10),c.rect(2,2,6,6),a.push("canvas winding:"+(!1===c.isPointInPath(5,5,"evenodd")?"yes":"no")),
c.textBaseline="alphabetic",c.fillStyle="#f60",c.fillRect(125,1,62,20),c.fillStyle="#069",this.options.dontUseFakeFontInCanvas?c.font="11pt Arial":c.font="11pt no-real-font-123",c.fillText("Cwm fjordbank glyphs vext quiz, ðŸ˜ƒ",2,15),c.fillStyle="rgba(102, 204, 0, 0.2)",c.font="18pt Arial",c.fillText("Cwm fjordbank glyphs vext quiz, ðŸ˜ƒ",4,45),c.globalCompositeOperation="multiply",c.fillStyle="rgb(255,0,255)",c.beginPath(),c.arc(50,50,50,0,2*Math.PI,!0),c.closePath(),c.fill(),
c.fillStyle="rgb(0,255,255)",c.beginPath(),c.arc(100,50,50,0,2*Math.PI,!0),c.closePath(),c.fill(),c.fillStyle="rgb(255,255,0)",c.beginPath(),c.arc(75,100,50,0,2*Math.PI,!0),c.closePath(),c.fill(),c.fillStyle="rgb(255,0,255)",c.arc(75,75,75,0,2*Math.PI,!0),c.arc(75,75,25,0,2*Math.PI,!0),c.fill("evenodd"),a.push("canvas fp:"+b.toDataURL()),a.join("~")},getWebglFp:function(){var a,b=function(b){return a.clearColor(0,0,0,1),a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL),
a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),"["+b[0]+", "+b[1]+"]"};if(!(a=this.getWebglCanvas()))return null;var c=[],d=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,d);var e=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);a.bufferData(a.ARRAY_BUFFER,e,a.STATIC_DRAW),d.itemSize=3,d.numItems=3;var f=a.createProgram(),g=a.createShader(a.VERTEX_SHADER)
;a.shaderSource(g,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),a.compileShader(g);var h=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(h,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),a.compileShader(h),a.attachShader(f,g),a.attachShader(f,h),a.linkProgram(f),a.useProgram(f),
f.vertexPosAttrib=a.getAttribLocation(f,"attrVertex"),f.offsetUniform=a.getUniformLocation(f,"uniformOffset"),a.enableVertexAttribArray(f.vertexPosArray),a.vertexAttribPointer(f.vertexPosAttrib,d.itemSize,a.FLOAT,!1,0,0),a.uniform2f(f.offsetUniform,1,1),a.drawArrays(a.TRIANGLE_STRIP,0,d.numItems),null!=a.canvas&&c.push(a.canvas.toDataURL()),c.push("extensions:"+a.getSupportedExtensions().join(";")),c.push("webgl aliased line width range:"+b(a.getParameter(a.ALIASED_LINE_WIDTH_RANGE))),
c.push("webgl aliased point size range:"+b(a.getParameter(a.ALIASED_POINT_SIZE_RANGE))),c.push("webgl alpha bits:"+a.getParameter(a.ALPHA_BITS)),c.push("webgl antialiasing:"+(a.getContextAttributes().antialias?"yes":"no")),c.push("webgl blue bits:"+a.getParameter(a.BLUE_BITS)),c.push("webgl depth bits:"+a.getParameter(a.DEPTH_BITS)),c.push("webgl green bits:"+a.getParameter(a.GREEN_BITS)),c.push("webgl max anisotropy:"+function(a){
var b,c=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic");return c?(b=a.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT),0===b&&(b=2),b):null}(a)),c.push("webgl max combined texture image units:"+a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),c.push("webgl max cube map texture size:"+a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE)),
c.push("webgl max fragment uniform vectors:"+a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS)),c.push("webgl max render buffer size:"+a.getParameter(a.MAX_RENDERBUFFER_SIZE)),c.push("webgl max texture image units:"+a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS)),c.push("webgl max texture size:"+a.getParameter(a.MAX_TEXTURE_SIZE)),c.push("webgl max varying vectors:"+a.getParameter(a.MAX_VARYING_VECTORS)),c.push("webgl max vertex attribs:"+a.getParameter(a.MAX_VERTEX_ATTRIBS)),
c.push("webgl max vertex texture image units:"+a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),c.push("webgl max vertex uniform vectors:"+a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS)),c.push("webgl max viewport dims:"+b(a.getParameter(a.MAX_VIEWPORT_DIMS))),c.push("webgl red bits:"+a.getParameter(a.RED_BITS)),c.push("webgl renderer:"+a.getParameter(a.RENDERER)),c.push("webgl shading language version:"+a.getParameter(a.SHADING_LANGUAGE_VERSION)),
c.push("webgl stencil bits:"+a.getParameter(a.STENCIL_BITS)),c.push("webgl vendor:"+a.getParameter(a.VENDOR)),c.push("webgl version:"+a.getParameter(a.VERSION));try{var i=a.getExtension("WEBGL_debug_renderer_info");i&&(c.push("webgl unmasked vendor:"+a.getParameter(i.UNMASKED_VENDOR_WEBGL)),c.push("webgl unmasked renderer:"+a.getParameter(i.UNMASKED_RENDERER_WEBGL)))}catch(a){}
return a.getShaderPrecisionFormat?(c.push("webgl vertex shader high float precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision),c.push("webgl vertex shader high float precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).rangeMin),c.push("webgl vertex shader high float precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).rangeMax),
c.push("webgl vertex shader medium float precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision),c.push("webgl vertex shader medium float precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).rangeMin),c.push("webgl vertex shader medium float precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).rangeMax),
c.push("webgl vertex shader low float precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_FLOAT).precision),c.push("webgl vertex shader low float precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_FLOAT).rangeMin),c.push("webgl vertex shader low float precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_FLOAT).rangeMax),c.push("webgl fragment shader high float precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision),
c.push("webgl fragment shader high float precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).rangeMin),c.push("webgl fragment shader high float precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).rangeMax),c.push("webgl fragment shader medium float precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision),
c.push("webgl fragment shader medium float precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).rangeMin),c.push("webgl fragment shader medium float precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).rangeMax),c.push("webgl fragment shader low float precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_FLOAT).precision),
c.push("webgl fragment shader low float precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_FLOAT).rangeMin),c.push("webgl fragment shader low float precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_FLOAT).rangeMax),c.push("webgl vertex shader high int precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_INT).precision),c.push("webgl vertex shader high int precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_INT).rangeMin),
c.push("webgl vertex shader high int precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_INT).rangeMax),c.push("webgl vertex shader medium int precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_INT).precision),c.push("webgl vertex shader medium int precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_INT).rangeMin),c.push("webgl vertex shader medium int precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_INT).rangeMax),
c.push("webgl vertex shader low int precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_INT).precision),c.push("webgl vertex shader low int precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_INT).rangeMin),c.push("webgl vertex shader low int precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_INT).rangeMax),c.push("webgl fragment shader high int precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_INT).precision),
c.push("webgl fragment shader high int precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_INT).rangeMin),c.push("webgl fragment shader high int precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_INT).rangeMax),c.push("webgl fragment shader medium int precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_INT).precision),
c.push("webgl fragment shader medium int precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_INT).rangeMin),c.push("webgl fragment shader medium int precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_INT).rangeMax),c.push("webgl fragment shader low int precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_INT).precision),
c.push("webgl fragment shader low int precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_INT).rangeMin),c.push("webgl fragment shader low int precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_INT).rangeMax),c.join("~")):c.join("~")},getAdBlock:function(){var a=document.createElement("div");a.innerHTML="&nbsp;",a.className="adsbox";var b=!1;try{document.body.appendChild(a),b=0===document.getElementsByClassName("adsbox")[0].offsetHeight,
document.body.removeChild(a)}catch(a){b=!1}return b},getHasLiedLanguages:function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(a){return!0}return!1},getHasLiedResolution:function(){return screen.width<screen.availWidth||screen.height<screen.availHeight},getHasLiedOs:function(){var a,b=navigator.userAgent.toLowerCase(),c=navigator.oscpu,d=navigator.platform.toLowerCase()
;a=b.indexOf("windows phone")>=0?"Windows Phone":b.indexOf("win")>=0?"Windows":b.indexOf("android")>=0?"Android":b.indexOf("linux")>=0?"Linux":b.indexOf("iphone")>=0||b.indexOf("ipad")>=0?"iOS":b.indexOf("mac")>=0?"Mac":"Other";if(("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"Windows Phone"!==a&&"Android"!==a&&"iOS"!==a&&"Other"!==a)return!0;if(void 0!==c){if(c=c.toLowerCase(),c.indexOf("win")>=0&&"Windows"!==a&&"Windows Phone"!==a)return!0
;if(c.indexOf("linux")>=0&&"Linux"!==a&&"Android"!==a)return!0;if(c.indexOf("mac")>=0&&"Mac"!==a&&"iOS"!==a)return!0;if(0===c.indexOf("win")&&0===c.indexOf("linux")&&c.indexOf("mac")>=0&&"other"!==a)return!0}
return d.indexOf("win")>=0&&"Windows"!==a&&"Windows Phone"!==a||((d.indexOf("linux")>=0||d.indexOf("android")>=0||d.indexOf("pike")>=0)&&"Linux"!==a&&"Android"!==a||((d.indexOf("mac")>=0||d.indexOf("ipad")>=0||d.indexOf("ipod")>=0||d.indexOf("iphone")>=0)&&"Mac"!==a&&"iOS"!==a||(0===d.indexOf("win")&&0===d.indexOf("linux")&&d.indexOf("mac")>=0&&"other"!==a||void 0===navigator.plugins&&"Windows"!==a&&"Windows Phone"!==a)))},getHasLiedBrowser:function(){
var a,b=navigator.userAgent.toLowerCase(),c=navigator.productSub;if(("Chrome"===(a=b.indexOf("firefox")>=0?"Firefox":b.indexOf("opera")>=0||b.indexOf("opr")>=0?"Opera":b.indexOf("chrome")>=0?"Chrome":b.indexOf("safari")>=0?"Safari":b.indexOf("trident")>=0?"Internet Explorer":"Other")||"Safari"===a||"Opera"===a)&&"20030107"!==c)return!0;var d=eval.toString().length;if(37===d&&"Safari"!==a&&"Firefox"!==a&&"Other"!==a)return!0;if(39===d&&"Internet Explorer"!==a&&"Other"!==a)return!0
;if(33===d&&"Chrome"!==a&&"Opera"!==a&&"Other"!==a)return!0;var e;try{throw"a"}catch(a){try{a.toSource(),e=!0}catch(a){e=!1}}return!(!e||"Firefox"===a||"Other"===a)},getAudioContext:function(){function a(a,b,c){for(var d in b)"dopplerFactor"===d||"speedOfSound"===d||"currentTime"===d||"number"!=typeof b[d]&&"string"!=typeof b[d]||(a[(c||"")+d]=b[d]);return a}var c;try{b=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,44100,44100),b||(c=0);var d=b.createOscillator()
;d.type="triangle",d.frequency.value=1e4;var e=b.createDynamicsCompressor();e.threshold&&(e.threshold.value=-50),e.knee&&(e.knee.value=40),e.ratio&&(e.ratio.value=12),e.reduction&&(e.reduction.value=-20),e.attack&&(e.attack.value=0),e.release&&(e.release.value=.25),d.connect(e),e.connect(b.destination),d.start(0),b.startRendering(),b.oncomplete=function(a){c=0;for(var b=CryptoJS.algo.SHA1.create(),d=0;d<a.renderedBuffer.length;d++)b.update(a.renderedBuffer.getChannelData(0)[d].toString())
;var f=b.finalize();c=f.toString(CryptoJS.enc.Hex),e.disconnect()}}catch(a){c=0}var f;try{var g=window.AudioContext||window.webkitAudioContext;if("function"!=typeof g)f="Not available";else{var h=new g,i=h.createAnalyser();f=a({},h,"ac-"),f=a(f,h.destination,"ac-"),f=a(f,h.listener,"ac-"),f=a(f,i,"an-"),f=window.JSON.stringify(f,void 0,2)}}catch(a){f=0}return f},getGpu:function(){function a(a){var b={renderer:"",vendor:""},c=a.getExtension("WEBGL_debug_renderer_info")
;return null!=c&&(b.renderer=a.getParameter(c.UNMASKED_RENDERER_WEBGL),b.vendor=a.getParameter(c.UNMASKED_VENDOR_WEBGL)),b}var b=document.createElement("canvas"),c=b.getContext("experimental-webgl");if(null==c||void 0==c){var c=b.getContext("webgl");if(null==c||void 0==c)return 0}var d=c.getParameter(c.RENDERER);return d+=c.getParameter(c.VENDOR),d+=a(c).vendor,d+=a(c).renderer},getCodec:function(){var a=document.createElement("video"),b=!1;try{b=!!a.canPlayType,b&&(b="",
b+=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),b+=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),b+=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),b+=a.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),b+=a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(a){}return b},isCanvasSupported:function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},
isWebGlSupported:function(){if(!this.isCanvasSupported())return!1;var a,b=document.createElement("canvas");try{a=b.getContext&&(b.getContext("webgl")||b.getContext("experimental-webgl"))}catch(b){a=!1}return!!window.WebGLRenderingContext&&!!a},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},hasSwfObjectLoaded:function(){return void 0!==window.swfobject},hasMinFlashInstalled:function(){
return swfobject.hasFlashPlayerVersion("9.0.0")},addFlashDivNode:function(){var a=document.createElement("div");a.setAttribute("id",this.options.swfContainerId),document.body.appendChild(a)},loadSwfAndDetectFonts:function(a){window.___fp_swf_loaded=function(b){a(b)};var b=this.options.swfContainerId;this.addFlashDivNode();var c={onReady:"___fp_swf_loaded"},d={allowScriptAccess:"always",menu:"false"};swfobject.embedSWF(this.options.swfPath,b,"1","1","9.0.0",!1,c,d,{})},getWebglCanvas:function(){
var a=document.createElement("canvas"),b=null;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(a){}return b||(b=null),b},each:function(a,b,c){if(null!==a)if(this.nativeForEach&&a.forEach===this.nativeForEach)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a)==={})return}else for(var f in a)if(a.hasOwnProperty(f)&&b.call(c,a[f],f,a)==={})return},map:function(a,b,c){var d=[]
;return null==a?d:this.nativeMap&&a.map===this.nativeMap?a.map(b,c):(this.each(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)},x64Add:function(a,b){a=[a[0]>>>16,65535&a[0],a[1]>>>16,65535&a[1]],b=[b[0]>>>16,65535&b[0],b[1]>>>16,65535&b[1]];var c=[0,0,0,0];return c[3]+=a[3]+b[3],c[2]+=c[3]>>>16,c[3]&=65535,c[2]+=a[2]+b[2],c[1]+=c[2]>>>16,c[2]&=65535,c[1]+=a[1]+b[1],c[0]+=c[1]>>>16,c[1]&=65535,c[0]+=a[0]+b[0],c[0]&=65535,[c[0]<<16|c[1],c[2]<<16|c[3]]},x64Multiply:function(a,b){
a=[a[0]>>>16,65535&a[0],a[1]>>>16,65535&a[1]],b=[b[0]>>>16,65535&b[0],b[1]>>>16,65535&b[1]];var c=[0,0,0,0];return c[3]+=a[3]*b[3],c[2]+=c[3]>>>16,c[3]&=65535,c[2]+=a[2]*b[3],c[1]+=c[2]>>>16,c[2]&=65535,c[2]+=a[3]*b[2],c[1]+=c[2]>>>16,c[2]&=65535,c[1]+=a[1]*b[3],c[0]+=c[1]>>>16,c[1]&=65535,c[1]+=a[2]*b[2],c[0]+=c[1]>>>16,c[1]&=65535,c[1]+=a[3]*b[1],c[0]+=c[1]>>>16,c[1]&=65535,c[0]+=a[0]*b[3]+a[1]*b[2]+a[2]*b[1]+a[3]*b[0],c[0]&=65535,[c[0]<<16|c[1],c[2]<<16|c[3]]},x64Rotl:function(a,b){
return b%=64,32===b?[a[1],a[0]]:b<32?[a[0]<<b|a[1]>>>32-b,a[1]<<b|a[0]>>>32-b]:(b-=32,[a[1]<<b|a[0]>>>32-b,a[0]<<b|a[1]>>>32-b])},x64LeftShift:function(a,b){return b%=64,0===b?a:b<32?[a[0]<<b|a[1]>>>32-b,a[1]<<b]:[a[1]<<b-32,0]},x64Xor:function(a,b){return[a[0]^b[0],a[1]^b[1]]},x64Fmix:function(a){return a=this.x64Xor(a,[0,a[0]>>>1]),a=this.x64Multiply(a,[4283543511,3981806797]),a=this.x64Xor(a,[0,a[0]>>>1]),a=this.x64Multiply(a,[3301882366,444984403]),a=this.x64Xor(a,[0,a[0]>>>1])},
x64hash128:function(a,b){a=a||"",b=b||0;for(var c=a.length%16,d=a.length-c,e=[0,b],f=[0,b],g=[0,0],h=[0,0],i=[2277735313,289559509],j=[1291169091,658871167],k=0;k<d;k+=16)g=[255&a.charCodeAt(k+4)|(255&a.charCodeAt(k+5))<<8|(255&a.charCodeAt(k+6))<<16|(255&a.charCodeAt(k+7))<<24,255&a.charCodeAt(k)|(255&a.charCodeAt(k+1))<<8|(255&a.charCodeAt(k+2))<<16|(255&a.charCodeAt(k+3))<<24],
h=[255&a.charCodeAt(k+12)|(255&a.charCodeAt(k+13))<<8|(255&a.charCodeAt(k+14))<<16|(255&a.charCodeAt(k+15))<<24,255&a.charCodeAt(k+8)|(255&a.charCodeAt(k+9))<<8|(255&a.charCodeAt(k+10))<<16|(255&a.charCodeAt(k+11))<<24],g=this.x64Multiply(g,i),g=this.x64Rotl(g,31),g=this.x64Multiply(g,j),e=this.x64Xor(e,g),e=this.x64Rotl(e,27),e=this.x64Add(e,f),e=this.x64Add(this.x64Multiply(e,[0,5]),[0,1390208809]),h=this.x64Multiply(h,j),h=this.x64Rotl(h,33),h=this.x64Multiply(h,i),f=this.x64Xor(f,h),
f=this.x64Rotl(f,31),f=this.x64Add(f,e),f=this.x64Add(this.x64Multiply(f,[0,5]),[0,944331445]);switch(g=[0,0],h=[0,0],c){case 15:h=this.x64Xor(h,this.x64LeftShift([0,a.charCodeAt(k+14)],48));case 14:h=this.x64Xor(h,this.x64LeftShift([0,a.charCodeAt(k+13)],40));case 13:h=this.x64Xor(h,this.x64LeftShift([0,a.charCodeAt(k+12)],32));case 12:h=this.x64Xor(h,this.x64LeftShift([0,a.charCodeAt(k+11)],24));case 11:h=this.x64Xor(h,this.x64LeftShift([0,a.charCodeAt(k+10)],16));case 10:
h=this.x64Xor(h,this.x64LeftShift([0,a.charCodeAt(k+9)],8));case 9:h=this.x64Xor(h,[0,a.charCodeAt(k+8)]),h=this.x64Multiply(h,j),h=this.x64Rotl(h,33),h=this.x64Multiply(h,i),f=this.x64Xor(f,h);case 8:g=this.x64Xor(g,this.x64LeftShift([0,a.charCodeAt(k+7)],56));case 7:g=this.x64Xor(g,this.x64LeftShift([0,a.charCodeAt(k+6)],48));case 6:g=this.x64Xor(g,this.x64LeftShift([0,a.charCodeAt(k+5)],40));case 5:g=this.x64Xor(g,this.x64LeftShift([0,a.charCodeAt(k+4)],32));case 4:
g=this.x64Xor(g,this.x64LeftShift([0,a.charCodeAt(k+3)],24));case 3:g=this.x64Xor(g,this.x64LeftShift([0,a.charCodeAt(k+2)],16));case 2:g=this.x64Xor(g,this.x64LeftShift([0,a.charCodeAt(k+1)],8));case 1:g=this.x64Xor(g,[0,a.charCodeAt(k)]),g=this.x64Multiply(g,i),g=this.x64Rotl(g,31),g=this.x64Multiply(g,j),e=this.x64Xor(e,g)}return e=this.x64Xor(e,[0,a.length]),f=this.x64Xor(f,[0,a.length]),e=this.x64Add(e,f),f=this.x64Add(f,e),e=this.x64Fmix(e),f=this.x64Fmix(f),e=this.x64Add(e,f),
f=this.x64Add(f,e),("00000000"+(e[0]>>>0).toString(16)).slice(-8)+("00000000"+(e[1]>>>0).toString(16)).slice(-8)+("00000000"+(f[0]>>>0).toString(16)).slice(-8)+("00000000"+(f[1]>>>0).toString(16)).slice(-8)}},a.VERSION="1.5.1",a}()}(0,this),window.onMediabongPlayerReady=function(a){Mb.player.callBack.playerReady(a)},window.onMediabongExternalPlayerReady=function(a){Mb.player.callBack.externalPlayerReady(a)},window.Mb_handlePlayerResponse=function(a){if("string"==typeof a.data){
var b=a.data.split("@@").toString(),c="";if(!(b.length<=12)){c=b.substring(b.length-12);var d=b.replace(c,"");"onVideoReady"==c&&onMediabongPlayerReady(d)}}},window.MB_videoCompleted=function(a){mb_players[a].isPlaying=!1},window.MB_handleDocumentVisibility=function(a){function b(b){var d="visible",e="hidden",f={focus:d,focusin:d,pageshow:d,blur:e,focusout:e,pagehide:e};b=b||window.event,b.type in f?Mb.documentVisibility=f[b.type]:Mb.documentVisibility=this[c]?"hidden":"visible",
Mb.enableEnhancedBehavior&&(null!=Mb.syncad.mainPlayerId?Mb.getPosition(Mb.syncad.mainPlayerId,!1):Mb.getPosition(Mb.player.currentPlayerId,!1)),Mb.player.callBack.documentVisibilityChanged(a)}var c="hidden";c in document?(document.addEventListener("visibilitychange",b),Mb.addToEventsList("visibilitychange",b,document,!1)):(c="mozHidden")in document?(document.addEventListener("mozvisibilitychange",b),
Mb.addToEventsList("mozvisibilitychange",b,document,!1)):(c="webkitHidden")in document?(document.addEventListener("webkitvisibilitychange",b),Mb.addToEventsList("webkitvisibilitychange",b,document,!1)):(c="msHidden")in document?(document.addEventListener("msvisibilitychange",b),Mb.addToEventsList("msvisibilitychange",b,document,!1)):"onfocusin"in document?document.onfocusin=document.onfocusout=b:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=b,void 0!==document[c]&&b({
type:document[c]?"blur":"focus"})},document.querySelectorAll||(document.querySelectorAll=function(a){var b=document,c=b.documentElement.firstChild,d=b.createElement("STYLE");return c.appendChild(d),b.__qsaels=[],d.styleSheet.cssText=a+"{x:expression(document.__qsaels.push(this))}",window.scrollBy(0,0),b.__qsaels}),void 0!==window.addEventListener?window.addEventListener("message",Mb_handlePlayerResponse,!1):void 0!==window.attachEvent&&window.attachEvent("onmessage",Mb_handlePlayerResponse)
;var Mb={getPlayer:function(a){return void 0!=Mb.player.html5Player[a]&&null!=Mb.player.html5Player[a]?Mb.player.html5Player[a]:document.getElementById(a)},boot:function(a,b,c){Mb.consent.record(),Mb.helpers.log("IAB consent cookie : "),Mb.helpers.log(Mb.consent.iab_consent_cookie);var d="";void 0!==c&&(d=c),Mb.dataLayer.init(d),mb_players[a].player_version=b,Mb.player.boot(a,mb_players[a])},dataframe:null,handles:{},playerState:{},events:{},pauseOnAdStart:{},isExternal:"",isMobile:!1,
stopEvent:!1,enableSyncAd:0,syncadtype:"",adsEnabled:!0,adsTested:!1,callbacks:{},endAfterPrerollCompleted:[],preventScrollEvent:!1,hadPreroll:!1,forceStartOnScroll:!1,playVideo:!1,syncrollScrolled:!1,syncrollHasAd:!1,playerIsHtml5:!1,disableAdjustTimeout:!1,calculatedDuration:0,timestamps:{currentAdTime:0},adTimeout:null,_enableIntelligentSyncroll:!1,_stopSyncIfQuickPlay:!1,_stopSyncIfQuickPlayDuration:5e3,attentionScore:0,attentionScoreWeightExceeded:0,adPressureProportion:0,
adPressureProportionTotal:0,adClutter:0,textProportion:0,ipadAsIphone:!1,documentVisibility:"",timeouts:[],intervals:[],eventsList:[],addScrollEventCalled:!1,externalScrollEvent:null,viewabilityTotal:0,user_fgp:"",user_id:"",user_id_ls:"",ls_uid:"",enableEnhancedBehavior:!1,rtb_dealId:"",rtb_partnerId:"",rtb_seatId:"",rtb_cpm:0,rtb_adomain:"",rtb_floortype:0,rtb_data:"",publisher_tag:0,campaign_id:0,previousScrollValue:0,moved_below_50p_vis:0,is_inpicture:!1,addscrollEvent:function(a){
var b=window.top||window.parent||window;try{b.onscroll}catch(a){b=window}var c=b.onscroll;Mb.addScrollEventCalled||(c&&(Mb.externalScrollEvent=c),Mb.addScrollEventCalled=!0),"function"!=typeof b.onscroll?b.onscroll=a:b.onscroll=function(){a(),c&&c()},document.addEventListener("touchcancel",a),document.addEventListener("touchstart",a),Mb.addToEventsList("touchcancel",a,document,!1),Mb.addToEventsList("touchstart",a,document,!1)},getViewport:function(){
var a=window,b=document,c=b.documentElement,d=b.getElementsByTagName("body")[0];return{width:a.innerWidth||c.clientWidth||d.clientWidth,height:a.innerHeight||c.clientHeight||d.clientHeight}},getScrollValue:function(){return document.all?document.scrollTop:window.pageYOffset},getScrollDelta:function(a){var b=Mb.getScrollValue(),c=Math.abs(b-Mb.previousScrollValue);return void 0!==a&&1!=a||(Mb.previousScrollValue=b),c},getVisibilityInAttentionZone:function(a){var b=Mb.getPlayer(a)
;if(void 0!==b.isFullscreen&&b.isFullscreen())return 100;var c=0;if(null==document.getElementById(a)||"hidden"==Mb.documentVisibility)return 0;var d=document.getElementById(a),e=Mb.getViewport(),f=Mb.helpers.getOffset(d,!0);if(Mb.helpers.inIframe()&&null!==window.frameElement){d=window.frameElement;var g=window.top,h=window.top.document,i=h.documentElement,j=h.getElementsByTagName("body")[0];e={width:g.innerWidth||i.clientWidth||j.clientWidth,height:g.innerHeight||i.clientHeight||j.clientHeight}
}var k=d.getBoundingClientRect(),l={left:k.left,top:k.top,bottom:k.bottom},m=f/e.height,n=parseInt(.25*e.height);return e.height=parseInt(.5*e.height),m>=.25&&m<.75?triggerPcent=40:m>=.75&&(triggerPcent=70),l.top-=n,l.bottom-=n,l.top<0&&(l.top=0),l.top>e.height&&(l.top=e.height),l.bottom>e.height&&(l.bottom=e.height),l.bottom<0&&(l.bottom=0),visible=l.bottom-l.top,visible>e.height&&(visible=e.height),c=100*visible/f,c=Math.ceil(c),c>100&&(c=100),c},getVisibility:function(a,b){
var c=Mb.getPlayer(a);if(void 0!==c.isFullscreen&&c.isFullscreen())return 100;var d=0;if(null==document.getElementById(a)||"hidden"==Mb.documentVisibility)return 0;var e=document.getElementById(a),f=Mb.getViewport(),g=Mb.helpers.getOffset(e,!0);if(Mb.helpers.inIframe()&&null!==window.frameElement){e=window.frameElement;var h=window.top,i=window.top.document,j=i.documentElement,k=i.getElementsByTagName("body")[0];f={width:h.innerWidth||j.clientWidth||k.clientWidth,
height:h.innerHeight||j.clientHeight||k.clientHeight}}var l=e.getBoundingClientRect(),m={left:l.left,top:l.top,bottom:l.bottom};if(0==b&&void 0!==Mb.enableIntelligentSyncroll&&Mb.enableIntelligentSyncroll&&null!=document.getElementById("mb_video_syncad")){var n=g/f.height,o=parseInt(.25*f.height);f.height=parseInt(.5*f.height),n>=.25&&n<.75?triggerPcent=40:n>=.75&&(triggerPcent=70),m.top-=o,m.bottom-=o}return m.top<0&&(m.top=0),m.top>f.height&&(m.top=f.height),
m.bottom>f.height&&(m.bottom=f.height),m.bottom<0&&(m.bottom=0),visible=m.bottom-m.top,visible>f.height&&(visible=f.height),d=100*visible/g,d=Math.ceil(d),d>100&&(d=100),d},getVisiblePixels:function(a){if(null===a)return 0;var b=Mb.helpers.getOffsets(a),c=a.getBoundingClientRect(),d=window.innerHeight,e=window.innerWidth,f=b.height,g=b.width;c.top<0&&(f+=c.top),c.bottom>d&&(f-=c.bottom-d),c.left<0&&(g+=c.left),c.right>e&&(g-=c.right-e);var h=f*g;return h<0&&(h=0),h},getPosition:function(a,b){
if(Mb.preventScrollEvent)return"none";if(Mb.fireCallbacks("scroll",a),null==document.getElementById(a))return"none";if(1==Mb.stopEvent)return"none";if(!mb_players[a].ready)return"none";if(!mb_players[a].checkScroll&&!mb_players[a].checkStopScroll)return"none";mb_players[a].pcent=parseInt(mb_players[a].pcent);var c=mb_players[a].pcent,d=0,e=document.getElementById(a),f={left:0,top:0},g=(document.all?document.scrollTop:window.pageYOffset,Mb.getViewport()),h=Mb.helpers.getOffset(e,!0)
;if((0-mb_players[a].start)/1e3,mb_players[a].start=0,Mb.helpers.inIframe()&&null!==window.frameElement){e=window.frameElement;var i=window.top,j=window.top.document,k=j.documentElement,l=j.getElementsByTagName("body")[0];g={width:i.innerWidth||k.clientWidth||l.clientWidth,height:i.innerHeight||k.clientHeight||l.clientHeight}}var m=e.getBoundingClientRect();if(f={left:m.left,top:m.top,bottom:m.bottom},
void 0!==Mb.enableIntelligentSyncroll&&Mb.enableIntelligentSyncroll&&null!=document.getElementById("mb_video_syncad")){var n=(g.height,parseInt(.25*g.height));g.height=parseInt(.5*g.height),c=window.MB_DEV_SCRIPT&&mb_players[a].pcent>50?mb_players[a].pcent:50,f.top-=n,f.bottom-=n}if(f.top<0&&(f.top=0),f.top>g.height&&(f.top=g.height),f.bottom>g.height&&(f.bottom=g.height),f.bottom<0&&(f.bottom=0),d=f.bottom-f.top,d>g.height&&(d=g.height),pcent=100*d/h,pcent=Math.ceil(pcent),
Mb.enableEnhancedBehavior&&"hidden"==Mb.documentVisibility&&(pcent=0),mb_players[a].checkScroll&&pcent>=c){if(1==b)return"play";Mb.delayStart(a)}if(mb_players[a].checkStopScroll){if(!(pcent<c&&1==Mb.playerState[a]))return"none";if(1==b)return"pause";Mb.player.pause(a)}},delayStart:function(a){1!=Mb.playerState[a]&&(Mb.player.start(a,mb_players[a].delay,Mb.events[a].doMute),mb_players[a].delay=0,Mb.events[a].doMute=!1)},stopDelay:function(a){if(!mb_players[a].ready)return!1
;clearTimeout(mb_players[a].timeoutObj)},isVisible:function(a,b){b=b||window.event},iOSversion:function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return parseFloat(parseInt(a[1],10)+"."+parseInt(a[2],10))}return 0},androidVersion:function(){var a=navigator.userAgent.toLowerCase(),b=a.match(/android\s([0-9\.]*)/);return!!b&&b[1]},isIphone:function(){
return!(!/iPad/i.test(navigator.userAgent)||!Mb.ipadAsIphone)||!!/iPhone|iPod/i.test(navigator.userAgent)},registerCallBack:function(a,b){void 0===Mb.callbacks[a]&&(Mb.callbacks[a]=[]),Mb.callbacks[a].push(b)},fireCallbacks:function(a,b,c){if(void 0!==Mb.callbacks[a]){var d=0;for(d=0;d<Mb.callbacks[a].length;d++)Mb.callbacks[a][d](b,c)}},addToEventsList:function(a,b,c,d){Mb.eventsList.push({event:a,obj:c,fn:b,capture:d})},clearEvents:function(){for(var a=0;a<Mb.eventsList.length;a++){
var b=Mb.eventsList[a].obj,c=Mb.eventsList[a].event,d=Mb.eventsList[a].fn;b.removeEventListener?b.removeEventListener(c,d,Mb.eventsList[a].capture):b.detachEvent?b.detachEvent("on"+c,d):b["on"+type]=""}(window.top||window.parent||window).onscroll=Mb.externalScrollEvent},clearTimeouts:function(){for(var a=0;a<Mb.timeouts.length;a++)clearTimeout(Mb.timeouts[a])},clearIntervals:function(){for(var a=0;a<Mb.intervals.length;a++)clearInterval(Mb.intervals[a])},clearHtml:function(){
null!=document.getElementById("mb_container")&&document.getElementById("mb_container").parentNode.removeChild(document.getElementById("mb_container")),null!=document.getElementById("mb_new_container")&&document.getElementById("mb_new_container").parentNode.removeChild(document.getElementById("mb_new_container")),null!=document.getElementById("mb_video_syncad")&&document.getElementById("mb_video_syncad").parentNode.parentNode.removeChild(document.getElementById("mb_video_syncad").parentNode),
null!=document.getElementById("mb_video_syncad_bottom")&&document.getElementById("mb_video_syncad_bottom").parentNode.removeChild(document.getElementById("mb_video_syncad_bottom")),null!=document.getElementById("mb_video_syncad_floating")&&document.getElementById("mb_video_syncad_floating").parentNode.removeChild(document.getElementById("mb_video_syncad_floating")),
document.getElementsByClassName("syncad_slot").length>0&&document.getElementsByClassName("syncad_slot")[0].parentNode.removeChild(document.getElementsByClassName("syncad_slot")[0]);var a=document.getElementById("mb_video_syncad_title");null!=a&&a.parentNode.removeChild(a);for(var b=0;b<Mb.syncad.slotsList.length;b++){var c=document.getElementById(Mb.syncad.slotsList[b])
;null!=c&&("mb_video_syncad_bottom"==Mb.syncad.slotsList[b]?c.parentNode.removeChild(c):c.parentNode.parentNode.removeChild(c.parentNode))}},destroy:function(){void 0!==window.jsmpeg&&(window.jsmpeg=void 0),void 0!==window.mbjpeg&&(window.mbjpeg=void 0),Mb.playerIsHtml5&&(window.vjs=void 0,window.DMVAST=void 0,window.Mb.videojs=void 0),window.Mb=void 0,window.MbLoadPlayer=void 0,window.onMediabongExternalPlayerReady=void 0},stop:function(){if(Mb.clearEvents(),Mb.clearTimeouts(),
Mb.clearIntervals(),Mb.playerIsHtml5){var a=Mb.getPlayer(Mb.syncad.mainPlayerId);a&&a.stop()}Mb.clearHtml(),Mb.destroy()},vast:{errorCodes:{UNEXPECTED_LINEAR:201,AD_TIMEOUT:402,NO_MATCHING_AD:403,AD_DISPLAY_PROBLEM:405,REQUEST_FAILED:1005}}};window.Mb=Mb,Mb.bloc={params:{},videoContainer:{},timers:{},flag:{doMouseOver:!0,doNextVideoTimer:!0},width:{},uniqIdList:{},touchEvent:{y:0,x:0},touchDirection:null,animateInProgress:!1,init:function(a,b,c){
if(""!=b.testUrl&&Mb.helpers.canLoadAds(b.testUrl),Mb.bloc.uniqIdList[a]=[],Mb.isMobile){var d=[];for(e=0;e<b.videos.length;e++)0==b.videos[e].sponsor&&d.push(b.videos[e]);b.videos=d}if(window.mb_blocks[a]=b,void 0!==b.externalFonts&&b.externalFonts.length>0)for(var e in b.externalFonts)Mb.helpers.loadUrl(b.externalFonts[e],"text/css","link",function(){});for(var f=document.querySelectorAll(".mb_bloc_"+a),g=0;g<f.length;g++){var h=f[g]
;0==h.parentNode.offsetWidth&&(h.parentNode.style.width="100%"),h.parentNode.offsetWidth<230||function(b,d,f,g){var h=!1,i=!1,j=document.createElement("div"),k=Mb.helpers.createId(5);if(Mb.bloc.uniqIdList[a].push(k),b.id="mb_bloc_"+k,Mb.bloc.width["mb_bloc_"+k]=b.offsetWidth,b.style.visibility="hidden",b.hasChildNodes()&&!0,Mb.helpers.hasClass(b,"mb_vertical")&&(h=!0),Mb.helpers.hasClass(b,"_mb_vertical")&&(i=!0),""!=d.css.bloc&&(b.className=b.className+" "+d.css.bloc),
b.style.backgroundColor=d.color.video_background,""!=d.title){var l=document.createElement("div");if(l.innerHTML=d.title,l.className="mb_title mb_bloc_title mb_bloc_main_title",l.style.padding="0px",l.style.margin="0px",l.style.width="100%",l.style.color=d.color.bloc_title,l.style.fontSize=d["font-size"].bloc_title,l.style.fontFamily=d.font.bloc_title,l.style.fontWeight=d["font-style"].bloc_title,void 0!==d.wrapper.bloc_title&&void 0!==d.wrapper.bloc_title.type){
var m=document.createElement(d.wrapper.bloc_title.type);m.className=d.wrapper.bloc_title.class,m.appendChild(l),j.appendChild(m)}else j.appendChild(l)}if("TOP"==d.video_title_position){var n=document.createElement("div"),o=document.createElement("span");n.className="mb_bloc_mainvideo_title",o.innerHTML=d.videos[0].title,h&&(n.style.width="100%",n.style.whiteSpace="nowrap",n.style.textOverflow="ellipsis",n.style.overflow="hidden"),n.appendChild(o),j.appendChild(n)}
var p=document.createElement("div");p.id="mb_video_"+Mb.helpers.createId(5),p.className="mb_videodiv",h?(p.style.cssText="width: "+d.video_pcent+"%!important",p.style.cssFloat="left"):p.style.width="100%",p.style.overflow="hidden",Mb.bloc.videoContainer[a]=p.id;var q=document.createElement("img"),r=document.createElement("img");if(q.className="mb_bloc_thumb_full",q.src=d.videos[0].thumb_full,q.style.cursor="pointer",q.onload=function(){
void 0!==this.parentNode&&(this.parentNode.style.height=Mb.helpers.getOffset(this,!0)+"px")},q.onclick=function(){var a=this.parentNode.parentNode.getElementsByClassName("mb_bloc_current_thumb"),b=0;if(0==a.length)a=this.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_thumb")[0],b=0;else{a=a[0]
;for(var c=this.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_item"),d=0;d<c.length;d++)if(Mb.helpers.hasClass(c[d].getElementsByClassName("mb_bloc_carousel_thumb")[0],"mb_bloc_current_thumb")){b=d;break}}Mb.bloc.playVideo(a,f,b,!1,0,0)},1==d.mouseover){var s=Mb.helpers.createId(5);q.onmouseover=function(){Mb.bloc.timers[s]=setTimeout(function(){var a=q.parentNode.parentNode.getElementsByClassName("mb_bloc_current_thumb"),b=0
;if(0==a.length)a=q.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_thumb")[0],b=0;else{a=a[0];for(var c=q.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_item"),d=0;d<c.length;d++)if(Mb.helpers.hasClass(c[d].getElementsByClassName("mb_bloc_carousel_thumb")[0],"mb_bloc_current_thumb")){b=d;break}}Mb.bloc.playVideo(a,f,b,!1,0,0)},1e3*d.delay),Mb.timeouts.push(Mb.bloc.timers[s])},q.onmouseout=function(){clearTimeout(Mb.bloc.timers[s])}}else if(parseInt(d.autoplay)>0){
var s="mb_bloc_"+g;Mb.helpers.addEvent(window,"scroll",function(){Mb.helpers.getVisiblePcent(q,0)>=parseInt(d.autoplay)?(clearTimeout(Mb.bloc.timers[s]),Mb.bloc.timers[s]=setTimeout(function(){if(null!=q.parentNode){var a=q.parentNode.parentNode.getElementsByClassName("mb_bloc_current_thumb"),b=0;if(0==a.length)a=q.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_thumb")[0],b=0;else{a=a[0]
;for(var c=q.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_item"),d=0;d<c.length;d++)if(Mb.helpers.hasClass(c[d].getElementsByClassName("mb_bloc_carousel_thumb")[0],"mb_bloc_current_thumb")){b=d;break}}Mb.bloc.playVideo(a,f,b,!0)}},1e3*d.delay),Mb.timeouts.push(Mb.bloc.timers[s])):clearTimeout(Mb.bloc.timers[s])})}if(p.appendChild(q),r.src=d.play_btn,r.className="mb_bloc_carousel_play",r.onclick=function(){
var a=this.parentNode.parentNode.getElementsByClassName("mb_bloc_current_thumb"),b=0;if(0==a.length)a=this.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_thumb")[0],b=0;else{a=a[0];for(var c=this.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_item"),d=0;d<c.length;d++)if(Mb.helpers.hasClass(c[d].getElementsByClassName("mb_bloc_carousel_thumb")[0],"mb_bloc_current_thumb")){b=d;break}}Mb.bloc.playVideo(a,f,b,!1,0,0)},r.onload=function(){
this.style.marginLeft=-this.width/2+"px",this.style.marginTop=-this.height/2+"px"},p.appendChild(r),j.appendChild(p),"BOTTOM"==d.video_title_position){var n=document.createElement("div"),o=document.createElement("span");n.className="mb_bloc_mainvideo_title mb_clear_left",o.innerHTML=d.videos[0].title,h&&(n.style.width=d.video_pcent+"%",n.style.whiteSpace="nowrap",n.style.textOverflow="ellipsis"),n.appendChild(o),j.appendChild(n)}
void 0!==d.marquee_speed&&d.marquee_speed>0&&(n.style.overflow="hidden",o.style.position="relative",o.style.left="1px",o.style.whiteSpace="nowrap",o.style.cursor="default",n.onmouseenter=function(){o.offsetWidth>n.offsetWidth&&(marqueeInterval=setInterval(function(){o.style.left=parseFloat(o.style.left)-1+"px",-parseFloat(o.style.left)>o.offsetWidth&&(o.style.left=parseFloat(n.offsetWidth)+"px")},d.marquee_speed),Mb.intervals.push(marqueeInterval))},n.onmouseleave=function(){
"undefined"!=typeof marqueeInterval&&(o.style.left="0px",clearInterval(marqueeInterval))});var t=document.createElement("div");t.className="mb_bloc_bottom_container",t.style.overflow="hidden",h?(t.style.width=100-(d.video_pcent+1)+"%",t.style.paddingLeft="1%"):(t.style.width="100%",t.style.marginTop="10px"),t.style.position="relative";var u=document.createElement("div"),v=document.createElement("img"),w=document.createElement("div"),x=document.createElement("img")
;h?(v.src=d.previous_btn_vertical,u.style.textAlign="center",x.src=d.next_btn_vertical,w.style.textAlign="center"):(v.src=d.previous_btn,x.src=d.next_btn),u.className="mb_bloc_left_arrow",w.className="mb_bloc_right_arrow",u.appendChild(v),w.appendChild(x),v.onload=function(){var a=this,b=setTimeout(function(){Mb.bloc.setSliderWidth(a,d,g)},150);Mb.timeouts.push(b)},v.onclick=function(){
if(!(!h&&0==parseInt(this.parentNode.parentNode.getElementsByTagName("ul")[0].style.left)||h&&0==parseInt(this.parentNode.parentNode.getElementsByTagName("ul")[0].style.top))){
var a=this.parentNode.parentNode.getElementsByTagName("ul")[0].getElementsByTagName("li")[0],b=a.offsetWidth,c=Mb.helpers.getOffset(a,!0),d=this.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_container")[0].offsetWidth,e=Mb.helpers.getOffset(this.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_container")[0],!0),f=this.parentNode.parentNode.getElementsByTagName("ul")[0].getElementsByTagName("li").length,g=0;g=h?Math.round(e/c):Math.round(d/b);var i=0
;h?(i=parseFloat(this.parentNode.parentNode.getElementsByTagName("ul")[0].style.top),i=Math.abs(i/c)):(i=parseFloat(this.parentNode.parentNode.getElementsByTagName("ul")[0].style.left),i=Math.abs(i/b)),i=Math.round(i);var j=f-g;j<0&&(j=0);var k=i-g;k<0&&(k=0),moveLength=h?Math.abs(k-i)*c:Math.abs(k-i)*b;var l="left";h&&(l="top"),Mb.helpers.animate(this.parentNode.parentNode.getElementsByTagName("ul")[0],l,moveLength,500)}},x.onclick=function(){
var a=this.parentNode.parentNode.getElementsByTagName("ul")[0].getElementsByTagName("li")[0],b=a.offsetWidth,c=Mb.helpers.getOffset(a,!0),d=this.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_container")[0].offsetWidth,e=Mb.helpers.getOffset(this.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_container")[0],!0),f=this.parentNode.parentNode.getElementsByTagName("ul")[0].getElementsByTagName("li").length,g=0;g=h?Math.round(e/c):Math.round(d/b);var i=0
;i=h?parseFloat(this.parentNode.parentNode.getElementsByTagName("ul")[0].style.top):parseFloat(this.parentNode.parentNode.getElementsByTagName("ul")[0].style.left),isNaN(i)&&(i=0),i=h?Math.abs(i/c):Math.abs(i/b),i=Math.round(i);var j=f-g;if(i!=j){j<0&&(j=0);var k=Math.abs(i-j);k>g&&(k=g),k*=h?c:b;var l="left";h&&(l="top"),Mb.helpers.animate(this.parentNode.parentNode.getElementsByTagName("ul")[0],l,-1*k,500)}},t.appendChild(u),t.appendChild(w)
;var y=document.createElement("div"),z=document.createElement("ul");for(y.className=h?"mb_bloc_carousel_container mb_vertical":"mb_bloc_carousel_container",z.className="mb_bloc_carousel",z.style.position="relative",z.addEventListener("touchstart",function(a){var b=a;b=a.touches.length>0?a.touches[0]:a.changedTouches[0],Mb.bloc.touchEvent.x=b.pageX,Mb.bloc.touchEvent.y=b.pageY},!1),z.addEventListener("touchcancel",function(a){},!1),z.addEventListener("touchmove",function(a){var b=a
;b=a.touches.length>0?a.touches[0]:a.changedTouches[0],h?(Math.abs(a.pageY-Mb.bloc.touchEvent.y)>100&&a.stopPropagation(),a.pageY>Mb.bloc.touchEvent.y?a.stopPropagation():a.pageY<Mb.bloc.touchEvent.y&&a.stopPropagation()):(Math.abs(b.pageX-Mb.bloc.touchEvent.x)>100&&("left"==Mb.bloc.touchDirection?v.click():x.click(),a.stopPropagation()),b.pageX>Mb.bloc.touchEvent.x?Mb.bloc.touchDirection="left":b.pageX<Mb.bloc.touchEvent.x&&(Mb.bloc.touchDirection="right")),a.preventDefault()},!1),
e=0;e<d.videos.length;e++)!function(a,b,c,d,e,f){var g=document.createElement("li"),h=document.createElement("div"),i=document.createElement("img"),j=document.createElement("img"),k=document.createElement("div"),l=document.createElement("span");c?(g.style.display="block",g.style.overflow="hidden"):g.style.verticalAlign="top",1==d.videos[a].sponsor?g.className="mb_bloc_carousel_item mb_bloc_carousel_item_sponsor":g.className="mb_bloc_carousel_item",0==a&&(g.className+=" mb_bloc_item_playing"),
c?g.style.height=100/d.videos.length+"%":g.style.width=100/d.videos.length+"%",i.src=d.videos[a].thumb,i.setAttribute("data-full-size",d.videos[a].thumb_full),i.className="mb_bloc_carousel_thumb",i.onmouseover=function(){void 0!==window.mb_syncad&&Mb.syncad.playingSyncAd||void 0!==d.videos[a].type&&"link"==d.videos[a].type||Mb.bloc.thumbOver(this)},i.onclick=function(){void 0!==window.mb_syncad&&Mb.syncad.playingSyncAd||Mb.bloc.playVideo(this,b,a,!1,0,0)},i.style.cursor="pointer",
f&&(i.style.width="100%"),h.className="mb_bloc_item_thumb",c&&(h.style.position="relative",h.style.height="100%",h.style.marginLeft="5px",h.style.cssFloat="left",h.style.width="auto"),j.src=d.play_btn,j.className="mb_bloc_carousel_play",c&&(j.style.maxHeight="40%"),j.onclick=function(){void 0!==window.mb_syncad&&Mb.syncad.playingSyncAd||Mb.bloc.playVideo(this,b,a,!1,0,0)},h.appendChild(i),h.appendChild(j),k.className="mb_bloc_item_title",l.innerHTML=d.videos[a].title,
l.style.color=d.color.video_title,l.style.fontSize=d["font-size"].video_title,l.style.fontFamily=d.font.video_title,l.style.fontWeight=d["font-style"].video_title,l.style.lineHeight=parseInt(d["font-size"].video_title.replace("px",""))+1+"px",l.title=d.videos[a].tooltip,l.onclick=function(){void 0!==window.mb_syncad&&Mb.syncad.playingSyncAd||Mb.bloc.playVideo(this,b,a,!1,0,0)},k.appendChild(l),k.style.height=3*parseInt(l.style.lineHeight)+"px",g.appendChild(h),g.appendChild(k),e.appendChild(g)
}(e,f,h,d,z,i);if(y.appendChild(z),t.appendChild(y),j.appendChild(t),b.style.padding=d.padding+"px",b.appendChild(j),Mb.helpers.addEvent(window,"resize",function(){Mb.helpers.handleResize(f,k)}),void 0===c||!c){var A=Mb.helpers.parseUrl(decodeURIComponent(d.print_bloc_url),[],p.id);Mb.helpers.loadUrl(A,"text/javascript","script",function(){});var B=Mb.helpers.parseUrl(decodeURIComponent(d.print_video_url),[],p.id);Mb.helpers.loadUrl(B,"text/javascript","script",function(){})}
if(""!=d.showPoweredBy){var C=document.createElement("div");C.className="mb_bloc_poweredby",C.innerHTML=d.showPoweredBy,j.parentNode.appendChild(C)}if(void 0!==d.trackers&&d.trackers.length>0)for(var D=0;D<d.trackers.length;D++)Mb.helpers.loadUrl(d.trackers[D],"text/javascript","script",function(){})}(h,b,a,c)}},stopNextVideo:function(a){Mb.bloc.flag.doNextVideoTimer?(Mb.bloc.flag.doNextVideoTimer=!1,a.src="//static.mediabong.com/img/pause_on.png"):(Mb.bloc.flag.doNextVideoTimer=!0,
a.src="//static.mediabong.com/img/pause_off.png")},setSliderWidth:function(a,b,c){var d=b.min_item_width,e=b.min_item_height,f=2*a.width,g=a.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_container")[0],h=g.getElementsByTagName("li").length,i=a.parentNode.parentNode.parentNode.getElementsByClassName("mb_videodiv")[0],j=!1,k=0;if(Mb.helpers.hasClass(g,"mb_vertical")&&(j=!0),j?(g.style.width="100%",g.style.marginLeft="0px",
k=e):(g.style.width=a.parentNode.parentNode.offsetWidth-f+"px",null!=document.doctype&&(g.style.marginLeft=a.width+"px"),k=d),j){g.parentNode.style.height=.5625*i.offsetWidth+"px",g.style.height=.5625*i.offsetWidth-2*Mb.helpers.getOffset(a,!0)+"px",a.parentNode.style.cssFloat="none",a.parentNode.style.width="100%",a.parentNode.style.height=Mb.helpers.getOffset(a,!0)+"px";var l=a.parentNode.parentNode.getElementsByClassName("mb_bloc_right_arrow")[0]
;l.style.marginTop=-Mb.helpers.getOffset(a,!0)/2+"px",l.style.width=a.parentNode.offsetWidth+"px",l.style.bottom="0px",l.style.height=Mb.helpers.getOffset(a,!0)+"px"}else{a.parentNode.style.position="absolute",a.parentNode.style.top="50%",a.parentNode.style.marginTop=-a.height/2+"px";var l=a.parentNode.parentNode.getElementsByClassName("mb_bloc_right_arrow")[0];l.style.marginTop=a.parentNode.style.marginTop,l.style.top="50%",l.style.position="absolute"}if(i.style.height=.5625*i.offsetWidth+"px",
!Mb.isMobile&&parseInt(b.autoplay)>0){var m=i.getElementsByClassName("mb_bloc_thumb_full");if(m.length>0){m=m[0];var n=Mb.helpers.getVisiblePcent(m,0),o=b.id;if(n>=parseInt(b.autoplay)){var p="mb_bloc_"+c;Mb.bloc.timers[p]=setTimeout(function(){var a=m.parentNode.parentNode.getElementsByClassName("mb_bloc_current_thumb"),b=0;if(0==a.length)a=m.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_thumb")[0],b=0;else{a=a[0]
;for(var c=m.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_item"),d=0;d<c.length;d++)if(Mb.helpers.hasClass(c[d].getElementsByClassName("mb_bloc_carousel_thumb")[0],"mb_bloc_current_thumb")){b=d;break}}Mb.bloc.playVideo(a,o,b,!0,0,0)},1e3*b.delay),Mb.timeouts.push(Mb.bloc.timers[p])}else clearTimeout(Mb.bloc.timers[p])}}var q=g.offsetWidth,r=Mb.helpers.getOffset(g,!0),s=q/h,t=r/h,u=h,v=0;for(v=j?t:s;v<k;)u--,v=j?r/u:q/u;if(u<b.alternate_config.min_thumb){
if("bloc"==b.alternate_config.action&&j){g.parentNode.parentNode.parentNode.className=g.parentNode.parentNode.parentNode.className.replace("mb_vertical","_mb_vertical");for(var w=document.getElementsByClassName("mb_bloc_"+b.id),x=0;x<w.length;x++)w[x].innerHTML="";return void Mb.bloc.init(b.id,b)}if("bloc"==b.alternate_config.action&&!j||"hide"==b.alternate_config.action||"player_choosed"==b.alternate_config.action&&0==b.first_choosed){
if("bloc"!=b.alternate_config.action||j)return g.parentNode.parentNode.style.display="none",void(void 0!==window.MB_initCallBack&&MB_initCallBack(id));if(u<b.alternate_config_2.min_thumb){if("hide"==b.alternate_config_2.action||"player_choosed"==b.alternate_config_2.action&&0==b.first_choosed)return g.parentNode.parentNode.style.display="none",void(void 0!==window.MB_initCallBack&&MB_initCallBack(id))
;if("player"==b.alternate_config_2.action||"player_choosed"==b.alternate_config_2.action&&1==b.first_choosed)return g.parentNode.style.display="none",g.parentNode.parentNode.parentNode.style.visibility="visible",void(void 0!==window.MB_initCallBack&&MB_initCallBack(id))}}if("player"==b.alternate_config.action)return g.parentNode.style.display="none",g.parentNode.parentNode.parentNode.style.visibility="visible",j&&(g.parentNode.parentNode.getElementsByClassName("mb_videodiv")[0].style.width="",
g.parentNode.parentNode.getElementsByClassName("mb_videodiv")[0].style.width="100%",g.parentNode.parentNode.getElementsByClassName("mb_videodiv")[0].style.height=.5625*g.parentNode.parentNode.offsetWidth+"px",g.parentNode.parentNode.getElementsByClassName("mb_videodiv")[0].style.cssFloat="none","TOP"==b.video_title_position&&(g.parentNode.parentNode.getElementsByClassName("mb_bloc_mainvideo_title")[0].style.width="100%")),void(void 0!==window.MB_initCallBack&&MB_initCallBack(id))}
q=100+100/u*(h-u),j?(g.getElementsByTagName("ul")[0].style.width="100%",g.getElementsByTagName("ul")[0].style.height=q+"%"):g.getElementsByTagName("ul")[0].style.width=q+"%";var y=g.getElementsByClassName("mb_bloc_carousel_play");y[0].height=y[0].offsetWidth;var z=-y[0].offsetWidth/2+"px",A=-Mb.helpers.getOffset(y[0],!0)/2+"px";for(x=0;x<y.length;x++)if(y[x].style.marginLeft=z,y[x].style.marginTop=A,y[x].height=y[x].offsetWidth,j){
y[x].parentNode.getElementsByTagName("img")[0].style.marginTop=(Mb.helpers.getOffset(y[x].parentNode,!0)-Mb.helpers.getOffset(y[x].parentNode.getElementsByTagName("img")[0],!0))/2+"px";var B=y[x].parentNode.parentNode.getElementsByClassName("mb_bloc_item_title")[0];B.style.marginLeft=y[x].parentNode.getElementsByTagName("img")[0].offsetWidth+10+"px",B.style.width="auto",B.style.overflow="hidden",
B.style.marginTop=Math.ceil((Mb.helpers.getOffset(B.parentNode,!0)-Mb.helpers.getOffset(B,!0))/2)+"px",Mb.helpers.getOffset(B.getElementsByTagName("span")[0],!0)<Mb.helpers.getOffset(B,!0)&&(B.getElementsByTagName("span")[0].style.marginTop=(Mb.helpers.getOffset(B,!0)-Mb.helpers.getOffset(B.getElementsByTagName("span")[0],!0))/2+"px"),B.getElementsByTagName("span")[0].style.display="block"}if(g.parentNode.parentNode.parentNode.style.visibility="visible",
Mb.isMobile&&!Mb.isDesktop||1==b.videos[0].force_load){if(Mb.isMobile){var C=Mb.androidVersion(),D=Mb.iOSversion();if(parseInt(C)>0&&parseFloat(C)<=4.1)return;if(D>0&&D<6.1)return}var E=g.getElementsByClassName("mb_bloc_carousel_thumb")[0];Mb.bloc.playVideo(E,b.id,0,!1,0,0)}if(null!=document.getElementById("mb_video_syncad")){var E=g.getElementsByClassName("mb_bloc_carousel_thumb")[0];Mb.bloc.playVideo(E,b.id,0,!1,1,100)}else void 0!==window.MB_initCallBack&&MB_initCallBack(id)},
remove:function(a){for(var b=document.querySelectorAll(".mb_bloc_"+a),c=0;c<b.length;c++){if(Mb.helpers.hasClass(b[c],"mb_external"))return;for(;b[c].hasChildNodes();)b[c].removeChild(b[c].lastChild);b[c].style.className="mb_bloc mb_bloc_"+a}},thumbOver:function(a){if(0!=Mb.bloc.flag.doMouseOver){var b=a.parentNode.parentNode.parentNode.getElementsByClassName("mb_bloc_current_thumb");if(b.length>0)for(var c=0;c<b.length;c++)b[c].className=b[c].className.replace("mb_bloc_current_thumb","")
;var d=a.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.getElementsByClassName("mb_bloc_thumb_full");if(0!=d.length){var e=a.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.getElementsByClassName("mb_bloc_mainvideo_title");e.length>0&&(e[0].firstChild.innerHTML=a.parentNode.parentNode.getElementsByTagName("span")[0].innerHTML,e[0].firstChild.title=a.parentNode.parentNode.getElementsByTagName("span")[0].innerHTML),
a.className=a.className+" mb_bloc_current_thumb";var b=a.parentNode.parentNode.parentNode.getElementsByClassName("mb_bloc_item_playing");if(b.length>0)for(var f=0;f<b.length;f++)b[f].className=b[f].className.replace(" mb_bloc_item_playing","");var g=a.parentNode.parentNode;g.className=g.className+" mb_bloc_item_playing",d[0].src=a.getAttribute("data-full-size")}}},playVideo:function(obj,blocplayerId,videoIdx,muteOnStart,forceStartScreen,startOnScroll){if(void 0!==obj){
if("link"==window.mb_blocks[blocplayerId].videos[videoIdx].type)return void window.open(window.mb_blocks[blocplayerId].videos[videoIdx].outlink);""!=window.mb_blocks[blocplayerId].videos[videoIdx].beforeLoad&&eval(window.mb_blocks[blocplayerId].videos[videoIdx].beforeLoad);var player=obj.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.getElementsByClassName("mb_videodiv")[0],playerW=player.offsetWidth,playerH=Mb.helpers.getOffset(player,!0),playerId=player.childNodes[0].id
;playerId&&Mb.player.reset(playerId);var containerId=Mb.helpers.createId(5);player.getElementsByClassName("mb_bloc_carousel_play").length>0?(player.getElementsByClassName("mb_bloc_carousel_play")[0].src="//static.mediabong.com/img/loading.gif",player.innerHTML="<div id='mb_video_"+containerId+"'>"+player.innerHTML+"</div>"):player.innerHTML="<div id='mb_video_"+containerId+"'></div>",Mb.bloc.flag.doMouseOver=!1;var videoUrl=window.mb_blocks[blocplayerId].video_src
;videoUrl=videoUrl.replace("[SNAP]",window.mb_blocks[blocplayerId].videos[videoIdx].snap_id),videoUrl=videoUrl.replace("[WIDTH]",playerW),videoUrl=videoUrl.replace("[HEIGHT]",playerH),videoUrl=videoUrl.replace("[CONTAINER]",containerId);var manifest=window.mb_blocks[blocplayerId].videos[videoIdx].manifest;1==forceStartScreen&&(manifest+="&dstart=1"),videoUrl=videoUrl.replace("[MANIFEST]",encodeURIComponent(manifest)),startOnScroll=parseInt(startOnScroll),
startOnScroll>0&&(videoUrl+="&p="+startOnScroll);var _mainTitle=obj.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.getElementsByClassName("mb_bloc_mainvideo_title");_mainTitle.length>0&&(_mainTitle[0].firstChild.innerHTML=obj.parentNode.parentNode.getElementsByTagName("span")[0].innerHTML,_mainTitle[0].firstChild.title=obj.parentNode.parentNode.getElementsByTagName("span")[0].innerHTML)
;var _active=obj.parentNode.parentNode.parentNode.getElementsByClassName("mb_bloc_item_playing");if(_active.length>0)for(var _idx=0;_idx<_active.length;_idx++)_active[_idx].className=_active[_idx].className.replace(" mb_bloc_item_playing","");var _item=obj.parentNode.parentNode;_item.className=_item.className+" mb_bloc_item_playing",Mb.events.muteOnStart=muteOnStart,Mb.helpers.loadUrl(videoUrl,"text/javascript","script",function(){})}},getNextVideo:function(a){
if(0==a.getElementsByClassName("mb_bloc_item_playing").length)return 0;for(var b=a.getElementsByClassName("mb_bloc_carousel_item"),c=0,d=0;d<b.length;d++)Mb.helpers.hasClass(b[d],"mb_bloc_item_playing")&&(c=d);return c<b.length-1?c+1:0}},Mb.helpers={getFgp:function(a){var b=((new Date).getTime(),{extendedJsFonts:!1});new window.mb_fgp(b).get(function(b,c,d,e){var f=(new Date).getTime()
;void 0!==window.mb_script_started_ms&&a.helpers.log("(MB) Fingerprint generated : "+(f-window.mb_script_started_ms)+" ms"),a.user_fgp=b,a.helpers.log("Generated fingerprint : "+b)});a.user_fgp_enhanced=""},boundedLinear:function(a,b,c){return Math.min(Math.max((a-b)/(c-b),0),1)},getThresholdCoefForAttention:function(a){return a<.1?[.2,100]:a<.2?[.5,100]:a<.3?[.7,80]:a<.4?[.9,60]:[1,30]},getAttentionScore:function(a){var b=0,c=0,d=0,e=1,f=0;Mb.helpers.calculatePressures(a),
d=Mb.helpers.getElementRatioInScreen(a,"height");var g=Mb.getVisibility(a,!0),h=Mb.getVisibilityInAttentionZone(a),i=Mb.helpers.getThresholdCoefForAttention(d);b=i[0]*Mb.helpers.boundedLinear(g,50,100)+.5*Mb.helpers.boundedLinear(h,0,i[1]),Mb.player.isMuted||(c+=.3),Mb.timestamps.currentAdTime>15?c+=.3:Mb.timestamps.currentAdTime>5&&(c+=.1),
Mb.adPressureProportion<.4?c+=.3:Mb.adPressureProportion<.8?c+=.2:Mb.adPressureProportion<1.2?c+=.1:Mb.adPressureProportion<1.6?c+=0:Mb.adPressureProportion<2?c-=.1:c-=.3,"hidden"!=Mb.documentVisibility&&0!=g||(e*=0),Mb.timestamps.currentAdTime<=2&&(e*=.5);var j=Mb.getScrollValue();if(Mb.player.scrollValues.length>0){var k=Mb.player.scrollValues[Mb.player.scrollValues.length-1],l=Math.abs(j-k),m=Mb.helpers.getOffset(document.getElementById(a),!0);l>0&&l<=m/3?e*=.8:l>m/3&&l<=m?e*=.4:l>m&&(e*=0)}
return Mb.player.scrollValues.push(j),c=b>.6?Math.min(c,.5):Math.min(c,.3),f=(b+c)*e,f<0&&(f=0),f.toFixed(2)},calculatePressures:function(a){var b=Mb.getViewport(),c=b.width*b.height,d=document.getElementById("mb_container");if(d||(d=document.getElementById(a)),null==d)return 0;var e=Mb.helpers.getBounds(d),f=(Mb.helpers.getOffsets(d),["120x600","160x600","300x250","300x600","728x90","800x600","970x90"]),g=[],h=[],i=0,j=0,k=b.width/10,l=b.height/10
;for(j=0;j<b.height;j+=l)for(i=0;i<b.width;i+=k)i>=e.left&&i<=e.right&&j>=e.top&&j<=e.bottom||g.push([i,j]);for(var m=0,n=document.getElementById("mb_ad_title"),o=0;o<g.length;o++){var p=document.elementFromPoint(g[o][0],g[o][1]);if(null!=p&&"HTML"!=p.tagName&&"BODY"!=p.tagName&&!Mb.helpers.inArray(p,h,!0)){var q=Mb.helpers.getOffsets(p),r=q.width*q.height,s=100*r/c,t=Mb.getVisiblePixels(p);switch(p.tagName){case"IFRAME":d.contains(p)||(m+=t);break;case"IMG":var u=q.width+"x"+q.height
;null!=n&&n.contains(p)||-1==f.indexOf(u)||(m+=t);break;case"P":Mb.textProportion+=s}h.push(p)}}var v=Mb.getVisiblePixels(document.getElementById(a));Mb.adPressureProportion=0==m?0:0==v?1:Math.round(m/v*100)/100,Mb.player.adImpressionDone&&(Mb.adPressureProportionTotal+=Mb.adPressureProportion),Mb.adClutter=Math.round(m/c*1e3)/1e3,Mb.adClutter>Mb.player.kpis.adClutterMax&&(Mb.player.kpis.adClutterMax=Mb.adClutter)},getPlayerProportion:function(a){
var b=Mb.getViewport(),c=b.width*b.height,d=Mb.getVisiblePixels(document.getElementById(a));return Math.round(d/c*1e3)/1e3},getElementRatioInScreen:function(a,b){var c=document.getElementById(a),d=Mb.getViewport();if(null==c)return 0;if("height"==b)var e=Mb.helpers.getOffset(c,!0),f=d.height;else if("width"==b)var e=Mb.helpers.getOffset(c,!1),f=d.width;var g=e/f;return Math.round(1e3*g)/1e3},getElementCenterRatioInScreen:function(a,b){var c=document.getElementById(a),d=Mb.getViewport()
;if(null==c)return 0;var e=Mb.helpers.getElementRatioInScreen(a,b);if("height"==b)var f=c.getBoundingClientRect().top,g=d.height;else if("width"==b)var f=c.getBoundingClientRect().left,g=d.width;var h=f/g,i=h+.5*e;return Math.round(1e3*i)/1e3},isJSON:function(a){try{JSON.parse(a)}catch(a){return!1}return!0},inIframe:function(){try{return window!==window.top}catch(a){return!0}},isSecureIframe:function(){try{window.top.document}catch(a){return!0}return!1},getOffset:function(a,b){
if(null==a)return 0;var c=a.ownerDocument&&a.ownerDocument.defaultView&&a.ownerDocument.defaultView.getComputedStyle&&a.ownerDocument.defaultView.getComputedStyle(a,null),d=c&&c.getPropertyValue(b?"height":"width")||""
;return d=d&&d.indexOf(".")>-1?parseFloat(d)+parseInt(c.getPropertyValue(b?"padding-top":"padding-left"))+parseInt(c.getPropertyValue(b?"padding-bottom":"padding-right"))+parseInt(c.getPropertyValue(b?"border-top-width":"border-left-width"))+parseInt(c.getPropertyValue(b?"border-bottom-width":"border-right-width")):b?a.offsetHeight:a.offsetWidth,Math.round(d)},getOffsets:function(a){return{width:Mb.helpers.getOffset(a),height:Mb.helpers.getOffset(a,!0)}},pauseScript:function(a){
for(var b=(new Date).getTime();b+a>=(new Date).getTime(););},saveDomForApp:function(){app.setDom(document.getElementsByTagName("html")[0].outerHTML)},timeoutHandle:{},loadUrl:function(a,b,c,d){var e=document.createElement(c);"script"==c?(e.setAttribute("type",b),e.setAttribute("src",a),e.setAttribute("async","async")):"link"==c&&(e.setAttribute("type",b),e.setAttribute("href",a),e.setAttribute("rel","stylesheet")),
null!=d&&(e.addEventListener?e.addEventListener("load",d,!1):e.readyState&&(e.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||d()})),document.getElementsByTagName("head")[0].appendChild(e)},parseScripts:function(contentStr){for(var scripts=new Array;contentStr.indexOf("<script")>-1||contentStr.indexOf("</script")>-1;){var s=contentStr.indexOf("<script"),s_e=contentStr.indexOf(">",s),e=contentStr.indexOf("</script",s),e_e=contentStr.indexOf(">",e)
;scripts.push(contentStr.substring(s_e+1,e)),contentStr=contentStr.substring(0,s)+contentStr.substring(e_e+1)}for(var i=0;i<scripts.length;i++)try{eval(scripts[i])}catch(a){}},getVisiblePcent:function(a,b){var c=MbDetectZoom.zoom();0==c&&(c=1),b=parseInt(b/c);var d=Mb.helpers.getOffset(a,!0),e=a.getBoundingClientRect().top,f=a.getBoundingClientRect().bottom,g=window.innerHeight;b>0&&(e+=b,f+=b);var h=d;if(e<0&&(h+=e),f>g&&(h-=f-g),h<=0)return 0;var i=100*h/d;return i=i.toFixed(2)},
getBounds:function(a){return null==a?{top:0,left:0,bottom:0,right:0}:a.getBoundingClientRect()},getViewport:function(){var a=window,b=document,c=b.documentElement,d=b.getElementsByTagName("body")[0];return{width:a.innerWidth||c.clientWidth||d.clientWidth,height:a.innerHeight||c.clientHeight||d.clientHeight}},getClosestElementDuringScroll:function(a){
for(var b=document.all?document.scrollTop:window.pageYOffset,c=9999999,d=0,e=Mb.helpers.getViewport(),f=0;f<a.length;f++)if(!Mb.helpers.hasClass(document.getElementById(a[f]),"no_syncroll")){if((Mb.helpers.hasClass(document.getElementById("mb_video_syncad"),"floating_banner")||Mb.helpers.hasClass(document.getElementById("mb_video_syncad"),"bottom_banner")||Mb.helpers.hasClass(document.getElementById("mb_video_syncad"),"top_banner"))&&"mb_video_syncad_bottom"==a[f]){
var b=document.all?document.scrollTop:window.pageYOffset,g=Mb.helpers.getBounds(document.getElementById("mb_video_syncad_bottom")),h=Mb.helpers.getBounds(document.getElementById("mb_video_syncad"));if(Math.floor(h.top)>0)continue;if(Mb.helpers.hasClass(document.getElementById("mb_video_syncad"),"floating_banner")&&void 0!==window.MB_FLOATING_MIN_WIDTH&&window.MB_FLOATING_MIN_WIDTH>0&&e.width<window.MB_FLOATING_MIN_WIDTH)continue;if(Mb.syncad.enableFloatingBug){if(b<=g.top)continue
}else if(Math.floor(g.top)-parseInt(e.height)>0)continue}var i=Mb.helpers.getBounds(document.getElementById(a[f]));void 0!==Mb.enableIntelligentSyncroll&&Mb.enableIntelligentSyncroll&&(b-=.27*e.height),Math.abs(i.top-b)<c&&(c=Math.abs(i.top-b),d=f)}return document.getElementById(a[d])},moveToContainer:function(a,b){if((Mb.syncad.playerDisplayed||Mb.syncad.floatingOnly)&&null!=a){
if(Mb.syncad.prerollEnded||null==b||b.id==Mb.syncad.currentContainer)return void Mb.helpers.adjustPlayerWithinScroll(document.getElementById(Mb.syncad.mainPlayerId),b);if(void 0===window.MB_ARTICLE_DISPLAY_DETECTION||""==window.MB_ARTICLE_DISPLAY_DETECTION||0!=document.querySelectorAll(window.MB_ARTICLE_DISPLAY_DETECTION).length){if(Mb.player.stayInInreadPosition&&(b=document.getElementById("mb_video_syncad")),void 0!==window.MB_playerMoved&&window.MB_playerMoved(Mb.syncad.mainPlayerId,b.id),
-1!=["floating","bottom","top"].indexOf(Mb.syncadtype)||0!=b.style.height||Mb.syncad.forceFloatingUnit||Mb.helpers.resizeContainer(b),Mb.helpers.log("Moving player to "+b.id),Mb.syncad.currentContainer=b.id,"mb_video_syncad_bottom"==b.id&&-1!=["floating","bottom","top"].indexOf(Mb.syncadtype)||Mb.syncad.forceFloatingUnit){if(a.style.position="fixed",void 0!==Mb.enableIntelligentSyncroll&&Mb.enableIntelligentSyncroll)a.style.bottom="27%";else{var c=20
;void 0!==window.MB_FLOATING_MARGIN_BOTTOM&&window.MB_FLOATING_MARGIN_BOTTOM>0&&(c=window.MB_FLOATING_MARGIN_BOTTOM),a.style.bottom=c+"px"}Mb.syncad.floatLeft?(a.style.right="",Mb.syncad.floatingOnly&&!Mb.syncad.playerDisplayed?a.style.left="-500px":a.style.left="10px"):"bottom"==Mb.syncadtype?(a.style.right="0px",a.style.left="0px",a.style.bottom="0px",a.style.marginLeft="auto",a.style.marginRight="auto"):"top"==Mb.syncadtype?(a.style.right="",a.style.left="0px",a.style.bottom="",
a.style.top="0px",a.style.marginLeft="auto",a.style.marginRight="auto"):(Mb.syncad.floatingOnly&&!Mb.syncad.playerDisplayed?a.style.right="-500px":a.style.right="10px",a.style.left=""),"top"!=Mb.syncadtype&&(a.style.top="");var d=document.getElementById("mb_moving_container");return"bottom"!=Mb.syncadtype&&"top"!=Mb.syncadtype?d.style.border="5px solid #0f1624":d.style.border="0px",
null!=document.getElementById("mb_video_syncad_title")&&(document.getElementById("mb_video_syncad_title").style.display="none"),Mb.helpers.resizePlayerInContainer(a,b),Mb.syncad.prerollCompletedDone||(Mb.getPlayer(Mb.syncad.mainPlayerId).playAd(),Mb.player.adImpressionDone&&(mb_players[Mb.syncad.mainPlayerId].isPlaying=!0,Mb.player.startTracking(Mb.syncad.mainPlayerId))),b.style.height="1px",void(b.style.minHeight="1px")}var e=document.getElementById("mb_new_container")
;"mb_video_syncad_bottom"==b.id?e.style.position="absolute":e.style.position="",a.style.position="relative",a.style.bottom="",a.style.left="",a.style.right="",a.style.top="";var d=document.getElementById("mb_moving_container");d.style.border="",null!=document.getElementById("mb_video_syncad_title")&&(document.getElementById("mb_video_syncad_title").style.display="block");var f=Mb.helpers.getBounds(document.getElementById("mb_new_container")),g=Mb.helpers.getBounds(b)
;Mb.helpers.resizePlayerInContainer(a,b);var h=g.left-f.left,i=g.top-f.top;if(a.style.top=i+"px",a.style.left=h+"px",null!=document.getElementById("mb_next_video")){var j=document.getElementById("mb_container").offsetWidth;document.getElementById("mb_next_video_table").style.width=j+"px"}}}},resizePlayerInContainer:function(a,b){var a=Mb.getPlayer(Mb.syncad.mainPlayerId);Mb.getViewport();if(!Mb.playerIsHtml5||!a.isFullscreen()){var c=b.offsetWidth,d=.5625*c;c-=1
;var e=document.getElementById("mb_moving_container");if("bottom"!=Mb.syncadtype&&"top"!=Mb.syncadtype||"mb_video_syncad_bottom"!=b.id?(e.style.width=c+"px",e.style.paddingLeft="",e.style.backgroundColor="",document.getElementById("mb_container").style.width=c+"px"):"bottom"!=Mb.syncadtype&&"top"!=Mb.syncadtype||(e.style.width=b.offsetWidth+"px","bottom"==Mb.syncadtype?e.style.backgroundColor="rgba(255,255,255,0.9)":e.style.backgroundColor="rgb(0,0,0)"),
1!=Mb.helpers.getOffset(document.getElementById("mb_container"),!0)){Mb.playerIsHtml5||(a.style.height=d+"px",a.style.minHeight=d+"px"),document.getElementById("mb_container").style.height=d+"px",document.getElementById("mb_container").style.minHeight=d+"px",document.getElementById("mb_container").style.width=c+"px";var f=document.getElementById("mb_ad_title");null!=f&&(f.style.width=c+"px"),Mb.playerIsHtml5&&(_player=Mb.getPlayer(Mb.syncad.mainPlayerId),_player.width(c),_player.height(d),
void 0!==_player.ima&&void 0!==_player.ima.getAdsManager&&void 0!==_player.ima.getAdsManager()&&_player.isIMA&&_player.ima.getAdsManager().resize(c,d,google.ima.ViewMode.NORMAL))}if(null!=document.getElementById("mb_next_video")){document.getElementById("mb_next_video_table").style.width=c+"px"}}},resizeContainer:function(a){var b=a.offsetWidth;void 0!==a.style.paddingLeft&&(b-=parseInt(a.style.paddingLeft)),void 0!==a.style.paddingRight&&(b-=parseInt(a.style.paddingRight)),
containerHeight=.5625*b,containerHeight=Mb.helpers.addTitleAndCtaHeight(containerHeight),a.style.height=containerHeight+"px",a.style.minHeight=containerHeight+"px"},adjustPlayerWithinScroll:function(a,b){if(Mb.syncad.playerDisplayed&&null!=b){var c=document.getElementById("mb_moving_container"),d=Mb.helpers.getBounds(document.getElementById("mb_new_container")),e=Mb.helpers.getBounds(b);Mb.helpers.resizePlayerInContainer(a,b);var f=e.left-d.left,g=e.top-d.top;c.style.top=g+"px",
c.style.left=f+"px"}},getElementHeight:function(a){for(var b=0,c=a.childNodes,d=0;d<c.length;d++)b+=Mb.helpers.getOffset(c[d],!0);return b},addEvent:function(a,b,c){null!=a&&void 0!==a&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c,Mb.addToEventsList(b,c,a,!1))},createId:function(a){for(var b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;d<a;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b},
parseUrl:function(a,b,c){var d=0,e=0,f=0,g=0,h=0;currentPosition=0,event="",reporting_value=0,loadingTime=0,playerWidth=0,playerHeight=0,latency=0,localUid="",localUidFull="",error_code=0,moved_below_50p_vis=0,publisher_tag=0,floor_price=0,void 0!==b.ad_server_id&&(d=b.ad_server_id),void 0!==b.ad_impression_called&&(e=b.ad_impression_called),void 0!==b.adblock&&(f=b.adblock),void 0!==b.visibility&&(g=b.visibility),void 0!==b.adprogress&&(h=b.adprogress),
void 0!==b.currentPosition&&(currentPosition=b.currentPosition),void 0!==b.event&&(event=b.event),void 0!==b.reporting_value&&(reporting_value=b.reporting_value),void 0!==b.latency&&(latency=b.latency),void 0!==window.MB_UID&&(localUid=window.MB_UID),void 0!==window.MB_UID_FULL&&(localUidFull=window.MB_UID_FULL),void 0!==b.error_code&&(error_code=b.error_code),1==Mb.moved_below_50p_vis&&(moved_below_50p_vis=1),void 0!==b.floor_price&&(floor_price=b.floor_price),
void 0!==b.publisher_tag&&(publisher_tag=b.publisher_tag);var i=document.getElementById("mb_container");null!=i?(playerWidth=i.offsetWidth,playerHeight=i.offsetHeight):null!=(i=document.getElementById(c))&&(playerWidth=i.offsetWidth,playerHeight=i.offsetHeight),void 0!==window.mb_script_started_ms&&(loadingTime=(new Date).getTime(),loadingTime-=window.mb_script_started_ms);var j,k=[{key:"url",value:encodeURIComponent(document.location.href)},{key:"rnd",value:(new Date).getTime()},{
key:"ad_impression_called",value:e},{key:"ad_server_id",value:d},{key:"session_id",value:""},{key:"referer",value:encodeURIComponent(document.location.href)},{key:"mute",value:Mb.player.isMuted},{key:"second",value:Mb.timestamps.currentAdTime},{key:"adblock",value:f},{key:"visibility",value:g},{key:"viewability_total",value:Mb.viewabilityTotal},{key:"adprogress",value:h},{key:"syncrollenabled",value:Mb.enableSyncAd},{key:"playerposition",value:currentPosition},{key:"attentionscore",
value:Mb.helpers.getAttentionScore(c)},{key:"attentionscore_sum",value:Mb.attentionScore},{key:"event",value:event},{key:"syncrolltype",value:Mb.syncadtype},{key:"reporting_value",value:reporting_value},{key:"loadtime",value:loadingTime},{key:"player_width",value:playerWidth},{key:"player_height",value:playerHeight},{key:"website",value:window.location.host.substring(window.location.host.lastIndexOf(".",window.location.host.lastIndexOf(".")-1)+1)},{key:"domain",
value:window.location.host.substring(window.location.host.lastIndexOf(".",window.location.host.lastIndexOf(".")-1)+1)},{key:"scrollvalue",value:Mb.getScrollDelta()},{key:"visibilityattn",value:Mb.getVisibilityInAttentionZone(c)},{key:"timestamp",value:(new Date).getTime()},{key:"latency",value:latency},{key:"isHtml5Player",value:Mb.playerIsHtml5?1:0},{key:"fgp",value:Mb.user_fgp},{key:"fgp_enhanced",value:Mb.user_fgp_enhanced},{key:"dealid",value:Mb.rtb_dealId},{key:"partnerid",
value:Mb.rtb_partnerId},{key:"seatid",value:Mb.rtb_seatId},{key:"cpm",value:Mb.rtb_cpm},{key:"adomain",value:Mb.rtb_adomain},{key:"floortype",value:Mb.rtb_floortype},{key:"rtbdata",value:encodeURIComponent(Mb.rtb_data)},{key:"campaign_id",value:Mb.campaign_id},{key:"duration",value:Mb.player.getAdDuration(c)},{key:"tech",value:"player"},{key:"uuid",value:Mb.user_id},{key:"luid",value:Mb.user_id_ls},{key:"ls_uid",value:Mb.ls_uid},{key:"luids",value:encodeURIComponent(localUidFull)},{
key:"ad_clutter",value:Mb.adClutter},{key:"player_proportion",value:Mb.helpers.getPlayerProportion(c)},{key:"delay",value:Mb.helpers.getDelay()},{key:"delay_script",value:Mb.player.callBack.scriptLoadingDuration},{key:"px_center",value:Mb.helpers.getElementCenterRatioInScreen(c,"width")},{key:"py_center",value:Mb.helpers.getElementCenterRatioInScreen(c,"height")},{key:"w_ratio",value:Mb.helpers.getElementRatioInScreen(c,"width")},{key:"h_ratio",
value:Mb.helpers.getElementRatioInScreen(c,"height")},{key:"lang",value:document.documentElement.lang},{key:"error_code",value:error_code},{key:"secureframe",value:Mb.helpers.isSecureIframe()?1:0},{key:"moved_below_50p_vis",value:moved_below_50p_vis},{key:"floorprice",value:floor_price},{key:"publisher_tag",value:publisher_tag},{key:"visu_avg",value:Mb.helpers.calculateAverage(Mb.player.kpis.visibilityValues)},{key:"actual_vtr",value:Mb.player.lastQuartile},{key:"player_width_seconds_300",
value:Mb.player.kpis.player_width_seconds_300},{key:"player_width_seconds_320",value:Mb.player.kpis.player_width_seconds_320},{key:"player_width_seconds_480",value:Mb.player.kpis.player_width_seconds_480},{key:"ad_clutter_max",value:Mb.player.kpis.adClutterMax},{key:"moved_below_50p_vis_second",value:Mb.player.kpis.movedBelow50pVisSecond},{key:"scroll_avg",value:Mb.helpers.calculateAverage(Mb.player.kpis.scrollDeltaValues)},{key:"iab_consent_cookie",value:Mb.consent.iab_consent_cookie}]
;if(void 0===b.vast)for(var j=0;j<k.length&&void 0!==k[j].key;j++)a=a.replace("["+k[j].key.toUpperCase()+"]","["+k[j].key+"]"),a=a.replace("["+k[j].key+"]",k[j].value);else for(var j=0;j<k.length&&void 0!==k[j].key;j++){var l=new RegExp("\\["+k[j].key.toUpperCase()+"\\]","g");a=a.replace(l,"["+k[j].key+"]"),l=new RegExp("\\["+k[j].key+"\\]","g"),a=a.replace(l,k[j].value)}return a},hasClass:function(a,b){if(null!=a)return(" "+a.className+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1},
animate:function(a,b,c,d,e,f){if(void 0===f&&(f=!1),!Mb.bloc.animateInProgress||f){Mb.bloc.animateInProgress=!0;var g=Mb.helpers.createId(5),h=0;isNaN(parseInt(a.style[b]))||(h=parseInt(a.style[b]));var c=h+c,i=0,j=(c-h)/d/.06;0!=j&&(Mb.helpers.timeoutHandle[g]=setInterval(function(){i++;var d=h+j*i;a.style[b]=d+"px",(h<c&&d>=c||h>c&&d<=c)&&(clearInterval(Mb.helpers.timeoutHandle[g]),Mb.helpers.timeoutHandle[g]=null,a.style[b]=c+"px",Mb.bloc.animateInProgress=!1,void 0!==e&&e())},1/.06),
Mb.intervals.push(Mb.helpers.timeoutHandle[g]))}},cssAnimate:function(a,b,c,d,e,f){Mb.helpers.addCssTransitions(a,b,d,e),a.style[b]=c;var g=window.setTimeout(function(){Mb.helpers.removeCssTransitions(a),void 0!==f&&f()},d);Mb.timeouts.push(g)},getCurrentLocation:function(){var a=document.location.href;return window!=window.parent&&(a=document.referrer),a},parseResponseHeaders:function(a){var b={};if(!a)return b;for(var c=a.split("\r\n"),d=0;d<c.length;d++){var e=c[d],f=e.indexOf(": ");if(f>0){
var g=e.substring(0,f),h=e.substring(f+2);b[g.toUpperCase()]=h}}return b},getXdr:function(){var a=null;return window.XDomainRequest?a=new XDomainRequest:window.XMLHttpRequest&&(a=new XMLHttpRequest),a},doXdr:function(a,b,c,d,e){var f=Mb.helpers.getXdr();return null==f?"":(void 0!==f.withCredentials&&void 0!==b&&1==b&&(f.withCredentials=!0),"function"==typeof d?(f.open("GET",a,!0),f.onload=function(){d(void 0!==c&&1==c?f:f.responseText)},"function"==typeof e&&(f.onerror=function(a){e(a)}),
void f.send()):(f.open("GET",a,!1),f.send(),void 0!==c&&1==c?f:f.responseText))},isMobile:function(a){
return!(!/android|(bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(ad|hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))
},handleResize:function(a,b){var c=document.getElementById("mb_bloc_"+b);null!=c&&c.parentNode.offsetWidth!=Mb.bloc.width["mb_bloc_"+b]&&(c.className=c.className.replace("_mb_vertical","mb_vertical"),clearTimeout(Mb.bloc.timers.resizeEvent),Mb.bloc.timers.resizeEvent=setTimeout(function(){Mb.bloc.remove(a),Mb.bloc.init(a,window.mb_blocks[a],!0)},500),Mb.timeouts.push(Mb.bloc.timers.resizeEvent))},canLoadAds:function(a){if(!Mb.adsTested){Mb.adsTested=!0;var b
;b=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),b.onreadystatechange=function(){void 0!==Mb&&4==b.readyState&&(0==b.status?(Mb.adsEnabled=!1,Mb.helpers.log("!!! Adblock detected !!!")):200==b.status&&(Mb.adsEnabled=!0))};try{b.open("GET",a,!0)}catch(a){Mb.adsEnabled=!1,Mb.helpers.log("!!! Adblock detected !!!")}try{b.send(null)}catch(a){Mb.helpers.log("Error on : xhr.send(null)")}}},fileIsRawVideo:function(a){
return"application/x-shockwave-flash"!=a.mime_type&&"application/javascript"!=a.mime_type},log:function(a){if(void 0!==window.MB_DEV_SCRIPT&&1==window.MB_DEV_SCRIPT){var b=document.getElementById("mb_debug_player_console"),c=(new Date).toLocaleString();if(null!=b){var d=document.createElement("li"),e=document.createElement("span"),f=document.createElement("span");e.innerHTML=c,e.className="mb_debug_ts",f.className="mb_debug_msg",f.innerHTML=a,d.appendChild(e),d.appendChild(f),b.appendChild(d),
b.scrollTop=b.scrollHeight}}},getParentNode:function(a){if(null==a)return null;if("null"!=typeof a&&void 0!==a){if(void 0===a.el)return a.parentNode;var b=a.el();return null!=b?b.parentNode:null}return null},areCssAnimationsAvailable:function(){var a=!1,b="Webkit Moz O ms Khtml".split(" "),c="",d=document.createElement("div");if(void 0!==d.style.animationName&&(a=!0),!1===a)for(var e=0;e<b.length;e++)if(void 0!==d.style[b[e]+"AnimationName"]){c=b[e],c+"Animation","-"+c.toLowerCase()+"-",a=!0
;break}return a},addCssTransitions:function(a,b,c,d){var e=b+" "+c+"ms "+d;a.style.webkitTransition=e,a.style.MozTransition=e,a.style.OTransition=e,a.style.transition=e},removeCssTransitions:function(a){a.style.webkitTransition="",a.style.MozTransition="",a.style.OTransition="",a.style.transition=""},isBodyOverflowHidden:function(){
return"hidden"==document.getElementsByTagName("body")[0].style.overflowY||"hidden"==window.getComputedStyle(document.getElementsByTagName("body")[0]).overflowY||"hidden"==document.getElementsByTagName("body")[0].style.overflow||"hidden"==window.getComputedStyle(document.getElementsByTagName("body")[0]).overflow},inArray:function(a,b,c){var d="";if(!c){for(d in b)if(b[d]==a)return!0}else for(d in b)if(b[d]===a)return!0;return!1},calculateElementHeightByRatio:function(a){return.5625*a.offsetWidth
},addTitleAndCtaHeight:function(a,b){return null!=document.getElementById("mb_video_syncad_title")&&(a+=Mb.helpers.getOffset(document.getElementById("mb_video_syncad_title"),!0)),null!=document.getElementById("mb_next_video")&&(a+=Mb.helpers.getOffset(document.getElementById("mb_next_video"),!0)),null!=document.getElementById("mb_ad_title")&&(a+=void 0===b&&1==b?Mb.helpers.getOffset(document.getElementById("mb_ad_title"),!0):Mb.helpers.getOffset(document.getElementById("mb_ad_title"),!0)+5),
void 0!==window.MB_PADDING&&(a+=window.MB_PADDING),a},setUserId:function(a){"undefined"!=typeof localStorage&&localStorage.setItem("vuble_id",a)},getUserId:function(){if("undefined"!=typeof localStorage)return localStorage.getItem("vuble_id")},getDelay:function(){if(void 0!==window.mb_script_started_ms){return(new Date).getTime()-window.mb_script_started_ms}return 0},localStorage:{comIframe:null,init:function(a){var b=(new Date).getTime();this.comIframe=document.createElement("iframe"),
this.comIframe.style.display="none",this.comIframe.style.width="0px",this.comIframe.style.height="0px",this.comIframe.width=0,this.comIframe.height=0,this.comIframe.src=a+"/csifr?"+b,document.body.appendChild(this.comIframe),window.addEventListener("message",function(b){if(b.origin==a){var c="";try{c=JSON.parse(b.data)}catch(a){c=""}if("object"==typeof c&&void 0!==c.content)switch(c.content){case"uid":Mb.user_id_ls=c.data,Mb.player.adImpressionDone||(Mb.user_id=c.data)}}},!1)},set:function(a,b){
var c={item:a,data:b};this.comIframe.postMessage(JSON.stringify(c),"*")}},calculateAverage:function(a){return 0==a.length?0:Math.round(a.reduce(function(a,b){return a+b})/a.length*1e3)/1e3}},Mb.syncad={currentContainer:null,prerollEnded:!1,prerollCompletedDone:!1,mainPlayerId:null,mainManifest:null,syncLoaded:!1,synced:!1,skipDelay:5,playingSyncAd:!1,initDone:!1,adResumed:!1,videoResumed:!1,scrollAnimationInProgress:!1,vpaidMargin:0,adTracking:[],slotsList:[],forceFloatingUnit:!1,
enableFloatingBug:!1,playerDisplayed:!1,floatLeft:!1,articleDisplayTrigger:"",adSkipped:!1,init:function(a,b){if(1!=Mb.syncad.initDone){Mb.syncad.initDone=!0,Mb.syncad.mainPlayerId=a,Mb.syncad.syncLoaded=!0,Mb.syncad.mainManifest=decodeURIComponent(mb_players[a].flashvars.manifest_url);if(null!=document.getElementById("mb_video_syncad")){window.addEventListener("scroll",Mb.syncad.scrollEvent),Mb.addToEventsList("scroll",Mb.syncad.scrollEvent,window,!1);var c=document.createElement("script")
;c.src="//player.mediabong.com/sa/5/"+b+".js?rnd="+Math.random(),c.type="text/javascript",c.async=!0;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}}},scrollEvent:function(){},adjustContainer:function(){var a=function(){var a=Mb.getPlayer(Mb.syncad.mainPlayerId),b=Mb.syncad.currentContainer;null!=a&&null!=b&&(b=document.getElementById(b),"fixed"!=document.getElementById("mb_moving_container").style.position&&Mb.helpers.adjustPlayerWithinScroll(a,b))}
;window.addEventListener("resize",a),Mb.addToEventsList("resize",a,window,!1)},adLoaded:function(a){Mb.syncad.mainPlayerId=a;var b=Mb.getPlayer(a),c=b.getAdMediaFile();if(Mb.helpers.log("Will play ad : "+c.url+" ( "+c.mime_type+") "),Mb.hadPreroll=!0,(1==mb_players[a].addMuteButton&&!Mb.playerIsHtml5||Mb.playerIsHtml5&&!b.isIMA)&&Mb.player.addMuteButton(a),Mb.syncad.prerollCompletedDone||null==document.getElementById("mb_video_syncad")||1==mb_players[a].disable_syncad){
Mb.helpers.log("No Syncroll, playing ad"),Mb.fireCallbacks("adMediaFileSelected",a);var d=setTimeout(function(){Mb.getPlayer(a).playAd()},200);return void Mb.timeouts.push(d)}Mb.syncad.addNextVideo(document.getElementById("mb_container"));var e=2,f=parseInt(window.getComputedStyle(document.getElementById("mb_video_syncad").parentNode,null).getPropertyValue("padding-top"))
;if(f+=parseInt(window.getComputedStyle(document.getElementById("mb_video_syncad").parentNode,null).getPropertyValue("padding-bottom")),e+=f,Mb.helpers.getOffset(document.getElementById("mb_video_syncad").parentNode,!0)>e&&Mb.helpers.resizeContainer(document.getElementById("mb_video_syncad").parentNode),Mb.helpers.hasClass(b,"syncad_main")||(Mb.helpers.getParentNode(b).style.position="relative"),Mb.helpers.log("Mime type of ad : "+c.mime_type),
"application/x-shockwave-flash"!=c.mime_type&&"application/javascript"!=c.mime_type){var g=mb_players[a].server+"/t/mediafile.php?url="+encodeURIComponent(c.url);Mb.helpers.loadUrl(g,"text/javascript","script",function(){})}if(null!=document.getElementById("mb_video_syncad")){if(Mb.syncad.mainPlayerId=a,Mb.pauseOnAdStart[a]=!0,null==document.getElementById("mb_video_syncad_title")&&null!=mb_players[a].custom_title&&""!=mb_players[a].custom_title){
var h=document.createElement("div"),i=mb_players[a].custom_title;h.innerHTML='<img style="vertical-align: middle;width: 16px!important;" src="//static.mediabong.com/img/down_arrow.png">&nbsp;<span>'+i+'</span>&nbsp;<img style="vertical-align: middle;width: 16px!important;" src="//static.mediabong.com/img/down_arrow.png">',h.id="mb_video_syncad_title",h.style.cssText="text-align: center;border: 0px;margin-bottom: 5px;font-family: helvetica;font-size: 12px;",
document.getElementById(a).parentNode.parentNode.insertBefore(h,document.getElementById(a).parentNode);var e=2,f=parseInt(window.getComputedStyle(document.getElementById("mb_video_syncad").parentNode,null).getPropertyValue("padding-top"));f+=parseInt(window.getComputedStyle(document.getElementById("mb_video_syncad").parentNode,null).getPropertyValue("padding-bottom")),e+=f,
Mb.helpers.getOffset(document.getElementById("mb_video_syncad").parentNode,!0)>e&&Mb.helpers.resizeContainer(document.getElementById("mb_video_syncad").parentNode),null!=Mb.syncad.currentContainer&&"mb_video_syncad"!=Mb.syncad.currentContainer&&(h.style.display="none")}if(Mb.preventScrollEvent=!0,Mb.helpers.inIframe()){Mb.preventScrollEvent=!1;var j=Mb.helpers.calculateElementHeightByRatio(document.getElementById("mb_video_syncad")),k=Mb.helpers.addTitleAndCtaHeight(j,!0)
;document.getElementById("mb_video_syncad").parentNode.style.height=k+"px",document.getElementById("mb_container").style.height=j+"px",document.getElementById("mb_video_syncad").style.height=j+"px",Mb.helpers.moveToContainer(document.getElementById("mb_moving_container"),document.getElementById("mb_video_syncad")),Mb.syncad.checkDisplay(b,a);var l=function(){Mb.syncad.checkDisplay(b,a)};window.addEventListener("resize",l),Mb.addToEventsList("resize",l,window,!1)
}else if(Mb.syncad.adjustContainer(),Mb.syncad.floatingOnly)Mb.syncad.checkDisplay(b,a);else{var m=function(){Mb.syncad.checkDisplay(b,a)};document.addEventListener("scroll",m,!0),Mb.addToEventsList("scroll",m,document,!0),Mb.syncad.startDisplayChecker(b,a)}void 0!==window.Mb_onSyncAdLoaded&&(Mb.helpers.log("Calling Mb_onSyncAdLoaded function"),Mb_onSyncAdLoaded(a))}},prerollCompleted:function(id){if(Mb.helpers.log("Preroll completed ("+id+")"),!Mb.syncad.prerollCompletedDone){
Mb.syncad.prerollCompletedDone=!0,Mb.preventScrollEvent=!0,Mb.syncad.disableAdjustTimeout=!0,Mb.player.cancelTimeTracker=!0;var originalCont=document.getElementById("mb_moving_container");if(null!=originalCont&&(originalCont.style.border=""),null!=document.getElementById("mb_video_syncad_title")){var tmp=document.getElementById("mb_video_syncad_title");tmp.parentNode.removeChild(tmp)}if(null!=document.getElementById("mb_next_video")){var tmp=document.getElementById("mb_next_video")
;tmp.parentNode.removeChild(tmp)}if(void 0!==window.Mb_prerollCompleted&&window.Mb_prerollCompleted(),void 0!==window.MB_FIXED_SYNCROLL&&1==window.MB_FIXED_SYNCROLL&&0==Mb.syncad.adSkipped&&Mb.endAfterPrerollCompleted[id]&&(Mb.endAfterPrerollCompleted[id]=!1),Mb.endAfterPrerollCompleted[id]||!Mb.player.adImpressionDone&&void 0!==window.MB_NO_VIDEO_IF_PASSBACK&&1==window.MB_NO_VIDEO_IF_PASSBACK&&"undefined"!=typeof mb_syncroll_passback&&""!=mb_syncroll_passback){if(Mb.getPlayer(id).hide(),
Mb.helpers.moveToContainer(document.getElementById("mb_moving_container"),document.getElementById("mb_new_container")),Mb.helpers.inIframe()&&null!==window.frameElement){var a=window.top||window.parent||window;a.MbResizeIframe=function(a){a.style.height="0px"},a.MbResizeIframe(window.frameElement)}Mb.syncad.prerollEnded=!0,void 0!==window.Mb_syncrollCompleted&&window.Mb_syncrollCompleted(),
Mb.player.adImpressionDone?"undefined"!=typeof mb_passback_always&&mb_passback_always&&"undefined"!=typeof mb_syncroll_passback&&""!=mb_syncroll_passback&&("undefined"!=typeof mb_iframe?(mb_iframe.contentWindow.eval(mb_syncroll_passback),"undefined"!=typeof mb_iframe_height&&(mb_iframe.height=mb_iframe_height)):eval(mb_syncroll_passback)):"undefined"!=typeof mb_syncroll_passback&&""!=mb_syncroll_passback&&("undefined"!=typeof mb_iframe?(mb_iframe.contentWindow.eval(mb_syncroll_passback),
"undefined"!=typeof mb_iframe_height&&(mb_iframe.height=mb_iframe_height)):eval(mb_syncroll_passback));var animationCallback=function(){document.getElementById("mb_video_syncad").parentNode.style.padding="0px",document.getElementById("mb_video_syncad").parentNode.style.margin="0px",document.getElementById("mb_video_syncad").parentNode.style.height="0px",document.getElementById("mb_video_syncad").parentNode.style.overflow="hidden"}
;if(Mb.helpers.areCssAnimationsAvailable())Mb.helpers.cssAnimate(document.getElementById("mb_video_syncad").parentNode,"height","0px",400,"linear",animationCallback);else{var animateTo=-Mb.helpers.getOffset(document.getElementById("mb_video_syncad").parentNode,!0);Mb.helpers.animate(document.getElementById("mb_video_syncad").parentNode,"height",animateTo,400,animationCallback)}var player=Mb.getPlayer(id),timeoutid=window.setTimeout(function(){
"mb_container"==Mb.helpers.getParentNode(player).id?Mb.helpers.getParentNode(player).parentNode.removeChild(Mb.helpers.getParentNode(player)):void 0!=Mb.player.html5Player[id]?(player.pause(),mb_players[id].myPlayer.dispose(),document.getElementById("mb_container").parentNode.removeChild(document.getElementById("mb_container"))):Mb.helpers.getParentNode(player).parentNode.parentNode.removeChild(Mb.helpers.getParentNode(player).parentNode),
null!=document.getElementById("mb_new_container")&&document.getElementById("mb_new_container").parentNode.removeChild(document.getElementById("mb_new_container")),null!=document.getElementById("mb_video_syncad")&&document.getElementById("mb_video_syncad").parentNode.parentNode.removeChild(document.getElementById("mb_video_syncad").parentNode),
null!=document.getElementById("mb_video_syncad_bottom")&&0==document.getElementsByClassName("syncad_slot").length&&document.getElementById("mb_video_syncad_bottom").parentNode.removeChild(document.getElementById("mb_video_syncad_bottom"));var a=document.getElementById("mb_video_syncad_title");null!=a&&a.parentNode.removeChild(a)},500);Mb.timeouts.push(timeoutid)}else{var player=Mb.getPlayer(id),timeoutid=window.setTimeout(player.stopAd,0);Mb.timeouts.push(timeoutid);var videoPosition="bottom"
;if(void 0!==window.MB_VIDEO_POSITION&&""!=window.MB_VIDEO_POSITION&&(videoPosition=window.MB_VIDEO_POSITION),!Mb.is_inpicture&&!Mb.enableSyncAd||Mb.syncrollHasAd||(videoPosition="inread",window.MB_PAUSE_AFTER_AD=1,Mb.player.stopMouseOverVolumeEvents=!0,Mb.player.setVolume(id,1,null,null)),"inread"==Mb.syncadtype&&(videoPosition="inread"),Mb.enableSyncAd&&Mb.isIphone()&&(window.MB_PAUSE_AFTER_AD=1),void 0!==window.MB_PAUSE_AFTER_AD&&1==window.MB_PAUSE_AFTER_AD&&player.pauseVideo(),
"bottom"!=videoPosition&&"keep"!=videoPosition||!Mb.helpers.hasClass(document.getElementById("mb_video_syncad"),"floating_banner")||(Mb.syncad.forceFloatingUnit=!0),1==mb_players[id].add_close_over_video){var close=document.getElementById("mb_floating_close");null!=close&&(close.style.display="block",close.onclick=function(){var a=document.getElementById("mb_new_container");null!=a&&a.parentNode.removeChild(a);var b=document.getElementById("mb_video_syncad")
;null!=b&&b.parentNode.parentNode.removeChild(b.parentNode)},document.getElementById("mb_moving_container").style.overflow="visible")}if(Mb.appendAdchoice){var adChoice=document.getElementById("mb_adchoice");null!=adChoice&&adChoice.parentNode.removeChild(adChoice)}for(var idx=0;idx<Mb.syncad.slotsList.length;idx++)if("inread"!=videoPosition||"mb_video_syncad"!=Mb.syncad.slotsList[idx])if("bottom"!=videoPosition||"mb_video_syncad_bottom"!=Mb.syncad.slotsList[idx]){
if("keep"!=videoPosition||Mb.syncad.slotsList[idx]!=Mb.syncad.currentContainer)if("bottom"!=videoPosition&&("keep"!=videoPosition||"mb_video_syncad_bottom"!=Mb.syncad.currentContainer)||"mb_video_syncad"!=Mb.syncad.slotsList[idx]){var slot=document.getElementById(Mb.syncad.slotsList[idx]);"mb_video_syncad_bottom"==Mb.syncad.slotsList[idx]?slot.parentNode.removeChild(slot):slot.parentNode.parentNode.removeChild(slot.parentNode)
}else document.getElementById("mb_video_syncad").parentNode.style.height="0px"}else Mb.syncad.forceFloatingUnit&&(document.getElementById("mb_video_syncad_bottom").style.height="0px");Mb.syncad.videoEnded(0),Mb.syncad.slotsList=[],"inread"==videoPosition||"keep"==videoPosition&&"mb_video_syncad"==Mb.syncad.currentContainer?(Mb.enableSyncAd&&!Mb.syncrollHasAd&&(Mb.syncad.playerDisplayed=!0),
Mb.helpers.moveToContainer(document.getElementById("mb_moving_container"),document.getElementById("mb_video_syncad")),Mb.helpers.resizeContainer(document.getElementById("mb_video_syncad").parentNode)):("bottom"==videoPosition||"keep"==videoPosition&&"mb_video_syncad_bottom"==Mb.syncad.currentContainer)&&(Mb.syncad.currentContainer="",Mb.helpers.moveToContainer(document.getElementById("mb_moving_container"),document.getElementById("mb_video_syncad_bottom"))),Mb.syncad.currentContainer=""}
if(!Mb.syncrollScrolled){if(null!=document.getElementById("mb_video_syncad")){var trackerDiv=document.createElement("div");trackerDiv.id="mb_video_placement",trackerDiv.width=1,trackerDiv.height=1,trackerDiv.style.cssText="width: 1px!important; height: 1px!important; border: 0px; padding: 0px; margin: 0px;",document.getElementById("mb_video_syncad").parentNode.parentNode.insertBefore(trackerDiv,document.getElementById("mb_video_syncad").parentNode)}Mb.addscrollEvent(function(){
if(!Mb.syncrollScrolled){var a=(document.all?document.scrollTop:window.pageYOffset,Mb.getViewport()),b=trackerDiv.getBoundingClientRect(),c=.25*a.height;b.top+c<=a.height&&Mb.syncad.scrolled(id)}})}if(Mb.enableSyncAd&&0==Mb.syncrollHasAd&&(Mb.player.callBack.event(id,"syncrollNoAd"),void 0!==window.MB_noAd&&window.MB_noAd(id)),Mb.retargetingTrackers&&Mb.retargetingTrackers.attn){var url=Mb.helpers.parseUrl(Mb.retargetingTrackers.attn,{},id)
;Mb.helpers.loadUrl(url,"text/javascript","script",function(){})}}},videoEnded:function(a){var b=document.getElementById("mb_skipad");null!=b&&b.parentNode.removeChild(b);for(var c=document.getElementsByClassName("mb_next_video");c.length>0;)c[0].parentNode.removeChild(c[0]);for(var c=document.getElementsByClassName("mb_ad_title");c.length>0;)c[0].parentNode.removeChild(c[0]);for(var d=document.getElementsByClassName("mb_ad_cta");d[0];)d[0].parentNode.removeChild(d[0])
;if(Mb.endAfterPrerollCompleted[Mb.syncad.mainPlayerId])return void Mb.syncad.prerollCompleted(Mb.syncad.mainPlayerId);if(0==window.MB_PAUSE_AFTER_AD){Mb.getPlayer(Mb.syncad.mainPlayerId).playVideo()}var e=document.getElementById("mb_video_syncad_title");null!=e&&e.parentNode.removeChild(e)},startDisplayChecker:function(a,b){if(!(Mb.helpers.getOffset(a,!0)>50)){var c=window.setTimeout(function(){Mb.syncad.checkDisplay(a,b),Mb.syncad.startDisplayChecker(a,b)},200);Mb.timeouts.push(c)}},
scrolled:function(a){0==Mb.syncrollScrolled&&(Mb.syncrollScrolled=!0,Mb.player.callBack.event(a,"syncrollScrolled"))},checkDisplay:function(a,b){if(null!=a&&!Mb.syncad.prerollCompletedDone&&(void 0===window.MB_ARTICLE_DISPLAY_DETECTION||""==window.MB_ARTICLE_DISPLAY_DETECTION||0!=document.querySelectorAll(window.MB_ARTICLE_DISPLAY_DETECTION).length))if(Mb.syncad.floatingOnly){if(!Mb.syncad.playerDisplayed){
var c=Mb.helpers.calculateElementHeightByRatio(document.getElementById("mb_video_syncad_bottom")),d=Mb.helpers.addTitleAndCtaHeight(c);document.getElementById("mb_container").style.height=c+"px",null!=document.getElementById("mb_next_video")&&(document.getElementById("mb_next_video").style.visibility="visible"),Mb.syncad.scrolled(b),Mb.helpers.moveToContainer(document.getElementById("mb_moving_container"),document.getElementById("mb_video_syncad_bottom"));var e=Mb.syncad.floatLeft?"left":"right"
;Mb.helpers.areCssAnimationsAvailable()?Mb.helpers.cssAnimate(document.getElementById("mb_moving_container"),e,"10px",800,"linear"):Mb.helpers.animate(document.getElementById("mb_moving_container"),e,510,800),Mb.syncad.playerDisplayed=!0}}else{var f=0,g=0;if("mb_video_syncad_bottom"==Mb.syncad.currentContainer&&-1!=["floating","bottom","top"].indexOf(Mb.syncadtype)){var h=document.all?document.scrollTop:window.pageYOffset,i=Mb.helpers.getBounds(document.getElementById("mb_video_syncad_bottom"))
;f=h<=i.top?0:100;var j=0;if(void 0!==Mb.enableIntelligentSyncroll&&Mb.enableIntelligentSyncroll&&null!=document.getElementById("mb_video_syncad")){var k=Mb.getViewport();j=parseInt(.25*k.height)}var l=Mb.helpers.getVisiblePcent(document.getElementById("mb_video_syncad").parentNode,j);if(l>5)return Mb.helpers.moveToContainer(document.getElementById("mb_moving_container"),document.getElementById("mb_video_syncad")),a.pauseAd(),void Mb.player.callBack.adPaused(b);f=100}else{
null!=Mb.syncad.currentContainer&&"mb_video_syncad_bottom"!=Mb.syncad.currentContainer&&Mb.helpers.isBodyOverflowHidden()&&Mb.helpers.moveToContainer(document.getElementById("mb_moving_container"),document.getElementById(Mb.syncad.currentContainer));var j=0;if(void 0!==Mb.enableIntelligentSyncroll&&Mb.enableIntelligentSyncroll&&null!=document.getElementById("mb_video_syncad")){var k=Mb.getViewport();j=parseInt(.25*k.height)}
f=Mb.helpers.getVisiblePcent(document.getElementById("mb_moving_container"),j)}if(null!=document.getElementById("mb_video_syncad")){var j=0;if(void 0!==Mb.enableIntelligentSyncroll&&Mb.enableIntelligentSyncroll&&null!=document.getElementById("mb_video_syncad")){var k=Mb.getViewport();j=parseInt(.25*k.height)}Mb.helpers.getOffset(document.getElementById("mb_video_syncad").parentNode,!0)<50&&!Mb.helpers.inIframe()&&(j+=200),
g=Mb.helpers.getVisiblePcent(document.getElementById("mb_video_syncad").parentNode,j)}Mb.helpers.getParentNode(a).id;if(0==f&&0==g){if(Mb.syncad.slotsList.length>0){var m=Mb.helpers.getClosestElementDuringScroll(Mb.syncad.slotsList),n=!1,o=1,p=2,q=parseInt(window.getComputedStyle(document.getElementById("mb_video_syncad").parentNode,null).getPropertyValue("padding-top"))
;q+=parseInt(window.getComputedStyle(document.getElementById("mb_video_syncad").parentNode,null).getPropertyValue("padding-bottom")),o+=q,p+=q;var r=Mb.helpers.getOffset(document.getElementById("mb_video_syncad").parentNode,!0);if("mb_video_syncad"==m.id||r!=o&&r!=p)"mb_video_syncad"!=m.id&&void 0!==window.MB_FIXED_SYNCROLL&&window.MB_FIXED_SYNCROLL>=1&&Mb.syncad.scrolled(b);else{
var c=Mb.helpers.calculateElementHeightByRatio(document.getElementById("mb_video_syncad")),d=Mb.helpers.addTitleAndCtaHeight(c);document.getElementById("mb_video_syncad").parentNode.style.height=d+"px",document.getElementById("mb_container").style.height=c+"px",document.getElementById("mb_video_syncad").style.height=c+"px",null!=document.getElementById("mb_next_video")&&(document.getElementById("mb_next_video").style.visibility="visible"),Mb.preventScrollEvent=!1,n=!0,
Mb.syncad.playerDisplayed=!0,Mb.syncad.scrolled(b)}Mb.helpers.moveToContainer(document.getElementById("mb_moving_container"),m),n&&(Mb.playerState[b]=0,Mb.getPosition(b))}}else if(g>0){var s=Mb.helpers.getOffset(document.getElementById("mb_video_syncad").parentNode,!0),o=1,p=2,q=parseInt(window.getComputedStyle(document.getElementById("mb_video_syncad").parentNode,null).getPropertyValue("padding-top"))
;if(q+=parseInt(window.getComputedStyle(document.getElementById("mb_video_syncad").parentNode,null).getPropertyValue("padding-bottom")),o+=q,p+=q,s!=o&&s!=p||Mb.scrollAnimationInProgress)Mb.scrollAnimationInProgress||(Mb.syncad.playerDisplayed=!0,Mb.helpers.moveToContainer(document.getElementById("mb_moving_container"),document.getElementById("mb_video_syncad")),Mb.preventScrollEvent=!1,Mb.getPosition(b),
(void 0!==window.MB_FIXED_SYNCROLL&&window.MB_FIXED_SYNCROLL>=1||Mb.helpers.inIframe())&&Mb.syncad.scrolled(b));else{Mb.scrollAnimationInProgress=!0;var c=Mb.helpers.calculateElementHeightByRatio(document.getElementById("mb_video_syncad")),d=Mb.helpers.addTitleAndCtaHeight(c),t=function(){Mb.preventScrollEvent=!1,void 0!==window.MB_PADDING&&(document.getElementById("mb_video_syncad").parentNode.style.marginTop=window.MB_PADDING+"px"),
document.getElementById("mb_video_syncad").parentNode.style.paddingTop="",document.getElementById("mb_video_syncad").parentNode.style.backgroundColor="",document.getElementById("mb_video_syncad").style.paddingTop=""},u=function(){Mb.syncad.playerDisplayed=!0,Mb.syncad.scrolled(b),Mb.helpers.moveToContainer(document.getElementById("mb_moving_container"),document.getElementById("mb_video_syncad")),Mb.preventScrollEvent=!1,Mb.playerState[b]=0,Mb.getPosition(b),Mb.scrollAnimationInProgress=!1,
null!=document.getElementById("mb_next_video")&&(document.getElementById("mb_next_video").style.visibility="visible"),Mb.syncad.scrolled(b)},v=Mb.getPlayer(Mb.syncad.mainPlayerId);v.playAd(),Mb.helpers.areCssAnimationsAvailable()?(Mb.helpers.cssAnimate(document.getElementById("mb_video_syncad").parentNode,"height",d+"px",400,"linear",t),
Mb.helpers.cssAnimate(document.getElementById("mb_container"),"height",c+"px",400,"linear",u)):(Mb.helpers.animate(document.getElementById("mb_video_syncad").parentNode,"height",d,200,t),Mb.helpers.animate(document.getElementById("mb_container"),"height",c,200,u,!0))}}}},addSkip:function(a){if(null==document.getElementById("mb_skipad")){var b=document.getElementById(a),c=document.createElement("div");null!=b&&(Mb.helpers.getParentNode(b).style.position="relative",c.id="mb_skipad",c.innerHTML="",
c.style.cursor="pointer",c.style.position="absolute",c.style.zIndex="10000001",c.style.bottom="35px",c.style.right="0px",c.style.padding="3px",c.style.backgroundImage="url(//static.mediabong.com/bg/000000.png)",c.style.backgroundRepeat="repeat",c.style.color="#fff",c.style.fontFamily="Helvetica",c.style.fontSize="11px",c.style.fontWeight="normal",c.style.width="120px",c.style.textAlign="center",Mb.helpers.getParentNode(b).appendChild(c),Mb.syncad.skipCounter(c,a),Mb.syncad.playingSyncAd=!0)}},
skipCounter:function(a,b){if(Mb.syncad.skipDelay>0){a.innerHTML=window.mb_skipin+" "+Mb.syncad.skipDelay+" s",void 0!==mb_players[b]&&mb_players[b].isPlaying&&Mb.syncad.skipDelay--;var c=window.setTimeout(function(){Mb.syncad.skipCounter(a,b)},1e3);Mb.timeouts.push(c)}else a.innerHTML="<a href='javascript:Mb.syncad.skipAd();' style='color: #fff;'>"+window.mb_skip+"</a>",a.onclick=function(){Mb.syncad.skipAd()}},skipAd:function(a){var b=(document.getElementById(Mb.syncad.mainPlayerId),
Mb.getPlayer(Mb.syncad.mainPlayerId));window.MB_PAUSE_AFTER_AD=0,Mb.syncad.adSkipped=!0,void 0!==b.isIMA&&(void 0!==b.ima&&b.isIMA?b.ima.adSkipped_():b.isIMA||Mb.mobile.canvas.skipped());try{Mb.syncad.prerollCompleted(Mb.syncad.mainPlayerId)}catch(a){return}Mb.player.callBack.adCloseLinear(Mb.syncad.mainPlayerId),Mb.syncad.playingSyncAd=!1,Mb.syncad.videoEnded(1)},addNextVideo:function(a){if(null!=a){if(Mb.endAfterPrerollCompleted[Mb.syncad.mainPlayerId]&&Mb.appendAdTitle){
if(null!=document.getElementById("mb_ad_title"))return;void 0===window.Mb_adTitleType&&(window.Mb_adTitleType="default");document.createElement("style");if("iframe"==window.Mb_adTitleType){var b=document.createElement("iframe");b.style.display="block",b.style.border="0px",b.style.width="100%",b.style.height="30px",b.src=window.Mb_ctaUrl}else if("cta"==window.Mb_adTitleType){var b=document.createElement("div");b.style.border="0px",b.style.width="100%",b.style.height="30px",
b.innerHTML=window.Mb_ctaContent,b.onclick=function(){Mb.player.callBack.adClickTracking(Mb.syncad.mainPlayerId)}}else{if(""==window.Mb_adTitle&&""==window.Mb_adResume)return;var b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("a"),f=document.createElement("a");if(c.style.fontWeight="bold",d.style.fontSize="70%",c.style.whiteSpace="nowrap",c.style.fontSize="85%",d.style.marginTop="5px",d.style.whiteSpace="nowrap",
""!=window.Mb_adTitle){var g=document.createTextNode(window.Mb_adTitle);e.appendChild(g),e.href=window.Mb_adLink,e.target="_blank",e.style.textDecoration="none",e.style.color="#000",c.appendChild(e),b.appendChild(c)}if(""!=window.Mb_adResume){var h=document.createTextNode(window.Mb_adResume);f.appendChild(h),f.href=window.Mb_adLink,f.target="_blank",f.style.textDecoration="none",f.style.color="#000",d.appendChild(f),b.appendChild(d)}b.style.border="1px solid",b.style.borderTop="0px",
b.style.borderColor="#e9eaed #e9eaed #d1d1d1",b.style.padding="3px",b.style.backgroundColor="#eee",b.style.overflow="hidden",b.className="mb_ad_title"}return b.id="mb_ad_title",a.parentNode.appendChild(b),void Mb.syncad.adjustContainer()}if(!Mb.endAfterPrerollCompleted[Mb.syncad.mainPlayerId]&&0==a.parentNode.getElementsByClassName("mb_next_video").length){if(Mb.helpers.hasClass(a.parentNode.parentNode,"mb_bloc"))return
;var i=document.createElement("div"),j=document.createElement("img"),k=document.createElement("div"),l=document.createElement("table");l.style.width=a.offsetWidth+"px",l.style.tableLayout="fixed",l.id="mb_next_video_table",l.style.border="0px",l.style.borderSpacing="0px",i.className="mb_next_video",i.id="mb_next_video",i.style.position="relative",i.style.bottom="0px",i.style.background="#000",Mb.syncad.playerDisplayed||(i.style.visibility="hidden"),i.style.height="30px",k.style.fontSize="12px",
i.style.clear="both";var m=l.insertRow(0),n=m.insertCell(0),o=m.insertCell(1);n.id="mb_next_video_title",o.id="mb_next_video_thumb",n.style.color="#fff",n.style.padding="0px",n.style.lineHeight="100%",n.style.verticalAlign="middle",n.style.background="#000",n.style.border="none",k.style.overflow="hidden",k.style.whiteSpace="nowrap",k.style.textOverflow="ellipsis",k.id="mb_next_video_title_div",o.style.width="15%",o.style.padding="0px",o.style.textAlign="right",o.style.background="#000",
o.style.border="none",j.src=mb_players[Mb.syncad.mainPlayerId].thumbnail,j.style.maxWidth="53px",j.style.maxHeight="30px",j.style.cssFloat="right",j.style.margin="0px",o.appendChild(j),k.innerHTML=mb_players[Mb.syncad.mainPlayerId].title,k.style.paddingLeft="15px",n.appendChild(k),i.appendChild(l),a.parentNode.appendChild(i),a.parentNode.parentNode.style.position="relative",a.parentNode.parentNode.style.height=Mb.helpers.getOffset(a.parentNode.parentNode,!0)+Mb.helpers.getOffset(i,!0)+"px"}}},
manifestLoaded:function(a){document.getElementById(a).pauseVideo()},videoCompleted:function(){Mb.syncad.playingSyncAd=!1,Mb.syncad.videoEnded(0),mb_players[Mb.syncad.mainPlayerId].checkScroll=!1,mb_players[Mb.syncad.mainPlayerId].checkStopScroll=!1,mb_players[Mb.syncad.mainPlayerId].pcent=0,document.getElementById(Mb.syncad.mainPlayerId).loadManifest(Mb.syncad.mainManifest)}},Mb.player={currentPlayerId:0,currentAdserverId:0,impressionFloorPrice:0,stayInInreadPosition:!1,cancelTimeTracker:!1,
firedEvents:[],html5Player:[],stopMouseOverVolumeEvents:!1,currentVolume:1,params:{},isMuted:0,adserverListStarted:!1,scrollValues:[],attentionScoreAdClickedFlag:0,impressionMrcDuration:0,impressionMrcDone:!1,groupMTrackerDone:!1,lastQuartile:0,secondsFullViewability:0,muteVolume:0,startVolume:0,secondsTrackers:[],ispostroll:!1,adprogress:0,adImpressionDone:!1,kpis:{visibilityValues:[],player_width_seconds_300:0,player_width_seconds_320:0,player_width_seconds_480:0,adClutterMax:0,
movedBelow50pVisSecond:0,scrollDeltaValues:[]},boot:function(a,b){if(Mb.player.currentPlayerId=a,void 0!==window.mb_script_started_ms){var c=(new Date).getTime();Mb.helpers.log("(MB) Boot : "+(c-window.mb_script_started_ms)+" ms")}if(1!=mb_players[a].requireSyncroll||null!=document.getElementById("mb_video_syncad")){if(Mb.helpers.localStorage.init(mb_players[a].server),setTimeout(function(){Mb.helpers.getFgp(Mb)},0),
Mb.isMobile=Mb.helpers.isMobile(navigator.userAgent||navigator.vendor||window.opera),Mb.isDesktop=!Mb.isMobile,void 0!==b.testUrl&&""!=b.testUrl&&Mb.helpers.canLoadAds(b.testUrl),1==mb_players[a].noMouseOverVolume&&(Mb.player.stopMouseOverVolumeEvents=!0),"NONE"!=mb_players[a].title_position){var d=document.getElementById(a),e=document.createElement("div");e.id=d.id,e.className=d.className,d.removeAttribute("id"),d.removeAttribute("class"),d.appendChild(e);var f=document.createElement("div")
;f.className="mb_video_player_title",f.innerHTML=mb_players[a].title,"TOP"==mb_players[a].title_position?d.insertBefore(f,e):"BOTTOM"==mb_players[a].title_position&&d.insertBefore(f,e.nextSibling)}if(1==mb_players[a].ipadAsIphone&&(Mb.ipadAsIphone=!0),1==mb_players[a].isExternal)return void(Mb.player.params[a]=b);if(void 0!==window.mb_script_started_ms){var c=(new Date).getTime();Mb.helpers.log("(MB) Before Init : "+(c-window.mb_script_started_ms)+" ms")}Mb.player.init(a,b)}},boot5:function(a){
if(window.css_content){var b=document.createElement("style"),c=document.createTextNode(decodeURIComponent(window.css_content));b.appendChild(c),document.getElementsByTagName("head")[0].appendChild(b)}else Mb.helpers.loadUrl(window.css_link,"text/css","link",function(){});if(Mb.adsEnabled)if(void 0===window.ima){var d=document.createElement("script");if(d.type="text/javascript",d.src="//imasdk.googleapis.com/js/sdkloader/ima3.js",d.async=!0,d.addEventListener){var e=function(){Mb.player.init5(a)}
;d.addEventListener("load",e,!1),Mb.addToEventsList("load",e,d,!1)}else d.readyState&&(d.onreadystatechange=function(){Mb.player.init5(a)});document.getElementsByTagName("head")[0].appendChild(d)}else Mb.player.init5(a);else Mb.player.init5(a)},init:function(a,b){if(void 0!==window.mb_script_started_ms){var c=(new Date).getTime();Mb.helpers.log("(MB) Init (1) : "+(c-window.mb_script_started_ms)+" ms")}if(MB_handleDocumentVisibility(a),
void 0!==Mb.enableIntelligentSyncroll&&(Mb._enableIntelligentSyncroll=Mb.enableIntelligentSyncroll),void 0!==Mb.stopSyncIfQuickPlay&&(Mb._stopSyncIfQuickPlay=Mb.stopSyncIfQuickPlay),void 0!==window.MB_MUTE_VOLUME&&(Mb.player.muteVolume=window.MB_MUTE_VOLUME),void 0!==window.mb_script_started_ms){var c=(new Date).getTime();Mb.helpers.log("(MB) Init (2) : "+(c-window.mb_script_started_ms)+" ms")}
Mb.adsEnabled||(b.flashvars.manifest_url=encodeURIComponent(decodeURIComponent(b.flashvars.manifest_url+"&adb=1"))),b.flashvars.manifest_url=encodeURIComponent(decodeURIComponent(b.flashvars.manifest_url+"&url="+document.location.href));var d=document.getElementById("mb_video_syncad");if(Mb.is_inpicture||null!=d&&(Mb.helpers.hasClass(d,"no_video")||1==mb_players[a].endAfterPreroll)?Mb.endAfterPrerollCompleted[a]=!0:Mb.endAfterPrerollCompleted[a]=!1,Mb.is_inpicture&&(window.MB_PAUSE_AFTER_AD=1),
"mb_video_syncad"!=a&&null!=d&&0==mb_players[a].disable_syncad)if(Mb.syncad.mainPlayerId=a,Mb.enableSyncAd=1,Mb.helpers.hasClass(d,"floating_banner")?(Mb.syncadtype="floating",Mb.helpers.hasClass(d,"float_left")&&(Mb.syncad.floatLeft=!0),
Mb.helpers.hasClass(d,"floating_only")&&(Mb.syncad.floatingOnly=!0)):Mb.helpers.hasClass(d,"inread_banner")?Mb.syncadtype="inread":Mb.helpers.hasClass(d,"bottom_banner")?Mb.syncadtype="bottom":Mb.helpers.hasClass(d,"top_banner")?Mb.syncadtype="top":Mb.syncadtype="sync",1==mb_players[a].enableFloatingBug&&(Mb.syncad.enableFloatingBug=!0),
1==b.sr_capping||"undefined"!=typeof disable_syncroll&&1==disable_syncroll)document.getElementById("mb_video_syncad").parentNode.parentNode.removeChild(document.getElementById("mb_video_syncad").parentNode),null!=document.getElementById("mb_video_syncad_bottom")&&0==document.getElementsByClassName("syncad_slot").length&&document.getElementById("mb_video_syncad_bottom").parentNode.removeChild(document.getElementById("mb_video_syncad_bottom"));else{
1==mb_players[a].endAfterPreroll&&(Mb.endAfterPrerollCompleted[a]=!0);var e=document.getElementById("mb_container");if(null!=e){var f=document.createElement("div"),g=document.createElement("div"),h=document.createElement("div"),i=document.createElement("img");i.src="//static.mediabong.com/close.png",i.style.cursor="pointer",i.style.position="absolute",i.style.top="-14px",i.style.right="-14px",i.style.width="29px",i.style.height="29px",i.style.display="none",i.id="mb_floating_close",
f.id="mb_video_syncad_bottom",f.style.padding="0px",Mb.helpers.hasClass(d,"floating_banner")?f.style.maxWidth=Math.floor(Mb.helpers.getViewport().width/3)+"px":""!=e.style.getPropertyValue("max-width")&&(f.style.maxWidth=e.style.getPropertyValue("max-width")),e.parentNode.insertBefore(f,e),h.id="mb_moving_container",void 0!==mb_players[a].syncroll_z_index&&0!=mb_players[a].syncroll_z_index?h.style.zIndex=mb_players[a].syncroll_z_index:h.style.zIndex=15,h.style.boxSizing="content-box",
h.style.overflow="hidden",g.id="mb_new_container",g.style.overflow="visible",g.style.padding="0px",g.style.margin="0px",g.style.width=Mb.helpers.getOffset(d)+"px",g.style.cssFloat="left",g.style.textAlign="left",h.appendChild(e),g.appendChild(h),h.appendChild(i),document.getElementById("mb_video_syncad").appendChild(g);Mb.helpers.getBounds(document.getElementById("mb_container"));if(e.style.width=e.offsetWidth+"px",e.style.position="relative",d.parentNode.style.overflow="hidden",
void 0!==window.MB_PADDING&&(d.parentNode.style.marginTop=window.MB_PADDING+"px",Mb.helpers.hasClass(d,"floating_banner")||Mb.helpers.hasClass(d,"bottom_banner")||Mb.helpers.hasClass(d,"top_banner")||(f.style.marginTop=window.MB_PADDING+"px")),Mb.helpers.hasClass(d,"inread_banner"))Mb.syncad.slotsList=["mb_video_syncad"];else{var j=document.getElementsByClassName("syncad_slot");j.length>0?Mb.syncad.slotsList=["mb_video_syncad"]:Mb.syncad.slotsList=["mb_video_syncad","mb_video_syncad_bottom"]
;for(var k=0;k<j.length;k++)Mb.syncad.slotsList.push(j[k].id)}if(Mb.helpers.hasClass(d,"floating_banner")){var l=document.createElement("div");l.id="mb_video_syncad_floating",l.style.position="fixed",l.style.width="400px",l.style.height="224px",f.style.width=l.style.width}else if(Mb.helpers.hasClass(d,"bottom_banner")||Mb.helpers.hasClass(d,"top_banner")){var l=document.createElement("div"),m=Mb.getViewport(),n=(parseInt(.5625*m.width),parseInt(.3*m.height)),o=parseInt(n/.5625)
;l.style.width=o+"px",l.style.height=n+"px",l.id="mb_video_syncad_floating",l.style.position="fixed",document.body.appendChild(l),f.style.width=l.style.width}}var p=0,q=0;Mb.endAfterPrerollCompleted[a]?(p=1,q=1,
b.flashvars.manifest_url=encodeURIComponent(decodeURIComponent(b.flashvars.manifest_url+"&display_title=2&simpleCounter=1&novideo="+q+"&nopostroll="+p+"&enableSyncRoll="+Mb.enableSyncAd+"&synctype="+Mb.syncadtype))):b.flashvars.manifest_url=encodeURIComponent(decodeURIComponent(b.flashvars.manifest_url+"&display_title=2&&simpleCounter=1&novideo="+q+"&nopostroll="+p+"&enableSyncRoll="+Mb.enableSyncAd+"&synctype="+Mb.syncadtype)),mb_players[a].pcent=50,
void 0!==window.MB_PERCENT_BEFORE_SYNCROLL&&window.MB_PERCENT_BEFORE_SYNCROLL>0&&(mb_players[a].pcent=parseInt(window.MB_PERCENT_BEFORE_SYNCROLL)),mb_players[a].checkScroll=!0,mb_players[a].checkStopScroll=!0,mb_players[a].delay=0}void 0!==window.MB_FIXED_SYNCROLL&&1==window.MB_FIXED_SYNCROLL&&Mb.endAfterPrerollCompleted[a]&&(window.MB_PAUSE_AFTER_AD=1);var r=Mb.getPlayer(a)
;if(Mb.helpers.getOffset(Mb.helpers.getParentNode(r),!0)<.5625*Mb.helpers.getParentNode(r).offsetWidth&&(Mb.helpers.getParentNode(r).style.cssText+="height: "+.5625*Mb.helpers.getParentNode(r).offsetWidth+"px !important"),Mb.playerState[a]=0,Mb.events[a]={checkScroll:!1,checkStopScroll:!1},b.pcent>0?Mb.events[a].doMute=!0:Mb.events[a].doMute=!1,null!=document.getElementById("mb_video_syncad")&&0==mb_players[a].disable_syncad){
document.getElementById("mb_video_syncad").parentNode.style.height="1px",document.getElementById("mb_video_syncad").style.paddingTop="1px";var s=0,t=0;void 0!==window.MB_SYNC_PADDING_LEFT&&(s=window.MB_SYNC_PADDING_LEFT),void 0!==window.MB_SYNC_PADDING_RIGHT&&(t=window.MB_SYNC_PADDING_RIGHT),document.getElementById("mb_video_syncad").parentNode.style.paddingLeft=s+"px",document.getElementById("mb_video_syncad").parentNode.style.paddingRight=t+"px"}Mb.player.params[a]=b,Mb.player.boot5(a)},
init5:function(a){if(null!=mb_players[a].jsonDoc&&"string"==typeof mb_players[a].jsonDoc)return mb_players[a].jsonDoc=JSON.parse(mb_players[a].jsonDoc),Mb.mobile.initialize(a),void(Mb.isIphone()&&Mb.enableSyncAd&&Mb.mobile.canvas.createElements(mb_players[a].myPlayer.el().querySelector(".vjs-tech-mb")));var b=function(b){""!=b&&(mb_players[a].jsonDoc=JSON.parse(b),Mb.mobile.initialize(a),
Mb.isIphone()&&Mb.enableSyncAd&&Mb.mobile.canvas.createElements(mb_players[a].myPlayer.el().querySelector(".vjs-tech-mb")))};Mb.helpers.doXdr(unescape(mb_players[a].flashvars.manifest_url),!0,!1,b)},loadAdservers:function(a,b,c,d,e){Mb.player.adserverReply=[];for(var f=0;f<b.length;f++)!function(){var g=b[f].url,h=b[f].id,i=0,j=0;void 0!==b[f].publisher_tag&&(j=b[f].publisher_tag),void 0!==b[f].cpm&&b[f].cpm,void 0!==b[f].video_ad_click_behavior&&(i=b[f].video_ad_click_behavior),
g=Mb.helpers.parseUrl(g,{},a),Mb.player.callBack.adserverLoading(a,h,j);try{Mb.helpers.doXdr(g,!0,!0,function(c){c.click_behavior=i,c.adserver_id=h,c.publisher_tag=j;var f=Mb.helpers.parseResponseHeaders(c.getAllResponseHeaders());f.hasOwnProperty("MDB_P")?c.rtb_partnerId=f.MDB_P:c.rtb_partnerId=0,f.hasOwnProperty("MDB_S")?c.rtb_seatId=f.MDB_S:c.rtb_seatId=0,f.hasOwnProperty("MDB_D")?c.rtb_dealId=f.MDB_D:c.rtb_dealId="",f.hasOwnProperty("MDB_C")?c.rtb_cpm=f.MDB_C:c.rtb_cpm=0,
f.hasOwnProperty("MDB_AD")?c.rtb_adomain=f.MDB_AD:c.rtb_adomain="",f.hasOwnProperty("MDB_FT")?c.rtb_floortype=f.MDB_FT:c.rtb_floortype=0,f.hasOwnProperty("MDB_DATA")?c.rtb_data=f.MDB_DATA:c.rtb_data="",299!=h&&298!=h&&100!=h&&101!=h||0==c.rtb_partnerId&&(c.rtb_partnerId=1),Mb.player.adserverReply.push(c),Mb.player.processAdserverReplies(a,d,e,b.length,0)},function(){},c)}catch(b){return Mb.helpers.log(b),Mb.mobile.prReportingTracking(a,4,Mb.vast.errorCodes.REQUEST_FAILED),
Mb.player.callBack.adserverFailed(a),void player.trigger("adsloaderror")}}();Mb.player.adserverLoadTimeout=setTimeout(function(){Mb.player.processAdserverReplies(a,d,e,b.length,1)},c+b.length)},processAdserverReplies:function(a,b,c,d,e){if(0==e){if(Mb.helpers.log("Waiting for "+d+" replies, got "+Mb.player.adserverReply.length),Mb.player.adserverReply.length!=d)return;clearTimeout(Mb.player.adserverLoadTimeout)}Mb.helpers.log("Adservers : Got "+Mb.player.adserverReply.length+" replies")
;for(var f=[],g=0;g<Mb.player.adserverReply.length;g++)""!=Mb.player.adserverReply[g].responseText&&f.push(Mb.player.adserverReply[g]);if(Mb.player.adserverReply=f,0==Mb.player.adserverReply.length)return void b();Mb.player.adserverReply.sort(function(a,b){return parseFloat(b.cpm)-parseFloat(a.cpm)}),c(Mb.player.adserverReply[0])},addMuteButton:function(a){var b=Mb.getPlayer(a);if(!(Mb.helpers.getParentNode(b).getElementsByClassName("mb_mute_btn").length>0)){var c=document.createElement("img")
;c.style.border="0px",c.style.width="43px",c.style.height="43px",c.style.position="absolute",c.style.left="10px",c.style.top="10px";var d=0;try{d=Mb.helpers.getParentNode(b).styles.zIndex,isNaN(parseInt(d))&&(d=0)}catch(a){d=0}d++,c.style.zIndex=d,0==Mb.player.currentVolume?(c.src="//static.mediabong.com/img/mute_white.png",c.className="mb_mute_btn mb_mute_on"):(c.src="//static.mediabong.com/img/unmute_white.png",c.className="mb_mute_btn mb_mute_off"),c.onclick=function(){
Mb.player.muteBtnClick(a)},"relative"!=Mb.helpers.getParentNode(b).style.position&&(Mb.helpers.getParentNode(b).style.position="relative"),Mb.helpers.getParentNode(b).appendChild(c)}},removeMuteButton:function(a){for(var b=Mb.getPlayer(a),c=Mb.helpers.getParentNode(b).getElementsByClassName("mb_mute_btn");c.length>0;)c[0].parentNode.removeChild(c[0])},muteBtnClick:function(a){Mb.player.stopMouseOverVolumeEvents=!0;var b=document.getElementById(a).parentNode.getElementsByClassName("mb_mute_btn")
;0!=b.length&&(b=b[0],Mb.helpers.hasClass(b,"mb_mute_on")?(Mb.player.setVolume(a,1,null,null),Mb.player.setMuteIcon(a,1)):(Mb.player.setVolume(a,Mb.player.muteVolume,null,null),Mb.player.setMuteIcon(a,0)))},setMuteIcon:function(a,b){var c=Mb.getPlayer(a),d=Mb.helpers.getParentNode(c).getElementsByClassName("mb_mute_btn");0!=d.length&&(d=d[0],1==b?(d.className="mb_mute_btn mb_mute_off",d.src="//static.mediabong.com/img/unmute_white.png"):(d.className="mb_mute_btn mb_mute_on",
d.src="//static.mediabong.com/img/mute_white.png"))},setVolume:function(a,b,c,d){var e=Mb.getPlayer(a);return Mb.player.stopMouseOverVolumeEvents?(c=null,d=null):(null!=document.getElementById("mb_video_syncad")||Mb.helpers.hasClass(e,"syncad")||Mb.helpers.hasClass(e,"syncad_main")||!0===Mb.is_inpicture)&&(c=1,d=Mb.player.startVolume),!!e&&(e.setVolume(b),Mb.player.isMuted=0==b?1:0,Mb.player.currentVolume=b,Mb.player.setMuteIcon(a,b),null!=c?void 0!==e.one?(e.off("mouseover"),
e.one("mouseover",function(){Mb.player.setVolume(a,c),Mb.events.muteOnStart=!1})):e.onmouseover=function(){Mb.player.setVolume(a,c),Mb.events.muteOnStart=!1}:void 0!==e.off?e.off("mouseover"):e.onmouseover=null,null!=d?void 0!==e.one?(e.off("mouseout"),e.one("mouseout",function(){Mb.player.setVolume(a,d)})):e.onmouseout=function(){Mb.player.setVolume(a,d)}:void 0!==e.off?e.off("mouseout"):e.onmouseout=null,!0)},start:function(a,b,c){if(b>0){return Mb.handles.handleName=setTimeout(function(){
Mb.player.start(a,0,c)},b),void Mb.timeouts.push(Mb.handles.handleName)}var d=Mb.getPlayer(a);if(null!=d){if(1==mb_players[a].isExternal)void 0!==Mb.player.external.start["p"+Mb.player.params[a].prod]&&Mb.player.external.start["p"+Mb.player.params[a].prod](a);else{if("function"!=typeof d.playVideo)return;Mb.playVideo?d.playVideo():d.playAd(),Mb.player.adImpressionDone&&(mb_players[a].isPlaying=!0,Mb.player.startTracking(a))}Mb.playerState[a]=1,
null!=document.getElementById("mb_video_syncad")||Mb.helpers.hasClass(document.getElementById(a),"syncad")||!0===Mb.is_inpicture?(Mb.player.setVolume(a,Mb.player.startVolume,1,Mb.player.startVolume),Mb.events[a].checkScroll=!1,Mb.events[a].checkStopScroll=!0):c?(Mb.player.setVolume(a,Mb.player.startVolume,1,null),Mb.events[a].checkScroll=!1,Mb.events[a].checkStopScroll=!0):Mb.player.setVolume(a,1,null,null)}},pause:function(a){var b=Mb.getPlayer(a);b&&1==Mb.playerState[a]&&(b.pauseVideo(),
b.pauseAd(),Mb.player.callBack.adPaused(a),Mb.playerState[a]=0,Mb.events[a].checkScroll=!0,Mb.events[a].checkStopScroll=!1)},startTracking:function(a){clearTimeout(Mb.player.adTimeout),null!=document.getElementById(a)&&(Mb.player.adTimeout=window.setTimeout(function(){var b=0;"mb_video_syncad_bottom"==Mb.syncad.currentContainer&&(b=1);var c=Mb.getScrollDelta(!1);Mb.player.kpis.scrollDeltaValues.push(c);var d=Mb.getVisibility(a,!0);if(Mb.player.kpis.visibilityValues.push(d),
void 0!==window.MbScrollDelta&&window.MbScrollDelta.push(c),void 0!==window.MbScrollDeltaInView&&d>50&&window.MbScrollDeltaInView.push(c),Mb.viewabilityTotal+=d,Mb.player.handleRetargetingTrackers(a,d),d>=50){Mb.player.impressionMrcDuration++;var e=parseFloat(Mb.helpers.getAttentionScore(a));Mb.player.attentionScoreAdClickedFlag||(Mb.attentionScore+=e),e>=.9&&Mb.attentionScoreWeightExceeded++}else Mb.player.impressionMrcDone||(Mb.player.impressionMrcDuration=0)
;100==d&&Mb.player.secondsFullViewability++,d<50&&(Mb.moved_below_50p_vis++,Mb.player.kpis.movedBelow50pVisSecond=Mb.timestamps.currentAdTime);var f=0,g=document.getElementById("mb_container");if(null!=g?f=g.offsetWidth:null!=(g=document.getElementById(a))&&(f=g.offsetWidth),f>=300&&Mb.player.kpis.player_width_seconds_300++,f>=320&&Mb.player.kpis.player_width_seconds_320++,f>=480&&Mb.player.kpis.player_width_seconds_480++,mb_players[a].isPlaying&&!Mb.player.cancelTimeTracker){
if(void 0!==mb_players[a].timeTracker&&""!=mb_players[a].timeTracker){Mb.timestamps.currentAdTime+=1;var h=Mb.helpers.parseUrl(mb_players[a].timeTracker,{ad_server_id:Mb.player.currentAdserverId,visibility:d,currentPosition:b,adprogress:Mb.player.adprogress},a);Mb.helpers.loadUrl(h,"text/javascript","script",function(){}),Mb.player.adprogress=0,Mb.player.startTracking(a)}
if(void 0!==mb_players[a].enable_attention_test&&1==mb_players[a].enable_attention_test&&void 0!==mb_players[a].timeTrackerTest&&""!=mb_players[a].timeTrackerTest){Mb.timestamps.currentAdTime+=1;var h=Mb.helpers.parseUrl(mb_players[a].timeTrackerTest,{ad_server_id:Mb.player.currentAdserverId,visibility:d,currentPosition:b},a);Mb.helpers.loadUrl(h,"text/javascript","script",function(){}),Mb.player.startTracking(a)}if(2==Mb.player.impressionMrcDuration&&!Mb.player.impressionMrcDone){
if(void 0!==mb_players[a].mrcImpression&&""!=mb_players[a].mrcImpression){var h=Mb.helpers.parseUrl(mb_players[a].mrcImpression,{ad_server_id:Mb.player.currentAdserverId,visibility:d,currentPosition:b},a);Mb.helpers.loadUrl(h,"text/javascript","script",function(){})}Mb.player.impressionMrcDone=!0}if(Mb.helpers.log("Last quartile : "+Mb.player.lastQuartile),Mb.helpers.log("Ad duration : "+Mb.player.getAdDuration(a)),
Mb.helpers.log("Seconds with full visibility : "+Mb.player.secondsFullViewability),!Mb.player.groupMTrackerDone&&void 0!==mb_players[a].groupmImpression&&""!=mb_players[a].groupmImpression&&Mb.player.lastQuartile>=50){var i=Mb.player.getAdDuration(a);if(i>0){var j=Math.floor(i/2);if(Mb.player.secondsFullViewability>=j){var h=Mb.helpers.parseUrl(mb_players[a].groupmImpression,{ad_server_id:Mb.player.currentAdserverId,visibility:d,currentPosition:b},a)
;Mb.helpers.loadUrl(h,"text/javascript","script",function(){}),Mb.player.groupMTrackerDone=!0,Mb.helpers.log("Groupm impression tracker sent")}}}if("object"==typeof Mb.attentionTrackers){var k=Mb.helpers.getAttentionScore(a);for(var l in Mb.attentionTrackers)if(k>=l)for(var m in Mb.attentionTrackers[l])if(""!=Mb.attentionTrackers[l][m]){var h=Mb.helpers.parseUrl(Mb.attentionTrackers[l][m],{},a);Mb.helpers.loadUrl(h,"text/javascript","script",function(){}),Mb.attentionTrackers[l][m]=""}}}},1e3),
Mb.timeouts.push(Mb.player.adTimeout))},stopTracking:function(a){clearTimeout(Mb.player.adTimeout)},external:{start:{p756:function(a){var b=document.getElementById("WATPlayerIframe_"+a);if(b&&b.contentWindow)try{b.contentWindow.postMessage("setPlay@@","http://www.wat.tv")}catch(a){Mb.helpers.log("WatPlayer - sendEvent - error - "+event+a.message)}}},pause:{p756:function(a){var b=document.getElementById("WATPlayerIframe_"+a);if(b&&b.contentWindow)try{
b.contentWindow.postMessage("setPause@@","http://www.wat.tv")}catch(a){Mb.helpers.log("WatPlayer - sendEvent - error - "+event+a.message)}}},setVolume:{p756:function(a,b){var c="";c=0==b?"setMute":"setUnMute";var d=document.getElementById("WATPlayerIframe_"+a);if(d&&d.contentWindow)try{d.contentWindow.postMessage(c+"@@","http://www.wat.tv")}catch(a){Mb.helpers.log("WatPlayer - sendEvent - error - "+event+a.message)}}}},callBack:{adserverTime:0,scriptLoadingDuration:0,playerReady:function(a){
Mb.helpers.log("Player Ready ("+a+")");var b=Mb.getPlayer(a);if(null!=document.getElementById("mb_video_syncad")&&0==mb_players[a].disable_syncad&&void 0!==window.MB_FIXED_SYNCROLL&&window.MB_FIXED_SYNCROLL>=1){var c=Mb.helpers.calculateElementHeightByRatio(document.getElementById("mb_video_syncad")),d=Mb.helpers.addTitleAndCtaHeight(c);void 0!==window.MB_PADDING&&(document.getElementById("mb_video_syncad").parentNode.style.marginTop=window.MB_PADDING+"px",
document.getElementById("mb_video_syncad").parentNode.style.paddingTop="",document.getElementById("mb_video_syncad").parentNode.style.backgroundColor=""),document.getElementById("mb_video_syncad").parentNode.style.height=d+"px",document.getElementById("mb_container").style.height=c+"px",Mb.syncad.playerDisplayed=!0,Mb.helpers.moveToContainer(document.getElementById("mb_moving_container"),document.getElementById("mb_video_syncad"))}
if(Mb.isIphone())Mb.helpers.log("iPhone detected, no autoStart on scroll");else{var e=function(){if(1==Mb.forceStartOnScroll)return Mb.forceStartOnScroll=!1,void b.playVideo();var c=Mb.getPosition(a,!0);Mb.helpers.log("Event : "+c),"play"==c?b.playAd():"pause"==c&&b.pause()};Mb.isMobile&&Mb.player.params[a].chrome55Plus?Mb.userGesture.handle(e):(document.addEventListener("touchstart",e),Mb.addToEventsList("touchstart",e,document,!1))}mb_players[a].ready=!0;var b=Mb.getPlayer(a)
;if(Mb.events[a].checkScroll=!0,Mb.events[a].checkStopScroll=!1,b.addPlayerEventListener?(b.addPlayerEventListener("adStarted","Mb.player.callBack.adStarted"),b.addPlayerEventListener("adCompleted","Mb.player.callBack.adCompleted"),b.addPlayerEventListener("adPaused","Mb.player.callBack.adPaused"),b.addPlayerEventListener("adResumed","Mb.player.callBack.adResumed"),b.addPlayerEventListener("prerollStarted","Mb.player.callBack.prerollStarted"),
b.addPlayerEventListener("postrollStarted","Mb.player.callBack.postrollStarted"),b.addPlayerEventListener("videoStarted","Mb.player.callBack.videoStarted"),b.addPlayerEventListener("videoCompleted","Mb.player.callBack.videoCompleted"),b.addPlayerEventListener("videoPaused","Mb.player.callBack.videoPaused"),b.addPlayerEventListener("videoResumed","Mb.player.callBack.videoResumed"),b.addPlayerEventListener("replayClicked","Mb.player.callBack.replayClicked"),
b.addPlayerEventListener("manifestLoaded","Mb.player.callBack.manifestLoaded"),b.addPlayerEventListener("adImpression","Mb.player.callBack.adImpression"),b.addPlayerEventListener("adCreativeView","Mb.player.callBack.adCreativeView"),b.addPlayerEventListener("adStart","Mb.player.callBack.adStart"),b.addPlayerEventListener("adFirstQuartile","Mb.player.callBack.adFirstQuartile"),b.addPlayerEventListener("adMidPoint","Mb.player.callBack.adMidPoint"),
b.addPlayerEventListener("adThirdQuartile","Mb.player.callBack.adThirdQuartile"),b.addPlayerEventListener("adCloseLinear","Mb.player.callBack.adCloseLinear"),b.addPlayerEventListener("adComplete","Mb.player.callBack.adComplete"),b.addPlayerEventListener("adClickTracking","Mb.player.callBack.adClickTracking"),b.addPlayerEventListener("adMediaFileSelected","Mb.player.callBack.adMediaFileSelected"),b.addPlayerEventListener("adLoaded","Mb.player.callBack.adLoaded"),
b.addPlayerEventListener("adTrackingReady","Mb.player.callBack.adTrackingReady"),b.addPlayerEventListener("videoImpression","Mb.player.callBack.videoImpression"),b.addPlayerEventListener("videoStart","Mb.player.callBack.videoStart"),b.addPlayerEventListener("videoFirstQuartile","Mb.player.callBack.videoFirstQuartile"),b.addPlayerEventListener("videoMidPoint","Mb.player.callBack.videoMidPoint"),b.addPlayerEventListener("videoThirdQuartile","Mb.player.callBack.videoThirdQuartile"),
b.addPlayerEventListener("videoComplete","Mb.player.callBack.videoComplete"),b.addPlayerEventListener("adserverListEmptied","Mb.player.callBack.adserverListEmptied"),b.addPlayerEventListener("adserverLoading","Mb.player.callBack.adserverLoading"),b.addPlayerEventListener("adserverCompleted","Mb.player.callBack.adserverCompleted"),b.addPlayerEventListener("adserverFailed","Mb.player.callBack.adserverFailed")):b.attachEvent&&(b.attachEvent("onadStarted","Mb.player.callBack.adStarted"),
b.attachEvent("onadCompleted","Mb.player.callBack.adCompleted"),b.attachEvent("onadPaused","Mb.player.callBack.adPaused"),b.attachEvent("onadResumed","Mb.player.callBack.adResumed"),b.attachEvent("onprerollStarted","Mb.player.callBack.prerollStarted"),b.attachEvent("onpostrollStarted","Mb.player.callBack.postrollStarted"),b.attachEvent("onvideoStarted","Mb.player.callBack.videoStarted"),b.attachEvent("onvideoCompleted","Mb.player.callBack.videoCompleted"),
b.attachEvent("onvideoPaused","Mb.player.callBack.videoPaused"),b.attachEvent("onvideoResumed","Mb.player.callBack.videoResumed"),b.attachEvent("onreplayClicked","Mb.player.callBack.replayClicked"),b.attachEvent("onmanifestLoaded","Mb.player.callBack.manifestLoaded"),b.attachEvent("onadImpression","Mb.player.callBack.adImpression"),b.attachEvent("onadCreativeView","Mb.player.callBack.adCreativeView"),b.attachEvent("onadStart","Mb.player.callBack.adStart"),
b.attachEvent("onadFirstQuartile","Mb.player.callBack.adFirstQuartile"),b.attachEvent("onadMidPoint","Mb.player.callBack.adMidPoint"),b.attachEvent("onadThirdQuartile","Mb.player.callBack.adThirdQuartile"),b.attachEvent("onadCloseLinear","Mb.player.callBack.adCloseLinear"),b.attachEvent("onadComplete","Mb.player.callBack.adComplete"),b.attachEvent("onadClickTracking","Mb.player.callBack.adClickTracking"),b.attachEvent("onadMediaFileSelected","Mb.player.callBack.adMediaFileSelected"),
b.attachEvent("onadLoaded","Mb.player.callBack.adLoaded"),b.attachEvent("onadTrackingReady","Mb.player.callBack.adTrackingReady"),b.attachEvent("onvideoImpression","Mb.player.callBack.videoImpression"),b.attachEvent("onvideoStart","Mb.player.callBack.videoStart"),b.attachEvent("onvideoFirstQuartile","Mb.player.callBack.videoFirstQuartile"),b.attachEvent("onvideoMidPoint","Mb.player.callBack.videoMidPoint"),b.attachEvent("onvideoThirdQuartile","Mb.player.callBack.videoThirdQuartile"),
b.attachEvent("onvideoComplete","Mb.player.callBack.videoComplete"),b.attachEvent("onadserverListEmptied","Mb.player.callBack.adserverListEmptied"),b.attachEvent("onadserverLoading","Mb.player.callBack.adserverLoading"),b.attachEvent("onadserverCompleted","Mb.player.callBack.adserverCompleted"),b.attachEvent("onadserverFailed","Mb.player.callBack.adserverFailed")),b.isIMA){var f=!1,g=function(){if(!f&&Mb.adsEnabled){
if(Mb.syncad.prerollCompletedDone)Mb.helpers.log("Preroll already completed. IMA will not be initiated.");else if(Mb.playerIsHtml5){var b=Mb.getPlayer(a);try{b.initIMA()}catch(a){Mb.helpers.log("Error while initiating IMA. Stopping event.")}}Mb.isMobile&&Mb.player.params[a].chrome55Plus||(document.removeEventListener("touchcancel",g),document.removeEventListener("touchstart",g)),f=!0}}
;Mb.isMobile&&Mb.player.params[a].chrome55Plus?Mb.userGesture.handle(g):0!=window.mb_players[a].jsonDoc.mobile_adservers.length&&Mb.addscrollEvent(g)}if(Mb.isIphone()&&Mb.enableSyncAd){var h=function(){Mb.mobile.canvas.mp3Enabled||null!=Mb.mobile.canvas.audio&&Mb.mobile.canvas.audio.enableUserGesture(h)};Mb.addscrollEvent(h)}if(mb_players[a].pcent>0||null!=document.getElementById("mb_video_syncad")){var i=null;Mb.addscrollEvent(function(){
Mb.isIphone()&&Mb.iOSversion()>=8?(null!=i&&clearTimeout(i),i=window.setTimeout(function(){i=null,Mb.getPosition(a,!1)},500)):Mb.getPosition(a,!1)}),Mb.getPosition(a,!1)}else 1==mb_players[a].mouseOver&&(b.el&&(b=b.el()),b.onmouseover=function(){Mb.delayStart(a)},b.onmouseout=function(){Mb.stopDelay(a)});if(void 0!==window.MB_initCallBack&&MB_initCallBack(a),null!=document.getElementById("mb_video_syncad")&&"mb_video_syncad"!=a&&0==mb_players[a].disable_syncad){if(Mb.syncrollHasAd=!1,
Mb.forceStartOnScroll=!0,!Mb.isMobile)try{var j=window.setTimeout(function(){Mb.player.start(a,0,!0)},100);Mb.timeouts.push(j)}catch(a){Mb.helpers.log(a)}Mb.player.callBack.event(a,"printSyncroll")}Mb.player.callBack.scriptLoadingDuration=Mb.helpers.getDelay(),Mb.player.callBack.event(a,"print"),Mb.fireCallbacks("playerReady",a)},externalPlayerReady:function(a){Mb.helpers.log("External player Ready ("+id+")"),a.forEach(function(a){a=Mb.helpers.parseUrl(decodeURIComponent(a),[],"mb_container"),
Mb.helpers.loadUrl(a,"text/javascript","script",function(){})}),Mb.fireCallbacks("externalPlayerReady",id)},prerollStarted:function(a){Mb.helpers.log("Preroll Started ("+a+")"),Mb.enableSyncAd&&Mb.syncad.checkDisplay(Mb.getPlayer(a),a)},replayClicked:function(a){Mb.helpers.log("Replay Clicked ("+a+")")},manifestLoaded:function(a){Mb.helpers.log("Manifest Loaded ("+a+")")},adCreativeView:function(a){Mb.helpers.log("Ad CreateView ("+a+")")},adStart:function(a){Mb.helpers.log("Ad Start ("+a+")"),
Mb.fireCallbacks("adStart",a)},adFirstQuartile:function(a){Mb.player.lastQuartile=25,Mb.helpers.log("Ad 25% ("+a+")"),Mb.player.calculatedDuration=4*Mb.timestamps.currentAdTime;Mb.syncad.currentContainer,Mb.player.adprogress=25,Mb.fireCallbacks("adFirstQuartile",a)},adMidPoint:function(a){Mb.player.lastQuartile=50,Mb.helpers.log("Ad 50% ("+a+")");Mb.syncad.currentContainer,Mb.player.adprogress=50,Mb.fireCallbacks("adMidpoint",a)},adThirdQuartile:function(a){Mb.player.lastQuartile=75,
Mb.helpers.log("Ad 75% ("+a+")");Mb.syncad.currentContainer,Mb.player.adprogress=75,Mb.fireCallbacks("adThirdQuartile",a)},adCloseLinear:function(a){Mb.helpers.log("Ad Close Linear ("+a+")");Mb.syncad.currentContainer,Mb.fireCallbacks("adCloseLinear",a)},adComplete:function(a){Mb.player.lastQuartile=100,Mb.helpers.log("Ad 100% ("+a+")");var b=0;if("mb_video_syncad_bottom"==Mb.syncad.currentContainer&&(b=1),void 0!==mb_players[a].timeTracker&&""!=mb_players[a].timeTracker){
var c=Mb.getVisibility(a,!0);Mb.viewabilityTotal+=c,Mb.timestamps.currentAdTime+=1;var d=Mb.helpers.parseUrl(mb_players[a].timeTracker,{ad_server_id:Mb.player.currentAdserverId,visibility:c,currentPosition:b,adprogress:100},a);Mb.helpers.loadUrl(d,"text/javascript","script",function(){})}Mb.fireCallbacks("adComplete",a)},adClickTracking:function(a){Mb.helpers.log("Ad Clicked ("+a+")"),Mb.player.adImpressionDone&&Mb.dataLayer.send({mdb:1,type:"var",data:{session_id:"123456",
adserver_id:Mb.player.currentAdserverId,deal_id:Mb.rtb_dealId,campaign_id:Mb.campaign_id,rtbdata:Mb.rtb_data}}),Mb.timestamps.currentAdTime>8&&(Mb.attentionScore<48.75&&(Mb.attentionScore=48.75),Mb.player.attentionScoreAdClickedFlag=1),Mb.fireCallbacks("adClickTracking",a)},adTrackingReady:function(a){Mb.helpers.log("AdTracking Ready ("+a+")");var b=Mb.getPlayer(a),c=JSON.parse(b.getAdTracking());Mb.syncad.adTracking[a]={clickTracking:c.clickTracking,clickThrough:c.clickThrough}},
videoStart:function(a){Mb.helpers.log("Video Start ("+a+")")},videoFirstQuartile:function(a){Mb.helpers.log("Video 25% ("+a+")")},videoMidPoint:function(a){Mb.helpers.log("Video 50% ("+a+")")},videoThirdQuartile:function(a){Mb.helpers.log("Video 75% ("+a+")")},videoComplete:function(a){Mb.helpers.log("Video Complete ("+a+")")},adserverLoading:function(a,b,c){if(void 0!==window.MdbPlayerEventLog&&window.MdbPlayerEventLog("adserver_inventory"),void 0===b&&(b=0),void 0===c&&(c=0),
Mb.player.callBack.adserverTime=(new Date).getTime(),Mb.enableIntelligentSyncroll=Mb._enableIntelligentSyncroll,Mb.stopSyncIfQuickPlay=Mb._stopSyncIfQuickPlay,void 0!==mb_players[a].adserverLoading){var d=mb_players[a].adserverLoading,e=Mb.adsEnabled?0:1;Mb.player.adserverListStarted||(Mb.player.adserverListStarted=!0,Mb.helpers.loadUrl(Mb.helpers.parseUrl(d,{ad_server_id:0,adblock:e},a),"text/javascript","script",function(){}));Mb.getPlayer(a);Mb.helpers.loadUrl(Mb.helpers.parseUrl(d,{
ad_server_id:b,adblock:e,publisher_tag:c},a),"text/javascript","script",function(){})}Mb.helpers.log("Adserver Loading ("+a+")")},adserverCompleted:function(a){void 0!==window.MdbPlayerEventLog&&window.MdbPlayerEventLog("adserver_completed");var b=(new Date).getTime(),c=b-Mb.player.callBack.adserverTime,d=Mb.getPlayer(a),e=d.getAdServerId();if(Mb.helpers.log("Adserver Completed in "+c+" ms"),void 0!==mb_players[a].latencyTracker){var f=mb_players[a].latencyTracker
;Mb.helpers.loadUrl(Mb.helpers.parseUrl(f,{ad_server_id:e,latency:c,reporting_value:"load",failed:0},a),"text/javascript","script",function(){})}},adserverFailed:function(a){void 0!==window.MdbPlayerEventLog&&window.MdbPlayerEventLog("adserver_failed");var b=(new Date).getTime(),c=b-Mb.player.callBack.adserverTime,d=Mb.getPlayer(a),e=d.getAdServerId();if(Mb.helpers.log("Adserver Failed in "+c+" ms"),void 0!==mb_players[a].latencyTracker){var f=mb_players[a].latencyTracker
;Mb.helpers.loadUrl(Mb.helpers.parseUrl(f,{ad_server_id:e,latency:c,reporting_value:"error",failed:1},a),"text/javascript","script",function(){})}},adStarted:function(id){if(void 0!==window.MdbPlayerEventLog&&window.MdbPlayerEventLog("adstarted"),Mb.helpers.log("Ad started ("+id+")"),Mb.player.ispostroll=!1,(Mb.syncad.prerollCompletedDone||null==document.getElementById("mb_video_syncad")&&0==mb_players[id].disable_syncad)&&(Mb.helpers.log("No syncroll - Will play ad ("+id+")"),
Mb.getPlayer(id).playAd()),Mb.events.muteOnStart&&Mb.player.setVolume(id,Mb.player.startVolume,1,null),"undefined"!=mb_players[id].playVideo_event&&eval(mb_players[id].playVideo_event),1!=mb_players[id].videoStart){var player=Mb.getPlayer(id),mediaFile=player.getAdMediaFile();if("application/x-shockwave-flash"==mediaFile.mime_type||"application/javascript"==mediaFile.mime_type){var timeoutid=window.setTimeout(function(){Mb.syncad.adLoaded(id)},50);Mb.timeouts.push(timeoutid)}
void 0!==window.Mb_onAdStarted&&Mb_onAdStarted(id),Mb.fireCallbacks("adStarted",id)}},videoStarted:function(id){Mb.syncad.prerollCompleted(id),Mb.endAfterPrerollCompleted[id]||(Mb.helpers.log("Video Started ("+id+")"),Mb.player.removeMuteButton(id),Mb.events.muteOnStart&&Mb.player.setVolume(id,Mb.player.muteVolume,1,null),"undefined"!=mb_players[id].playVideo_event&&eval(mb_players[id].playVideo_event),mb_players[id].videoStart=1,void 0!==window.Mb_onVideoStarted&&Mb_onVideoStarted(id),
Mb.fireCallbacks("videoStarted",id))},videoResumed:function(a){if(Mb.helpers.log("Video Resumed ("+a+")"),Mb.endAfterPrerollCompleted[a])return void Mb.syncad.prerollCompleted(a);mb_players[a].isPlaying=!0,void 0!==window.Mb_onVideoResumed&&Mb_onVideoResumed(a),Mb.fireCallbacks("videoResumed",a)},videoPaused:function(a){Mb.helpers.log("Video Paused ("+a+")"),mb_players[a].isPlaying=!1,void 0!==window.Mb_onVideoPaused&&Mb_onVideoPaused(a),Mb.fireCallbacks("videoPaused",a)},
postrollStarted:function(a){Mb.helpers.log("Postroll Started ("+a+")"),Mb.player.ispostroll=!0,Mb.fireCallbacks("postrollStarted",a)},adCompleted:function(a){if(Mb.playVideo=!0,Mb.helpers.log("Ad Completed ("+a+")"),Mb.syncad.prerollCompleted(a),!Mb.endAfterPrerollCompleted[a]&&(null!=document.getElementById("mb_video_syncad")||null!=document.getElementById("mb_video_syncad_bottom"))&&0==mb_players[a].disable_syncad){
if(void 0!==window.MB_PAUSE_AFTER_AD&&1==window.MB_PAUSE_AFTER_AD||void 0===window.MB_PAUSE_AFTER_AD){Mb.getPlayer(a).pauseVideo()}Mb.player.stopMouseOverVolumeEvents=!0,mb_players[Mb.syncad.mainPlayerId].checkScroll=!1,mb_players[Mb.syncad.mainPlayerId].checkStopScroll=!1}Mb.player.ispostroll&&Mb.player.callBack.videoCompleted(a),Mb.player.ispostroll=!1,Mb.player.stopTracking(a),Mb.fireCallbacks("adCompleted",a),void 0!==window.MB_adCompleted&&window.MB_adCompleted(a)},adImpression:function(a){
if(void 0!==window.MdbPlayerEventLog&&window.MdbPlayerEventLog("adimpression"),Mb.syncrollHasAd=!0,Mb.syncad.scrolled(a),mb_players[a].skip_duration>0&&Mb.enableSyncAd&&(Mb.syncad.skipDelay=mb_players[a].skip_duration,Mb.syncad.addSkip(a)),Mb.appendAdchoice&&Mb.player.addAdChoice(a),(null!=document.getElementById("mb_video_syncad")||Mb.helpers.hasClass(document.getElementById(a),"syncad")||!0===Mb.is_inpicture)&&(Mb.player.setVolume(a,Mb.player.startVolume,1,Mb.player.startVolume),
Mb.events[a].checkScroll=!1,Mb.events[a].checkStopScroll=!0),mb_players[a].isPlaying=!0,Mb.player.adImpressionDone=!0,Mb.helpers.log("Ad Impression ("+a+")"),Mb.fireCallbacks("adImpression",a,{floor_price:Mb.player.impressionFloorPrice}),Mb.timestamps.adImpression=(new Date).getTime(),Mb.timestamps.currentAdTime=0,Mb.player.startTracking(a),void 0!==window.Mb_jsTrackers&&"undefined"!==window.Mb_jsTrackers.impression)for(var b in window.Mb_jsTrackers.impression){
var c=window.Mb_jsTrackers.impression[b];Mb.helpers.loadUrl(c,"text/javascript","script",function(){})}void 0!==window.Mb_onAdImpression&&Mb_onAdImpression(a)},adPaused:function(a){var b=mb_players[a].isPlaying;mb_players[a].isPlaying=!1,Mb.player.stopTracking(a),Mb.helpers.log("Ad Paused ("+a+")"),null!=document.getElementById("mb_video_syncad")&&(Mb.syncad.timeout=setTimeout(function(){
if(Mb.endAfterPrerollCompleted[Mb.syncad.mainPlayerId]&&Mb.stopSyncIfQuickPlay&&void 0!==Mb.timestamps.adImpression&&(new Date).getTime()-Mb.timestamps.adImpression<=Mb._stopSyncIfQuickPlayDuration){var b=window.setTimeout(function(){document.getElementById("mb_video_syncad_bottom").className="no_syncroll",document.getElementById("mb_video_syncad_bottom").style.height="0px",document.getElementById("mb_video_syncad_bottom").style.minHeight="0px",Mb.stopSyncIfQuickPlay=!1,
void 0!==window.Mb_syncrollRemoved&&Mb_syncrollRemoved(a)},100);return void Mb.timeouts.push(b)}},500),Mb.timeouts.push(Mb.syncad.timeout)),b&&Mb.fireCallbacks("adPaused",a),void 0!==window.MB_DEV_SCRIPT&&1==window.MB_DEV_SCRIPT&&void 0!==window.Mb_adPaused&&window.Mb_adPaused()},adResumed:function(a){mb_players[a].isPlaying=!0,Mb.player.startTracking(a);var b=document.getElementById(a).parentNode.getElementsByClassName("mb_mute_btn");b.length>0&&(b[0].style.visibility="visible"),
Mb.helpers.log("Ad Resumed ("+a+")"),Mb.fireCallbacks("adResumed",a)},adFullscreenChange:function(a,b){b&&Mb.fireCallbacks("adFullscreen",a)},adError:function(a,b){void 0!==window.MdbPlayerEventLog&&window.MdbPlayerEventLog("aderror"),Mb.helpers.log("Ad Error ("+a+")");var c={adblock:Mb.adsEnabled?0:1,error_code:b};Mb.fireCallbacks("adError",a,c)},adserverListEmptied:function(a){if(Mb.endAfterPrerollCompleted[a])return void Mb.syncad.prerollCompleted(a)
;Mb.helpers.log("Adserver list completed. No more adserver to load ("+a+")")},adLoaded:function(a){Mb.helpers.log("Ad Loaded ("+a+")")},adMediaFileSelected:function(a){Mb.playerState[a]=0;var b=!1;void 0!==window.MB_FIXED_SYNCROLL&&window.MB_FIXED_SYNCROLL>=1&&(b=!0),null==document.getElementById("mb_video_syncad")||0!=mb_players[a].disable_syncad||b||Mb.hadPreroll||Mb.syncrollScrolled||(document.getElementById("mb_container").style.height="1px",
document.getElementById("mb_container").style.minHeight="0px"),Mb.helpers.log("Ad Mediafile selected ("+a+")");var c=Mb.getPlayer(a);Mb.player.currentAdserverId=c.getAdServerId(),Mb.helpers.loadUrl(mb_players[a].server+"/cta/"+Mb.player.currentAdserverId+".js?rnd="+Math.random(),"text/javascript","script",function(){1==mb_players[a].enableSound&&void 0!==window.Mb_startVolume?Mb.player.startVolume=window.Mb_startVolume:Mb.player.startVolume=Mb.player.muteVolume,
Mb.player.stopMouseOverVolumeEvents||!Mb.enableSyncAd&&!0!==Mb.is_inpicture||Mb.player.setVolume(a,Mb.player.startVolume,null,null)});var d=c.getAdMediaFile();if(Mb.syncad.mainPlayerId=a,"application/x-shockwave-flash"!=d.mime_type&&"application/javascript"!=d.mime_type){var e=window.setTimeout(function(){Mb.syncad.adLoaded(a)},50);Mb.timeouts.push(e)}Mb.fireCallbacks("adMediaFileSelected",a)},videoImpression:function(a){Mb.helpers.log("Video Impression ("+a+")"),
void 0!==window.Mb_onVideoImpression&&Mb_onVideoImpression(a),Mb.fireCallbacks("videoImpression",a)},videoCompleted:function(a){if(Mb.endAfterPrerollCompleted[a])return void Mb.syncad.prerollCompleted(a);if(Mb.helpers.log("Video completed ("+a+")"),void 0!==window.MB_videoCompleted&&MB_videoCompleted(a),void 0!==mb_players[a].blocplayer_id&&mb_players[a].blocplayer_id>0&&window.mb_blocks[mb_players[a].blocplayer_id].showNextVideo>0){Mb.handles.handleName=window.setTimeout(function(){
if(!mb_players[a].isPlaying){var b=document.createElement("div"),c=document.createElement("div");b.className="mb_bloc_waitscreen";var d="playCurrentVideo_"+a,e="playNextVideo_"+a
;b.innerHTML="<div style='width: 60%; text-align: left;'><div style='float: left'>La vid&eacute;o suivante d&eacute;marre <br />dans <span class='seconds'>"+window.mb_blocks[mb_players[a].blocplayer_id].showNextVideo+"</span> secondes</div><div><img src='//static.mediabong.com/img/pause_off.png' style='height: 32px; margin-top: 2px; margin-left: 10px; cursor: pointer' onClick='Mb.bloc.stopNextVideo(this);'/></div></div>",b.innerHTML+="<div style='clear:both;'></div>"
;for(var f=document.getElementById(a),g=Mb.helpers.getParentNode(f).parentNode,h=Mb.bloc.getNextVideo(g),i=window.mb_blocks[mb_players[a].blocplayer_id].videos,j=i.length,k=h;k<j&&i[k].external;)void 0!==i[k+1]&&k++;k<j&&void 0!==i[k]&&(h=k);for(var l=g.getElementsByClassName("mb_bloc_carousel_item"),m=0,n=0;n<l.length;n++)Mb.helpers.hasClass(l[n],"mb_bloc_item_playing")&&(m=n);var o=mb_blocks[mb_players[a].blocplayer_id].videos[h],p=document.createElement("img"),q=document.createElement("div")
;p.src=o.thumb,p.className="thumb",q.innerHTML=o.title,q.className="title",q.style.fontSize="0.7em",c.style.width="70%",c.style.marginRight="auto",c.style.marginLeft="auto",c.style.setProperty("text-align","center","important");var r=document.createElement("div");r.id=e,r.style.cursor="pointer",r.style.display="inline-block",r.style.backgroundColor="#4e4e4e",r.style.borderRadius="4px",r.style.padding="2px 4px",r.innerHTML="Lire maintenant ";var s=document.createElement("div")
;s.style.backgroundImage="url(//static.mediabong.com/next-horizontal_white.png)",s.style.setProperty("background-size","48px"),s.style.backgroundPosition="-12px",s.style.display="inline-block",s.style.width="10px",s.style.height="12px",r.appendChild(s);var t=document.createElement("div");t.id=d,t.style.cursor="pointer",t.style.display="inline-block",t.style.backgroundColor="#4e4e4e",t.style.borderRadius="4px",t.style.padding="2px 4px",t.style.position="absolute",t.style.left="10px",
t.style.bottom="10px",t.innerHTML=" Rejouer la vid&eacute;o";var u=document.createElement("div");u.style.backgroundImage="url(//static.mediabong.com/prev-horizontal_white.png)",u.style.setProperty("background-size","48px"),u.style.backgroundPosition="-12px",u.style.display="inline-block",u.style.width="10px",u.style.height="12px",t.insertBefore(u,t.firstChild),c.appendChild(p),c.appendChild(q),c.appendChild(r),b.appendChild(c),b.appendChild(t),Mb.helpers.getParentNode(f).appendChild(b),
b.offsetWidth<400?p.style.display="none":b.offsetWidth>440&&(p.src=o.thumb_full,p.style.width="60%");var v=function(c){if(clearInterval(w),mb_players[a].isPlaying)b.parentNode.removeChild(b);else{var d=b.parentNode.parentNode.getElementsByClassName("mb_bloc_carousel_thumb")[c];b.parentNode.removeChild(b),Mb.bloc.playVideo(d,mb_players[a].blocplayer_id,c,!1,0,0)}Mb.bloc.flag.doNextVideoTimer=!0},w=window.setInterval(function(){if(Mb.bloc.flag.doNextVideoTimer){
var a=b.getElementsByClassName("seconds");if(a.length>0){var c=parseInt(a[0].innerHTML);c--,a[0].innerHTML=c,c<=0&&v(h)}else v(h)}},1e3);Mb.intervals.push(w),void 0!==window.addEventListener?(document.getElementById(d).addEventListener("click",function(){v(m)},!1),document.getElementById(e).addEventListener("click",function(){v(h)},!1)):void 0!==window.attachEvent&&(document.getElementById(d).attachEvent("onclick",function(){v(m)}),document.getElementById(e).attachEvent("onclick",function(){v(h)
}))}},3e3),Mb.timeouts.push(Mb.handles.handleName)}Mb.fireCallbacks("videoCompleted",a)},documentVisibilityChanged:function(a){Mb.helpers.log("Document visibility changed ("+a+")"),"hidden"==Mb.documentVisibility&&(Mb.helpers.log("Document hidden ("+a+")"),Mb.player.adImpressionDone&&!Mb.syncad.prerollCompletedDone&&Mb.fireCallbacks("tabHidden",a))},event:function(a,b){if("undefined"!=Mb.player.params[a].events[b]&&null!=Mb.player.params[a].events[b]){
if(void 0!==Mb.player.firedEvents[a+"_"+b]&&1==Mb.player.firedEvents[a+"_"+b])return;var c=Mb.helpers.parseUrl(decodeURIComponent(Mb.player.params[a].events[b]),[],a);Mb.isMobile&&(c+="&m=1"),Mb.helpers.loadUrl(c,"text/javascript","script",function(){void 0!==Mb&&(Mb.player.firedEvents[a+"_"+b]=1)})}}},addAdChoice:function(a){if(null==document.getElementById("mb_adchoice")){var b=document.getElementById(a),c=document.createElement("div");if(null!=b){c.id="mb_adchoice",c.innerHTML="",
c.style.cursor="pointer",c.style.position="absolute",c.style.zIndex="10000001",c.style.top="0px",c.style.left="0px",c.style.color="#333";var d=document.createElement("img");d.id="mb_adchoice_img",d.src="http://static.mediabong.com/img/adchoice/adchoice.png",c.appendChild(d);var e=document.createElement("div");e.id="mb_adchoice_expand",e.style.backgroundColor="#cccccc",e.style.fontSize="12px",e.style.fontFamily="'Times New Roman'",e.style.padding="4px 4px 6px 8px",e.style.cursor="default",
e.style.display="none";var f=document.createElement("div");f.innerHTML="<span>Vuble delivered this advertisement.</span><br><a href='http://youradchoices.com/' target='_blank'>Learn more</a> about the benefits of interest-based advertising.";var g=document.createElement("div");g.style.float="right",g.style.cursor="pointer",g.innerHTML="[close]",e.appendChild(g),e.appendChild(f),c.appendChild(e),d.onclick=function(){d.style.display="none",e.style.display="block"},g.onclick=function(a){
e.style.display="none",d.style.display="block"},Mb.helpers.getParentNode(b).appendChild(c)}}},getAdDuration:function(a){var b=30;return Mb.player.adImpressionDone&&"function"==typeof Mb.getPlayer(a).getAdDuration&&(b=Mb.getPlayer(a).getAdDuration()),b<0&&Mb.player.calculatedDuration>0&&(b=Mb.player.calculatedDuration),b},handleRetargetingTrackers:function(a,b){if(Mb.retargetingTrackers)for(var c in Mb.retargetingTrackers)if("attn"!==c){var d=c.substr(12);if(b>=d){
void 0===Mb.player.secondsTrackers[d]&&(Mb.player.secondsTrackers[d]=0),Mb.player.secondsTrackers[d]+=1;for(var e in Mb.retargetingTrackers[c]){var f=Mb.retargetingTrackers[c][e].value,g=Mb.retargetingTrackers[c][e].operator;if("="==g&&Mb.player.secondsTrackers[d]==f||">"==g&&Mb.player.secondsTrackers[d]>f){var h=Mb.helpers.parseUrl(Mb.retargetingTrackers[c][e].url,{},a);Mb.helpers.loadUrl(h,"text/javascript","script",function(){}),Mb.retargetingTrackers[c].splice(e,e+1)}}
}else Mb.player.secondsTrackers[d]=0}},reset:function(a){Mb.syncad.prerollCompletedDone=!1,Mb.player.cancelTimeTracker=!1,Mb.player.impressionMrcDuration=0,Mb.player.impressionMrcDone=!1,Mb.playerIsHtml5&&Mb.mobile.reset(a)}},Mb.userGesture={scrollTop:document.all?document.scrollTop:window.pageYOffset,scrollLeft:document.all?document.scrollLeft:window.pageXOffset,currentScroll:[0,0],currentPos:[0,0],callbacks:[],emulationStarted:!1,handleTouchStart:function(a){Mb.userGesture.emulationStarted=!0
;var b=a.changedTouches[0];Mb.userGesture.currentScroll[0]=document.all?document.scrollLeft:window.pageXOffset,Mb.userGesture.currentScroll[1]=document.all?document.scrollTop:window.pageYOffset,1==a.touches.length&&(Mb.userGesture.currentPos=[b.screenX,b.screenY]),a.preventDefault()},handleTouchMove:function(a){if(Mb.userGesture.emulationStarted){var b=MbDetectZoom.zoom();if(1==a.touches.length){
var c=a.changedTouches[0],d=-(c.screenX-Mb.userGesture.currentPos[0])/b,e=-(c.screenY-Mb.userGesture.currentPos[1])/b;Mb.userGesture.currentScroll[0]+=d,Mb.userGesture.currentScroll[1]+=e,window.scrollTo(Mb.userGesture.currentScroll[0],Mb.userGesture.currentScroll[1]),Mb.userGesture.currentPos=[c.screenX,c.screenY]}}},handleTouchEnd:function(a,b){if(Mb.userGesture.emulationStarted){for(var c=0;c<Mb.userGesture.callbacks.length;c++)Mb.userGesture.callbacks[c]();Mb.userGesture.reset()}},
handle:function(a){0==Mb.userGesture.callbacks.length&&(document.addEventListener("touchstart",Mb.userGesture.handleTouchStart,{passive:!1}),document.addEventListener("touchmove",Mb.userGesture.handleTouchMove,!1),document.addEventListener("touchend",Mb.userGesture.handleTouchEnd,!1),Mb.addToEventsList("touchstart",Mb.userGesture.handleTouchStart,document,!1),Mb.addToEventsList("touchmove",Mb.userGesture.handleTouchMove,document,!1),
Mb.addToEventsList("touchend",Mb.userGesture.handleTouchEnd,document,!1)),Mb.userGesture.callbacks.push(a)},reset:function(){Mb.userGesture.callbacks=[],document.removeEventListener("touchstart",Mb.userGesture.handleTouchStart),document.removeEventListener("touchmove",Mb.userGesture.handleTouchMove),document.removeEventListener("touchend",Mb.userGesture.handleTouchEnd),Mb.userGesture.emulationStarted=!1}},Mb.inpicture={container:null,player_slot:null,visibility:0,init:function(a,b){
var c=a.currentStyle||window.getComputedStyle(a),d=document.createElement("div");d.style.position="relative",d.style.margin="0px",d.style.padding="0px",d.style.width=c.width,d.style.height=c.height,a.parentNode.replaceChild(d,a),d.appendChild(a);var e=document.createElement("div"),f=document.createElement("div");e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",f.id=b,f.className="no_video",e.appendChild(f),
d.appendChild(e),this.container=d,this.player_slot=e,Mb.is_inpicture=!0,mb_players[b].requireSyncroll=0,mb_players[b].checkStopScroll=!0,Mb.boot(b,"debug_1607222"),window.Mb_onAdImpression=function(a){e.style.visibility="visible"}}},function(a,b,c){"use strict";a[b]=function(){var a=function(){return window.devicePixelRatio||1},b=function(){return{zoom:1,devicePxPerCssPx:1}},c=function(){var b=Math.round(screen.deviceXDPI/screen.logicalXDPI*100)/100;return{zoom:b,devicePxPerCssPx:b*a()}
},d=function(){var b=Math.round(document.documentElement.offsetHeight/window.innerHeight*100)/100;return{zoom:b,devicePxPerCssPx:b*a()}},e=function(){var b=Math.round(window.outerWidth/window.innerWidth*100)/100;return{zoom:b,devicePxPerCssPx:b*a()}},f=function(){var b=Math.round(document.documentElement.clientWidth/window.innerWidth*100)/100;return{zoom:b,devicePxPerCssPx:b*a()}},g=function(){var b=90==Math.abs(window.orientation)?screen.height:screen.width,c=b/window.innerWidth;return{zoom:c,
devicePxPerCssPx:c*a()}},h=function(){var b=function(a){return a.replace(/;/g," !important;")},c=document.createElement("div");c.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0",c.setAttribute("style",b("font: 100px/1em sans-serif; -webkit-text-size-adjust: none; text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;"));var d=document.createElement("div");d.setAttribute("style",b("width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;")),
d.appendChild(c),document.body.appendChild(d);var e=1e3/c.clientHeight;return e=Math.round(100*e)/100,document.body.removeChild(d),{zoom:e,devicePxPerCssPx:e*a()}},i=function(){var a=l("min--moz-device-pixel-ratio","",0,10,20,1e-4);return a=Math.round(100*a)/100,{zoom:a,devicePxPerCssPx:a}},j=function(){return{zoom:i().zoom,devicePxPerCssPx:a()}},k=function(){var b=window.top.outerWidth/window.top.innerWidth;return b=Math.round(100*b)/100,{zoom:b,devicePxPerCssPx:b*a()}},l=function(a,b,c,d,e,f){
function g(c,d,e){var i=(c+d)/2;return e<=0||d-c<f?i:h("("+a+":"+i+b+")").matches?g(i,d,e-1):g(c,i,e-1)}var h,i,j,k;window.matchMedia?h=window.matchMedia:(i=document.getElementsByTagName("head")[0],j=document.createElement("style"),i.appendChild(j),k=document.createElement("div"),k.className="mediaQueryBinarySearch",k.style.display="none",document.body.appendChild(k),h=function(a){j.sheet.insertRule("@media "+a+"{.mediaQueryBinarySearch {text-decoration: underline} }",0)
;var b="underline"==getComputedStyle(k,null).textDecoration;return j.sheet.deleteRule(0),{matches:b}});var l=g(c,d,e);return k&&(i.removeChild(j),document.body.removeChild(k)),l},m=function(){var a=b
;return isNaN(screen.logicalXDPI)||isNaN(screen.systemXDPI)?window.navigator.msMaxTouchPoints?a=d:window.chrome&&!(window.opera||navigator.userAgent.indexOf(" Opera")>=0)?a=e:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0?a=f:"orientation"in window&&"webkitRequestAnimationFrame"in window?a=g:"webkitRequestAnimationFrame"in window?a=h:navigator.userAgent.indexOf("Opera")>=0?a=k:window.devicePixelRatio?a=j:i().zoom>.001&&(a=i):a=c,a}();return{zoom:function(){
return m().zoom},device:function(){return m().devicePxPerCssPx}}}()}(window,"MbDetectZoom"),document.createElement("video"),document.createElement("audio"),document.createElement("track");var vjs=function(a,b,c){var d;if("string"==typeof a){if(0===a.indexOf("#")&&(a=a.slice(1)),vjs.players[a])return vjs.players[a];d=vjs.el(a)}else d=a;if(!d||!d.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return d.player||new vjs.Player(d,b,c)}
;Mb.videojs=window["Mb.videojs"]=vjs,vjs.CDN_VERSION="4.8",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],inactivityTimeout:2e3,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{},errorDisplay:{}},
language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(Mb.videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.addLanguage=function(a,b){
return void 0!==vjs.options.languages[a]?vjs.options.languages[a]=vjs.util.mergeOptions(vjs.options.languages[a],b):vjs.options.languages[a]=b,vjs.options.languages},vjs.players={},"function"==typeof define&&define.amd?define([],function(){return Mb.videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=Mb.videojs),vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(a){var b,c;a=a||{},
b=a.init||a.init||this.prototype.init||this.prototype.init||function(){},c=function(){b.apply(this,arguments)},c.prototype=vjs.obj.create(this.prototype),c.prototype.constructor=c,c.extend=vjs.CoreObject.extend,c.create=vjs.CoreObject.create;for(var d in a)a.hasOwnProperty(d)&&(c.prototype[d]=a[d]);return c},vjs.CoreObject.create=function(){var a=vjs.obj.create(this.prototype);return this.apply(a,arguments),a},vjs.on=function(a,b,c){
if(vjs.obj.isArray(b))return _handleMultipleEvents(vjs.on,a,b,c);var d=vjs.getData(a);d.handlers||(d.handlers={}),d.handlers[b]||(d.handlers[b]=[]),c.guid||(c.guid=vjs.guid++),d.handlers[b].push(c),d.dispatcher||(d.disabled=!1,d.dispatcher=function(b){if(!d.disabled){b=vjs.fixEvent(b);var c=d.handlers[b.type];if(c)for(var e=c.slice(0),f=0,g=e.length;f<g&&!b.isImmediatePropagationStopped();f++)e[f].call(a,b)}}),
1==d.handlers[b].length&&(a.addEventListener?a.addEventListener(b,d.dispatcher,!1):a.attachEvent&&a.attachEvent("on"+b,d.dispatcher))},vjs.off=function(a,b,c){if(null!=a&&vjs.hasData(a)){var d=vjs.getData(a);if(d.handlers){if(vjs.obj.isArray(b))return _handleMultipleEvents(vjs.off,a,b,c);var e=function(b){d.handlers[b]=[],vjs.cleanUpEvents(a,b)};if(b){var f=d.handlers[b];if(f){if(!c)return void e(b);if(c.guid)for(var g=0;g<f.length;g++)f[g].guid===c.guid&&f.splice(g--,1);vjs.cleanUpEvents(a,b)}
}else for(var h in d.handlers)e(h)}}},vjs.cleanUpEvents=function(a,b){var c=vjs.getData(a);0===c.handlers[b].length&&(delete c.handlers[b],a.removeEventListener?a.removeEventListener(b,c.dispatcher,!1):a.detachEvent&&a.detachEvent("on"+b,c.dispatcher)),vjs.isEmpty(c.handlers)&&(delete c.handlers,delete c.dispatcher,delete c.disabled),vjs.isEmpty(c)&&vjs.removeData(a)},vjs.fixEvent=function(a){function b(){return!0}function c(){return!1}if(!a||!a.isPropagationStopped){var d=a||window.event;a={}
;for(var e in d)"layerX"!==e&&"layerY"!==e&&"keyboardEvent.keyLocation"!==e&&("returnValue"==e&&d.preventDefault||(a[e]=d[e]));if(a.target||(a.target=a.srcElement||document),a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement,a.preventDefault=function(){d.preventDefault&&d.preventDefault(),a.returnValue=!1,a.isDefaultPrevented=b,a.defaultPrevented=!0},a.isDefaultPrevented=c,a.defaultPrevented=!1,a.stopPropagation=function(){d.stopPropagation&&d.stopPropagation(),a.cancelBubble=!0,
a.isPropagationStopped=b},a.isPropagationStopped=c,a.stopImmediatePropagation=function(){d.stopImmediatePropagation&&d.stopImmediatePropagation(),a.isImmediatePropagationStopped=b,a.stopPropagation()},a.isImmediatePropagationStopped=c,null!=a.clientX){var f=document.documentElement,g=document.body;a.pageX=a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)}
a.which=a.charCode||a.keyCode,null!=a.button&&(a.button=1&a.button?0:4&a.button?1:2&a.button?2:0)}return a},vjs.trigger=function(a,b){if(null!=a){var c=vjs.hasData(a)?vjs.getData(a):{},d=a.parentNode||a.ownerDocument;if("string"==typeof b&&(b={type:b,target:a}),b=vjs.fixEvent(b),c.dispatcher&&c.dispatcher.call(a,b),d&&!b.isPropagationStopped()&&!1!==b.bubbles)vjs.trigger(d,b);else if(!d&&!b.defaultPrevented){var e=vjs.getData(b.target);b.target[b.type]&&(e.disabled=!0,
"function"==typeof b.target[b.type]&&b.target[b.type](),e.disabled=!1)}return!b.defaultPrevented}},vjs.one=function(a,b,c){if(vjs.obj.isArray(b))return _handleMultipleEvents(vjs.one,a,b,c);var d=function(){vjs.off(a,b,d),c.apply(this,arguments)};d.guid=c.guid=c.guid||vjs.guid++,vjs.on(a,b,d)};var hasOwnProp=Object.prototype.hasOwnProperty;vjs.createEl=function(a,b){var c;return a=a||"div",b=b||{},c=document.createElement(a),vjs.obj.each(b,function(a,b){
-1!==a.indexOf("aria-")||"role"==a?c.setAttribute(a,b):c[a]=b}),c},vjs.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(a){function b(){}return b.prototype=a,new b},vjs.obj.each=function(a,b,c){for(var d in a)hasOwnProp.call(a,d)&&b.call(c||this,d,a[d])},vjs.obj.merge=function(a,b){if(!b)return a;for(var c in b)hasOwnProp.call(b,c)&&(a[c]=b[c]);return a},vjs.obj.deepMerge=function(a,b){var c,d,e;a=vjs.obj.copy(a)
;for(c in b)hasOwnProp.call(b,c)&&(d=a[c],e=b[c],vjs.obj.isPlain(d)&&vjs.obj.isPlain(e)?a[c]=vjs.obj.deepMerge(d,e):a[c]=b[c]);return a},vjs.obj.copy=function(a){return vjs.obj.merge({},a)},vjs.obj.isPlain=function(a){return!!a&&"object"==typeof a&&"[object Object]"===a.toString()&&a.constructor===Object},vjs.obj.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},vjs.isNaN=function(a){return a!==a},vjs.bind=function(a,b,c){b.guid||(b.guid=vjs.guid++)
;var d=function(){return b.apply(a,arguments)};return d.guid=c?c+"_"+b.guid:b.guid,d},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(a){var b=a[vjs.expando];return b||(b=a[vjs.expando]=vjs.guid++,vjs.cache[b]={}),vjs.cache[b]},vjs.hasData=function(a){var b=a[vjs.expando];return!(!b||vjs.isEmpty(vjs.cache[b]))},vjs.removeData=function(a){var b=a[vjs.expando];if(b){delete vjs.cache[b];try{delete a[vjs.expando]}catch(b){
a.removeAttribute?a.removeAttribute(vjs.expando):a[vjs.expando]=null}}},vjs.isEmpty=function(a){for(var b in a)if(null!==a[b])return!1;return!0},vjs.addClass=function(a,b){-1==(" "+a.className+" ").indexOf(" "+b+" ")&&(a.className=""===a.className?b:a.className+" "+b)},vjs.removeClass=function(a,b){var c,d;if(-1!=a.className.indexOf(b)){for(c=a.className.split(" "),d=c.length-1;d>=0;d--)c[d]===b&&c.splice(d,1);a.className=c.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),
vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var a=vjs.USER_AGENT.match(/OS (\d+)_/i);if(a&&a[1])return a[1]}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=function(){var a,b,c=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return c?(a=c[1]&&parseFloat(c[1]),
b=c[2]&&parseFloat(c[2]),a&&b?parseFloat(c[1]+"."+c[2]):a||null):null}(),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT),vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.setElementAttributes=function(a,b){vjs.obj.each(b,function(b,c){
null===c||void 0===c||!1===c?a.removeAttribute(b):a.setAttribute(b,!0===c?"":c)})},vjs.getElementAttributes=function(a){var b,c,d,e,f;if(b={},c=",autoplay,controls,loop,muted,default,",a&&a.attributes&&a.attributes.length>0){d=a.attributes;for(var g=d.length-1;g>=0;g--)e=d[g].name,f=d[g].value,"boolean"!=typeof a[e]&&-1===c.indexOf(","+e+",")||(f=null!==f),b[e]=f}return b},vjs.getComputedDimension=function(a,b){var c=""
;return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b):a.currentStyle&&(c=a["client"+b.substr(0,1).toUpperCase()+b.substr(1)]+"px"),c},vjs.insertFirst=function(a,b){b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)},vjs.browser={},vjs.el=function(a){return 0===a.indexOf("#")&&(a=a.slice(1)),document.getElementById(a)},vjs.formatTime=function(a,b){b=b||a
;var c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60),g=Math.floor(b/3600);return(isNaN(a)||a===1/0)&&(e=d=c="-"),e=e>0||g>0?e+":":"",d=((e||f>=10)&&d<10?"0"+d:d)+":",c=c<10?"0"+c:c,e+d+c},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(a){return(a+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(a,b){
return b||(b=0),Math.round(a*Math.pow(10,b))/Math.pow(10,b)},vjs.createTimeRange=function(a,b){return{length:1,start:function(){return a},end:function(){return b}}},vjs.get=function(a,b,c,d){void 0!==window.Mb.helpers.parseUrl&&(a=window.Mb.helpers.parseUrl(a,{},Mb.syncad.mainPlayerId));var e,f,g,h,i;c=c||function(){},"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{
return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(a){}throw new Error("This browser does not support XMLHttpRequest.")}),f=new XMLHttpRequest,g=vjs.parseUrl(a),h=window.location,i=g.protocol+g.host!==h.protocol+h.host,!i||!window.XDomainRequest||"withCredentials"in f?(e="file:"==g.protocol||"file:"==h.protocol,f.onreadystatechange=function(){
4===f.readyState&&(200===f.status||e&&0===f.status?b(f.responseText):c(f.responseText))}):(f=new window.XDomainRequest,f.onload=function(){b(f.responseText)},f.onerror=c,f.onprogress=function(){},f.ontimeout=c);try{f.open("GET",a,!0),d&&(f.withCredentials=!0)}catch(a){return void c(a)}try{f.send()}catch(a){c(a)}},vjs.setLocalStorage=function(a,b){try{var c=window.localStorage||!1;if(!c)return;c[a]=b}catch(a){
22==a.code||1014==a.code?vjs.log("LocalStorage Full (VideoJS)",a):18==a.code?vjs.log("LocalStorage not allowed (VideoJS)",a):vjs.log("LocalStorage Error (VideoJS)",a)}},vjs.getAbsoluteURL=function(a){return a.match(/^https?:\/\//)||(a=vjs.createEl("div",{innerHTML:'<a href="'+a+'">x</a>'}).firstChild.href),a},vjs.parseUrl=function(a){var b,c,d,e,f;e=["protocol","hostname","port","pathname","search","hash","host"],c=vjs.createEl("a",{href:a}),d=""===c.host&&"file:"!==c.protocol,
d&&(b=vjs.createEl("div"),b.innerHTML='<a href="'+a+'"></a>',c=b.firstChild,b.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(b)),f={};for(var g=0;g<e.length;g++)f[e[g]]=c[e[g]];return d&&document.body.removeChild(b),f},vjs.log=function(){_logType(null,arguments)},vjs.log.history=[],vjs.log.error=function(){_logType("error",arguments)},vjs.log.warn=function(){_logType("warn",arguments)},vjs.findPosition=function(a){var b,c,d,e,f,g,h,i,j
;return a.getBoundingClientRect&&a.parentNode&&(b=a.getBoundingClientRect()),b?(c=document.documentElement,d=document.body,e=c.clientLeft||d.clientLeft||0,f=window.pageXOffset||d.scrollLeft,g=b.left+f-e,h=c.clientTop||d.clientTop||0,i=window.pageYOffset||d.scrollTop,j=b.top+i-h,{left:vjs.round(g),top:vjs.round(j)}):{left:0,top:0}},vjs.arr={},vjs.arr.forEach=function(a,b,c){if(vjs.obj.isArray(a)&&b instanceof Function)for(var d=0,e=a.length;d<e;++d)b.call(c||vjs,a[d],d,a);return a},vjs.util={},
vjs.util.mergeOptions=function(a,b){var c,d,e;a=vjs.obj.copy(a);for(c in b)b.hasOwnProperty(c)&&(d=a[c],e=b[c],vjs.obj.isPlain(d)&&vjs.obj.isPlain(e)?a[c]=vjs.util.mergeOptions(d,e):a[c]=b[c]);return a},vjs.Component=vjs.CoreObject.extend({init:function(a,b,c){this.player_=a,this.options_=vjs.obj.copy(this.options_),b=this.options(b),this.id_=b.id||(b.el&&b.el.id?b.el.id:a.id()+"_component_"+vjs.guid++),this.name_=b.name||null,this.el_=b.el||this.createEl(),this.children_=[],this.childIndex_={},
this.childNameIndex_={},this.initChildren(),this.ready(c),!1!==b.reportTouchActivity&&this.enableTouchActivity()}}),vjs.Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var a=this.children_.length-1;a>=0;a--)this.children_[a].dispose&&this.children_[a].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),this.el_=null},
vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(a){return void 0===a?this.options_:this.options_=vjs.util.mergeOptions(this.options_,a)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(a,b){return vjs.createEl(a,b)},vjs.Component.prototype.localize=function(a){var b=this.player_.language(),c=this.player_.languages();return c&&c[b]&&c[b][a]?c[b][a]:a},
vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,
vjs.Component.prototype.getChildById=function(a){return this.childIndex_[a]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(a){return this.childNameIndex_[a]},vjs.Component.prototype.addChild=function(a,b){var c,d,e;return"string"==typeof a?(e=a,b=b||{},d=b.componentClass||vjs.capitalize(e),b.name=e,c=new window["Mb.videojs"][d](this.player_||this,b)):c=a,this.children_.push(c),"function"==typeof c.id&&(this.childIndex_[c.id()]=c),e=e||c.name&&c.name(),
e&&(this.childNameIndex_[e]=c),"function"==typeof c.el&&c.el()&&this.contentEl().appendChild(c.el()),c},vjs.Component.prototype.removeChild=function(a){if("string"==typeof a&&(a=this.getChild(a)),a&&this.children_){for(var b=!1,c=this.children_.length-1;c>=0;c--)if(this.children_[c]===a){b=!0,this.children_.splice(c,1);break}if(b){this.childIndex_[a.id]=null,this.childNameIndex_[a.name]=null;var d=a.el();d&&d.parentNode===this.contentEl()&&this.contentEl().removeChild(a.el())}}},
vjs.Component.prototype.initChildren=function(){var a,b,c,d,e;if(a=this,b=this.options().children)if(vjs.obj.isArray(b))for(var f=0;f<b.length;f++)c=b[f],"string"==typeof c?(d=c,e={}):(d=c.name,e=c),a[d]=a.addChild(d,e);else vjs.obj.each(b,function(b,c){!1!==c&&(a[b]=a.addChild(b,c))})},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(a,b){return vjs.on(this.el_,a,vjs.bind(this,b)),this},vjs.Component.prototype.off=function(a,b){
return vjs.off(this.el_,a,b),this},vjs.Component.prototype.one=function(a,b){return vjs.one(this.el_,a,vjs.bind(this,b)),this},vjs.Component.prototype.trigger=function(a){return vjs.trigger(this.el_,a),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(a){return a&&(this.isReady_?a.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(a))),this},
vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var a=this.readyQueue_;if(a&&a.length>0){for(var b=0,c=a.length;b<c;b++)a[b].call(this);this.readyQueue_=[],this.trigger("ready")}},vjs.Component.prototype.addClass=function(a){return vjs.addClass(this.el_,a),this},vjs.Component.prototype.removeClass=function(a){return vjs.removeClass(this.el_,a),this},vjs.Component.prototype.show=function(){return this.el_.style.display="block",this},vjs.Component.prototype.hide=function(){
return this.el_.style.display="none",this},vjs.Component.prototype.unHide=function(){return this.el_.style.display="",this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){}},vjs.Component.prototype.width=function(a,b){return this.dimension("width",a,b)},
vjs.Component.prototype.height=function(a,b){return this.dimension("height",a,b)},vjs.Component.prototype.dimensions=function(a,b){return this.width(a,!0).height(b)},vjs.Component.prototype.dimension=function(a,b,c){if(void 0!==b)return(null===b||vjs.isNaN(b))&&(b=0),-1!==(""+b).indexOf("%")||-1!==(""+b).indexOf("px")?this.el_.style[a]=b:this.el_.style[a]="auto"===b?"":b+"px",c||this.trigger("resize"),this;if(!this.el_)return 0;var d=this.el_.style[a],e=d.indexOf("px")
;return-1!==e?parseInt(d.slice(0,e),10):parseInt(this.el_["offset"+vjs.capitalize(a)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var a,b,c,d,e,f,g,h,i;a=0,b=null,i=22,this.on("touchstart",function(c){1===c.touches.length&&(b=c.touches[0],a=(new Date).getTime(),d=!0)}),this.on("touchmove",function(a){a.touches.length>1?d=!1:b&&(f=a.touches[0].pageX-b.pageX,g=a.touches[0].pageY-b.pageY,(h=Math.sqrt(f*f+g*g))>i&&(d=!1))}),e=function(){d=!1},
this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){b=null,!0===d&&(c=(new Date).getTime()-a)<250&&(e.preventDefault(),this.trigger("tap"))})},vjs.Component.prototype.enableTouchActivity=function(){var a,b,c;a=vjs.bind(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){a(),clearInterval(b),b=setInterval(a,250)}),c=function(c){a(),clearInterval(b)},this.on("touchmove",a),this.on("touchend",c),this.on("touchcancel",c)},
vjs.Button=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.emitTapEvents(),this.on("tap",this.onClick),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(a,b){var c;return b=vjs.obj.merge({className:this.buildCSSClass(),role:"button","aria-live":"polite",tabIndex:0},b),c=vjs.Component.prototype.createEl.call(this,a,b),b.innerHTML||(this.contentEl_=vjs.createEl("div",{
className:"vjs-control-content"}),this.controlText_=vjs.createEl("span",{className:"vjs-control-text",innerHTML:this.localize(this.buttonText)||"Need Text"}),this.contentEl_.appendChild(this.controlText_),c.appendChild(this.contentEl_)),c},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keydown",vjs.bind(this,this.onKeyPress))},
vjs.Button.prototype.onKeyPress=function(a){32!=a.which&&13!=a.which||(a.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keydown",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),
this.on("blur",this.onBlur),this.on("click",this.onClick),this.player_.on("controlsvisible",vjs.bind(this,this.update)),a.on(this.playerEvent,vjs.bind(this,this.update)),this.boundEvents={},this.boundEvents.move=vjs.bind(this,this.onMouseMove),this.boundEvents.end=vjs.bind(this,this.onMouseUp)}}),vjs.Slider.prototype.createEl=function(a,b){return b=b||{},b.className=b.className+" vjs-slider",b=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},b),
vjs.Component.prototype.createEl.call(this,a,b)},vjs.Slider.prototype.onMouseDown=function(a){a.preventDefault(),vjs.blockTextSelection(),this.addClass("vjs-sliding"),vjs.on(document,"mousemove",this.boundEvents.move),vjs.on(document,"mouseup",this.boundEvents.end),vjs.on(document,"touchmove",this.boundEvents.move),vjs.on(document,"touchend",this.boundEvents.end),this.onMouseMove(a)},vjs.Slider.prototype.onMouseMove=function(){},vjs.Slider.prototype.onMouseUp=function(){
vjs.unblockTextSelection(),this.removeClass("vjs-sliding"),vjs.off(document,"mousemove",this.boundEvents.move,!1),vjs.off(document,"mouseup",this.boundEvents.end,!1),vjs.off(document,"touchmove",this.boundEvents.move,!1),vjs.off(document,"touchend",this.boundEvents.end,!1),this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var a,b=this.getPercent(),c=this.handle,d=this.bar;if(isNaN(b)&&(b=0),a=b,c){var e=this.el_,f=e.offsetWidth,g=c.el().offsetWidth,h=g?g/f:0,i=1-h,j=b*i;a=j+h/2,
c.el().style.left=vjs.round(100*j,2)+"%"}d&&(d.el().style.width=vjs.round(100*a,2)+"%")}},vjs.Slider.prototype.calculateDistance=function(a){var b,c,d,e,f,g,h,i,j;if(b=this.el_,c=vjs.findPosition(b),f=g=b.offsetWidth,h=this.handle,this.options().vertical){if(e=c.top,j=a.changedTouches?a.changedTouches[0].pageY:a.pageY,h){var k=h.el().offsetHeight;e+=k/2,g-=k}return Math.max(0,Math.min(1,(e-j+g)/g))}if(d=c.left,i=a.changedTouches?a.changedTouches[0].pageX:a.pageX,h){var l=h.el().offsetWidth
;d+=l/2,f-=l}return Math.max(0,Math.min(1,(i-d)/f))},vjs.Slider.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onKeyPress=function(a){37==a.which||40==a.which?(a.preventDefault(),this.stepBack()):38!=a.which&&39!=a.which||(a.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onClick=function(a){a.stopImmediatePropagation(),
a.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(a,b){return b=b||{},b.className=b.className+" vjs-slider-handle",b=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},b),vjs.Component.prototype.createEl.call(this,"div",b)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(a){this.addChild(a),a.on("click",vjs.bind(this,function(){
this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var a=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(a,{className:"vjs-menu-content"});var b=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return b.appendChild(this.contentEl_),vjs.on(b,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),b},vjs.MenuItem=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),this.selected(b.selected)}}),
vjs.MenuItem.prototype.createEl=function(a,b){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},b))},vjs.MenuItem.prototype.onClick=function(){this.selected(!0)},vjs.MenuItem.prototype.selected=function(a){a?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(a,b){
vjs.Button.call(this,a,b),this.menu=this.createMenu(),this.addChild(this.menu),this.items&&0===this.items.length&&this.hide(),this.on("keyup",this.onKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player_);if(this.options().title&&a.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",
innerHTML:vjs.capitalize(this.options().title),tabindex:-1})),this.items=this.createItems(),this.items)for(var b=0;b<this.items.length;b++)a.addItem(this.items[b]);return a},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=function(){
this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(a){a.preventDefault(),32==a.which||13==a.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==a.which&&this.buttonPressed_&&this.unpressButton()},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),
this.items&&this.items.length>0&&this.items[0].el().focus()},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},vjs.MediaError=function(a){"number"==typeof a?this.code=a:"string"==typeof a?this.message=a:"object"==typeof a&&vjs.obj.merge(this,a),this.message||(this.message=vjs.MediaError.defaultMessages[this.code]||"")},vjs.MediaError.prototype.code=0,vjs.MediaError.prototype.message="",
vjs.MediaError.prototype.status=null,vjs.MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],vjs.MediaError.defaultMessages={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",
4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",5:"The video is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<vjs.MediaError.errorTypes.length;errNum++)vjs.MediaError[vjs.MediaError.errorTypes[errNum]]=errNum,vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]]=errNum;!function(){var a,b,c,d;for(vjs.browser.fullscreenAPI,
a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],
b=a[0],d=0;d<a.length;d++)if(a[d][1]in document){c=a[d];break}if(c)for(vjs.browser.fullscreenAPI={},d=0;d<c.length;d++)vjs.browser.fullscreenAPI[b[d]]=c[d]}(),vjs.Player=vjs.Component.extend({init:function(a,b,c){this.tag=a,this.adsLoaded=!1,this.videoPlayTracked=!1,this.videoStarted=!1,this.mbVideoSrc="",a.id=a.id||"vjs_video_"+vjs.guid++,this.tagAttributes=a&&vjs.getElementAttributes(a),b=vjs.obj.merge(this.getTagSettings(a),b),this.language_=b.language||vjs.options.language,
this.languages_=b.languages||vjs.options.languages,this.cache_={},this.poster_=b.poster,this.controls_=b.controls,a.controls=!1,b.reportTouchActivity=!1,vjs.Component.call(this,this,b,c),this.mbVideoSrc=this.src(),Mb.adsEnabled&&this.src("//player.mediabong.com/static/videojs/black.mp4"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),vjs.players[this.id_]=this,b.plugins&&vjs.obj.each(b.plugins,function(a,b){this[a](b)},this),
this.listenForUserActivity()}}),vjs.Player.prototype.language_,vjs.Player.prototype.language=function(a){return void 0===a?this.language_:(this.language_=a,this)},vjs.Player.prototype.languages_,vjs.Player.prototype.languages=function(){return this.languages_},vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),
this.el_&&this.el_.player&&(this.el_.player=null),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(a){var b={sources:[],tracks:[]};if(vjs.obj.merge(b,vjs.getElementAttributes(a)),a.hasChildNodes()){var c,d,e,f,g;for(c=a.childNodes,f=0,g=c.length;f<g;f++)d=c[f],e=d.nodeName.toLowerCase(),"source"===e?b.sources.push(vjs.getElementAttributes(d)):"track"===e&&b.tracks.push(vjs.getElementAttributes(d))}return b},
vjs.Player.prototype.createEl=function(){var a,b=this.el_=vjs.Component.prototype.createEl.call(this,"div"),c=this.tag;if(c.removeAttribute("width"),c.removeAttribute("height"),c.hasChildNodes()){var d,e,f,g,h;for(d=c.childNodes,e=d.length,h=[];e--;)g=d[e],"track"===g.nodeName.toLowerCase()&&h.push(g);for(f=0;f<h.length;f++)c.removeChild(h[f])}return a=vjs.getElementAttributes(c),vjs.obj.each(a,function(c){b.setAttribute(c,a[c])}),c.id+="_html5_api",c.className="vjs-tech-mb",
c.player=b.player=this,this.addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),c.parentNode&&c.parentNode.insertBefore(b,c),vjs.insertFirst(c,b),this.el_=b,this.on("loadstart",this.onLoadStart),this.on("waiting",this.onWaiting),this.on(["canplay","canplaythrough","playing","ended"],this.onWaitEnd),this.on("seeking",this.onSeeking),this.on("seeked",this.onSeeked),this.on("ended",this.onEnded),this.on("play",this.onPlay),
this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("fullscreenchange",this.onFullscreenChange),b},vjs.Player.prototype.loadTech=function(a,b){this.tech&&this.unloadTech(),"Html5"!==a&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null),this.techName=a,this.isReady_=!1;var c=function(){this.player_.triggerReady()},d=vjs.obj.merge({source:b,parentEl:this.el_
},this.options_[a.toLowerCase()]);b&&(this.currentType_=b.type,b.src==this.cache_.src&&this.cache_.currentTime>0&&(d.startTime=this.cache_.currentTime),this.cache_.src=b.src),this.tech=new window["Mb.videojs"][a](this,d),this.tech.ready(c)},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.tech=!1},vjs.Player.prototype.onLoadStart=function(){this.error(null),this.paused()?(this.hasStarted(!1),this.one("play",function(){this.hasStarted(!0)
})):this.trigger("firstplay")},vjs.Player.prototype.hasStarted_=!1,vjs.Player.prototype.hasStarted=function(a){return void 0!==a?(this.hasStarted_!==a&&(this.hasStarted_=a,a?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):this.hasStarted_},vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){this.removeClass("vjs-paused"),
this.addClass("vjs-playing");var a=this.player();window.mb_players[a.options().mb_video_id].doConvert&&(Mb.helpers.loadUrl(window.mb_players[a.options().mb_video_id].server+"/t/convert.php?bloc="+window.mb_players[a.options().mb_video_id].blocplayer_id+"&sessid="+Mb.sessid+"&sid="+window.mb_players[a.options().mb_video_id].snap_id+"&url="+encodeURIComponent(document.location.href)+"&m=1&timestamp="+(new Date).getTime(),"text/javascript","script",function(){}),
window.mb_players[a.options().mb_video_id].doConvert=!1);var b=null;if("undefined"!=typeof MB_RTB_ADSERVER&&null!=MB_RTB_ADSERVER?(b=MB_RTB_ADSERVER,b[0].url="data:text/xml,"+b[0].url,MB_RTB_ADSERVER=null):b=window.mb_players[a.options().mb_video_id].jsonDoc.mobile_adservers,0==b.length){a.videoPlayTracked||a.mbVideoSrc==a.src()||(a.pause(),a.src(a.mbVideoSrc),a.play());try{Mb.syncad.prerollCompletedDone||Mb.syncad.prerollCompleted(a.options().mb_video_id)}catch(a){return}}else if(!a.adsLoaded){
if(!Mb.adsEnabled)return;a.pause(),a.adsLoaded=!0,a.adserver_reporting_url=window.mb_players[a.options().mb_video_id].jsonDoc.adserver_reporting_url;for(var c in window.mb_players[a.options().mb_video_id].jsonDoc.ad_tracking)!function(a,b){var c=window.mb_players[b.options().mb_video_id].jsonDoc.ad_tracking[a];"tabHidden"!=a&&(a="ad"+a.charAt(0).toUpperCase()+a.slice(1)),Mb.registerCallBack(a,function(a,d){var e={ad_server_id:b.current_adserver_id,
visibility:Mb.getVisibility(b.options().mb_video_id,!0)};void 0!==d&&"function"==typeof Object.assign&&Object.assign(e,d);var f=Mb.helpers.parseUrl(c,e,b.options().mb_video_id);Mb.helpers.loadUrl(f,"text/javascript","script",function(){})})}(c,a);if(!a.isIMA)return"function"==typeof a.ads&&a.ads(),a.vast({url:b}),void a.play();a.initIMA();var d=0,e=function(){if(void 0===b[d])return a.off("contentupdate"),Mb.player.callBack.adserverListEmptied(a.options().mb_video_id),a.ima.endIMA_(),
void a.trigger("adabort");if(void 0===b[d].name){var c=b[d].url,f=b[d].id,g=0,h=0;void 0!==b[d].video_ad_click_behavior&&(h=b[d].video_ad_click_behavior),a.current_adserver_id=f,void 0!==b[d].publisher_tag&&(g=b[d].publisher_tag),"undefined"!=typeof MB_RTB_ADSERVER&&null!=MB_RTB_ADSERVER?Mb.helpers.log("Try ["+f+"] : RTB adserver"):Mb.helpers.log("Try ["+f+"] : "+c),d++,Mb.player.callBack.adserverLoading(a.options().mb_video_id,f,g);var i=function(b){
if(!(b.status>=200&&b.status<300))return Mb.mobile.prReportingTracking(a.options().mb_video_id,4,Mb.vast.errorCodes.REQUEST_FAILED),Mb.player.callBack.adserverFailed(a.options().mb_video_id),void a.trigger("adsloaderror");Mb.player.callBack.adserverCompleted(a.options().mb_video_id);try{Mb.adTagResponse=b;var d=Mb.helpers.parseResponseHeaders(b.getAllResponseHeaders());d.hasOwnProperty("MDB_P")?Mb.rtb_partnerId=d.MDB_P:Mb.rtb_partnerId=0,
d.hasOwnProperty("MDB_S")?Mb.rtb_seatId=d.MDB_S:Mb.rtb_seatId=0,d.hasOwnProperty("MDB_D")?Mb.rtb_dealId=d.MDB_D:Mb.rtb_dealId="",d.hasOwnProperty("MDB_C")?Mb.rtb_cpm=d.MDB_C:Mb.rtb_cpm=0,d.hasOwnProperty("MDB_AD")?Mb.rtb_adomain=d.MDB_AD:Mb.rtb_adomain="",d.hasOwnProperty("MDB_FT")?Mb.rtb_floortype=d.MDB_FT:Mb.rtb_floortype=0,d.hasOwnProperty("MDB_DATA")?Mb.rtb_data=d.MDB_DATA:Mb.rtb_data="",null==Mb.dealId&&(Mb.dealId=""),299!=f&&298!=f&&100!=f&&101!=f||0==Mb.rtb_partnerId&&(Mb.rtb_partnerId=1)
}catch(a){Mb.rtb_dealId=headerResp,Mb.rtb_partnerId="",Mb.rtb_seatId="",Mb.rtb_cpm=0,Mb.rtb_adomain="",Mb.rtb_floortype=0,Mb.rtb_data="",Mb.publisher_tag=0}b=b.responseText,b=Mb.helpers.parseUrl(b,{vast:!0,ad_server_id:f},a.options().mb_video_id),a.ima.setAdTagResponse(b),a.ima.setAdClickBehavior(h),
"undefined"==typeof MB_RTB_ADSERVER&&(c.indexOf("stickyadstv")>-1||c.indexOf("liverail")>-1||c.indexOf("spotxchange")>-1||c.indexOf("rubiconproject")>-1||c.indexOf("mediabong")>-1)?a.ima.setVpaidMode("INSECURE"):a.ima.setVpaidMode("ENABLED"),a.ima.requestAds()},j=function(b){Mb.helpers.log("Error loading the adserver."),Mb.mobile.prReportingTracking(a.options().mb_video_id,4,Mb.vast.errorCodes.REQUEST_FAILED),Mb.player.callBack.adserverFailed(a.options().mb_video_id),a.trigger("adsloaderror")}
;try{c=Mb.helpers.parseUrl(c,{},a.options().mb_video_id),Mb.helpers.doXdr(c,!0,!0,i,j)}catch(b){return Mb.helpers.log(b),Mb.mobile.prReportingTracking(a.options().mb_video_id,4,Mb.vast.errorCodes.REQUEST_FAILED),Mb.player.callBack.adserverFailed(a.options().mb_video_id),void a.trigger("adsloaderror")}}else{var k=b[d].urls,l=b[d].timeout;Mb.player.impressionFloorPrice=b[d].floor_price,Mb.player.loadAdservers(a.options().mb_video_id,k,l,function(){Mb.helpers.log("No ad for pool : "+b[d].name),e()
},function(b){adTagResponse=b.responseText,f=b.adserver_id,c=b.responseURL,h=b.click_behavior,Mb.rtb_dealId=b.rtb_dealId,Mb.rtb_partnerId=b.rtb_partnerId,Mb.rtb_seatId=b.rtb_seatId,Mb.rtb_cpm=b.rtb_cpm,Mb.rtb_adomain=b.rtb_adomain,Mb.rtb_floortype=b.rtb_floortype,Mb.rtb_data=b.rtb_data,Mb.publisher_tag=b.publisher_tag,a.current_adserver_id=f,adTagResponse=Mb.helpers.parseUrl(adTagResponse,{vast:!0,ad_server_id:f},a.options().mb_video_id),a.ima.setAdTagResponse(adTagResponse),
a.ima.setAdClickBehavior(h),"undefined"==typeof MB_RTB_ADSERVER&&(c.indexOf("stickyadstv")>-1||c.indexOf("liverail")>-1||c.indexOf("spotxchange")>-1||c.indexOf("rubiconproject")>-1||c.indexOf("mediabong")>-1)?a.ima.setVpaidMode("INSECURE"):a.ima.setVpaidMode("ENABLED"),a.ima.requestAds()}),d++}};if(a.on("adsloaderror",function(){e()}),a.on("adserror",function(){Mb.player.adImpressionDone?a.ima.endIMA_():(a.ima.imaInitialized=!1,a.ads.state="ads-ready?",a.initIMA(),e())}),a.on("adend",function(){
try{a.ima.clearIntervals(),a.ima.adCompleted||Mb.syncad.prerollCompletedDone||Mb.syncad.prerollCompleted(a.options().mb_video_id)}catch(a){return}}),e(),a.off("contentupdate"),Mb.syncad.prerollCompletedDone&&(void 0!==window.MB_PAUSE_AFTER_AD&&1==window.MB_PAUSE_AFTER_AD||Mb.enableSyncAd&&!Mb.syncrollHasAd))return;return void a.play()}a.videoPlayTracked||setTimeout(function(){if(!a.videoPlayTracked&&null!=a.el_&&a.src()==a.mbVideoSrc){a.videoPlayTracked=!0
;var b=window.mb_players[a.options().mb_video_id].jsonDoc.video_tracking.start+"&m=1";void 0!==Mb.helpers.parseUrl&&(b=Mb.helpers.parseUrl(b,{ad_server_id:mb_players[a.options().mb_video_id].current_adserver_id,ad_impression_called:mb_players[a.options().mb_video_id].ad_impression_called},a.options().mb_video_id)),vjs.get(b,function(){},function(){})}},1e3)},vjs.Player.prototype.onWaiting=function(){this.addClass("vjs-waiting")},vjs.Player.prototype.onWaitEnd=function(){
this.removeClass("vjs-waiting")},vjs.Player.prototype.onSeeking=function(){this.addClass("vjs-seeking")},vjs.Player.prototype.onSeeked=function(){this.removeClass("vjs-seeking")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started")},vjs.Player.prototype.onPause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused")},vjs.Player.prototype.onTimeUpdate,
vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){if("//static.mediabong.com/videojs/black.mp4"!=this.src()){if(this.src()==this.mbVideoSrc)Mb.player.callBack.videoCompleted(this.options().mb_video_id);else if(!this.isIMA&&this.src()==this.vast.sources[0].src){var a=this;window.setTimeout(function(){Mb.player.callBack.adComplete(a.options().mb_video_id),
Mb.player.callBack.adCompleted(a.options().mb_video_id)},0)}this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause()}},vjs.Player.prototype.onDurationChange=function(){var a=this.techGet("duration");a&&(a<0&&(a=1/0),this.duration(a),a===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"))},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},
vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(a,b){if(this.tech&&!this.tech.isReady_)this.tech.ready(function(){this[a](b)});else try{this.tech[a](b)}catch(a){throw vjs.log(a),a}},vjs.Player.prototype.techGet=function(a){if(this.tech&&this.tech.isReady_)try{return this.tech[a]()}catch(b){
throw void 0===this.tech[a]?vjs.log("Video.js: "+a+" method not defined for "+this.techName+" playback technology.",b):"TypeError"==b.name?(vjs.log("Video.js: "+a+" unavailable on "+this.techName+" playback technology element.",b),this.tech.isReady_=!1):vjs.log(b),b}},vjs.Player.prototype.playVideo=function(){return this.techCall("play"),this},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},
vjs.Player.prototype.pauseVideo=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return!1!==this.techGet("paused")},vjs.Player.prototype.stop=function(){return void 0!==this.isIMA&&(this.isIMA&&void 0!==this.ima&&void 0!==this.ima.stopIMA_?(this.ima.clearIntervals(),this.ima.stopIMA_()):this.isIMA||null==Mb.mobile.canvas.mbplayer.el()||Mb.mobile.canvas.end()),null!=this.el_&&this.dispose(),this},vjs.Player.prototype.currentTime=function(a){
return void 0!==a?(this.techCall("setCurrentTime",a),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(a){return void 0!==a?(this.cache_.duration=parseFloat(a),this):(void 0===this.cache_.duration&&this.onDurationChange(),this.cache_.duration||0)},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var a=this.techGet("buffered")
;return a&&a.length||(a=vjs.createTimeRange(0,0)),a},vjs.Player.prototype.bufferedPercent=function(){var a,b,c=this.duration(),d=this.buffered(),e=0;if(!c)return 0;for(var f=0;f<d.length;f++)a=d.start(f),b=d.end(f),b>c&&(b=c),e+=b-a;return e/c},vjs.Player.prototype.bufferedEnd=function(){var a=this.buffered(),b=this.duration(),c=a.end(a.length-1);return c>b&&(c=b),c},vjs.Player.prototype.volume=function(a){var b;return void 0!==a?(b=Math.max(0,Math.min(1,parseFloat(a))),this.cache_.volume=b,
this.techCall("setVolume",b),this.isIMA&&void 0!==this.ima&&void 0!==this.ima.changeVolume?this.ima.changeVolume(b):void 0===this.isIMA||this.isIMA||Mb.mobile.canvas.volume(b),vjs.setLocalStorage("volume",b),this):(b=parseFloat(this.techGet("volume")),isNaN(b)?1:b)},vjs.Player.prototype.muted=function(a){return void 0!==a?(this.techCall("setMuted",a),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},
vjs.Player.prototype.isFullscreen_=!1,vjs.Player.prototype.isFullscreen=function(a){return void 0!==a?(this.isFullscreen_=!!a,this):this.isFullscreen_},vjs.Player.prototype.isFullScreen=function(a){return vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(a)},vjs.Player.prototype.requestFullscreen=function(){var a=vjs.browser.fullscreenAPI;return this.isFullscreen(!0),
a?(vjs.on(document,a.fullscreenchange,vjs.bind(this,function(b){this.isFullscreen(document[a.fullscreenElement]),!1===this.isFullscreen()&&vjs.off(document,a.fullscreenchange,arguments.callee),this.trigger("fullscreenchange")})),this.el_[a.requestFullscreen]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.requestFullScreen=function(){
return vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},vjs.Player.prototype.exitFullscreen=function(){var a=vjs.browser.fullscreenAPI;return this.isFullscreen(!1),a?document[a.exitFullscreen]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){
return vjs.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(a){
27===a.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(a){for(var b=0,c=this.options_.techOrder;b<c.length;b++){
var d=vjs.capitalize(c[b]),e=window["Mb.videojs"][d];if(e){if(e.isSupported())for(var f=0,g=a;f<g.length;f++){var h=g[f];if(e.canPlaySource(h))return{source:h,tech:d}}}else vjs.log.error('The "'+d+'" tech is undefined. Skipped browser support check for that tech.')}return!1},vjs.Player.prototype.src=function(a){return void 0===a?this.techGet("src"):(vjs.obj.isArray(a)?this.sourceList_(a):"string"==typeof a?this.src({src:a
}):a instanceof Object&&(a.type&&!window["Mb.videojs"][this.techName].canPlaySource(a)?this.sourceList_([a]):(this.cache_.src=a.src,this.currentType_=a.type||"",this.ready(function(){this.techCall("src",a.src),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()}))),this)},vjs.Player.prototype.sourceList_=function(a){var b,c=this.selectSource(a);c?c.tech===this.techName?this.src(c.source):this.loadTech(c.tech,c.source):(b=setTimeout(vjs.bind(this,function(){this.error({
code:4,message:this.localize(this.options().notSupportedMessage)})}),0),this.triggerReady(),this.on("dispose",function(){clearTimeout(b)}))},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.currentType=function(){return this.currentType_||""},vjs.Player.prototype.preload=function(a){return void 0!==a?(this.techCall("setPreload",a),this.options_.preload=a,
this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(a){return void 0!==a?(this.techCall("setAutoplay",a),this.options_.autoplay=a,this):this.techGet("autoplay",a)},vjs.Player.prototype.loop=function(a){return void 0!==a?(this.techCall("setLoop",a),this.options_.loop=a,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(a){if(void 0===a)return this.poster_;this.poster_=a,this.techCall("setPoster",a),this.trigger("posterchange")},
vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(a){return void 0!==a?(a=!!a,this.controls_!==a&&(this.controls_=a,a?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this):this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(a){
return void 0!==a?(a=!!a,this.usingNativeControls_!==a&&(this.usingNativeControls_=a,a?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):this.usingNativeControls_},vjs.Player.prototype.error_=null,vjs.Player.prototype.error=function(a){return void 0===a?this.error_:null===a?(this.error_=a,this.removeClass("vjs-error"),
this):(a instanceof vjs.MediaError?this.error_=a:this.error_=new vjs.MediaError(a),this.trigger("error"),this.addClass("vjs-error"),vjs.log.error("(CODE:"+this.error_.code+" "+vjs.MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this)},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(a){
this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(a){return void 0!==a?(a=!!a,a!==this.userActive_&&(this.userActive_=a,a?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech&&this.tech.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),
this.trigger("userinactive"))),this):this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var a,b,c,d,e,f,g,h,i;a=vjs.bind(this,this.reportUserActivity),b=function(b){b.screenX==h&&b.screenY==i||(h=b.screenX,i=b.screenY,a())},c=function(){a(),clearInterval(d),d=setInterval(a,250)},e=function(b){a(),clearInterval(d)},this.on("mousedown",c),this.on("mousemove",b),this.on("mouseup",e),this.on("keydown",a),this.on("keyup",a),f=setInterval(vjs.bind(this,function(){
if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),clearTimeout(g);var a=this.options().inactivityTimeout;a>0&&(g=setTimeout(vjs.bind(this,function(){this.userActivity_||this.userActive(!1)}),a))}}),250),this.on("dispose",function(){clearInterval(f),clearTimeout(g)})},vjs.Player.prototype.playbackRate=function(a){return void 0!==a?(this.techCall("setPlaybackRate",a),this):this.tech&&this.tech.featuresPlaybackRate?this.techGet("playbackRate"):1},
vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.LiveDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),
vjs.LiveDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-live-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE"),"aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.PlayToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),a.on("play",vjs.bind(this,this.onPlay)),
a.on("pause",vjs.bind(this,this.onPause))}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing"),
this.el_.children[0].children[0].innerHTML=this.localize("Pause")},vjs.PlayToggle.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused"),this.el_.children[0].children[0].innerHTML=this.localize("Play")},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){
var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime()
;this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Current Time")+"</span> "+vjs.formatTime(a,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.DurationDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{
className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00","aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.DurationDisplay.prototype.updateContent=function(){var a=this.player_.duration();a&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> "+vjs.formatTime(a))},vjs.TimeDivider=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),
vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"})
;return this.contentEl_=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00","aria-live":"off"}),a.appendChild(this.contentEl_),a},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -"+vjs.formatTime(this.player_.remainingTime()))},
vjs.FullscreenToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText_.innerHTML=this.localize("Fullscreen")):(this.player_.requestFullscreen(),
this.controlText_.innerHTML=this.localize("Non-Fullscreen"))},vjs.ProgressControl=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(a,b){vjs.Slider.call(this,a,b),
a.on("timeupdate",vjs.bind(this,this.updateARIAAttributes)),a.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},
vjs.SeekBar.prototype.updateARIAAttributes=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(a,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(a){vjs.Slider.prototype.onMouseDown.call(this,a),
this.player_.scrubbing=!0,this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(a){var b=this.calculateDistance(a)*this.player_.duration();b==this.player_.duration()&&(b-=.1),this.player_.currentTime(b)},vjs.SeekBar.prototype.onMouseUp=function(a){vjs.Slider.prototype.onMouseUp.call(this,a),this.player_.scrubbing=!1,this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){
this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.on("progress",vjs.bind(this,this.update))}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",
innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},vjs.LoadProgressBar.prototype.update=function(){var a,b,c,d,e=this.player_.buffered(),f=this.player_.duration(),g=this.player_.bufferedEnd(),h=this.el_.children,i=function(a,b){return 100*(a/b||0)+"%"};for(this.el_.style.width=i(g,f),a=0;a<e.length;a++)b=e.start(a),c=e.end(a),d=h[a],d||(d=this.el_.appendChild(vjs.createEl())),d.style.left=i(b,g),d.style.width=i(c-b,g)
;for(a=h.length;a>e.length;a--)this.el_.removeChild(h[a-1])},vjs.PlayProgressBar=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},vjs.SeekHandle=vjs.SliderHandle.extend({init:function(a,b){vjs.SliderHandle.call(this,a,b),
a.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},vjs.SeekHandle.prototype.updateContent=function(){var a=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime()
;this.el_.innerHTML='<span class="vjs-control-text">'+vjs.formatTime(a,this.player_.duration())+"</span>"},vjs.VolumeControl=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),a.tech&&!1===a.tech.featuresVolumeControl&&this.addClass("vjs-hidden"),a.on("loadstart",vjs.bind(this,function(){!1===a.tech.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},
vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(a,b){vjs.Slider.call(this,a,b),a.on("volumechange",vjs.bind(this,this.updateARIAAttributes)),a.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),
this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(a){
this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(a))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),
vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),
a.on("volumechange",vjs.bind(this,this.update)),a.tech&&!1===a.tech.featuresVolumeControl&&this.addClass("vjs-hidden"),a.on("loadstart",vjs.bind(this,function(){!1===a.tech.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.localize("Mute")+"</span></div>"})},
vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(!this.player_.muted())},vjs.MuteToggle.prototype.update=function(){var a=this.player_.volume(),b=3;0===a||this.player_.muted()?b=0:a<.33?b=1:a<.67&&(b=2),
this.player_.muted()?this.el_.children[0].children[0].innerHTML!=this.localize("Unmute")&&(this.el_.children[0].children[0].innerHTML=this.localize("Unmute")):this.el_.children[0].children[0].innerHTML!=this.localize("Mute")&&(this.el_.children[0].children[0].innerHTML=this.localize("Mute"));for(var c=0;c<4;c++)vjs.removeClass(this.el_,"vjs-vol-"+c);vjs.addClass(this.el_,"vjs-vol-"+b)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(a,b){vjs.MenuButton.call(this,a,b),
a.on("volumechange",vjs.bind(this,this.update)),a.tech&&!1===a.tech.featuresVolumeControl&&this.addClass("vjs-hidden"),a.on("loadstart",vjs.bind(this,function(){!1===a.tech.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player_,{contentElType:"div"}),b=new vjs.VolumeBar(this.player_,vjs.obj.merge({vertical:!0},this.options_.volumeBar))
;return a.addChild(b),a},vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this),vjs.MenuButton.prototype.onClick.call(this)},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">'+this.localize("Mute")+"</span></div>"})},vjs.VolumeMenuButton.prototype.update=vjs.MuteToggle.prototype.update,
vjs.PlaybackRateMenuButton=vjs.MenuButton.extend({init:function(a,b){vjs.MenuButton.call(this,a,b),this.updateVisibility(),this.updateLabel(),a.on("loadstart",vjs.bind(this,this.updateVisibility)),a.on("ratechange",vjs.bind(this,this.updateLabel))}}),vjs.PlaybackRateMenuButton.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-playback-rate vjs-menu-button vjs-control",
innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+this.localize("Playback Rate")+"</span></div>"});return this.labelEl_=vjs.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),a.appendChild(this.labelEl_),a},vjs.PlaybackRateMenuButton.prototype.createMenu=function(){var a=new vjs.Menu(this.player()),b=this.player().options().playbackRates;if(b)for(var c=b.length-1;c>=0;c--)a.addChild(new vjs.PlaybackRateMenuItem(this.player(),{rate:b[c]+"x"}));return a},
vjs.PlaybackRateMenuButton.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},vjs.PlaybackRateMenuButton.prototype.onClick=function(){for(var a=this.player().playbackRate(),b=this.player().options().playbackRates,c=b[0],d=0;d<b.length;d++)if(b[d]>a){c=b[d];break}this.player().playbackRate(c)},vjs.PlaybackRateMenuButton.prototype.playbackRateSupported=function(){
return this.player().tech&&this.player().tech.featuresPlaybackRate&&this.player().options().playbackRates&&this.player().options().playbackRates.length>0},vjs.PlaybackRateMenuButton.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},vjs.PlaybackRateMenuButton.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},
vjs.PlaybackRateMenuItem=vjs.MenuItem.extend({contentElType:"button",init:function(a,b){var c=this.label=b.rate,d=this.rate=parseFloat(c,10);b.label=c,b.selected=1===d,vjs.MenuItem.call(this,a,b),this.player().on("ratechange",vjs.bind(this,this.update))}}),vjs.PlaybackRateMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player().playbackRate(this.rate)},vjs.PlaybackRateMenuItem.prototype.update=function(){this.selected(this.player().playbackRate()==this.rate)
},vjs.PosterImage=vjs.Button.extend({init:function(a,b){vjs.Button.call(this,a,b),a.poster()&&this.src(a.poster()),a.poster()&&a.controls()||this.hide(),a.on("posterchange",vjs.bind(this,function(){this.src(a.poster())})),a.on("play",vjs.bind(this,this.hide))}});var _backgroundSizeSupported="backgroundSize"in vjs.TEST_VID.style;if(vjs.PosterImage.prototype.createEl=function(){var a=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1})
;return _backgroundSizeSupported||a.appendChild(vjs.createEl("img")),a},vjs.PosterImage.prototype.src=function(a){var b=this.el();void 0!==a&&(_backgroundSizeSupported?b.style.backgroundImage='url("'+a+'")':b.firstChild.src=a)},vjs.PosterImage.prototype.onClick=function(){this.player().controls()&&this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b)}}),vjs.LoadingSpinner.prototype.createEl=function(){
return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.ErrorDisplay=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),
this.update(),a.on("error",vjs.bind(this,this.update))}}),vjs.ErrorDisplay.prototype.createEl=function(){var a=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-error-display"});return this.contentEl_=vjs.createEl("div"),a.appendChild(this.contentEl_),a},vjs.ErrorDisplay.prototype.update=function(){this.player().error()&&(this.contentEl_.innerHTML=this.localize(this.player().error().message))},vjs.MediaTechController=vjs.Component.extend({init:function(a,b,c){b=b||{},
b.reportTouchActivity=!1,vjs.Component.call(this,a,b,c),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),this.initControlsListeners()}}),vjs.MediaTechController.prototype.initControlsListeners=function(){var a,b,c,d;b=this,a=this.player();var c=function(){a.controls()&&!a.usingNativeControls()&&b.addControlsListeners()};d=vjs.bind(b,b.removeControlsListeners),this.ready(c),a.on("controlsenabled",c),a.on("controlsdisabled",d),
this.ready(function(){this.networkState&&this.networkState()>0&&this.player().trigger("loadstart")})},vjs.MediaTechController.prototype.addControlsListeners=function(){var a;this.on("mousedown",this.onClick),this.on("touchstart",function(b){a=this.player_.userActive()}),this.on("touchmove",function(b){a&&this.player().reportUserActivity()}),this.on("touchend",function(a){a.preventDefault()}),this.emitTapEvents(),this.on("tap",this.onTap)},
vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap"),this.off("touchstart"),this.off("touchmove"),this.off("touchleave"),this.off("touchcancel"),this.off("touchend"),this.off("click"),this.off("mousedown")},vjs.MediaTechController.prototype.onClick=function(a){0===a.button&&this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())},vjs.MediaTechController.prototype.onTap=function(){
this.player().userActive(!this.player().userActive())},vjs.MediaTechController.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress()},vjs.MediaTechController.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.MediaTechController.prototype.trackProgress=function(){this.progressInterval=setInterval(vjs.bind(this,function(){var a=this.player().bufferedPercent();this.bufferedPercent_!=a&&this.player().trigger("progress"),
this.bufferedPercent_=a,1===a&&this.stopTrackingProgress()}),500)},vjs.MediaTechController.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)},vjs.MediaTechController.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.player().on("play",vjs.bind(this,this.trackCurrentTime)),this.player().on("pause",vjs.bind(this,this.stopTrackingCurrentTime)),this.one("timeupdate",function(){this.featuresTimeupdateEvents=!0,this.manualTimeUpdatesOff()})},
vjs.MediaTechController.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},vjs.MediaTechController.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(vjs.bind(this,function(){null==this.el_?this.stopTrackingCurrentTime():this.player().trigger("timeupdate")}),250)},
vjs.MediaTechController.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval),null!=this.el_&&this.player().trigger("timeupdate")},vjs.MediaTechController.prototype.dispose=function(){this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),vjs.Component.prototype.dispose.call(this)},vjs.MediaTechController.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.player().trigger("timeupdate")},
vjs.MediaTechController.prototype.setPoster=function(){},vjs.MediaTechController.prototype.featuresVolumeControl=!0,vjs.MediaTechController.prototype.featuresFullscreenResize=!1,vjs.MediaTechController.prototype.featuresPlaybackRate=!1,vjs.MediaTechController.prototype.featuresProgressEvents=!1,vjs.MediaTechController.prototype.featuresTimeupdateEvents=!1,vjs.media={},vjs.Html5=vjs.MediaTechController.extend({init:function(a,b,c){this.featuresVolumeControl=vjs.Html5.canControlVolume(),
this.featuresPlaybackRate=vjs.Html5.canControlPlaybackRate(),this.movingMediaElementInDOM=!vjs.IS_IOS,this.featuresFullscreenResize=!0,this.featuresProgressEvents=!0,vjs.MediaTechController.call(this,a,b,c),this.setupTriggers();var d=b.source;d&&this.el_.currentSrc!==d.src&&(this.el_.src=d.src),vjs.TOUCH_ENABLED&&!1!==a.options().nativeControlsForTouch&&this.useNativeControls(),a.ready(function(){this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())}),
this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.Html5.disposeMediaElement(this.el_),vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var a,b=this.player_,c=b.tag;c&&!1!==this.movingMediaElementInDOM||(c?(a=c.cloneNode(!1),vjs.Html5.disposeMediaElement(c),c=a,b.tag=null):(c=vjs.createEl("video"),vjs.setElementAttributes(c,vjs.obj.merge(b.tagAttributes||{},{id:b.id()+"_html5_api",class:"vjs-tech"}))),c.player=b,
vjs.insertFirst(c,b.el()));for(var d=["autoplay","preload","loop","muted"],e=d.length-1;e>=0;e--){var f=d[e],g={};void 0!==b.options_[f]&&(g[f]=b.options_[f]),vjs.setElementAttributes(c,g)}return c},vjs.Html5.prototype.setupTriggers=function(){for(var a=vjs.Html5.Events.length-1;a>=0;a--)vjs.on(this.el_,vjs.Html5.Events[a],vjs.bind(this,this.eventHandler))},vjs.Html5.prototype.eventHandler=function(a){"error"==a.type&&this.error()?this.player().error(this.error().code):(a.bubbles=!1,
this.player().trigger(a))},vjs.Html5.prototype.useNativeControls=function(){var a,b,c,d,e;a=this,b=this.player(),a.setControls(b.controls()),c=function(){a.setControls(!0)},d=function(){a.setControls(!1)},b.on("controlsenabled",c),b.on("controlsdisabled",d),e=function(){b.off("controlsenabled",c),b.off("controlsdisabled",d)},a.on("dispose",e),b.on("usingcustomcontrols",e),b.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){var a=this.player();if(void 0===a.isIMA||a.isIMA){
var b=this.el_.play();b&&b.catch&&b.catch(function(a){})}else{if(void 0!==a.vast.sources&&a.src()==a.vast.sources[0].src)return;a.trigger("play"),this.manualProgressOff(),this.manualTimeUpdatesOff()}},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(a){try{this.el_.currentTime=a}catch(a){
vjs.log(a,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(a){this.el_.volume=a},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(a){this.el_.muted=a},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},
vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){return!("function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(vjs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT))},vjs.Html5.prototype.enterFullScreen=function(){var a=this.el_;"webkitDisplayingFullscreen"in a&&this.one("webkitbeginfullscreen",vjs.bind(this,function(a){this.player_.isFullscreen(!0),this.one("webkitendfullscreen",vjs.bind(this,function(a){
this.player_.isFullscreen(!1),this.player_.trigger("fullscreenchange")})),this.player_.trigger("fullscreenchange")})),a.paused&&a.networkState<=a.HAVE_METADATA?(this.el_.play(),setTimeout(function(){a.pause(),a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(a){if(void 0===a)return this.el_.src;this.el_.src=a},vjs.Html5.prototype.load=function(){this.el_.load()},
vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.poster=function(){return this.el_.poster},vjs.Html5.prototype.setPoster=function(a){this.el_.poster=a},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(a){this.el_.preload=a},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(a){this.el_.autoplay=a},vjs.Html5.prototype.controls=function(){
return this.el_.controls},vjs.Html5.prototype.setControls=function(a){this.el_.controls=!!a},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(a){this.el_.loop=a},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},
vjs.Html5.prototype.playbackRate=function(){return this.el_.playbackRate},vjs.Html5.prototype.setPlaybackRate=function(a){this.el_.playbackRate=a},vjs.Html5.prototype.networkState=function(){return this.el_.networkState},vjs.Html5.isSupported=function(){try{vjs.TEST_VID.volume=.5}catch(a){return!1}return!!vjs.TEST_VID.canPlayType},vjs.Html5.canPlaySource=function(a){try{return!!vjs.TEST_VID.canPlayType(a.type)}catch(a){return""}},vjs.Html5.canControlVolume=function(){var a=vjs.TEST_VID.volume
;return vjs.TEST_VID.volume=a/2+.1,a!==vjs.TEST_VID.volume},vjs.Html5.canControlPlaybackRate=function(){var a=vjs.TEST_VID.playbackRate;return vjs.TEST_VID.playbackRate=a/2+.1,a!==vjs.TEST_VID.playbackRate},function(){var a,b=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,c=/^video\/mp4/i;vjs.Html5.patchCanPlayType=function(){vjs.ANDROID_VERSION>=4&&(a||(a=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(c){
return c&&b.test(c)?"maybe":a.call(this,c)}),vjs.IS_OLD_ANDROID&&(a||(a=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(b){return b&&c.test(b)?"maybe":a.call(this,b)})},vjs.Html5.unpatchCanPlayType=function(){var b=vjs.TEST_VID.constructor.prototype.canPlayType;return vjs.TEST_VID.constructor.prototype.canPlayType=a,a=null,b},vjs.Html5.patchCanPlayType()}(),
vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=function(a){if(a){for(a.player=null,a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);a.removeAttribute("src"),"function"==typeof a.load&&function(){try{a.load()}catch(a){}}()}},
vjs.Flash=vjs.MediaTechController.extend({init:function(a,b,c){vjs.MediaTechController.call(this,a,b,c);var d=b.source,e=b.parentEl,f=this.el_=vjs.createEl("div",{id:a.id()+"_temp_flash"}),g=a.id()+"_flash_api",h=a.options_,i=vjs.obj.merge({readyFunction:"Mb.videojs.Flash.onReady",eventProxyFunction:"Mb.videojs.Flash.onEvent",errorEventProxyFunction:"Mb.videojs.Flash.onError",autoplay:h.autoplay,preload:h.preload,loop:h.loop,muted:h.muted},b.flashVars),j=vjs.obj.merge({wmode:"opaque",
bgcolor:"#000000"},b.params),k=vjs.obj.merge({id:g,name:g,class:"vjs-tech"},b.attributes);if(d)if(d.type&&vjs.Flash.isStreamingType(d.type)){var l=vjs.Flash.streamToParts(d.src);i.rtmpConnection=encodeURIComponent(l.connection),i.rtmpStream=encodeURIComponent(l.stream)}else i.src=encodeURIComponent(vjs.getAbsoluteURL(d.src));vjs.insertFirst(f,e),b.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(b.startTime)}),vjs.IS_FIREFOX&&this.ready(function(){
vjs.on(this.el(),"mousemove",vjs.bind(this,function(){this.player().trigger({type:"mousemove",bubbles:!1})}))}),a.on("stageclick",a.reportUserActivity),this.el_=vjs.Flash.embed(b.swf,f,i,j,k)}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(a){if(void 0===a)return this.currentSrc()
;if(vjs.Flash.isStreamingSrc(a)?(a=vjs.Flash.streamToParts(a),this.setRtmpConnection(a.connection),this.setRtmpStream(a.stream)):(a=vjs.getAbsoluteURL(a),this.el_.vjs_src(a)),this.player_.autoplay()){var b=this;setTimeout(function(){b.play()},0)}},vjs.Flash.prototype.setCurrentTime=function(a){this.lastSeekTarget_=a,this.el_.vjs_setProperty("currentTime",a),vjs.MediaTechController.prototype.setCurrentTime.call(this)},vjs.Flash.prototype.currentTime=function(a){
return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},vjs.Flash.prototype.currentSrc=function(){var a=this.el_.vjs_getProperty("currentSrc");if(null==a){var b=this.rtmpConnection(),c=this.rtmpStream();b&&c&&(a=vjs.Flash.streamFromParts(b,c))}return a},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.setPoster=function(){},vjs.Flash.prototype.buffered=function(){
return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1},function(){function a(a){c[a]=function(){return this.el_.vjs_getProperty(a)}}
var b,c=vjs.Flash.prototype,d="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),e="error,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(",");for(b=0;b<d.length;b++)a(d[b]),function(a){var b=a.charAt(0).toUpperCase()+a.slice(1);c["set"+b]=function(b){
return this.el_.vjs_setProperty(a,b)}}(d[b]);for(b=0;b<e.length;b++)a(e[b])}(),vjs.Flash.isSupported=function(){return vjs.Flash.version()[0]>=10},vjs.Flash.canPlaySource=function(a){var b;return a.type?(b=a.type.replace(/;.*/,"").toLowerCase(),b in vjs.Flash.formats||b in vjs.Flash.streamingFormats?"maybe":void 0):""},vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},
vjs.Flash.onReady=function(a){var b,c;b=vjs.el(a),(c=b&&b.parentNode&&b.parentNode.player)&&(b.player=c,vjs.Flash.checkReady(c.tech))},vjs.Flash.checkReady=function(a){a.el()&&(a.el().vjs_getProperty?a.triggerReady():setTimeout(function(){vjs.Flash.checkReady(a)},50))},vjs.Flash.onEvent=function(a,b){vjs.el(a).player.trigger(b)},vjs.Flash.onError=function(a,b){var c=vjs.el(a).player,d="FLASH: "+b;"srcnotfound"==b?c.error({code:4,message:d}):c.error(d)},vjs.Flash.version=function(){var a="0,0,0"
;try{a=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(b){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(a){}}return a.split(",")},vjs.Flash.embed=function(a,b,c,d,e){var f=vjs.Flash.getEmbedCode(a,c,d,e),g=vjs.createEl("div",{innerHTML:f
}).childNodes[0],h=b.parentNode;b.parentNode.replaceChild(g,b);var i=h.childNodes[0];return setTimeout(function(){i.style.display="block"},1e3),g},vjs.Flash.getEmbedCode=function(a,b,c,d){var e="",f="",g="";return b&&vjs.obj.each(b,function(a,b){e+=a+"="+b+"&amp;"}),c=vjs.obj.merge({movie:a,flashvars:e,allowScriptAccess:"always",allowNetworking:"all"},c),vjs.obj.each(c,function(a,b){f+='<param name="'+a+'" value="'+b+'" />'}),d=vjs.obj.merge({data:a,width:"100%",height:"100%"},d),
vjs.obj.each(d,function(a,b){g+=a+'="'+b+'" '}),'<object type="application/x-shockwave-flash"'+g+">"+f+"</object>"},vjs.Flash.streamFromParts=function(a,b){return a+"&"+b},vjs.Flash.streamToParts=function(a){var b={connection:"",stream:""};if(!a)return b;var c,d=a.indexOf("&");return-1!==d?c=d+1:0===(d=c=a.lastIndexOf("/")+1)&&(d=c=a.length),b.connection=a.substring(0,d),b.stream=a.substring(c,a.length),b},vjs.Flash.isStreamingType=function(a){return a in vjs.Flash.streamingFormats},
vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(a){return vjs.Flash.RTMP_RE.test(a)},vjs.MediaLoader=vjs.Component.extend({init:function(a,b,c){if(vjs.Component.call(this,a,b,c),a.options_.sources&&0!==a.options_.sources.length)a.src(a.options_.sources);else for(var d=0,e=a.options_.techOrder;d<e.length;d++){var f=vjs.capitalize(e[d]),g=window["Mb.videojs"][f];if(g&&g.isSupported()){a.loadTech(f);break}}}}),vjs.Player.prototype.textTracks_,
vjs.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[],this.textTracks_},vjs.Player.prototype.addTextTrack=function(a,b,c,d){var e=this.textTracks_=this.textTracks_||[];d=d||{},d.kind=a,d.label=b,d.language=c;var f=vjs.capitalize(a||"subtitles"),g=new window["Mb.videojs"][f+"Track"](this,d);return e.push(g),g.dflt()&&this.ready(function(){setTimeout(function(){g.player().showTextTrack(g.id())},0)}),g},vjs.Player.prototype.addTextTracks=function(a){
for(var b,c=0;c<a.length;c++)b=a[c],this.addTextTrack(b.kind,b.label,b.language,b);return this},vjs.Player.prototype.showTextTrack=function(a,b){for(var c,d,e,f=this.textTracks_,g=0,h=f.length;g<h;g++)c=f[g],c.id()===a?(c.show(),d=c):b&&c.kind()==b&&c.mode()>0&&c.disable();return e=d?d.kind():b||!1,e&&this.trigger(e+"trackchange"),this},vjs.TextTrack=vjs.Component.extend({init:function(a,b){vjs.Component.call(this,a,b),this.id_=b.id||"vjs_"+b.kind+"_"+b.language+"_"+vjs.guid++,this.src_=b.src,
this.dflt_=b.default||b.dflt,this.title_=b.title,this.language_=b.srclang,this.label_=b.label,this.cues_=[],this.activeCues_=[],this.readyState_=0,this.mode_=0,this.player_.on("fullscreenchange",vjs.bind(this,this.adjustFontSize))}}),vjs.TextTrack.prototype.kind_,vjs.TextTrack.prototype.kind=function(){return this.kind_},vjs.TextTrack.prototype.src_,vjs.TextTrack.prototype.src=function(){return this.src_},vjs.TextTrack.prototype.dflt_,vjs.TextTrack.prototype.dflt=function(){return this.dflt_},
vjs.TextTrack.prototype.title_,vjs.TextTrack.prototype.title=function(){return this.title_},vjs.TextTrack.prototype.language_,vjs.TextTrack.prototype.language=function(){return this.language_},vjs.TextTrack.prototype.label_,vjs.TextTrack.prototype.label=function(){return this.label_},vjs.TextTrack.prototype.cues_,vjs.TextTrack.prototype.cues=function(){return this.cues_},vjs.TextTrack.prototype.activeCues_,vjs.TextTrack.prototype.activeCues=function(){return this.activeCues_},
vjs.TextTrack.prototype.readyState_,vjs.TextTrack.prototype.readyState=function(){return this.readyState_},vjs.TextTrack.prototype.mode_,vjs.TextTrack.prototype.mode=function(){return this.mode_},vjs.TextTrack.prototype.adjustFontSize=function(){this.player_.isFullscreen()?this.el_.style.fontSize=screen.width/this.player_.width()*1.4*100+"%":this.el_.style.fontSize=""},vjs.TextTrack.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{
className:"vjs-"+this.kind_+" vjs-text-track"})},vjs.TextTrack.prototype.show=function(){this.activate(),this.mode_=2,vjs.Component.prototype.show.call(this)},vjs.TextTrack.prototype.hide=function(){this.activate(),this.mode_=1,vjs.Component.prototype.hide.call(this)},vjs.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide(),this.deactivate(),this.mode_=0},vjs.TextTrack.prototype.activate=function(){0===this.readyState_&&this.load(),
0===this.mode_&&(this.player_.on("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.on("ended",vjs.bind(this,this.reset,this.id_)),"captions"!==this.kind_&&"subtitles"!==this.kind_||this.player_.getChild("textTrackDisplay").addChild(this))},vjs.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.off("ended",vjs.bind(this,this.reset,this.id_)),this.reset(),this.player_.getChild("textTrackDisplay").removeChild(this)
},vjs.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,vjs.get(this.src_,vjs.bind(this,this.parseCues),vjs.bind(this,this.onError)))},vjs.TextTrack.prototype.onError=function(a){this.error=a,this.readyState_=3,this.trigger("error")},vjs.TextTrack.prototype.parseCues=function(a){for(var b,c,d,e,f=a.split("\n"),g="",h=1,i=f.length;h<i;h++)if(g=vjs.trim(f[h])){for(-1==g.indexOf("--\x3e")?(e=g,g=vjs.trim(f[++h])):e=this.cues_.length,b={id:e,index:this.cues_.length},
c=g.split(/[\t ]+/),b.startTime=this.parseCueTime(c[0]),b.endTime=this.parseCueTime(c[2]),d=[];f[++h]&&(g=vjs.trim(f[h]));)d.push(g);b.text=d.join("<br/>"),this.cues_.push(b)}this.readyState_=2,this.trigger("loaded")},vjs.TextTrack.prototype.parseCueTime=function(a){var b,c,d,e,f,g=a.split(":"),h=0;return 3==g.length?(b=g[0],c=g[1],d=g[2]):(b=0,c=g[0],d=g[1]),d=d.split(/\s+/),e=d.splice(0,1)[0],e=e.split(/\.|,/),f=parseFloat(e[1]),e=e[0],h+=3600*parseFloat(b),h+=60*parseFloat(c),
h+=parseFloat(e),f&&(h+=f/1e3),h},vjs.TextTrack.prototype.update=function(){if(this.cues_.length>0){var a=this.player_.options().trackTimeOffset||0,b=this.player_.currentTime()+a;if(void 0===this.prevChange||b<this.prevChange||this.nextChange<=b){var c,d,e,f,g=this.cues_,h=this.player_.duration(),i=0,j=!1,k=[];for(b>=this.nextChange||void 0===this.nextChange?f=void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(j=!0,f=void 0!==this.lastActiveIndex?this.lastActiveIndex:g.length-1);;){
if(e=g[f],e.endTime<=b)i=Math.max(i,e.endTime),e.active&&(e.active=!1);else if(b<e.startTime){if(h=Math.min(h,e.startTime),e.active&&(e.active=!1),!j)break}else j?(k.splice(0,0,e),void 0===d&&(d=f),c=f):(k.push(e),void 0===c&&(c=f),d=f),h=Math.min(h,e.endTime),i=Math.max(i,e.startTime),e.active=!0;if(j){if(0===f)break;f--}else{if(f===g.length-1)break;f++}}this.activeCues_=k,this.nextChange=h,this.prevChange=i,this.firstActiveIndex=c,this.lastActiveIndex=d,this.updateDisplay(),
this.trigger("cuechange")}}},vjs.TextTrack.prototype.updateDisplay=function(){for(var a=this.activeCues_,b="",c=0,d=a.length;c<d;c++)b+='<span class="vjs-tt-cue">'+a[c].text+"</span>";this.el_.innerHTML=b},vjs.TextTrack.prototype.reset=function(){this.nextChange=0,this.prevChange=this.player_.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0},vjs.CaptionsTrack=vjs.TextTrack.extend(),vjs.CaptionsTrack.prototype.kind_="captions",vjs.SubtitlesTrack=vjs.TextTrack.extend(),
vjs.SubtitlesTrack.prototype.kind_="subtitles",vjs.ChaptersTrack=vjs.TextTrack.extend(),vjs.ChaptersTrack.prototype.kind_="chapters",vjs.TextTrackDisplay=vjs.Component.extend({init:function(a,b,c){vjs.Component.call(this,a,b,c),a.options_.tracks&&a.options_.tracks.length>0&&this.player_.addTextTracks(a.options_.tracks)}}),vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},
vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(a,b){var c=this.track=b.track;b.label=c.label(),b.selected=c.dflt(),vjs.MenuItem.call(this,a,b),this.player_.on(c.kind()+"trackchange",vjs.bind(this,this.update))}}),vjs.TextTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.TextTrackMenuItem.prototype.update=function(){this.selected(2==this.track.mode())},
vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(a,b){b.track={kind:function(){return b.kind},player:a,label:function(){return b.kind+" off"},dflt:function(){return!1},mode:function(){return!1}},vjs.TextTrackMenuItem.call(this,a,b),this.selected(!0)}}),vjs.OffTextTrackMenuItem.prototype.onClick=function(){vjs.TextTrackMenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.OffTextTrackMenuItem.prototype.update=function(){
for(var a,b=this.player_.textTracks(),c=0,d=b.length,e=!0;c<d;c++)a=b[c],a.kind()==this.track.kind()&&2==a.mode()&&(e=!1);this.selected(e)},vjs.TextTrackButton=vjs.MenuButton.extend({init:function(a,b){vjs.MenuButton.call(this,a,b),this.items.length<=1&&this.hide()}}),vjs.TextTrackButton.prototype.createItems=function(){var a,b=[];b.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_}));for(var c=0;c<this.player_.textTracks().length;c++)a=this.player_.textTracks()[c],
a.kind()===this.kind_&&b.push(new vjs.TextTrackMenuItem(this.player_,{track:a}));return b},vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(a,b,c){
vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(a,b,c){vjs.TextTrackButton.call(this,a,b,c),this.el_.setAttribute("aria-label","Chapters Menu")}}),vjs.ChaptersButton.prototype.kind_="chapters",
vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){for(var a,b=[],c=0;c<this.player_.textTracks().length;c++)a=this.player_.textTracks()[c],a.kind()===this.kind_&&b.push(new vjs.TextTrackMenuItem(this.player_,{track:a}));return b},vjs.ChaptersButton.prototype.createMenu=function(){for(var a,b,c=this.player_.textTracks(),d=0,e=c.length,f=this.items=[];d<e;d++)if(a=c[d],
a.kind()==this.kind_){if(0!==a.readyState()){b=a;break}a.load(),a.on("loaded",vjs.bind(this,this.createMenu))}var g=this.menu;if(void 0===g&&(g=new vjs.Menu(this.player_),g.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1}))),b){var h,i,j=b.cues_;for(d=0,e=j.length;d<e;d++)h=j[d],i=new vjs.ChaptersTrackMenuItem(this.player_,{track:b,cue:h}),f.push(i),g.addChild(i);this.addChild(g)}return this.items.length>0&&this.show(),g},
vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(a,b){var c=this.track=b.track,d=this.cue=b.cue,e=a.currentTime();b.label=d.text,b.selected=d.startTime<=e&&e<d.endTime,vjs.MenuItem.call(this,a,b),c.on("cuechange",vjs.bind(this,this.update))}}),vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},vjs.ChaptersTrackMenuItem.prototype.update=function(){
var a=this.cue,b=this.player_.currentTime();this.selected(a.startTime<=b&&b<a.endTime)},vjs.obj.merge(vjs.ControlBar.prototype.options_.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),vjs.JSON,void 0!==window.JSON&&"function"===window.JSON.parse)vjs.JSON=window.JSON;else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b]
;if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),
/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var a,b,c=document.getElementsByTagName("video");if(c&&c.length>0)for(var d=0,e=c.length;d<e;d++){if(!(b=c[d])||!b.getAttribute){
vjs.autoSetupTimeout(1);break}void 0===b.player&&null!==(a=b.getAttribute("data-setup"))&&(a=vjs.JSON.parse(a||"{}"),Mb.videojs(b,a))}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(a){setTimeout(vjs.autoSetup,a)},"complete"===document.readyState?vjs.windowLoaded=!0:vjs.one(window,"load",function(){vjs.windowLoaded=!0}),vjs.autoSetupTimeout(1),vjs.plugin=function(a,b){vjs.Player.prototype[a]=b},vjs.Player.prototype.playAd=function(){return this.techCall("play"),
void 0!==this.isIMA&&(this.isIMA&&void 0!==this.ima&&void 0!==this.ima.resumeAd?this.ima.resumeAd():this.isIMA||Mb.mobile.canvas.play()),this},vjs.Player.prototype.setVolume=function(a){return this.volume(a),this},vjs.Player.prototype.pauseAd=function(){return this.techCall("pause"),void 0!==this.isIMA&&(this.isIMA&&void 0!==this.ima&&void 0!==this.ima.pauseAd?this.ima.pauseAd():this.isIMA||Mb.mobile.canvas.pause()),this},vjs.Player.prototype.stopAd=function(){
return void 0!==this.isIMA&&(this.isIMA&&void 0!==this.ima&&void 0!==this.ima.stopIMA_?this.ima.stopIMA_():this.isIMA||Mb.mobile.canvas.end()),this},vjs.Player.prototype.getAdMediaFile=function(){var a={};return a.id="",this.isIMA?(a.url=this.ima.getAdsManager().adUrl,a.mime_type=this.ima.getAdsManager().adType):(a.mime_type=this.vast.sources[0].type,a.url=this.vast.sources[0].src),a},vjs.Player.prototype.getAdServerId=function(){return this.current_adserver_id},
vjs.Player.prototype.getAdServerReportingUrl=function(){return this.adserver_reporting_url},vjs.Player.prototype.getAdDuration=function(){var a=null;return a=this.isIMA?this.ima.getAdDuration():this.vastTracker&&this.vastTracker.assetDuration?this.vastTracker.assetDuration:this.duration(),a||(a=30),a},vjs.Component.prototype.loadManifest=function(a){var b=this.player(),c=b.options().mb_video_id,d=function(a){""!=a&&(b.stopAd(),mb_players[c].jsonDoc=JSON.parse(a),b.adsLoaded&&(b.adsLoaded=!1,
b.ads.state="content-set",b.src("//player.mediabong.com/static/videojs/black.mp4"),b.isIMA?b.ima.imaInitialized=!1:Mb.mobile.canvas.reset()))};Mb.helpers.doXdr(unescape(a),!0,!1,d)},vjs.Component.prototype.initIMA=function(){var a={id:this.id(),adTagUrl:"",adsRenderingSettings:{mimeTypes:["video/mp4","video/webm"]}};this.ima(a),this.ima.initializeAdDisplayContainer(),this.ima.adCompleted=!1},function(a,b,c,d){var e=function(a){var b,c,d;for(c=1;c<arguments.length;c++){b=arguments[c]
;for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d])}return a},f=function(a,b,c){var d,e,f=Object.prototype.toString.call(b),g=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c);else if(a.on)a.on(b,c);else{if(!a.attachEvent)throw new Error("object has no mechanism for adding event listeners");a.attachEvent("on"+b,c)}};switch(f){case"[object String]":g(a,b,c);break;case"[object Array]":for(d=0,e=b.length;d<e;d++)g(a,b[d],c);break;case"[object Object]":
for(d in b)b.hasOwnProperty(d)&&g(a,d,b[d]);break;default:throw new Error("Unrecognized events parameter type: "+f)}return a},g=function(b){return(a.setImmediate||a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.setTimeout)(b,0)},h=function(b){return(a.clearImmediate||a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.clearTimeout)(b)},i=function(a){a.ads.cancelPlayTimeout||(a.ads.cancelPlayTimeout=g(function(){
a.ads.cancelPlayTimeout=null,a.paused()||a.pause()}))},j=function(a){var b=a.el().querySelector(".vjs-tech-mb"),c={src:a.mbVideoSrc,currentTime:a.currentTime(),play:!0};return b&&(c.nativePoster=b.poster),c},k=function(a,b){for(var c=a.className.split(/\s+/),d=c.length,e=[];d--;)c[d]!==b&&e.push(c[d]);a.className=e.join(" ")},l=function(b,c){var d=b.el().querySelector(".vjs-tech-mb"),e=20,f=function(){b.currentTime(c.currentTime),c.play&&b.play()},g=function(){
return void 0===d.seekable?void f():d.seekable.length>0?void f():void(e--&&setTimeout(g,50))};if(c.nativePoster&&(d.poster=c.nativePoster),b.currentSrc()===c.src)return void b.play();b.src(c.src),b.load(),0!=b.volume()&&b.volume()!=Mb.player.muteVolume||(b.volume(1),b.muted(1)),(void 0!==a.MB_PAUSE_AFTER_AD&&0==a.MB_PAUSE_AFTER_AD||void 0===a.MB_PAUSE_AFTER_AD)&&b.one("loadedmetadata",g)},m=function(a){var b=a.el().querySelector(".vjs-tech-mb");b&&b.removeAttribute("poster")},n={timeout:1e4,
prerollTimeout:100,debug:!1},o=function(b){var d,o=this,p=e({},n,b||{});o.ads={state:"content-set",startLinearAdMode:function(){o.trigger("adstart")},endLinearAdMode:function(){o.trigger("adend")}},d=function(b){var c={"content-set":{events:{adsready:function(){this.state="ads-ready"},play:function(){this.state="ads-ready?",this.snapshot=j(o),i(o),m(o)},adabort:function(){this.snapshot=j(o),l(o,this.snapshot),this.state="content-playback"}}},"ads-ready":{events:{play:function(){
this.state="preroll?",i(o)}}},"preroll?":{enter:function(){this.snapshot=j(o),m(o),o.el().className+=" vjs-ad-loading",o.isIMA||(o.ads.timeout=a.setTimeout(function(){o.trigger("adtimeout")},p.prerollTimeout)),o.trigger("readyforpreroll")},leave:function(){o.isIMA||a.clearTimeout(o.ads.timeout),h(o.ads.cancelPlayTimeout),o.ads.cancelPlayTimeout=null,k(o.el(),"vjs-ad-loading")},events:{play:function(){i(o)},adstart:function(){this.state="ad-playback",o.el().className+=" vjs-ad-playing"},
adend:function(){this.state="content-playback",k(o.el(),"vjs-ad-playing"),l(o,this.snapshot)},adtimeout:function(){l(o,this.snapshot),this.state="content-playback",o.play()}}},"ads-ready?":{enter:function(){o.el().className+=" vjs-ad-loading",o.isIMA||(o.ads.timeout=a.setTimeout(function(){o.trigger("adtimeout")},p.timeout))},leave:function(){o.isIMA||a.clearTimeout(o.ads.timeout),k(o.el(),"vjs-ad-loading")},events:{play:function(){i(o)},adsready:function(){this.state="preroll?"},
adend:function(){this.state="content-playback",k(o.el(),"vjs-ad-playing"),l(o,this.snapshot)},adtimeout:function(){this.state="ad-timeout-playback"},adabort:function(){this.state="content-playback",k(o.el(),"vjs-ad-playing"),l(o,this.snapshot)}}},"ad-timeout-playback":{enter:function(){l(o,this.snapshot)},events:{adsready:function(){o.paused()?this.state="ads-ready":this.state="preroll?"},contentupdate:function(){o.paused()?this.state="content-set":this.state="ads-ready?"}}},"ad-playback":{
events:{adend:function(){this.state="content-playback",k(o.el(),"vjs-ad-playing"),l(o,this.snapshot)}}},"content-playback":{events:{adstart:function(){this.state="ad-playback",this.snapshot=j(o),o.el().className+=" vjs-ad-playing",m(o)},contentupdate:function(){o.paused()?this.state="content-set":this.state="ads-ready?"}}}};!function(a){var d=function(){};(c[a].events[b.type]||d).apply(o.ads),a!==o.ads.state&&((c[a].leave||d).apply(o.ads),(c[o.ads.state].enter||d).apply(o.ads),
p.debug&&Mb.videojs.log("ads",a+" -> "+o.ads.state))}(o.ads.state)},f(o,c.Html5.Events.concat(["adtimeout","contentupdate","adsready","adstart","adend","adabort"]),d),function(){var a,b=function(){var b;"ad-playback"!==o.ads.state&&(b=o.currentSrc())!==a&&(o.trigger({type:"contentupdate",oldValue:a,newValue:b}),a=b)};o.on("loadstart",b),g(b)}(),o.paused()||d({type:"play"})};c.plugin("ads",o)}(window,document,Mb.videojs),function(a){var b
;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.DMVAST=function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c||a)},j,j.exports,a,b,c,d)}return c[g].exports}
for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,
d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if((b=arguments[1])instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this)
;break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;i<d;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;i<d;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),
this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.trace)}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){
this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){
for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){
for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){return this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){
return a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],2:[function(a,b,c){var d;d=function(){function a(){this.id=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[]}return a}(),b.exports=d},{}],3:[function(a,b,c){var d,e,f;e=a("./parser"),f=a("./util"),d=function(){function a(){}return a.cappingFreeLunch=0,a.cappingMinimumTimeInterval=0,a.options={withCredentials:!1,timeout:0},a.get=function(a,b,d){var f,g,h;return g=+new Date,
f=c.extend=function(a,b){var c,d;for(c in b)d=b[c],a[c]=d;return a},d||("function"==typeof b&&(d=b),h={}),h=f(this.options,b),this.totalCallsTimeout<g?(this.totalCalls=1,this.totalCallsTimeout=g+36e5):this.totalCalls++,this.cappingFreeLunch>=this.totalCalls?void d(null):g-this.lastSuccessfullAd<this.cappingMinimumTimeInterval?void d(null):e.parse(a,h,function(a){return function(a,b,c){return d(a,b,c)}}())},function(){var b,c;c=f.storage,b=Object.defineProperty,
["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(d){b(a,d,{get:function(){return c.getItem(d)},set:function(a){return c.setItem(d,a)},configurable:!1,enumerable:!0})}),null==a.totalCalls&&(a.totalCalls=0),null==a.totalCallsTimeout&&(a.totalCallsTimeout=0)}(),a}(),b.exports=d},{"./parser":8,"./util":14}],4:[function(a,b,c){var d;d=function(){function a(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,
this.iframeResource=null,this.companionClickThroughURLTemplate=null,this.trackingEvents={}}return a}(),b.exports=d},{}],5:[function(a,b,c){var d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=function(){function a(){this.trackingEvents={}}return a}(),f=function(a){function b(){b.__super__.constructor.apply(this,arguments),this.type="linear",
this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null}return i(b,a),b}(d),g=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return i(b,a),b}(d),e=function(a){function b(){this.type="companion",this.variations=[],this.videoClickTrackingURLTemplates=[]}return i(b,a),b}(d),b.exports={VASTCreativeLinear:f,VASTCreativeNonLinear:g,
VASTCreativeCompanion:e}},{}],6:[function(a,b,c){b.exports={client:a("./client"),tracker:a("./tracker"),parser:a("./parser"),util:a("./util")}},{"./client":3,"./parser":8,"./tracker":10,"./util":14}],7:[function(a,b,c){var d;d=function(){function a(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null}
return a}(),b.exports=d},{}],8:[function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};e=a("./urlhandler"),l=a("./response"),f=a("./ad"),m=a("./util"),i=a("./creative").VASTCreativeLinear,h=a("./creative").VASTCreativeCompanion,j=a("./mediafile"),g=a("./companionad"),d=a("events").EventEmitter,k=function(){function a(){}var b;return b=[],a.addURLTemplateFilter=function(a){"function"==typeof a&&b.push(a)},
a.removeURLTemplateFilter=function(){return b.pop()},a.countURLTemplateFilters=function(){return b.length},a.clearUrlTemplateFilters=function(){return b=[]},a.parse=function(a,b,c){return c||("function"==typeof b&&(c=b),b={}),this._parse(a,null,b,function(a,b,d,e){return c(b,d,e)})},a.vent=new d,a.track=function(a,b){return this.vent.emit("VAST-error",b),m.track(a,b)},a.on=function(a,b){return this.vent.on(a,b)},a.once=function(a,b){return this.vent.once(a,b)},a._parse=function(a,c,d,f){
void 0!==window.Mb.helpers.parseUrl&&(a=Mb.helpers.parseUrl(a,{},"mb_container"));var g,h,i;for(f||("function"==typeof d&&(f=d),d={}),h=0,i=b.length;h<i;h++)g=b[h],a=g(a);return null==c&&(c=[]),c.push(a),e.get(a,d,function(b){return function(e,g,h,i){var j,k,m,o,p,q,r,s,t,u,v;if(null!=e)return f(e);if(p=new l,null==(null!=g?g.documentElement:void 0)||"VAST"!==g.documentElement.nodeName)return f();for(u=g.documentElement.childNodes,q=0,s=u.length;q<s;q++)o=u[q],
"Error"===o.nodeName&&p.errorURLTemplates.push(b.parseNodeText(o));for(v=g.documentElement.childNodes,r=0,t=v.length;r<t;r++)o=v[r],"Ad"===o.nodeName&&(j=b.parseAdElement(o),null!=j?p.ads.push(j):b.track(p.errorURLTemplates,{ERRORCODE:101}));for(k=function(a){var c,d,e;if(null==a&&(a=!1),p){for(e=p.ads,c=0,d=e.length;c<d;c++)if(j=e[c],null!=j.nextWrapperURL)return;return 0===p.ads.length&&(a||b.track(p.errorURLTemplates,{ERRORCODE:303}),p=null),f(null,p,h,i)}},m=p.ads.length;m--;)j=p.ads[m],
null!=j.nextWrapperURL&&function(e){var f,g,h;c.length>=10||(h=e.nextWrapperURL,n.call(c,h)>=0)?(b.track(e.errorURLTemplates,{ERRORCODE:302}),p.ads.splice(p.ads.indexOf(e),1),k()):(0===e.nextWrapperURL.indexOf("//")?(g=location.protocol,e.nextWrapperURL=""+g+e.nextWrapperURL):-1===e.nextWrapperURL.indexOf("://")&&(f=a.slice(0,a.lastIndexOf("/")),e.nextWrapperURL=f+"/"+e.nextWrapperURL),b._parse(e.nextWrapperURL,c,d,function(a,c){var d,f,g,h,i,j,l,m,n,o,q,r,s,t,u,v,w,x;if(f=!1,
null!=a)b.track(e.errorURLTemplates,{ERRORCODE:301}),p.ads.splice(p.ads.indexOf(e),1),f=!0;else if(null==c)b.track(e.errorURLTemplates,{ERRORCODE:303}),p.ads.splice(p.ads.indexOf(e),1),f=!0;else for(p.errorURLTemplates=p.errorURLTemplates.concat(c.errorURLTemplates),h=p.ads.indexOf(e),p.ads.splice(h,1),u=c.ads,l=0,m=u.length;l<m;l++){if(i=u[l],i.errorURLTemplates=e.errorURLTemplates.concat(i.errorURLTemplates),i.impressionURLTemplates=e.impressionURLTemplates.concat(i.impressionURLTemplates),
null!=e.trackingEvents)for(v=i.creatives,r=0,n=v.length;r<n;r++)if(d=v[r],"linear"===d.type)for(w=Object.keys(e.trackingEvents),s=0,o=w.length;s<o;s++)g=w[s],(j=d.trackingEvents)[g]||(j[g]=[]),d.trackingEvents[g]=d.trackingEvents[g].concat(e.trackingEvents[g]);if(null!=e.videoClickTrackingURLTemplates)for(x=i.creatives,t=0,q=x.length;t<q;t++)d=x[t],"linear"===d.type&&(d.videoClickTrackingURLTemplates=d.videoClickTrackingURLTemplates.concat(e.videoClickTrackingURLTemplates));p.ads.splice(h,0,i)}
return delete e.nextWrapperURL,k(f)}))}(j);return k()}}(this))},a.childByName=function(a,b){var c,d,e,f;for(f=a.childNodes,d=0,e=f.length;d<e;d++)if(c=f[d],c.nodeName===b)return c},a.childsByName=function(a,b){var c,d,e,f,g;for(d=[],g=a.childNodes,e=0,f=g.length;e<f;e++)c=g[e],c.nodeName===b&&d.push(c);return d},a.parseAdElement=function(a){var b,c,d,e;for(e=a.childNodes,c=0,d=e.length;c<d;c++){if(b=e[c],b.id=a.getAttribute("id"),"Wrapper"===b.nodeName)return this.parseWrapperElement(b)
;if("InLine"===b.nodeName)return this.parseInLineElement(b)}},a.parseWrapperElement=function(a){var b,c,d,e,f,g,h;for(b=this.parseInLineElement(a),e=this.childByName(a,"VASTAdTagURI"),null!=e?b.nextWrapperURL=this.parseNodeText(e):null!=(e=this.childByName(a,"VASTAdTagURL"))&&(b.nextWrapperURL=this.parseNodeText(this.childByName(e,"URL"))),d=null,h=b.creatives,f=0,g=h.length;f<g;f++)if(c=h[f],"linear"===c.type){d=c;break}if(null!=d&&(null!=d.trackingEvents&&(b.trackingEvents=d.trackingEvents),
null!=d.videoClickTrackingURLTemplates&&(b.videoClickTrackingURLTemplates=d.videoClickTrackingURLTemplates)),null!=b.nextWrapperURL)return b},a.parseInLineElement=function(a){var b,c,d,e,g,h,i,j,k,l,m,n,o,p;for(b=new f,b.id=a.id,n=a.childNodes,h=0,k=n.length;h<k;h++)switch(g=n[h],g.nodeName){case"Error":b.errorURLTemplates.push(this.parseNodeText(g));break;case"Impression":b.impressionURLTemplates.push(this.parseNodeText(g));break;case"Creatives":for(o=this.childsByName(g,"Creative"),i=0,
l=o.length;i<l;i++)for(d=o[i],p=d.childNodes,j=0,m=p.length;j<m;j++)switch(e=p[j],e.nodeName){case"Linear":c=this.parseCreativeLinearElement(e),c&&b.creatives.push(c);break;case"CompanionAds":c=this.parseCompanionAd(e),c&&b.creatives.push(c)}}return b},a.parseCreativeLinearElement=function(a){var b,c,d,e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M;if(d=new i,d.duration=this.parseDuration(this.parseNodeText(this.childByName(a,"Duration"))),
-1===d.duration&&"Wrapper"!==a.parentNode.parentNode.parentNode.nodeName)return null;if(p=a.getAttribute("skipoffset"),null==p?d.skipDelay=null:"%"===p.charAt(p.length-1)?(n=parseInt(p,10),d.skipDelay=d.duration*(n/100)):d.skipDelay=this.parseDuration(p),null!=(t=this.childByName(a,"VideoClicks"))){for(d.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(t,"ClickThrough")),H=this.childsByName(t,"ClickTracking"),v=0,z=H.length;v<z;v++)c=H[v],
d.videoClickTrackingURLTemplates.push(this.parseNodeText(c));for(I=this.childsByName(t,"CustomClick"),w=0,A=I.length;w<A;w++)e=I[w],d.videoCustomClickURLTemplates.push(this.parseNodeText(e))}for(b=this.childByName(a,"AdParameters"),null!=b&&(d.adParameters=this.parseNodeText(b)),J=this.childsByName(a,"TrackingEvents"),x=0,B=J.length;x<B;x++)for(r=J[x],K=this.childsByName(r,"Tracking"),y=0,C=K.length;y<C;y++)if(q=K[y],f=q.getAttribute("event"),s=this.parseNodeText(q),null!=f&&null!=s){
if("progress"===f){if(!(m=q.getAttribute("offset")))continue;f="%"===m.charAt(m.length-1)?"progress-"+m:"progress-"+Math.round(this.parseDuration(m))}null==(u=d.trackingEvents)[f]&&(u[f]=[]),d.trackingEvents[f].push(s)}for(L=this.childsByName(a,"MediaFiles"),F=0,D=L.length;F<D;F++)for(l=L[F],M=this.childsByName(l,"MediaFile"),G=0,E=M.length;G<E;G++)k=M[G],h=new j,h.id=k.getAttribute("id"),h.fileURL=this.parseNodeText(k),h.deliveryType=k.getAttribute("delivery"),h.codec=k.getAttribute("codec"),
h.mimeType=k.getAttribute("type"),h.apiFramework=k.getAttribute("apiFramework"),h.bitrate=parseInt(k.getAttribute("bitrate")||0),h.minBitrate=parseInt(k.getAttribute("minBitrate")||0),h.maxBitrate=parseInt(k.getAttribute("maxBitrate")||0),h.width=parseInt(k.getAttribute("width")||0),h.height=parseInt(k.getAttribute("height")||0),o=k.getAttribute("scalable"),o&&"string"==typeof o&&(o=o.toLowerCase(),"true"===o?h.scalable=!0:"false"===o&&(h.scalable=!1)),g=k.getAttribute("maintainAspectRatio"),
g&&"string"==typeof g&&(g=g.toLowerCase(),"true"===g?h.maintainAspectRatio=!0:"false"===g&&(h.maintainAspectRatio=!1)),d.mediaFiles.push(h);return d},a.parseCompanionAd=function(a){var b,c,d,e,f,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;for(d=new h,A=this.childsByName(a,"Companion"),o=0,s=A.length;o<s;o++){for(c=A[o],b=new g,b.id=c.getAttribute("id")||null,b.width=c.getAttribute("width"),b.height=c.getAttribute("height"),B=this.childsByName(c,"HTMLResource"),p=0,t=B.length;p<t;p++)f=B[p],
b.type=f.getAttribute("creativeType")||"text/html",b.htmlResource=this.parseNodeText(f);for(C=this.childsByName(c,"IFrameResource"),q=0,u=C.length;q<u;q++)i=C[q],b.type=i.getAttribute("creativeType")||0,b.iframeResource=this.parseNodeText(i);for(D=this.childsByName(c,"StaticResource"),r=0,v=D.length;r<v;r++)j=D[r],b.type=j.getAttribute("creativeType")||0,b.staticResource=this.parseNodeText(j);for(E=this.childsByName(c,"TrackingEvents"),y=0,w=E.length;y<w;y++)for(l=E[y],
F=this.childsByName(l,"Tracking"),z=0,x=F.length;z<x;z++)k=F[z],e=k.getAttribute("event"),m=this.parseNodeText(k),null!=e&&null!=m&&(null==(n=b.trackingEvents)[e]&&(n[e]=[]),b.trackingEvents[e].push(m));b.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(c,"CompanionClickThrough")),d.variations.push(b)}return d},a.parseDuration=function(a){var b,c,d,e,f;return null==a?-1:(b=a.split(":"),3!==b.length?-1:(f=b[2].split("."),e=parseInt(f[0]),
2===f.length&&(e+=parseFloat("0."+f[1])),d=parseInt(60*b[1]),c=parseInt(60*b[0]*60),isNaN(c||isNaN(d||isNaN(e||d>3600||e>60)))?-1:c+d+e))},a.parseNodeText=function(a){return a&&(a.textContent||a.text||"").trim()},a}(),b.exports=k},{"./ad":2,"./companionad":4,"./creative":5,"./mediafile":7,"./response":9,"./urlhandler":11,"./util":14,events:1}],9:[function(a,b,c){var d;d=function(){function a(){this.ads=[],this.errorURLTemplates=[]}return a}(),b.exports=d},{}],10:[function(a,b,c){
var d,e,f,g,h,i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("./client"),h=a("./util"),f=a("./creative").VASTCreativeLinear,d=a("events").EventEmitter,g=function(a){function b(a,b){var c,d,g;this.ad=a,this.creative=b,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},
this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],g=this.creative.trackingEvents;for(c in g)d=g[c],this.trackingEvents[c]=d.slice(0);this.creative instanceof f?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,
this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1),this.on("start",function(){e.lastSuccessfullAd=+new Date})}return j(b,a),b.prototype.setDuration=function(a){return this.assetDuration=a,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},b.prototype.setProgress=function(a){var b,c,d,e,f,g,h,i,j
;if(f=null===this.skipDelay?this.skipDelayDefault:this.skipDelay,-1===f||this.skipable||(f>a?this.emit("skip-countdown",f-a):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&this.assetDuration>0){if(c=[],a>0){c.push("start"),d=Math.round(a/this.assetDuration*100),c.push("progress-"+d+"%"),c.push("progress-"+Math.round(a)),j=this.quartiles;for(e in j)(g=j[e])<=a&&a<=g+1&&(c.push(e),Mb.mobile.canvas.handleQuartilesTracking(e),delete this.quartiles[e])}for(h=0,
i=c.length;h<i;h++)b=c[h],this.track(b,!0);a<this.progress&&this.track("rewind")}return this.progress=a},b.prototype.setMuted=function(a){return this.muted!==a&&this.track(a?"mute":"unmute"),this.muted=a},b.prototype.setPaused=function(a){return this.paused!==a&&this.track(a?"pause":"resume"),this.paused=a},b.prototype.setFullscreen=function(a){return this.fullscreen!==a&&this.track(a?"fullscreen":"exitFullscreen"),this.fullscreen=a},b.prototype.setSkipDelay=function(a){
if("number"==typeof a)return this.skipDelay=a},b.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")},b.prototype.errorWithCode=function(a){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:a})},b.prototype.complete=function(){return this.track("complete")},b.prototype.close=function(){return this.track(this.linear?"closeLinear":"close")},b.prototype.stop=function(){},b.prototype.skip=function(){
return this.track("skip"),this.trackingEvents=[]},b.prototype.click=function(){var a,b,c;if((null!=(c=this.clickTrackingURLTemplates)?c.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate)return this.linear&&(b={CONTENTPLAYHEAD:this.progressFormated()}),a=h.resolveURLTemplates([this.clickThroughURLTemplate],b)[0],this.emit("clickthrough",a)},b.prototype.track=function(a,b){var c,d;null==b&&(b=!1),
"closeLinear"===a&&null==this.trackingEvents[a]&&null!=this.trackingEvents.close&&(a="close"),d=this.trackingEvents[a],c=this.emitAlwaysEvents.indexOf(a),null!=d?(this.emit(a,""),this.trackURLs(d)):-1!==c&&this.emit(a,""),!0===b&&(delete this.trackingEvents[a],c>-1&&this.emitAlwaysEvents.splice(c,1))},b.prototype.trackURLs=function(a,b){if(null==b&&(b={}),this.linear&&(b.CONTENTPLAYHEAD=this.progressFormated()),void 0!==window.Mb.helpers.parseUrl){var c=0
;"mb_video_syncad_bottom"==Mb.syncad.currentContainer&&(c=1);var d;for(d in a)a[d]=window.Mb.helpers.parseUrl(a[d],{ad_server_id:Mb.player.currentAdserverId,visibility:Mb.getVisibility(Mb.syncad.mainPlayerId,!0),syncrollenabled:Mb.enableSyncAd,currentPosition:c,adblock:Mb.adsEnabled?0:1},"mb_container")}return h.track(a,b)},b.prototype.progressFormated=function(){var a,b,c,d,e;return e=parseInt(this.progress),a=e/3600,a.length<2&&(a="0"+a),b=e/60%60,b.length<2&&(b="0"+b),d=e%60,
d.length<2&&(d="0"+b),c=parseInt(100*(this.progress-e)),a+":"+b+":"+d+"."+c},b}(d),b.exports=g},{"./client":3,"./creative":5,"./util":14,events:1}],11:[function(a,b,c){var d,e,f;f=a("./urlhandlers/xmlhttprequest"),e=a("./urlhandlers/flash"),d=function(){function b(){}return b.get=function(b,c,d){return d||("function"==typeof c&&(d=c),c={}),
c.urlhandler&&c.urlhandler.supported()?c.urlhandler.get(b,c,d):"undefined"==typeof window||null===window?a("./urlhandlers/node").get(b,c,d):f.supported()?f.get(b,c,d):e.supported()?e.get(b,c,d):d()},b}(),b.exports=d},{"./urlhandlers/flash":12,"./urlhandlers/xmlhttprequest":13}],12:[function(a,b,c){var d;d=function(){function a(){}return a.xdr=function(){var a;return window.XDomainRequest&&(a=new XDomainRequest),a},a.supported=function(){return!!this.xdr()},a.get=function(a,b,c){var d,e
;return(e="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(e.async=!1,d=this.xdr(),d.open("GET",a),d.timeout=b.timeout||0,d.withCredentials=b.withCredentials||!1,d.send(),d.onprogress=function(){},d.onload=function(){return e.loadXML(d.responseText),c(null,e)}):c()},a}(),b.exports=d},{}],13:[function(a,b,c){var d;d=function(){function a(){}return a.xhr=function(){var a;if("withCredentials"in(a=new window.XMLHttpRequest))return a},
a.supported=function(){return!!this.xhr()},a.get=function(a,b,c){var d;if("https:"===window.location.protocol&&0===a.indexOf("http://"))return c(new Error("Cannot go from HTTPS to HTTP."));try{return d=this.xhr(),d.open("GET",a),d.timeout=b.timeout||0,d.withCredentials=b.withCredentials||!1,d.send(),d.onreadystatechange=function(){if(4===d.readyState)return c(null,d.responseXML,d.responseText,d.getAllResponseHeaders())}}catch(a){return c()}},a}(),b.exports=d},{}],14:[function(a,b,c){var d
;d=function(){function a(){}return a.track=function(a,b){var c,d,e,f,g,h;for(d=this.resolveURLTemplates(a,b),h=[],f=0,g=d.length;f<g;f++)c=d[f],"undefined"!=typeof window&&null!==window&&(e=new Image,h.push(e.src=c));return h},a.resolveURLTemplates=function(a,b){var c,d,e,f,g,h,i,j,k;d=[],null==b&&(b={}),"CACHEBUSTING"in b||(b.CACHEBUSTING=Math.round(1e10*Math.random())),b.random=b.CACHEBUSTING;for(j=0,k=a.length;j<k;j++)if(c=a[j],h=c){for(e in b)i=b[e],f="["+e+"]",g="%%"+e+"%%",
h=h.replace(f,i),h=h.replace(g,i);d.push(h)}return d},a.storage=function(){var a,b,c;try{c="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(a){a,c=null}return b=function(a){var b;try{if(b="__VASTUtil__",a.setItem(b,b),a.getItem(b)!==b)return!0}catch(a){return a,!0}return!1},(null==c||b(c))&&(a={},c={length:0,getItem:function(b){return a[b]},setItem:function(b,c){a[b]=c,this.length=Object.keys(a).length},removeItem:function(b){delete a[b],
this.length=Object.keys(a).length},clear:function(){a={},this.length=0}}),c}(),a}(),b.exports=d},{}]},{},[6])(6)}()}(),function(a,b){var c=function(a){var b,c,d;for(c=1;c<arguments.length;c++){b=arguments[c];for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d])}return a},d={skip:5},e=function(a){var e=this,f=c({},d,a||{});if(void 0!==e.ads)if(void 0!==f.url&&0!=f.url.length)e.on("contentupdate",function(){e.off("contentupdate")}),e.on("readyforpreroll",function(){e.vast.preroll(),e.off("readyforpreroll")
}),e.vast.getContent=function(a){var c=0,d=function(){if(void 0===a[c]){Mb.player.callBack.adserverListEmptied(e.options().mb_video_id);try{Mb.syncad.prerollCompletedDone||Mb.syncad.prerollCompleted(e.options().mb_video_id)}catch(a){return}return void Mb.mobile.canvas.abort(e)}var f=a[c].url,g=a[c].id;void 0!==a[c].video_ad_click_behavior&&(e.vast.videoAdClickBehavior=a[c].video_ad_click_behavior),c++,e.current_adserver_id=g,Mb.player.callBack.adserverLoading(e.options().mb_video_id,g),
b.client.get(f,function(a,c,f){if(c=void 0!==c?c:"",a){Mb.player.callBack.adserverCompleted(e.options().mb_video_id);for(var h=0;h<a.ads.length;h++){var i=a.ads[h];e.vast.companion=void 0;for(var j=0;j<i.creatives.length;j++){if(Mb.mobile.canvas.timeout)return;var k=i.creatives[j],l=!1,m=!1;if("linear"!==k.type||l)"companion"!==k.type||m||(e.vast.companion=k,m=!0);else if(k.mediaFiles.length){if(e.vast.sources=e.vast.createSourceObjects(k.mediaFiles),
!e.vast.sources.length)return Mb.mobile.prReportingTracking(e.options().mb_video_id,1,Mb.vast.errorCodes.NO_MATCHING_AD,c),void d();var n=Mb.helpers.parseResponseHeaders(f);n.hasOwnProperty("MDB_P")?Mb.rtb_partnerId=n.MDB_P:Mb.rtb_partnerId=0,n.hasOwnProperty("MDB_S")?Mb.rtb_seatId=n.MDB_S:Mb.rtb_seatId=0,n.hasOwnProperty("MDB_D")?Mb.rtb_dealId=n.MDB_D:Mb.rtb_dealId="",n.hasOwnProperty("MDB_C")?Mb.rtb_cpm=n.MDB_C:Mb.rtb_cpm=0,n.hasOwnProperty("MDB_AD")?Mb.rtb_adomain=n.MDB_AD:Mb.rtb_adomain="",
n.hasOwnProperty("MDB_FT")?Mb.rtb_floortype=n.MDB_FT:Mb.rtb_floortype=0,n.hasOwnProperty("MDB_DATA")?Mb.rtb_data=n.MDB_DATA:Mb.rtb_data="",null==Mb.dealId&&(Mb.dealId=""),299!=g&&298!=g&&100!=g&&101!=g||0==Mb.rtb_partnerId&&(Mb.rtb_partnerId=1);var o=Mb.mobile.canvas.init(e);if(!o)return Mb.mobile.prReportingTracking(e.options().mb_video_id,1,Mb.vast.errorCodes.NO_MATCHING_AD,c),void d();e.vastTracker=new b.tracker(i,k,e.options().mb_video_id);var p=!1,q=function(){this.vastTracker.load()
},r=function(){isNaN(this.vastTracker.assetDuration)&&(this.vastTracker.assetDuration=this.duration()),this.vastTracker.setProgress(this.currentTime())},s=function(){this.vastTracker.setPaused(!1)},t=function(){this.vastTracker.setPaused(!0)},u=function(){b.util.track(i.errorURLTemplates,{ERRORCODE:405}),p=!0,Mb.mobile.prReportingTracking(e.options().mb_video_id,3,Mb.vast.errorCodes.AD_DISPLAY_PROBLEM,c),e.trigger("ended")};e.on("canplay",q),e.on("timeupdate",r),e.on("play",s),e.on("pause",t),
e.on("error",u),e.one("ended",function(){e.off("canplay",q),e.off("timeupdate",r),e.off("play",s),e.off("pause",t),e.off("error",u),p||this.vastTracker.complete()}),l=!0,window.mb_players[e.options().mb_video_id].current_adserver_id=g,window.mb_players[e.options().mb_video_id].ad_impression_called=0,Mb.player.callBack.adMediaFileSelected(e.options().mb_video_id)}}if(e.vastTracker){e.pause();break}b.util.track(i.errorURLTemplates,{ERRORCODE:403})}
}else Mb.player.callBack.adserverFailed(e.options().mb_video_id);e.vastTracker||(a?Mb.mobile.prReportingTracking(e.options().mb_video_id,1,Mb.vast.errorCodes.NO_MATCHING_AD,c):Mb.mobile.prReportingTracking(e.options().mb_video_id,4,Mb.vast.errorCodes.REQUEST_FAILED,c),d())})};d()},e.vast.preroll=function(){e.ads.startLinearAdMode(),e.vast.showControls=e.controls(),e.vast.showControls&&e.controls(!1);var a=e.vast.sources;e.src(a);var c
;e.vastTracker.clickThroughURLTemplate&&(c=b.util.resolveURLTemplates([e.vastTracker.clickThroughURLTemplate],{CACHEBUSTER:Math.round(1e10*Math.random()),CONTENTPLAYHEAD:e.vastTracker.progressFormated()})[0]);var d=document.createElement("a");d.className="vast-blocker",d.href=c||"#",d.target="_blank",d.onclick=function(){if(Mb.isIphone()&&Mb.enableSyncAd){if(!Mb.mobile.canvas.isPlaying)return Mb.mobile.canvas.play(),!1}else if(e.paused())return e.play(),!1
;if(e.vast.adClicked)Mb.isIphone()&&Mb.enableSyncAd?Mb.mobile.canvas.pause():e.pause();else{var a=e.vastTracker.clickTrackingURLTemplates;switch(a&&e.vastTracker.trackURLs(a),e.trigger("adclick"),Mb.player.callBack.adClickTracking(e.options().mb_video_id),e.vast.videoAdClickBehavior){case 0:e.vast.tearDown();try{Mb.syncad.prerollCompleted(Mb.syncad.mainPlayerId)}catch(a){return}break;case 1:Mb.isIphone()&&Mb.enableSyncAd?Mb.mobile.canvas.pause():e.pause()}}e.vast.adClicked=!0},e.vast.blocker=d,
e.el().insertBefore(d,e.controlBar.el()),e.one("ended",e.vast.tearDown)},e.vast.tearDown=function(){e.vast.blocker.parentNode.removeChild(e.vast.blocker),e.off("ended",e.vast.tearDown),e.ads.endLinearAdMode(),Mb.mobile.canvas.end(),e.vast.showControls&&e.controls(!0)},e.vast.createSourceObjects=function(a){var b,c,d,f={},g=e.options().techOrder;for(b=0,c=g.length;b<c;b++){var h=g[b].charAt(0).toUpperCase()+g[b].slice(1)
;if((d=window.Mb.videojs[h])&&d.isSupported())for(var i=0,j=a.length;i<j;i++){var k=a[i],l={type:k.mimeType,src:k.fileURL};d.canPlaySource(l)&&(void 0===f[g[b]]&&(f[g[b]]=[]),f[g[b]].push({type:k.mimeType,src:k.fileURL.replace(/(\r\n|\n|\r)/gm,""),width:k.width,height:k.height}))}}var m=[];for(c=0;c<g.length;c++)if(d=g[c],void 0!==f[d])for(b=0;b<f[d].length;b++)m.push(f[d][b]);return m},e.vast.videoAdClickBehavior=0,e.vast.adClicked=!1,e.vast.getContent(f.url);else{e.trigger("adtimeout");try{
Mb.syncad.prerollCompletedDone||Mb.syncad.prerollCompleted(e.options().mb_video_id)}catch(a){return}}else try{Mb.syncad.prerollCompletedDone||Mb.syncad.prerollCompleted(e.options().mb_video_id)}catch(a){return}};a.plugin("vast",e)}(window.Mb.videojs,window.DMVAST),Mb.adsEnabled&&function(a){"use strict";var b=function(a){var b,c,d;for(c=1;c<arguments.length;c++){b=arguments[c];for(d in b)b.hasOwnProperty(d)&&(a[d]=b[d])}return a},c={debug:!1,timeout:8e3,prerollTimeout:100},d=function(a,d){
var e=this;if(void 0===e.ima.imaInitialized||!e.ima.imaInitialized){e.ima.createAdContainer_=function(){var a=document.getElementById("ima-ad-container-mb");null!==a&&a.parentNode.removeChild(a),i=e.getChild("controlBar"),j=i.el().parentNode.insertBefore(document.createElement("div"),i.el()),j.id="ima-ad-container-mb",j.style.width=e.width()+"px",j.style.height=e.height()+"px",j.style.display="none",j.addEventListener("mouseover",e.ima.showAdControls_,!1),
j.addEventListener("mouseout",e.ima.hideAdControls_,!1),e.ima.createControls_(),r=new google.ima.AdDisplayContainer(j,g)},e.ima.createControls_=function(){k=document.createElement("div"),k.id="ima-controls-div",k.style.width="100%",k.style.zIndex="10000001",l=document.createElement("div"),l.id="ima-countdown-div",l.innerHTML="Advertisement",l.style.display=h?"block":"none",m=document.createElement("div"),m.id="ima-seek-bar-div",m.style.width="100%",n=document.createElement("div"),
n.id="ima-progress-div",o=document.createElement("div"),o.id="ima-play-pause-div",o.className="ima-playing",o.addEventListener("click",e.ima.onAdPlayPauseClick_,!1),p=document.createElement("div"),p.id="ima-mute-div",p.className="ima-non-muted",p.addEventListener("click",e.ima.onAdMuteClick_,!1),q=document.createElement("div"),q.id="ima-fullscreen-div",q.className="ima-non-fullscreen",q.addEventListener("click",e.ima.onAdFullscreenClick_,!1),j.insertBefore(k,j.childNodes[j.childNodes.length]),
k.insertBefore(l,k.childNodes[k.childNodes.length]),k.insertBefore(m,k.childNodes[k.childNodes.length]),k.insertBefore(o,k.childNodes[k.childNodes.length]),k.insertBefore(p,k.childNodes[k.childNodes.length]),k.insertBefore(q,k.childNodes[k.childNodes.length]),m.insertBefore(n,m.childNodes[k.childNodes.length])},e.ima.initializeAdDisplayContainer=function(){s||(s=!0,r.initialize())},e.ima.requestAds=function(){s||(s=!0,r.initialize());var a=new google.ima.AdsRequest;a.adsResponse=f.adTagResponse,
a.linearAdSlotWidth=e.width(),a.linearAdSlotHeight=e.height(),a.nonLinearAdSlotWidth=f.nonLinearWidth||e.width(),a.nonLinearAdSlotHeight=f.nonLinearHeight||e.height()/3,t.requestAds(a)},e.ima.onAdsManagerLoaded_=function(a){u=a.getAdsManager(J,z),u.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.ima.onAdError_),u.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,e.ima.onContentPauseRequested_),
u.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,e.ima.onContentResumeRequested_),u.addEventListener(google.ima.AdEvent.Type.LOADED,e.ima.onAdLoaded_),u.addEventListener(google.ima.AdEvent.Type.STARTED,e.ima.onAdStarted_),u.addEventListener(google.ima.AdEvent.Type.COMPLETE,e.ima.onAdComplete_),u.addEventListener(google.ima.AdEvent.Type.SKIPPED,e.ima.onAdSkipped_),u.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,e.ima.onAdSkipped_),
u.addEventListener(google.ima.AdEvent.Type.IMPRESSION,e.ima.onAdImpression_),u.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,e.ima.onAdFirstQuartile_),u.addEventListener(google.ima.AdEvent.Type.MIDPOINT,e.ima.onAdMidPoint_),u.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,e.ima.onAdThirdQuartile_),u.addEventListener(google.ima.AdEvent.Type.CLICK,e.ima.onAdClick_),u.addEventListener(google.ima.AdEvent.Type.PAUSED,e.ima.onAdPaused_),
u.addEventListener(google.ima.AdEvent.Type.RESUMED,e.ima.onAdResumed_),e.trigger("adsready"),e.pause()},e.ima.startAd=function(){try{u.start(),C=!0}catch(a){e.ima.onAdError_(a)}},e.ima.start=function(){try{u.init(e.width(),e.height(),google.ima.ViewMode.NORMAL),u.setVolume(e.muted()?Mb.player.muteVolume:e.volume()),e.muted()?Mb.player.isMuted=1:Mb.player.isMuted=0,1!=Mb.enableSyncAd&&(u.start(),C=!0)}catch(a){e.ima.onAdError_(a)}},e.ima.onAdsLoaderError_=function(a){
var b=[google.ima.AdError.ErrorCode.VAST_ASSET_NOT_FOUND,google.ima.AdError.ErrorCode.VAST_EMPTY_RESPONSE,google.ima.AdError.ErrorCode.VAST_LINEAR_ASSET_MISMATCH,google.ima.AdError.ErrorCode.VAST_NO_ADS_AFTER_WRAPPER,google.ima.AdError.ErrorCode.VAST_NONLINEAR_ASSET_MISMATCH],c=[google.ima.AdError.ErrorCode.FAILED_TO_REQUEST_ADS,google.ima.AdError.ErrorCode.VAST_LOAD_TIMEOUT],d=0;void 0!==a.getError?(d=a.getError().getErrorCode(),Mb.helpers.log("AdsLoader error: "+a.getError())):(d=3,
Mb.helpers.log("AdsLoader error: "+a)),u&&u.destroy();var g=void 0!==f.adTagResponse?f.adTagResponse:"";b.indexOf(d)>-1?Mb.mobile.prReportingTracking(e.options().mb_video_id,1,d,g):c.indexOf(d)>-1?Mb.mobile.prReportingTracking(e.options().mb_video_id,4,d,g):Mb.mobile.prReportingTracking(e.options().mb_video_id,3,d,g),e.trigger("adsloaderror")},e.ima.onAdError_=function(a){var b=0;void 0!==a.getError?(b=a.getError().getErrorCode(),Mb.helpers.log("Ad error: "+a.getError())):(b=3,
Mb.helpers.log("Ad error: "+a)),u.destroy(),j.style.display="none";var c=void 0!==f.adTagResponse?f.adTagResponse:"";Mb.mobile.prReportingTracking(e.options().mb_video_id,3,b,c),e.trigger("adserror")},e.ima.onContentPauseRequested_=function(a){A=!0,B=!0,e.off("ended",M),-1!=a.getAd().getAdPodInfo().getPodIndex()&&e.ads.startLinearAdMode(),j.style.display="block",k.style.display="block",i.hide(),e.pause()},e.ima.onContentResumeRequested_=function(a){A=!1,B=!1,e.on("ended",M),
j.style.display="none",i.unHide(),v?G||-1==v.getAdPodInfo().getPodIndex()||e.ads.endLinearAdMode():e.ads.endLinearAdMode(),l.innerHTML="",0!=e.volume()&&e.volume()!=Mb.player.muteVolume||(e.volume(1),e.muted(1)),(void 0!==window.MB_PAUSE_AFTER_AD&&0==window.MB_PAUSE_AFTER_AD||void 0===window.MB_PAUSE_AFTER_AD)&&e.play()},e.ima.onAdLoaded_=function(a){if(!a.getAd().isLinear()){u&&(u.destroy(),u=null),Mb.helpers.log("Ad not linear");var b=void 0!==f.adTagResponse?f.adTagResponse:""
;return Mb.mobile.prReportingTracking(e.options().mb_video_id,3,Mb.vast.errorCodes.UNEXPECTED_LINEAR,b),void e.trigger("adserror")}this.adUrl=a.getAdData().mediaUrl,this.adType=a.getAd().getContentType(),""==this.adType&&(this.adType="application/javascript",this.adUrl=a.getAd().getDescription()),Mb.player.callBack.adMediaFileSelected(e.options().mb_video_id),Mb.player.callBack.adLoaded(e.options().mb_video_id),u&&u.setVolume(e.muted()?Mb.player.muteVolume:e.volume()),
e.muted()?Mb.player.isMuted=1:Mb.player.isMuted=0},e.ima.onAdStarted_=function(a){D=!0,v=a.getAd(),v.isLinear()?(w=setInterval(e.ima.onAdPlayheadTrackerInterval_,250),j.className=""):j.className="bumpable-ima-ad-container",Mb.player.callBack.adStarted(e.options().mb_video_id),Mb.player.callBack.prerollStarted(e.options().mb_video_id),Mb.mobile.prReportingTracking(e.options().mb_video_id,2)},e.ima.onAdComplete_=function(a){e.ima.adCompleted=!0,v.isLinear()&&clearInterval(w),
window.setTimeout(function(){Mb.player.callBack.adComplete(e.options().mb_video_id),Mb.player.callBack.adCompleted(e.options().mb_video_id)},0)},e.ima.onAdImpression_=function(a){Mb.player.callBack.adImpression(e.options().mb_video_id)},e.ima.onAdFirstQuartile_=function(a){Mb.player.callBack.adFirstQuartile(e.options().mb_video_id)},e.ima.onAdMidPoint_=function(a){Mb.player.callBack.adMidPoint(e.options().mb_video_id)},e.ima.onAdThirdQuartile_=function(a){
Mb.player.callBack.adThirdQuartile(e.options().mb_video_id)},e.ima.onAdSkipped_=function(a){v.isLinear()&&(clearInterval(w),Mb.player.callBack.adCloseLinear(e.options().mb_video_id)),Mb.helpers.log("Ad Skipped ("+e.options().mb_video_id+")");try{Mb.syncad.prerollCompleted(e.options().mb_video_id)}catch(a){return}},e.ima.adSkipped_=function(){e.ima.isSkipped||(this.endIMA_(),e.ima.isSkipped=!0)},e.ima.onAdPaused_=function(a){Mb.player.callBack.adPaused(e.options().mb_video_id)},
e.ima.onAdResumed_=function(a){Mb.player.callBack.adResumed(e.options().mb_video_id)},e.ima.onAdClick_=function(a){switch(F||Mb.player.callBack.adClickTracking(e.options().mb_video_id),L){case 0:e.ima.endIMA_();break;case 1:o.className="ima-paused",u.pause(),B=!1;break;case 2:1==window.Mb.enableEnhancedBehavior&&(o.className="ima-paused",u.pause()),B=!1}F=!0},e.ima.onAdPlayheadTrackerInterval_=function(){var a=u.getRemainingTime(),b=v.getDuration(),c=b-a;c=c>0?c:0;var d,e,f=!1
;v.getAdPodInfo()&&(f=!0,d=v.getAdPodInfo().getAdPosition(),e=v.getAdPodInfo().getTotalAds());var g=Math.floor(a/60),h=Math.floor(a%60);h.toString().length<2&&(h="0"+h);var i=": ";f&&(i=" ("+d+" of "+e+"): "),l.innerHTML="Advertisement"+i+g+":"+h;var j=c/b,k=100*j;n.style.width=k+"%"},e.ima.hideAdControls_=function(){o.style.display="none",p.style.display="none",q.style.display="none",k.style.height="14px"},e.ima.showAdControls_=function(){k.style.height="37px",o.style.display="block",
p.style.display="block",q.style.display="block"},e.ima.onAdPlayPauseClick_=function(){B?(o.className="ima-paused",u.pause(),B=!1):(o.className="ima-playing",u.resume(),B=!0)},e.ima.onAdMuteClick_=function(){Mb.player.stopMouseOverVolumeEvents=!0,e.off("mouseover"),e.off("mouseout"),E?(p.className="ima-non-muted",u.setVolume(1),e.volume(1),e.muted(!1),E=!1,Mb.player.isMuted=0):(p.className="ima-muted",u.setVolume(Mb.player.muteVolume),e.volume(Mb.player.muteVolume),e.muted(!0),E=!0,
Mb.player.isMuted=1)},e.ima.onAdFullscreenClick_=function(){e.isFullscreen()?e.exitFullscreen():e.requestFullscreen()},e.ima.onFullscreenChange_=function(a){a.isTrusted||(e.isFullscreen()?(q.className="ima-fullscreen",j.style.width=window.screen.width+"px",j.style.height=window.screen.height+"px",u.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)):(q.className="ima-non-fullscreen",j.style.width=e.width()+"px",j.style.height=e.height()+"px",
u.resize(e.width(),e.height(),google.ima.ViewMode.NORMAL)),A&&Mb.player.callBack.adFullscreenChange(e.options().mb_video_id,e.isFullscreen()),a.stopPropagation())},e.ima.changeVolume=function(a){u&&u.setVolume(a),Mb.player.isMuted=0==a?1:0,0==a?(E=!0,p.className="ima-muted"):(E=!1,p.className="ima-non-muted")},e.ima.seekContentToZero_=function(){e.off("loadedmetadata",e.ima.seekContentToZero_),e.currentTime(0)},e.ima.playContentFromZero_=function(){
e.off("loadedmetadata",e.ima.playContentFromZero_),e.currentTime(0),e.play()},e.ima.resetIMA_=function(){u&&(u.destroy(),u=null),t&&!G&&t.contentComplete(),G=!1},e.ima.stopIMA_=function(){void 0!==v&&v.isLinear()&&clearInterval(w),u&&u.destroy(),A=!1,B=!1,j.parentNode&&j.parentNode.removeChild(j),null!=i.el_&&i.unHide()},e.ima.endIMA_=function(){e.ima.stopIMA_(),e.ads.endLinearAdMode()},e.ima.addEventListener=function(a,b){u&&u.addEventListener(a,b)},e.ima.getAdsManager=function(){return u},
e.ima.getAdDuration=function(){return void 0!==v?v.getDuration():null},e.ima.setContent=function(a,b,c){e.ima.resetIMA_(),f.adTagResponse=b||f.adTagResponse,e.currentSrc()&&e.pause(),a&&e.src(a),c?e.on("loadedmetadata",e.ima.playContentFromZero_):e.on("loadedmetadata",e.ima.seekContentToZero_)},e.ima.setAdTagUrl=function(a){f.adTagUrl=a||f.adTagUrl},e.ima.setAdTagResponse=function(a){f.adTagResponse=a||f.adTagResponse},e.ima.setAdClickBehavior=function(a){L=a},e.ima.setVpaidMode=function(a){
"INSECURE"==a?t.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE):"ENABLED"==a&&t.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED)},e.ima.addContentEndedListener=function(a){K.push(a)},e.ima.pauseAd=function(){D&&A&&B&&(o.className="ima-paused",u.pause(),B=!1)},e.ima.resumeAd=function(){C||void 0===u?D&&A&&!B&&(o.className="ima-playing",u.resume(),B=!0):e.ima.startAd()},e.ima.setUpPlayerIntervals_=function(){x=setInterval(e.ima.updateCurrentTime,H),
y=setInterval(e.ima.checkForSeeking,H)},e.ima.updateCurrentTime=function(){J.seeking||null===e.el_||(J.currentTime=e.currentTime())},e.ima.checkForSeeking=function(){if(null!==e.el_){var a=e.currentTime(),b=1e3*(a-J.previousTime);Math.abs(b)>H+I?J.seeking=!0:J.seeking=!1,J.previousTime=e.currentTime()}},e.ima.setShowCountdown=function(a){h=a,l.style.display=h?"block":"none"},e.ima.clearIntervals=function(a){clearInterval(x),clearInterval(y)};var f,g,h,i,j,k,l,m,n,o,p,q,r,s=!1
;e.ima.imaInitialized=!1,e.ima.isSkipped=!1;var t,u,v,w,x,y,z=null,A=!1,B=!1,C=!1,D=!1,E=!1,F=!1,G=!1,H=1e3,I=100,J={currentTime:0,previousTime:0,seeking:!1,duration:0},K=[],L=0,M=function(){t&&!G&&(t.contentComplete(),G=!0);for(var a in K)K[a]();clearInterval(x),clearInterval(y),e.one("play",e.ima.setUpPlayerIntervals_)};if(f=b({},c,a||{}),!f.id)return void Mb.helpers.log("Error: must provide id of video.js div");g=document.getElementById(f.id+"_html5_api"),h=!0,0==f.showCountdown&&(h=!1),
e.one("play",e.ima.setUpPlayerIntervals_),e.on("ended",M);var N={debug:f.debug,timeout:f.timeout,prerollTimeout:f.prerollTimeout},O=b({},N,a.contribAdsSettings||{});if("function"==typeof e.ads&&e.ads(O),z=new google.ima.AdsRenderingSettings,z.restoreCustomPlaybackStateOnAdBreakComplete=!0,f.adsRenderingSettings)for(var P in f.adsRenderingSettings)z[P]=f.adsRenderingSettings[P];f.locale&&google.ima.settings.setLocale(f.locale),e.ima.createAdContainer_(),t=new google.ima.AdsLoader(r),
t.getSettings().setVpaidAllowed(!0),0==f.vpaidAllowed&&t.getSettings().setVpaidAllowed(!1),f.locale&&t.getSettings().setLocale(f.locale),t.getSettings().setPlayerType("videojs-ima"),t.getSettings().setPlayerVersion("0.2.0"),t.getSettings().setDisableFlashAds(!0),t.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,e.ima.onAdsManagerLoaded_,!1),t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.ima.onAdsLoaderError_,!1),d||(d=e.ima.start),e.on("readyforpreroll",d),
e.on("fullscreenchange",e.ima.onFullscreenChange_),e.ima.imaInitialized=!0}};a.plugin("ima",d)}(window.Mb.videojs);var MB_mobile={addMBHTML:function(a){var b=document.getElementById("mediabongPopinContent_"+a);null!=b&&null!=b.parentNode&&b.parentNode.removeChild(b)
;var c='<div id="mediabongPopinContent_'+a+'" class="mediabongPopinContent"><div>Votre vid&eacute;o commencera dans <span id="mediabongSecArea_'+a+'" >___</span> seconde(s)...</div><button type="button" name="" value="" onclick="Mb.mobile.returnToAd(\''+a+'\')" class="choicesElem mediaBongGreen">Reprendre le visionnage</button><br/><button type="button" name="" value="" onclick="Mb.mobile.goToWebAd(\''+a+'\')" class="mediabongAdLink choicesElem mediaBongOrange">Aller sur le site de l&#39;annonceur</button></div>',d=document.createElement("div")
;document.createElement("div");d.setAttribute("id","mediabongPopin_"+a),d.className="mediabongPopin",d.style.display="none",d.innerHTML=c,d.style.width=mb_players[a].width+"px",d.style.height=mb_players[a].height+"px",document.getElementById(a).appendChild(d),document.getElementById("mediabongPopinContent_"+a).style.height=mb_players[a].height-25+"px"},initialize:function(a){if(void 0!==mb_players[a].jsonDoc.ivt_url&&""!=mb_players[a].jsonDoc.ivt_url){
var b=Mb.helpers.parseUrl(mb_players[a].jsonDoc.ivt_url+"&ad="+a,{},a),c=document.getElementById(a).parentNode,d=document.createElement("script");d.type="text/javascript",d.src=b,d.async=!0,c.appendChild(d)}var e=new Array;for(idx in mb_players[a].jsonDoc.mobile_adservers)e.push({serverId:mb_players[a].jsonDoc.mobile_adservers[idx].id,apiAddress:mb_players[a].jsonDoc.mobile_adservers[idx].url});var f={ads:{skipAd:{enabled:!1,timeOut:5},servers:e,schedule:[{position:"pre-roll"}]}
},g=document.getElementById(a),h=g.parentNode;null!=mb_players[a].myPlayer&&mb_players[a].myPlayer.dispose();var i=document.createElement("video"),j=document.createElement("source"),k=document.createElement("div");i.id="videoContent_"+a,i.className="video-js-mb vjs-default-skin",i.setAttribute("preload","none"),i.setAttribute("controls","controls"),i.setAttribute("data-setup",'{"nativeControlsForTouch": true, "controls":true}'),i.setAttribute("webkit-transform-style","preserve-3d"),
i.setAttribute("webkit-playsinline","true"),i.setAttribute("width",h.offsetWidth),i.setAttribute("height",h.offsetHeight),i.poster="//static.mediabong.com/picture/e/"+h.offsetWidth+"/"+h.offsetHeight+"/"+mb_players[a].jsonDoc.preview_file_enc,j.src=mb_players[a].jsonDoc.video_file,j.type="video/mp4",i.appendChild(j);var l=document.getElementById("video_title_"+a);null!=l&&null!=l.parentNode&&l.parentNode.removeChild(l),k.innerHTML=mb_players[a].jsonDoc.video_title,k.id="video_title_"+a,
k.style.cssText="display: none; background-color: black;width: "+mb_players[a].width+"px;color: #fff;text-align: center;overflow: hidden; white-space: nowrap;",document.getElementById(a).style.position="relative",Mb.mobile.addMBHTML(a),document.getElementById(a).innerHTML="",document.getElementById(a).appendChild(i),document.getElementById(a).appendChild(k),f.mb_video_id=a,Mb.mobile.loadPlayer(a,f)},loadPlayer:function(a,b){mb_players[a].myPlayer=Mb.videojs("videoContent_"+a,b).ready(function(){
Mb.playerIsHtml5=!0,Mb.player.html5Player[a]=this;mb_players[a].server,Math.random(),Mb.sessid,mb_players[a].snap_id,encodeURIComponent(document.location.href);this.isIMA=!0,Mb.isIphone()&&Mb.enableSyncAd&&(this.isIMA=!1),Mb.player.callBack.playerReady(a)})},parseUrl:function(a,b){if("string"!=typeof a)return a;var c={"[referer]":encodeURIComponent(document.location.href),"[urldiff]":encodeURIComponent(document.location.href),"[timestamp]":(new Date).getTime(),"[rnd]":(new Date).getTime(),
"[adCallId]":b};for(var d in c)a=a.replace(d,c[d]);return a},updateTimeLeft:function(a,b){var c=parseInt(b);document.getElementById("mediabongSecArea_"+a).innerHTML=c},returnToAd:function(a){window.mb_players[a].myPlayer.el.style.visibility="visible",window.mb_players[a].myPlayer.play()},quitMsg:function(a){document.getElementById("mediabongPopin_"+a).style.display="none",window.mb_players[a].myPlayer.el.style.visibility="visible"},goToWebAd:function(a){
window.mb_players[a].myPlayer.el.style.visibility="visible";var b=window.mb_players[a].myPlayer.values;b.currentSlot&&b.currentSlot.link&&(window.open(b.currentSlot.link),window.mb_players[a].myPlayer.vast.onClick())},prReportingTracking:function(a,b,c,d){var e=window.mb_players[a].myPlayer,f=e.getAdServerId(),g=e.getAdServerReportingUrl();if(Mb.helpers.loadUrl(Mb.helpers.parseUrl(g,{ad_server_id:f,reporting_value:b},a),"text/javascript","script",function(){}),
2!=b&&(Mb.player.callBack.adError(a,c),window.mb_players[a].jsonDoc.mb_vast_log&&void 0!==d&&""!=d)){var h=window.mb_players[a].jsonDoc.mb_vast_log_url,i="adid="+f+"&error_id="+c+"&vast_xml="+encodeURIComponent(d),j=Mb.helpers.getXdr();j.open("POST",h,!0),j.setRequestHeader("Content-type","application/x-www-form-urlencoded"),j.send(i)}},canvas:{mp3player:null,mpgplayer:null,canvasplayer:null,mbplayer:null,timeIntervalMpg:null,timeUpdateInterval:null,isMpgLoaded:!1,isPlaying:!1,timeout:!1,
hasStarted:!1,isSkipped:!1,wantedVolume:0,audio:null,audioContext:null,quartilesTrackers:null,videoHasAudio:!0,mp3Enabled:!1,init:function(a){var b=null;for(var c in a.vast.sources)if("video/mp4"==a.vast.sources[c].type){b=a.vast.sources[c].src;break}if(!b)return!1;var d=a.el().querySelector(".vjs-tech-mb");Mb.mobile.canvas.mbplayer=a,Mb.mobile.canvas.mbplayer.on("adtimeout",function(){Mb.mobile.canvas.end(),Mb.mobile.canvas.timeout=!0,
Mb.mobile.prReportingTracking(a.options().mb_video_id,3,Mb.vast.errorCodes.AD_TIMEOUT);try{Mb.syncad.prerollCompletedDone||Mb.syncad.prerollCompleted(a.options().mb_video_id)}catch(a){return}});var e=null,f=mb_players[a.options().mb_video_id].server+"/ios/video?src="+encodeURIComponent(b);try{e=JSON.parse(Mb.helpers.doXdr(f,!1,!1))}catch(a){return!1}if(void 0===e.exists||!e.exists||""==e.video_url&&""==e.mbjpeg_url)return!1;if(null==e)return!1;var g=e.mbjpeg_url,h=e.video_url,i=e.sound_url
;Mb.mobile.canvas.createElements(d);var j=function(){void 0===Mb||Mb.mobile.canvas.timeout||(Mb.mobile.canvas.isMpgLoaded=!0,d.style.display="none",Mb.mobile.canvas.canvasplayer.style.display="",Mb.mobile.canvas.mbplayer.trigger("adsready"),Mb.mobile.canvas.mbplayer.loadingSpinner.el().style.display="none",Mb.mobile.canvas.initEvents(),Mb.player.callBack.adLoaded(a.options().mb_video_id),Mb.mobile.canvas.initEventsMpg(),Mb.mobile.canvas.isPlaying&&Mb.mobile.canvas.play())}
;if(""!=i)if(null!=Mb.mobile.canvas.audio)Mb.mobile.canvas.audio.init(i);else{var k=window.AudioContext||window.webkitAudioContext;k?(Mb.mobile.canvas.audioContext=new k,Mb.mobile.canvas.apiAudio.init(i)):Mb.mobile.canvas.htmlAudio.init(i)}else Mb.helpers.log("Info : No audio data."),Mb.mobile.canvas.videoHasAudio=!1;return Mb.iOSversion()<8&&Mb.iOSversion()>0&&""!=g||""==h?(Mb.mobile.canvas.canvasplayer.width="640",Mb.mobile.canvas.canvasplayer.height="360",
Mb.mobile.canvas.mpgplayer=new mbjpeg(g,{canvas:Mb.mobile.canvas.canvasplayer,onload:j,onfinished:Mb.mobile.canvas.handleEndedEvent})):Mb.mobile.canvas.mpgplayer=new jsmpeg(h,{canvas:Mb.mobile.canvas.canvasplayer,seekable:!0,onload:j,onfinished:Mb.mobile.canvas.handleEndedEvent}),Mb.mobile.canvas.quartilesTrackers={firstQuartile:Mb.player.callBack.adFirstQuartile,midpoint:Mb.player.callBack.adMidPoint,thirdQuartile:Mb.player.callBack.adThirdQuartile},!0},createElements:function(a){
if(null==Mb.mobile.canvas.canvasplayer){var b=document.getElementById("mb_canvas");null==b?(Mb.mobile.canvas.canvasplayer=document.createElement("canvas"),Mb.mobile.canvas.canvasplayer.id="mb_canvas",Mb.mobile.canvas.canvasplayer.style.display="none",Mb.mobile.canvas.canvasplayer.style.width="100%",Mb.mobile.canvas.canvasplayer.style.height="100%",a.parentNode.insertBefore(Mb.mobile.canvas.canvasplayer,a.nextSibling)):Mb.mobile.canvas.canvasplayer=b,a.style.display="none"}
null==Mb.mobile.canvas.mp3player&&(Mb.mobile.canvas.mp3player=document.createElement("audio"),Mb.mobile.canvas.mp3player.id="mb_audio")},initEvents:function(){Mb.mobile.canvas.handleTimeUpdate(),Mb.mobile.canvas.timeUpdateInterval=window.setInterval(Mb.mobile.canvas.handleTimeUpdate,1e3),Mb.intervals.push(Mb.mobile.canvas.timeUpdateInterval)},initEventsMpg:function(){Mb.mobile.canvas.videoHasAudio&&(Mb.mobile.canvas.timeIntervalMpg=window.setInterval(function(){
Mb.mobile.canvas.isPlaying&&Mb.mobile.canvas.hasStarted&&Mb.mobile.canvas.checkSyncAudio()},250),Mb.intervals.push(Mb.mobile.canvas.timeIntervalMpg))},play:function(){if(null!=Mb.mobile.canvas.mbplayer){if(Mb.mobile.canvas.isPlaying=!0,!Mb.mobile.canvas.isMpgLoaded)return;Mb.mobile.canvas.mpgplayer.play(),Mb.mobile.canvas.videoHasAudio&&Mb.mobile.canvas.audio.play(),
Mb.mobile.canvas.hasStarted?Mb.player.callBack.adResumed(Mb.mobile.canvas.mbplayer.options().mb_video_id):(Mb.mobile.canvas.mbplayer.vastTracker.load(),Mb.mobile.canvas.hasStarted=!0,Mb.player.callBack.adStarted(Mb.mobile.canvas.mbplayer.options().mb_video_id),Mb.player.callBack.adImpression(Mb.mobile.canvas.mbplayer.options().mb_video_id),Mb.player.callBack.prerollStarted(Mb.mobile.canvas.mbplayer.options().mb_video_id),
Mb.mobile.prReportingTracking(Mb.mobile.canvas.mbplayer.options().mb_video_id,2))}},pause:function(){Mb.mobile.canvas.isPlaying=!1,Mb.mobile.canvas.isMpgLoaded&&(Mb.player.callBack.adPaused(Mb.mobile.canvas.mbplayer.options().mb_video_id),Mb.mobile.canvas.mpgplayer.pause(),Mb.mobile.canvas.videoHasAudio&&Mb.mobile.canvas.audio.pause())},volume:function(a){Mb.mobile.canvas.videoHasAudio&&(null!=Mb.mobile.canvas.audio&&Mb.mobile.canvas.audio.volume(a),Mb.player.isMuted=0==a?1:0)},
skipped:function(){Mb.mobile.canvas.isSkipped||(Mb.mobile.canvas.mbplayer.vastTracker.skip(),Mb.mobile.canvas.mbplayer.vast.tearDown(),Mb.mobile.canvas.isSkipped=!0)},end:function(){Mb.mobile.canvas.mbplayer.off("timeupdate"),Mb.mobile.canvas.mbplayer.el().querySelector(".vjs-tech-mb").style.display="",null!=Mb.mobile.canvas.canvasplayer&&(Mb.mobile.canvas.canvasplayer.style.display="none"),null!=Mb.mobile.canvas.mpgplayer&&Mb.mobile.canvas.mpgplayer.stop(),
null!=Mb.mobile.canvas.audio&&Mb.mobile.canvas.audio.end(),Mb.mobile.canvas.mpgplayer=null,Mb.mobile.canvas.canvasplayer=null,window.clearInterval(Mb.mobile.canvas.timeIntervalMpg),window.clearInterval(Mb.mobile.canvas.timeUpdateInterval)},abort:function(a){a.el().querySelector(".vjs-tech-mb").style.display="",a.loadingSpinner.el().style.display="none",a.off("timeupdate"),a.off("contentupdate"),a.trigger("adabort")},handleTimeUpdate:function(){var a=0
;Mb.mobile.canvas.videoHasAudio&&(a=Mb.mobile.canvas.audio.currentTime());var b=Mb.mobile.canvas.mpgplayer.currentTime;if(a>b)var c=a;else var c=b;Mb.mobile.canvas.mbplayer.vastTracker.setProgress(c)},handleEndedEvent:function(){Mb.mobile.canvas.mbplayer.trigger("ended")},checkSyncAudio:function(){if(Mb.mobile.canvas.audio){var a=Mb.mobile.canvas.audio.currentTime()-Mb.mobile.canvas.mpgplayer.currentTime
;a>=.5?Mb.mobile.canvas.mpgplayer.seekToFrame(Mb.mobile.canvas.audio.currentTime()*Mb.mobile.canvas.mpgplayer.pictureRate|0,!0):a<=-.5&&Mb.mobile.canvas.audio.setCurrentTime(Mb.mobile.canvas.mpgplayer.currentTime)}},handleQuartilesTracking:function(a){Mb.mobile.canvas.quartilesTrackers[a](Mb.mobile.canvas.mbplayer.options().mb_video_id)},reset:function(){Mb.mobile.canvas.mpgplayer=null,Mb.mobile.canvas.canvasplayer=null,Mb.mobile.canvas.mbplayer=null,Mb.mobile.canvas.timeIntervalMpg=null,
Mb.mobile.canvas.timeUpdateInterval=null,Mb.mobile.canvas.isMpgLoaded=!1,Mb.mobile.canvas.isPlaying=!1,Mb.mobile.canvas.timeout=!1,Mb.mobile.canvas.hasStarted=!1,Mb.mobile.canvas.isSkipped=!1,Mb.mobile.canvas.quartilesTrackers=null,Mb.mobile.canvas.videoHasAudio=!0,null!=Mb.mobile.canvas.audio&&Mb.mobile.canvas.audio.reset()},apiAudio:{source:null,gainNode:null,buffer:null,stopped:!0,startOffset:0,startTime:0,audioEnabled:!1,init:function(a){Mb.mobile.canvas.apiAudio.loadMp3(a),
Mb.mobile.canvas.audio=Mb.mobile.canvas.apiAudio},loadMp3:function(a){var b=new XMLHttpRequest;b.open("GET",a,!0),b.responseType="arraybuffer",b.addEventListener("load",Mb.mobile.canvas.apiAudio.mp3loaded,!1),Mb.addToEventsList("load",Mb.mobile.canvas.apiAudio.mp3loaded,b,!1),b.send()},mp3loaded:function(a){var b=a.target,c=b.response;Mb.helpers.log("Info : Audio data decoding started."),Mb.mobile.canvas.audioContext.decodeAudioData(c,function(a){Mb.helpers.log("Info : Audio data decoded."),
Mb.mobile.canvas.apiAudio.buffer=a,Mb.mobile.canvas.apiAudio.initAudio()},function(a){void 0!==a.err?Mb.helpers.log("Can't decode audio data : "+a.err):Mb.helpers.log("Can't decode audio data : "+a),Mb.mobile.canvas.videoHasAudio=!1})},initAudio:function(){var a=Mb.mobile.canvas.audioContext.createBufferSource(),b=Mb.mobile.canvas.audioContext.createGain();a.buffer=Mb.mobile.canvas.apiAudio.buffer,b.gain.value=Mb.mobile.canvas.wantedVolume,a.connect(b),
b.connect(Mb.mobile.canvas.audioContext.destination),Mb.mobile.canvas.apiAudio.source=a,Mb.mobile.canvas.apiAudio.gainNode=b},play:function(a){null!=Mb.mobile.canvas.apiAudio.buffer&&Mb.mobile.canvas.apiAudio.audioEnabled&&(Mb.mobile.canvas.apiAudio.pause(),Mb.mobile.canvas.apiAudio.initAudio(),Mb.mobile.canvas.apiAudio.startTime=Mb.mobile.canvas.audioContext.currentTime,a?(Mb.mobile.canvas.apiAudio.source.start(0,a),
Mb.mobile.canvas.apiAudio.startOffset=a):Mb.mobile.canvas.apiAudio.source.start(0,Mb.mobile.canvas.apiAudio.startOffset),Mb.mobile.canvas.apiAudio.stopped=!1)},pause:function(){null==Mb.mobile.canvas.apiAudio.source||Mb.mobile.canvas.apiAudio.stopped||(Mb.mobile.canvas.apiAudio.source.stop(0),Mb.mobile.canvas.apiAudio.startOffset+=Mb.mobile.canvas.audioContext.currentTime-Mb.mobile.canvas.apiAudio.startTime,Mb.mobile.canvas.apiAudio.stopped=!0)},volume:function(a){
null!=Mb.mobile.canvas.apiAudio.gainNode&&(Mb.mobile.canvas.wantedVolume=a,Mb.mobile.canvas.apiAudio.gainNode.gain.value=a)},currentTime:function(){if(Mb.mobile.canvas.apiAudio.stopped)var a=Mb.mobile.canvas.apiAudio.startOffset;else var a=Mb.mobile.canvas.apiAudio.startOffset+(Mb.mobile.canvas.audioContext.currentTime-Mb.mobile.canvas.apiAudio.startTime);return a},setCurrentTime:function(a){Mb.mobile.canvas.apiAudio.pause(),Mb.mobile.canvas.apiAudio.play(a)},enableUserGesture:function(a){
if(null!=Mb.mobile.canvas.audioContext){var b=Mb.mobile.canvas.audioContext.createBufferSource(),c=Mb.mobile.canvas.audioContext.createBuffer(1,1,22050);b.buffer=c,b.connect(Mb.mobile.canvas.audioContext.destination),b.start(0),window.setTimeout(function(){void 0!==b.playbackState&&(void 0===b.playbackState||b.playbackState!==b.PLAYING_STATE&&b.playbackState!==b.FINISHED_STATE)||(document.removeEventListener("touchcancel",a),document.removeEventListener("touchstart",a),
Mb.mobile.canvas.mp3Enabled=!0,b.disconnect(),Mb.mobile.canvas.apiAudio.audioEnabled=!0)},0)}},end:function(){Mb.mobile.canvas.apiAudio.pause(),Mb.mobile.canvas.apiAudio.source=null,Mb.mobile.canvas.apiAudio.gainNode=null,Mb.mobile.canvas.apiAudio.buffer=null},reset:function(){Mb.mobile.canvas.apiAudio.source=null,Mb.mobile.canvas.apiAudio.gainNode=null,Mb.mobile.canvas.apiAudio.buffer=null,Mb.mobile.canvas.apiAudio.stopped=!0,Mb.mobile.canvas.apiAudio.startOffset=0,
Mb.mobile.canvas.apiAudio.startTime=0}},htmlAudio:{init:function(a){Mb.mobile.canvas.mp3player.src=a,Mb.helpers.addEvent(Mb.mobile.canvas.mp3player,"error",Mb.mobile.canvas.htmlAudio.mp3LoadError),Mb.helpers.addEvent(Mb.mobile.canvas.mp3player,"canplay",Mb.mobile.canvas.htmlAudio.mp3Loaded),Mb.mobile.canvas.mp3player.preload="auto",Mb.mobile.canvas.audio=Mb.mobile.canvas.htmlAudio},mp3Loaded:function(a){
Mb.mobile.canvas.mp3player.removeEventListener?(Mb.mobile.canvas.mp3player.removeEventListener("error",Mb.mobile.canvas.htmlAudio.mp3LoadError,!1),Mb.mobile.canvas.mp3player.removeEventListener("canplay",Mb.mobile.canvas.htmlAudio.mp3Loaded,!1)):Mb.mobile.canvas.mp3player.detachEvent&&(Mb.mobile.canvas.mp3player.detachEvent("onerror",Mb.mobile.canvas.htmlAudio.mp3LoadError),Mb.mobile.canvas.mp3player.detachEvent("oncanplay",Mb.mobile.canvas.htmlAudio.mp3Loaded))},mp3LoadError:function(a){
Mb.helpers.log("Error : Can't load audio data."),Mb.mobile.canvas.videoHasAudio=!1},play:function(){0!=Mb.mobile.canvas.wantedVolume&&Mb.mobile.canvas.mp3player.play()},pause:function(){Mb.mobile.canvas.mp3player.pause()},volume:function(a){null!=Mb.mobile.canvas.mp3player&&(Mb.mobile.canvas.mp3player.volume=a,Mb.mobile.canvas.wantedVolume=a,0==a?Mb.mobile.canvas.mp3player.pause():Mb.mobile.canvas.isPlaying&&Mb.mobile.canvas.hasStarted&&Mb.mobile.canvas.mp3player.play())},currentTime:function(){
return Mb.mobile.canvas.mp3player.currentTime},setCurrentTime:function(a){Mb.mobile.canvas.mp3player.currentTime=a},enableUserGesture:function(a){null!=Mb.mobile.canvas.mp3player&&Mb.mobile.canvas.videoHasAudio&&(Mb.mobile.canvas.mp3player.play(),Mb.mobile.canvas.isMpgLoaded&&Mb.mobile.canvas.isPlaying&&0!=Mb.mobile.canvas.wantedVolume||Mb.mobile.canvas.mp3player.pause(),document.removeEventListener("touchcancel",a),document.removeEventListener("touchstart",a),Mb.mobile.canvas.mp3Enabled=!0)},
end:function(){Mb.mobile.canvas.mp3player.src=""},reset:function(){}}},reset:function(a){var b=Mb.getPlayer(a);b&&b.adsLoaded&&(Mb.callbacks={},b.isIMA?b.ima.imaInitialized=!1:Mb.mobile.canvas.reset())}};window.Mb.mobile=MB_mobile,function(a){"use strict";var b=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)}}(),c=a.jsmpeg=function(a,b){b=b||{},this.benchmark=!!b.benchmark,
this.canvas=b.canvas||document.createElement("canvas"),this.autoplay=!!b.autoplay,this.loop=!!b.loop,this.seekable=!!b.seekable,this.externalLoadCallback=b.onload||null,this.externalDecodeCallback=b.ondecodeframe||null,this.externalFinishedCallback=b.onfinished||null,this.customIntraQuantMatrix=new Uint8Array(64),this.customNonIntraQuantMatrix=new Uint8Array(64),this.blockData=new Int32Array(64),this.zeroBlockData=new Int32Array(64),this.fillArray(this.zeroBlockData,0),
!b.forceCanvas2D&&this.initWebGL()?this.renderFrame=this.renderFrameGL:(this.canvasContext=this.canvas.getContext("2d"),this.renderFrame=this.renderFrame2D),a instanceof WebSocket?(this.client=a,this.client.onopen=this.initSocketClient.bind(this)):this.load(a)};c.prototype.intraFrames=[],c.prototype.currentFrame=-1,c.prototype.currentTime=0,c.prototype.frameCount=0,c.prototype.duration=0,c.prototype.load=function(a){this.url=a;var b=new XMLHttpRequest,c=this;b.onreadystatechange=function(){
b.readyState==b.DONE&&200==b.status&&c.loadCallback(b.response)},b.onprogress=this.gl?this.updateLoaderGL.bind(this):this.updateLoader2D.bind(this),b.open("GET",a),b.responseType="arraybuffer",b.send()},c.prototype.updateLoader2D=function(a){var b=a.loaded/a.total,c=this.canvas.width,d=this.canvas.height,e=this.canvasContext;e.fillStyle="#222",e.fillRect(0,0,c,d),e.fillStyle="#fff",e.fillRect(0,d-d*b,c,d*b)},c.prototype.updateLoaderGL=function(a){var b=this.gl
;b.uniform1f(b.getUniformLocation(this.loadingProgram,"loaded"),a.loaded/a.total),b.drawArrays(b.TRIANGLE_STRIP,0,4)},c.prototype.loadCallback=function(a){this.buffer=new F(a),this.seekable&&(this.collectIntraFrames(),this.buffer.index=0),this.findStartCode(v),this.firstSequenceHeader=this.buffer.index,this.decodeSequenceHeader(),this.duration=this.frameCount/this.pictureRate,this.nextFrame(),this.autoplay&&this.play(),this.externalLoadCallback&&this.externalLoadCallback(this)},
c.prototype.collectIntraFrames=function(){var a;for(a=0;this.findStartCode(y)!==F.NOT_FOUND;a++)this.buffer.advance(10),this.buffer.getBits(3)==s&&this.intraFrames.push({frame:a,index:this.buffer.index-13});this.frameCount=a},c.prototype.seekToFrame=function(a,b){if(a<0||a>=this.frameCount||!this.intraFrames.length)return!1;for(var c=null,e=0;e<this.intraFrames.length&&this.intraFrames[e].frame<=a;e++)c=this.intraFrames[e];if(this.buffer.index=c.index,this.currentFrame=c.frame-1,b){
for(var f=c.frame;f<a;f++)this.decodePicture(d),this.findStartCode(y);this.currentFrame=a-1}return this.decodePicture(),!0},c.prototype.seekToTime=function(a,b){this.seekToFrame(a*this.pictureRate|0,b)},c.prototype.play=function(a){this.playing||(this.targetTime=this.now(),this.playing=!0,this.scheduleNextFrame())},c.prototype.pause=function(a){this.playing=!1},c.prototype.stop=function(a){this.currentFrame=-1,this.buffer&&(this.buffer.index=this.firstSequenceHeader),this.playing=!1,
this.client&&(this.client.close(),this.client=null)},c.prototype.readCode=function(a){var b=0;do{b=a[b+this.buffer.getBits(1)]}while(b>=0&&0!=a[b]);return a[b+2]},c.prototype.findStartCode=function(a){for(var b=0;;)if((b=this.buffer.findNextMPEGStartCode())==a||b==F.NOT_FOUND)return b;return F.NOT_FOUND},c.prototype.fillArray=function(a,b){for(var c=0,d=a.length;c<d;c++)a[c]=b},c.prototype.pictureRate=30,c.prototype.lateTime=0,c.prototype.firstSequenceHeader=0,c.prototype.targetTime=0,
c.prototype.benchmark=!1,c.prototype.benchFrame=0,c.prototype.benchDecodeTimes=0,c.prototype.benchAvgFrameTime=0,c.prototype.now=function(){return a.performance?a.performance.now():Date.now()},c.prototype.nextFrame=function(){if(this.buffer)for(var a=this.now();;){var b=this.buffer.findNextMPEGStartCode();if(b==v)this.decodeSequenceHeader();else{if(b==y)return this.playing&&this.scheduleNextFrame(),this.decodePicture(),this.benchDecodeTimes+=this.now()-a,this.canvas
;if(b==F.NOT_FOUND)return this.stop(),this.externalFinishedCallback&&this.externalFinishedCallback(this),this.loop&&this.sequenceStarted&&this.play(),null}}},c.prototype.scheduleNextFrame=function(){this.lateTime=this.now()-this.targetTime;var b=Math.max(0,1e3/this.pictureRate-this.lateTime);this.targetTime=this.now()+b,this.benchmark?(this.benchFrame++,this.benchFrame>=120&&(this.benchAvgFrameTime=this.benchDecodeTimes/this.benchFrame,this.benchFrame=0,this.benchDecodeTimes=0,a.console),
setTimeout(this.nextFrame.bind(this),0)):b<18?this.scheduleAnimation():setTimeout(this.scheduleAnimation.bind(this),b)},c.prototype.scheduleAnimation=function(){b(this.nextFrame.bind(this),this.canvas)},c.prototype.decodeSequenceHeader=function(){if(this.width=this.buffer.getBits(12),this.height=this.buffer.getBits(12),this.buffer.advance(4),this.pictureRate=e[this.buffer.getBits(4)],this.buffer.advance(30),this.initBuffers(),this.buffer.getBits(1)){
for(var a=0;a<64;a++)this.customIntraQuantMatrix[f[a]]=this.buffer.getBits(8);this.intraQuantMatrix=this.customIntraQuantMatrix}if(this.buffer.getBits(1)){for(var a=0;a<64;a++)this.customNonIntraQuantMatrix[f[a]]=this.buffer.getBits(8);this.nonIntraQuantMatrix=this.customNonIntraQuantMatrix}},c.prototype.initBuffers=function(){if(this.intraQuantMatrix=g,this.nonIntraQuantMatrix=h,this.mbWidth=this.width+15>>4,this.mbHeight=this.height+15>>4,this.mbSize=this.mbWidth*this.mbHeight,
this.codedWidth=this.mbWidth<<4,this.codedHeight=this.mbHeight<<4,this.codedSize=this.codedWidth*this.codedHeight,this.halfWidth=this.mbWidth<<3,this.halfHeight=this.mbHeight<<3,this.quarterSize=this.codedSize>>2,!this.sequenceStarted){this.sequenceStarted=!0;var b=a.Uint8ClampedArray||a.Uint8Array;a.Uint8ClampedArray||(this.copyBlockToDestination=this.copyBlockToDestinationClamp,this.addBlockToDestination=this.addBlockToDestinationClamp),this.currentY=new b(this.codedSize),
this.currentY32=new Uint32Array(this.currentY.buffer),this.currentCr=new b(this.codedSize>>2),this.currentCr32=new Uint32Array(this.currentCr.buffer),this.currentCb=new b(this.codedSize>>2),this.currentCb32=new Uint32Array(this.currentCb.buffer),this.forwardY=new b(this.codedSize),this.forwardY32=new Uint32Array(this.forwardY.buffer),this.forwardCr=new b(this.codedSize>>2),this.forwardCr32=new Uint32Array(this.forwardCr.buffer),this.forwardCb=new b(this.codedSize>>2),
this.forwardCb32=new Uint32Array(this.forwardCb.buffer),this.canvas.width=this.width,this.canvas.height=this.height,this.gl?(this.gl.useProgram(this.program),this.gl.viewport(0,0,this.width,this.height)):(this.currentRGBA=this.canvasContext.getImageData(0,0,this.width,this.height),this.fillArray(this.currentRGBA.data,255))}},c.prototype.currentY=null,c.prototype.currentCr=null,c.prototype.currentCb=null,c.prototype.currentRGBA=null,c.prototype.pictureCodingType=0,c.prototype.forwardY=null,
c.prototype.forwardCr=null,c.prototype.forwardCb=null,c.prototype.fullPelForward=!1,c.prototype.forwardFCode=0,c.prototype.forwardRSize=0,c.prototype.forwardF=0,c.prototype.decodePicture=function(a){if(this.currentFrame++,this.currentTime=this.currentFrame/this.pictureRate,this.buffer.advance(10),this.pictureCodingType=this.buffer.getBits(3),this.buffer.advance(16),!(this.pictureCodingType<=0||this.pictureCodingType>=u)){if(this.pictureCodingType==t){
if(this.fullPelForward=this.buffer.getBits(1),this.forwardFCode=this.buffer.getBits(3),0==this.forwardFCode)return;this.forwardRSize=this.forwardFCode-1,this.forwardF=1<<this.forwardRSize}var b=0;do{b=this.buffer.findNextMPEGStartCode()}while(b==z||b==A);for(;b>=w&&b<=x;)this.decodeSlice(255&b),b=this.buffer.findNextMPEGStartCode();if(this.buffer.rewind(32),a!=d&&(this.renderFrame(),this.externalDecodeCallback&&this.externalDecodeCallback(this,this.canvas)),
this.pictureCodingType==s||this.pictureCodingType==t){var c=this.forwardY,e=this.forwardY32,f=this.forwardCr,g=this.forwardCr32,h=this.forwardCb,i=this.forwardCb32;this.forwardY=this.currentY,this.forwardY32=this.currentY32,this.forwardCr=this.currentCr,this.forwardCr32=this.currentCr32,this.forwardCb=this.currentCb,this.forwardCb32=this.currentCb32,this.currentY=c,this.currentY32=e,this.currentCr=f,this.currentCr32=g,this.currentCb=h,this.currentCb32=i}}},c.prototype.YCbCrToRGBA=function(){
for(var a,b,c,d,e,f=this.currentY,g=this.currentCb,h=this.currentCr,i=this.currentRGBA.data,j=0,k=this.codedWidth,l=this.codedWidth+(this.codedWidth-this.width),m=0,n=this.halfWidth-(this.width>>1),o=0,p=4*this.width,q=4*this.width,r=this.width>>1,s=this.height>>1,t=0;t<s;t++){for(var u=0;u<r;u++){a=g[m],b=h[m],m++,c=b+(103*b>>8)-179,d=(88*a>>8)-44+(183*b>>8)-91,e=a+(198*a>>8)-227;var v=f[j++],w=f[j++];i[o]=v+c,i[o+1]=v-d,i[o+2]=v+e,i[o+4]=w+c,i[o+5]=w-d,i[o+6]=w+e,o+=8;var x=f[k++],y=f[k++]
;i[p]=x+c,i[p+1]=x-d,i[p+2]=x+e,i[p+4]=y+c,i[p+5]=y-d,i[p+6]=y+e,p+=8}j+=l,k+=l,o+=q,p+=q,m+=n}},c.prototype.renderFrame2D=function(){this.YCbCrToRGBA(),this.canvasContext.putImageData(this.currentRGBA,0,0)},c.prototype.gl=null,c.prototype.program=null,c.prototype.YTexture=null,c.prototype.CBTexture=null,c.prototype.CRTexture=null,c.prototype.createTexture=function(a,b){var c=this.gl,d=c.createTexture();return c.bindTexture(c.TEXTURE_2D,d),
c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),c.uniform1i(c.getUniformLocation(this.program,b),a),d},c.prototype.compileShader=function(a,b){var c=this.gl,d=c.createShader(a);if(c.shaderSource(d,b),c.compileShader(d),!c.getShaderParameter(d,c.COMPILE_STATUS))throw new Error(c.getShaderInfoLog(d))
;return d},c.prototype.initWebGL=function(){try{var a=this.gl=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl")}catch(a){return!1}if(!a)return!1;if(this.buffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.buffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),a.STATIC_DRAW),this.program=a.createProgram(),a.attachShader(this.program,this.compileShader(a.VERTEX_SHADER,D)),a.attachShader(this.program,this.compileShader(a.FRAGMENT_SHADER,B)),
a.linkProgram(this.program),!a.getProgramParameter(this.program,a.LINK_STATUS))throw new Error(a.getProgramInfoLog(this.program));a.useProgram(this.program),this.YTexture=this.createTexture(0,"YTexture"),this.CBTexture=this.createTexture(1,"CBTexture"),this.CRTexture=this.createTexture(2,"CRTexture");var b=a.getAttribLocation(this.program,"vertex");return a.enableVertexAttribArray(b),a.vertexAttribPointer(b,2,a.FLOAT,!1,0,0),this.loadingProgram=a.createProgram(),
a.attachShader(this.loadingProgram,this.compileShader(a.VERTEX_SHADER,D)),a.attachShader(this.loadingProgram,this.compileShader(a.FRAGMENT_SHADER,C)),a.linkProgram(this.loadingProgram),a.useProgram(this.loadingProgram),b=a.getAttribLocation(this.loadingProgram,"vertex"),a.enableVertexAttribArray(b),a.vertexAttribPointer(b,2,a.FLOAT,!1,0,0),!0},c.prototype.renderFrameGL=function(){
var a=this.gl,b=new Uint8Array(this.currentY.buffer),c=new Uint8Array(this.currentCr.buffer),d=new Uint8Array(this.currentCb.buffer);a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,this.YTexture),a.texImage2D(a.TEXTURE_2D,0,a.LUMINANCE,this.codedWidth,this.height,0,a.LUMINANCE,a.UNSIGNED_BYTE,b),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,this.CBTexture),a.texImage2D(a.TEXTURE_2D,0,a.LUMINANCE,this.halfWidth,this.height/2,0,a.LUMINANCE,a.UNSIGNED_BYTE,c),
a.activeTexture(a.TEXTURE2),a.bindTexture(a.TEXTURE_2D,this.CRTexture),a.texImage2D(a.TEXTURE_2D,0,a.LUMINANCE,this.halfWidth,this.height/2,0,a.LUMINANCE,a.UNSIGNED_BYTE,d),a.drawArrays(a.TRIANGLE_STRIP,0,4)},c.prototype.quantizerScale=0,c.prototype.sliceBegin=!1,c.prototype.decodeSlice=function(a){for(this.sliceBegin=!0,this.macroblockAddress=(a-1)*this.mbWidth-1,this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0,this.dcPredictorY=128,this.dcPredictorCr=128,
this.dcPredictorCb=128,this.quantizerScale=this.buffer.getBits(5);this.buffer.getBits(1);)this.buffer.advance(8);do{this.decodeMacroblock()}while(!this.buffer.nextBytesAreStartCode())},c.prototype.macroblockAddress=0,c.prototype.mbRow=0,c.prototype.mbCol=0,c.prototype.macroblockType=0,c.prototype.macroblockIntra=!1,c.prototype.macroblockMotFw=!1,c.prototype.motionFwH=0,c.prototype.motionFwV=0,c.prototype.motionFwHPrev=0,c.prototype.motionFwVPrev=0,c.prototype.decodeMacroblock=function(){
for(var a=0,b=this.readCode(j);34==b;)b=this.readCode(j);for(;35==b;)a+=33,b=this.readCode(j);if(a+=b,this.sliceBegin)this.sliceBegin=!1,this.macroblockAddress+=a;else{if(this.macroblockAddress+a>=this.mbSize)return;for(a>1&&(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.pictureCodingType==t&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0));a>1;)this.macroblockAddress++,this.mbRow=this.macroblockAddress/this.mbWidth|0,
this.mbCol=this.macroblockAddress%this.mbWidth,this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb),a--;this.macroblockAddress++}this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth,this.macroblockType=this.readCode(E[this.pictureCodingType]),this.macroblockIntra=1&this.macroblockType,this.macroblockMotFw=8&this.macroblockType,0!=(16&this.macroblockType)&&(this.quantizerScale=this.buffer.getBits(5)),
this.macroblockIntra?(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0):(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.decodeMotionVectors(),this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb));for(var c=0!=(2&this.macroblockType)?this.readCode(n):this.macroblockIntra?63:0,d=0,e=32;d<6;d++)0!=(c&e)&&this.decodeBlock(d),e>>=1},c.prototype.decodeMotionVectors=function(){var a,b,c=0
;this.macroblockMotFw?(a=this.readCode(o),0!=a&&1!=this.forwardF?(c=this.buffer.getBits(this.forwardRSize),b=(Math.abs(a)-1<<this.forwardRSize)+c+1,a<0&&(b=-b)):b=a,this.motionFwHPrev+=b,this.motionFwHPrev>(this.forwardF<<4)-1?this.motionFwHPrev-=this.forwardF<<5:this.motionFwHPrev<-this.forwardF<<4&&(this.motionFwHPrev+=this.forwardF<<5),this.motionFwH=this.motionFwHPrev,this.fullPelForward&&(this.motionFwH<<=1),a=this.readCode(o),
0!=a&&1!=this.forwardF?(c=this.buffer.getBits(this.forwardRSize),b=(Math.abs(a)-1<<this.forwardRSize)+c+1,a<0&&(b=-b)):b=a,this.motionFwVPrev+=b,this.motionFwVPrev>(this.forwardF<<4)-1?this.motionFwVPrev-=this.forwardF<<5:this.motionFwVPrev<-this.forwardF<<4&&(this.motionFwVPrev+=this.forwardF<<5),this.motionFwV=this.motionFwVPrev,this.fullPelForward&&(this.motionFwV<<=1)):this.pictureCodingType==t&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0)},
c.prototype.copyMacroblock=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o=this.currentY32,p=this.currentCb32,q=this.currentCr32;f=this.codedWidth,g=f-16,h=a>>1,i=b>>1,j=1==(1&a),k=1==(1&b),l=((this.mbRow<<4)+i)*f+(this.mbCol<<4)+h,m=this.mbRow*f+this.mbCol<<2,n=m+(f<<2);var r,s,t;if(j)if(k)for(;m<n;){r=c[l]+c[l+f],l++;for(var u=0;u<4;u++)s=c[l]+c[l+f],l++,t=r+s+2>>2&255,r=c[l]+c[l+f],l++,t|=r+s+2<<6&65280,s=c[l]+c[l+f],l++,t|=r+s+2<<14&16711680,r=c[l]+c[l+f],l++,t|=r+s+2<<22&4278190080,o[m++]=t
;m+=g>>2,l+=g-1}else for(;m<n;){r=c[l++];for(var u=0;u<4;u++)s=c[l++],t=r+s+1>>1&255,r=c[l++],t|=r+s+1<<7&65280,s=c[l++],t|=r+s+1<<15&16711680,r=c[l++],t|=r+s+1<<23&4278190080,o[m++]=t;m+=g>>2,l+=g-1}else if(k)for(;m<n;){for(var u=0;u<4;u++)t=c[l]+c[l+f]+1>>1&255,l++,t|=c[l]+c[l+f]+1<<7&65280,l++,t|=c[l]+c[l+f]+1<<15&16711680,l++,t|=c[l]+c[l+f]+1<<23&4278190080,l++,o[m++]=t;m+=g>>2,l+=g}else for(;m<n;){for(var u=0;u<4;u++)t=c[l],l++,t|=c[l]<<8,l++,t|=c[l]<<16,l++,t|=c[l]<<24,l++,o[m++]=t
;m+=g>>2,l+=g}f=this.halfWidth,g=f-8,h=a/2>>1,i=b/2>>1,j=1==(a/2&1),k=1==(b/2&1),l=((this.mbRow<<3)+i)*f+(this.mbCol<<3)+h,m=this.mbRow*f+this.mbCol<<1,n=m+(f<<1);var v,w,x,y,z,A;if(j)if(k)for(;m<n;){v=d[l]+d[l+f],y=e[l]+e[l+f],l++;for(var u=0;u<2;u++)w=d[l]+d[l+f],z=e[l]+e[l+f],l++,x=v+w+2>>2&255,A=y+z+2>>2&255,v=d[l]+d[l+f],y=e[l]+e[l+f],l++,x|=v+w+2<<6&65280,A|=y+z+2<<6&65280,w=d[l]+d[l+f],z=e[l]+e[l+f],l++,x|=v+w+2<<14&16711680,A|=y+z+2<<14&16711680,v=d[l]+d[l+f],y=e[l]+e[l+f],l++,
x|=v+w+2<<22&4278190080,A|=y+z+2<<22&4278190080,q[m]=x,p[m]=A,m++;m+=g>>2,l+=g-1}else for(;m<n;){v=d[l],y=e[l],l++;for(var u=0;u<2;u++)w=d[l],z=e[l++],x=v+w+1>>1&255,A=y+z+1>>1&255,v=d[l],y=e[l++],x|=v+w+1<<7&65280,A|=y+z+1<<7&65280,w=d[l],z=e[l++],x|=v+w+1<<15&16711680,A|=y+z+1<<15&16711680,v=d[l],y=e[l++],x|=v+w+1<<23&4278190080,A|=y+z+1<<23&4278190080,q[m]=x,p[m]=A,m++;m+=g>>2,l+=g-1}else if(k)for(;m<n;){for(var u=0;u<2;u++)x=d[l]+d[l+f]+1>>1&255,A=e[l]+e[l+f]+1>>1&255,l++,
x|=d[l]+d[l+f]+1<<7&65280,A|=e[l]+e[l+f]+1<<7&65280,l++,x|=d[l]+d[l+f]+1<<15&16711680,A|=e[l]+e[l+f]+1<<15&16711680,l++,x|=d[l]+d[l+f]+1<<23&4278190080,A|=e[l]+e[l+f]+1<<23&4278190080,l++,q[m]=x,p[m]=A,m++;m+=g>>2,l+=g}else for(;m<n;){for(var u=0;u<2;u++)x=d[l],A=e[l],l++,x|=d[l]<<8,A|=e[l]<<8,l++,x|=d[l]<<16,A|=e[l]<<16,l++,x|=d[l]<<24,A|=e[l]<<24,l++,q[m]=x,p[m]=A,m++;m+=g>>2,l+=g}},c.prototype.dcPredictorY,c.prototype.dcPredictorCr,c.prototype.dcPredictorCb,c.prototype.blockData=null,
c.prototype.decodeBlock=function(a){var b,c=0;if(this.macroblockIntra){var d,e;if(a<4?(d=this.dcPredictorY,e=this.readCode(p)):(d=4==a?this.dcPredictorCr:this.dcPredictorCb,e=this.readCode(q)),e>0){var g=this.buffer.getBits(e);this.blockData[0]=0!=(g&1<<e-1)?d+g:d+(-1<<e|g+1)}else this.blockData[0]=d;a<4?this.dcPredictorY=this.blockData[0]:4==a?this.dcPredictorCr=this.blockData[0]:this.dcPredictorCb=this.blockData[0],this.blockData[0]<<=8,b=this.intraQuantMatrix,c=1
}else b=this.nonIntraQuantMatrix;for(var h=0;;){var j=0,k=this.readCode(r);if(1==k&&c>0&&0==this.buffer.getBits(1))break;65535==k?(j=this.buffer.getBits(6),h=this.buffer.getBits(8),0==h?h=this.buffer.getBits(8):128==h?h=this.buffer.getBits(8)-256:h>128&&(h-=256)):(j=k>>8,h=255&k,this.buffer.getBits(1)&&(h=-h)),c+=j;var l=f[c];c++,h<<=1,this.macroblockIntra||(h+=h<0?-1:1),h=h*this.quantizerScale*b[l]>>4,0==(1&h)&&(h-=h>0?1:-1),h>2047?h=2047:h<-2048&&(h=-2048),this.blockData[l]=h*i[l]}var m,n,o
;a<4?(m=this.currentY,o=this.codedWidth-8,n=this.mbRow*this.codedWidth+this.mbCol<<4,0!=(1&a)&&(n+=8),0!=(2&a)&&(n+=this.codedWidth<<3)):(m=4==a?this.currentCb:this.currentCr,o=(this.codedWidth>>1)-8,n=(this.mbRow*this.codedWidth<<2)+(this.mbCol<<3)),this.macroblockIntra?1==c?(this.copyValueToDestination(this.blockData[0]+128>>8,m,n,o),this.blockData[0]=0):(this.IDCT(),this.copyBlockToDestination(this.blockData,m,n,o),
this.blockData.set(this.zeroBlockData)):1==c?(this.addValueToDestination(this.blockData[0]+128>>8,m,n,o),this.blockData[0]=0):(this.IDCT(),this.addBlockToDestination(this.blockData,m,n,o),this.blockData.set(this.zeroBlockData)),c=0},c.prototype.copyBlockToDestination=function(a,b,c,d){for(var e=0;e<64;e+=8,c+=d+8)b[c+0]=a[e+0],b[c+1]=a[e+1],b[c+2]=a[e+2],b[c+3]=a[e+3],b[c+4]=a[e+4],b[c+5]=a[e+5],b[c+6]=a[e+6],b[c+7]=a[e+7]},c.prototype.addBlockToDestination=function(a,b,c,d){
for(var e=0;e<64;e+=8,c+=d+8)b[c+0]+=a[e+0],b[c+1]+=a[e+1],b[c+2]+=a[e+2],b[c+3]+=a[e+3],b[c+4]+=a[e+4],b[c+5]+=a[e+5],b[c+6]+=a[e+6],b[c+7]+=a[e+7]},c.prototype.copyValueToDestination=function(a,b,c,d){for(var e=0;e<64;e+=8,c+=d+8)b[c+0]=a,b[c+1]=a,b[c+2]=a,b[c+3]=a,b[c+4]=a,b[c+5]=a,b[c+6]=a,b[c+7]=a},c.prototype.addValueToDestination=function(a,b,c,d){for(var e=0;e<64;e+=8,c+=d+8)b[c+0]+=a,b[c+1]+=a,b[c+2]+=a,b[c+3]+=a,b[c+4]+=a,b[c+5]+=a,b[c+6]+=a,b[c+7]+=a},
c.prototype.copyBlockToDestinationClamp=function(a,b,c,d){for(var e=0,f=0;f<8;f++){for(var g=0;g<8;g++){var h=a[e++];b[c++]=h>255?255:h<0?0:h}c+=d}},c.prototype.addBlockToDestinationClamp=function(a,b,c,d){for(var e=0,f=0;f<8;f++){for(var g=0;g<8;g++){var h=a[e++]+b[c];b[c++]=h>255?255:h<0?0:h}c+=d}},c.prototype.IDCT=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=this.blockData;for(s=0;s<8;++s)a=t[32+s],b=t[16+s]+t[48+s],c=t[40+s]-t[24+s],f=t[8+s]+t[56+s],g=t[24+s]+t[40+s],
d=t[8+s]-t[56+s],e=f+g,h=t[0+s],m=(473*d-196*c+128>>8)-e,i=m-(362*(f-g)+128>>8),j=h-a,k=(362*(t[16+s]-t[48+s])+128>>8)-b,l=h+a,n=j+k,o=l+b,p=j-k,q=l-b,r=-i-(473*c+196*d+128>>8),t[0+s]=e+o,t[8+s]=m+n,t[16+s]=p-i,t[24+s]=q-r,t[32+s]=q+r,t[40+s]=i+p,t[48+s]=n-m,t[56+s]=o-e;for(s=0;s<64;s+=8)a=t[4+s],b=t[2+s]+t[6+s],c=t[5+s]-t[3+s],f=t[1+s]+t[7+s],g=t[3+s]+t[5+s],d=t[1+s]-t[7+s],e=f+g,h=t[0+s],m=(473*d-196*c+128>>8)-e,i=m-(362*(f-g)+128>>8),j=h-a,k=(362*(t[2+s]-t[6+s])+128>>8)-b,l=h+a,n=j+k,o=l+b,
p=j-k,q=l-b,r=-i-(473*c+196*d+128>>8),t[0+s]=e+o+128>>8,t[1+s]=m+n+128>>8,t[2+s]=p-i+128>>8,t[3+s]=q-r+128>>8,t[4+s]=q+r+128>>8,t[5+s]=i+p+128>>8,t[6+s]=n-m+128>>8,t[7+s]=o-e+128>>8}
;var d=1,e=[0,23.976,24,25,29.97,30,50,59.94,60,0,0,0,0,0,0,0],f=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),g=new Uint8Array([8,16,19,22,26,27,29,34,16,16,22,24,27,29,34,37,19,22,26,27,29,34,34,38,22,22,26,27,29,34,37,40,22,26,27,29,32,35,40,48,26,27,29,32,35,40,48,58,26,27,29,34,38,46,56,69,27,29,35,38,46,56,69,83]),h=new Uint8Array([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]),i=new Uint8Array([32,44,42,38,32,25,17,9,44,62,58,52,44,35,24,12,42,58,55,49,42,33,23,12,38,52,49,44,38,30,20,10,32,44,42,38,32,25,17,9,25,35,33,30,25,20,14,7,17,24,23,20,17,14,9,5,9,12,12,10,9,7,5,2]),j=new Int16Array([3,6,0,9,12,0,0,0,1,15,18,0,21,24,0,27,30,0,33,36,0,0,0,3,0,0,2,39,42,0,45,48,0,0,0,5,0,0,4,51,54,0,57,60,0,0,0,7,0,0,6,63,66,0,69,72,0,75,78,0,81,84,0,-1,87,0,-1,90,0,93,96,0,99,102,0,105,108,0,111,114,0,0,0,9,0,0,8,117,120,0,123,126,0,129,132,0,135,138,0,0,0,15,0,0,14,0,0,13,0,0,12,0,0,11,0,0,10,141,-1,0,-1,144,0,147,150,0,153,156,0,159,162,0,165,168,0,171,174,0,177,180,0,183,-1,0,-1,186,0,189,192,0,195,198,0,201,204,0,207,210,0,213,216,0,219,222,0,0,0,21,0,0,20,0,0,19,0,0,18,0,0,17,0,0,16,0,0,35,0,0,34,0,0,33,0,0,32,0,0,31,0,0,30,0,0,29,0,0,28,0,0,27,0,0,26,0,0,25,0,0,24,0,0,23,0,0,22]),k=new Int8Array([3,6,0,-1,9,0,0,0,1,0,0,17]),l=new Int8Array([3,6,0,9,12,0,0,0,10,15,18,0,0,0,2,21,24,0,0,0,8,27,30,0,33,36,0,-1,39,0,0,0,18,0,0,26,0,0,1,0,0,17]),m=new Int8Array([3,6,0,9,15,0,12,18,0,24,21,0,0,0,12,27,30,0,0,0,14,39,42,0,36,33,0,0,0,4,0,0,6,54,48,0,45,51,0,0,0,8,0,0,10,-1,57,0,0,0,1,60,63,0,0,0,30,0,0,17,0,0,22,0,0,26]),n=new Int16Array([6,3,0,9,18,0,12,15,0,24,33,0,36,39,0,27,21,0,30,42,0,60,57,0,54,48,0,69,51,0,81,75,0,63,84,0,45,66,0,72,78,0,0,0,60,105,120,0,132,144,0,114,108,0,126,141,0,87,93,0,117,96,0,0,0,32,135,138,0,99,123,0,129,102,0,0,0,4,90,111,0,0,0,8,0,0,16,0,0,44,150,168,0,0,0,28,0,0,52,0,0,62,183,177,0,156,180,0,0,0,1,165,162,0,0,0,61,0,0,56,171,174,0,0,0,2,0,0,40,153,186,0,0,0,48,192,189,0,147,159,0,0,0,20,0,0,12,240,249,0,0,0,63,231,225,0,195,219,0,252,198,0,0,0,24,0,0,36,0,0,3,207,261,0,243,237,0,204,213,0,210,234,0,201,228,0,216,222,0,258,255,0,264,246,0,-1,282,0,285,291,0,0,0,33,0,0,9,318,330,0,306,348,0,0,0,5,0,0,10,279,267,0,0,0,6,0,0,18,0,0,17,0,0,34,339,357,0,309,312,0,270,276,0,327,321,0,351,354,0,303,297,0,294,288,0,300,273,0,342,345,0,315,324,0,336,333,0,363,375,0,0,0,41,0,0,14,0,0,21,372,366,0,360,369,0,0,0,11,0,0,19,0,0,7,0,0,35,0,0,13,0,0,50,0,0,49,0,0,58,0,0,37,0,0,25,0,0,45,0,0,57,0,0,26,0,0,29,0,0,38,0,0,53,0,0,23,0,0,43,0,0,46,0,0,42,0,0,22,0,0,54,0,0,51,0,0,15,0,0,30,0,0,39,0,0,47,0,0,55,0,0,27,0,0,59,0,0,31]),o=new Int16Array([3,6,0,12,9,0,0,0,0,18,15,0,24,21,0,0,0,-1,0,0,1,27,30,0,36,33,0,0,0,2,0,0,-2,42,45,0,48,39,0,60,54,0,0,0,3,0,0,-3,51,57,0,-1,69,0,81,75,0,78,63,0,72,66,0,96,84,0,87,93,0,-1,99,0,108,105,0,0,0,-4,90,102,0,0,0,4,0,0,-7,0,0,5,111,123,0,0,0,-5,0,0,7,114,120,0,126,117,0,0,0,-6,0,0,6,153,162,0,150,147,0,135,138,0,156,141,0,129,159,0,132,144,0,0,0,10,0,0,9,0,0,8,0,0,-8,171,198,0,0,0,-9,180,192,0,168,183,0,165,186,0,174,189,0,0,0,-10,177,195,0,0,0,12,0,0,16,0,0,13,0,0,14,0,0,11,0,0,15,0,0,-16,0,0,-12,0,0,-14,0,0,-15,0,0,-11,0,0,-13]),p=new Int8Array([6,3,0,18,15,0,9,12,0,0,0,1,0,0,2,27,24,0,21,30,0,0,0,0,36,33,0,0,0,4,0,0,3,39,42,0,0,0,5,0,0,6,48,45,0,51,-1,0,0,0,7,0,0,8]),q=new Int8Array([6,3,0,12,9,0,18,15,0,24,21,0,0,0,2,0,0,1,0,0,0,30,27,0,0,0,3,36,33,0,0,0,4,42,39,0,0,0,5,48,45,0,0,0,6,51,-1,0,0,0,7,0,0,8]),r=new Int32Array([3,6,0,12,9,0,0,0,1,21,24,0,18,15,0,39,27,0,33,30,0,42,36,0,0,0,257,60,66,0,54,63,0,48,57,0,0,0,513,51,45,0,0,0,2,0,0,3,81,75,0,87,93,0,72,78,0,96,90,0,0,0,1025,69,84,0,0,0,769,0,0,258,0,0,1793,0,0,65535,0,0,1537,111,108,0,0,0,1281,105,102,0,117,114,0,99,126,0,120,123,0,156,150,0,162,159,0,144,147,0,129,135,0,138,132,0,0,0,2049,0,0,4,0,0,514,0,0,2305,153,141,0,165,171,0,180,168,0,177,174,0,183,186,0,0,0,2561,0,0,3329,0,0,6,0,0,259,0,0,5,0,0,770,0,0,2817,0,0,3073,228,225,0,201,210,0,219,213,0,234,222,0,216,231,0,207,192,0,204,189,0,198,195,0,243,261,0,273,240,0,246,237,0,249,258,0,279,276,0,252,255,0,270,282,0,264,267,0,0,0,515,0,0,260,0,0,7,0,0,1026,0,0,1282,0,0,4097,0,0,3841,0,0,3585,315,321,0,333,342,0,312,291,0,375,357,0,288,294,0,-1,369,0,285,303,0,318,363,0,297,306,0,339,309,0,336,348,0,330,300,0,372,345,0,351,366,0,327,354,0,360,324,0,381,408,0,417,420,0,390,378,0,435,438,0,384,387,0,0,0,2050,396,402,0,465,462,0,0,0,8,411,399,0,429,432,0,453,414,0,426,423,0,0,0,10,0,0,9,0,0,11,0,0,5377,0,0,1538,0,0,771,0,0,5121,0,0,1794,0,0,4353,0,0,4609,0,0,4865,444,456,0,0,0,1027,459,450,0,0,0,261,393,405,0,0,0,516,447,441,0,516,519,0,486,474,0,510,483,0,504,498,0,471,537,0,507,501,0,522,513,0,534,531,0,468,477,0,492,495,0,549,546,0,525,528,0,0,0,263,0,0,2562,0,0,2306,0,0,5633,0,0,5889,0,0,6401,0,0,6145,0,0,1283,0,0,772,0,0,13,0,0,12,0,0,14,0,0,15,0,0,517,0,0,6657,0,0,262,540,543,0,480,489,0,588,597,0,0,0,27,609,555,0,606,603,0,0,0,19,0,0,22,591,621,0,0,0,18,573,576,0,564,570,0,0,0,20,552,582,0,0,0,21,558,579,0,0,0,23,612,594,0,0,0,25,0,0,24,600,615,0,0,0,31,0,0,30,0,0,28,0,0,29,0,0,26,0,0,17,0,0,16,567,618,0,561,585,0,654,633,0,0,0,37,645,648,0,0,0,36,630,636,0,0,0,34,639,627,0,663,666,0,657,624,0,651,642,0,669,660,0,0,0,35,0,0,267,0,0,40,0,0,268,0,0,266,0,0,32,0,0,264,0,0,265,0,0,38,0,0,269,0,0,270,0,0,33,0,0,39,0,0,7937,0,0,6913,0,0,7681,0,0,4098,0,0,7425,0,0,7169,0,0,271,0,0,274,0,0,273,0,0,272,0,0,1539,0,0,2818,0,0,3586,0,0,3330,0,0,3074,0,0,3842]),s=1,t=2,u=3,v=179,w=1,x=175,y=0,z=181,A=178,B=["precision mediump float;","uniform sampler2D YTexture;","uniform sampler2D CBTexture;","uniform sampler2D CRTexture;","varying vec2 texCoord;","void main() {","float y = texture2D(YTexture, texCoord).r;","float cr = texture2D(CBTexture, texCoord).r - 0.5;","float cb = texture2D(CRTexture, texCoord).r - 0.5;","gl_FragColor = vec4(","y + 1.4 * cr,","y + -0.343 * cb - 0.711 * cr,","y + 1.765 * cb,","1.0",");","}"].join("\n"),C=["precision mediump float;","uniform float loaded;","varying vec2 texCoord;","void main() {","float c = ceil(loaded-(1.0-texCoord.y));","gl_FragColor = vec4(c,c,c,1);","}"].join("\n"),D=["attribute vec2 vertex;","varying vec2 texCoord;","void main() {","texCoord = vertex;","gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);","}"].join("\n"),E=[null,k,l,m],F=function(a){
this.bytes=new Uint8Array(a),this.length=this.bytes.length,this.writePos=this.bytes.length,this.index=0};F.NOT_FOUND=-1,F.prototype.findNextMPEGStartCode=function(){for(var a=this.index+7>>3;a<this.writePos;a++)if(0==this.bytes[a]&&0==this.bytes[a+1]&&1==this.bytes[a+2])return this.index=a+4<<3,this.bytes[a+3];return this.index=this.writePos<<3,F.NOT_FOUND},F.prototype.nextBytesAreStartCode=function(){var a=this.index+7>>3
;return a>=this.writePos||0==this.bytes[a]&&0==this.bytes[a+1]&&1==this.bytes[a+2]},F.prototype.nextBits=function(a){var b=this.index>>3,c=8-this.index%8;if(c>=a)return this.bytes[b]>>c-a&255>>8-a;var d=(this.index+a)%8,e=this.index+a-1>>3,f=this.bytes[b]&255>>8-c;for(b++;b<e;b++)f<<=8,f|=this.bytes[b];return d>0?(f<<=d,f|=this.bytes[b]>>8-d):(f<<=8,f|=this.bytes[b]),f},F.prototype.getBits=function(a){var b=this.nextBits(a);return this.index+=a,b},F.prototype.advance=function(a){
return this.index+=a},F.prototype.rewind=function(a){return this.index-=a}}(window),function(a){"use strict";var b=a.mbjpeg=function(a,b){this.canvas=b.canvas,this.onload=b.onload,this.onfinished=b.onfinished,this.currentTime=0,this.isPlaying=!1,this.pictureRate=25,this.frames=[],this.indexFrame=0,this.waitDelay=1e3/this.pictureRate,this.canvasContext=this.canvas.getContext("2d"),this.load(a)};b.prototype.load=function(a){var b=new XMLHttpRequest,c=this;b.onreadystatechange=function(){
b.readyState==b.DONE&&200==b.status&&c.fileLoaded(b.responseText)},b.open("GET",a),b.send()},b.prototype.fileLoaded=function(a){var b=/^(\[(\[[0-9]+,[0-9]+\],?)+\])/,c=b.exec(a);c&&(this.json=JSON.parse(c[1]),this.frameCount=this.json.length,this.duration=this.frameCount/this.pictureRate,this.file=a.slice(c[1].length,a.length),this.renderFrame(),this.onload())},b.prototype.renderFrame=function(){if(this.currentTime=this.indexFrame/this.pictureRate,
!(this.indexFrame>=this.frameCount||void 0===this.json[this.indexFrame])){if(void 0===this.frames[this.indexFrame]){var a=this.file.slice(this.json[this.indexFrame][0],this.json[this.indexFrame][0]+this.json[this.indexFrame][1]);this.frames[this.indexFrame]=a}var b=this,c=this.frames[this.indexFrame],d=new Image;d.src="data:image/jpeg;base64,"+c,d.onload=function(){b.canvasContext.drawImage(d,0,0)}}},b.prototype.play=function(){this.isPlaying||(this.targetTime=Date.now(),this.isPlaying=!0,
this.playing())},b.prototype.pause=function(){this.isPlaying=!1},b.prototype.stop=function(a){this.indexFrame=0,this.isPlaying=!1},b.prototype.playing=function(){this.frameCount!=this.indexFrame&&void 0!==this.json[this.indexFrame]||(this.stop(),this.onfinished()),this.renderFrame(),this.indexFrame++,this.lateTime=Date.now()-this.targetTime;var b=Math.max(0,this.waitDelay-this.lateTime);this.targetTime=Date.now()+b,this.isPlaying&&a.setTimeout(this.playing.bind(this),b)},
b.prototype.seekToFrame=function(a){if(a<0||a>=this.frameCount)return!1;this.indexFrame=a,this.renderFrame()}}(window),Mb.consent={iab_consent_cookie:"",record:function(){if(void 0!==window.mb_consent_cookie&&""!=window.mb_consent_cookie)return Mb.consent.iab_consent_cookie=window.mb_consent_cookie,void delete window.mb_consent_cookie;Mb.helpers.inIframe()&&Mb.consent.setupIframeCmp(),"function"==typeof __cmp&&__cmp("getConsentData",null,function(a,b){
b&&(Mb.consent.iab_consent_cookie=a.consentData)}.bind(this))},setupIframeCmp:function(){for(var a,b=window;!a;){try{b.frames.__cmpLocator&&(a=b)}catch(a){}if(b===window.top)break;b=b.parent}var c={};window.__cmp=function(b,d,e){if(!a)return void e({msg:"CMP not found"},!1);var f=Math.random()+"",g={__cmpCall:{command:b,parameter:d,callId:f}};c[f]=e,a.postMessage(g,"*")},window.addEventListener("message",function(a){var b={};try{b="string"==typeof a.data?JSON.parse(a.data):a.data}catch(a){
return!1}if(b.__cmpReturn){var d=b.__cmpReturn;c[d.callId]&&(c[d.callId](d.returnValue,d.success),delete c[d.callId])}},!1)}},Mb.dataLayer={iframe:null,iframe_available:!1,init:function(a){Mb.dataLayer.iframe=document.createElement("iframe"),Mb.dataLayer.iframe.src="https://static.mediabong.com/df/df.html#"+a,Mb.dataLayer.iframe.width=0,Mb.dataLayer.iframe.height=0,Mb.dataLayer.iframe.style.visibility="hidden",Mb.dataLayer.iframe.onload=function(){Mb.dataLayer.iframe.contentWindow.postMessage({
mdb:1,type:"init"},"*")},window.addEventListener("message",function(a){void 0!==a.data.mdb&&"ready"==a.data.message&&(Mb.dataLayer.iframe_available=!0,void 0!==a.data.uid&&(Mb.ls_uid=a.data.uid))},!1),document.body.appendChild(Mb.dataLayer.iframe)},send:function(a){Mb.dataLayer.iframe.contentWindow.postMessage(a,"*")}};