(self.webpackChunklite=self.webpackChunklite||[]).push([[8751],{90194:(e,t,n)=>{"use strict";n.d(t,{w:()=>u});var r=n(67294),i=n(89894),o=n(62630),a=n(27572),l=n(28309),c=n(16139),u=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,u=e.buttonStyle,s=void 0===u?"STRONG":u,d=e.newsletterV3Id,m=e.showMailIcon,b=void 0===m||m,f=e.onClick,p=e.width,w=e.buttonText,E=void 0===w?"Get this newsletter":w,g=e.redirectUrl,h=(0,a.Qi)(),v=(0,o.Av)(),S=(0,l.Iq)();return r.createElement(i.zx,{buttonStyle:s,onClick:function(){v.event("newsletterV3.subscribeClicked",{newsletterV3Id:d,source:h}),f()},size:n,width:p,href:g},b&&r.createElement("span",{className:S((function(){return{marginRight:"8px"}})),"aria-hidden":"true"},r.createElement(c.Z,null)),E)}},31429:(e,t,n)=>{"use strict";n.d(t,{x:()=>U,B:()=>D});var r=n(63038),i=n.n(r),o=n(28655),a=n.n(o),l=n(71439),c=n(67294),u=n(70561),s=n(26839),d=n(90194),m=n(59713),b=n.n(m),f=n(46829),p=n(62630),w=n(88914);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(){var e=a()(["\n  mutation unsubscribeNewsletterV3($newsletterV3Id: ID!) {\n    unsubscribeNewsletterV3(newsletterV3Id: $newsletterV3Id)\n  }\n"]);return h=function(){return e},e}function v(){var e=a()(["\n  mutation subscribeNewsletterV3($newsletterV3Id: ID!, $shouldRecordConsent: Boolean) {\n    subscribeNewsletterV3(\n      newsletterV3Id: $newsletterV3Id\n      shouldRecordConsent: $shouldRecordConsent\n    )\n  }\n"]);return v=function(){return e},e}function S(){var e=a()(["\n  fragment useNewsletterV3Subscription_newsletterV3 on NewsletterV3 {\n    id\n    isSubscribed\n  }\n"]);return S=function(){return e},e}var y=(0,l.Ps)(S()),x=(0,l.Ps)(v()),V=(0,l.Ps)(h()),N=n(9785),T=n(62181),O=n(89894),C=n(64674),R=n(80735),I=n(27572),k=n(51512),P=n(14391),_=n(51064),L=n(27952),A=n(534);function j(){var e=a()(["\n  fragment NewsletterV3SubscribeButton_newsletterV3 on NewsletterV3 {\n    id\n    name\n    isSubscribed\n    type\n    user {\n      name\n    }\n    collection {\n      ...CollectionMetabar_collection\n      ...SusiClickable_collection\n      ...collectionDefaultBackgroundTheme_collection\n    }\n    ...SusiClickable_newsletterV3\n    ...useNewsletterV3Subscription_newsletterV3\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return j=function(){return e},e}var B="newsletter_v3_promo",D=(0,l.Ps)(j(),s.JE,T.Os,T.GB,A.Gi,y),U=function(e){var t,n,r,o=e.newsletterV3,a=e.buttonLayout,l=void 0===a?"MULTI-LINE":a,s=e.helperTextColor,m=void 0===s?"LIGHTER":s,b=e.showHelperText,E=void 0===b||b,h=e.showMailIcon,v=void 0===h||h,S=e.buttonSize,j=void 0===S?"LARGE":S,D=e.buttonStyle,U=void 0===D?"STRONG":D,F=e.redirectUrl,M=(0,N.YC)().value,W=o.id,$=o.collection?o.collection:void 0,G=o.user?o.user:void 0,z=(0,w.w)(),Y=(0,u.v9)((function(e){return{referrerSource:e.navigation.referrerSource}}),u.wU).referrerSource,q=(0,u.v9)((function(e){return e.config.productName})),H=(0,_.O)(!1),Q=i()(H,3),Z=Q[0],K=Q[1],X=Q[2];switch(o.type){case P.Rr.NEWSLETTER_TYPE_COLLECTION:t=o.name,n="You’re signed up for ".concat(t,".");break;case P.Rr.NEWSLETTER_TYPE_AUTHOR:t=null==G?void 0:G.name,n="You’re subscribed to ".concat(t)}F?(r="Learn more",v=!1):o.type===P.Rr.NEWSLETTER_TYPE_COLLECTION?r="Get this newsletter":o.type===P.Rr.NEWSLETTER_TYPE_AUTHOR&&(r="Subscribe");var J=function(e,t,n){var r=c.useState(n),o=i()(r,2),a=o[0],l=o[1],u=c.useState(!1),s=i()(u,2),d=s[0],m=s[1],b=(0,p.Av)(),E=(0,w.w)();d&&b.event("newsletterV3.subscribe.error",{newsletterV3Id:e});var h=(0,f.useMutation)(x,{variables:{newsletterV3Id:e,shouldRecordConsent:!1},onCompleted:function(e){var t=e.subscribeNewsletterV3;m(!t),t&&l(!0)},update:function(t,n){var r,i={id:"NewsletterV3:".concat(e),fragment:y,fragmentName:"useNewsletterV3Subscription_newsletterV3"},o=t.readFragment(i);t.writeFragment(g({},i,{data:g({},o,{isSubscribed:null===(r=n.data)||void 0===r?void 0:r.subscribeNewsletterV3})}))}}),v=i()(h,1)[0],S=(0,f.useMutation)(V,{variables:{newsletterV3Id:e},onCompleted:function(e){var n=e.unsubscribeNewsletterV3;m(!n),n&&(l(!1),E({duration:"NEXTPAGE",message:"",toastStyle:"NEWSLETTER_UNSUBSCRIBE",extraParams:{newsletterName:t}}))},update:function(t,n){var r,i={id:"NewsletterV3:".concat(e),fragment:y,fragmentName:"useNewsletterV3Subscription_newsletterV3"},o=t.readFragment(i);t.writeFragment(g({},i,{data:g({},o,{isSubscribed:!(null===(r=n.data)||void 0===r?void 0:r.unsubscribeNewsletterV3)})}))}}),N=i()(S,1)[0];return{isSubscribed:a,hasError:d,setSubscribe:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m(!1),t?v({variables:{newsletterV3Id:e,shouldRecordConsent:n}}):N()}}}(o.id,t,o.isSubscribed),ee=J.isSubscribed,te=J.hasError,ne=J.setSubscribe;c.useEffect((function(){if(Y){var e=(0,k.P7)(Y||"").susiEntry;["collection_newsletter_v3_landing","newsletter_v3_promo"].includes(void 0===e?"":e)&&ee&&z({duration:"NEXTPAGE",message:"",toastStyle:"NEWSLETTER_SUBSCRIBE",extraParams:{newsletterName:null==o?void 0:o.name,unsubscribeFn:function(){return ne(!1)}}})}}),[Y]);var re=function(e){var t=e.children;return c.createElement(O.xu,{margin:"COMPACT"===l?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},t)},ie=function(e){var t=e.children;return c.createElement(O.xu,{maxWidth:"COMPACT"===l?"380px":"",margin:"COMPACT"===l?"10px 0 10px 0":"10px 0 0 0"},c.createElement(R.F,{scale:"S",color:m,tag:"p"},t))},oe=function(){var e=(0,L.Zu)(W),n={buttonSize:j,buttonStyle:U,newsletterV3Id:o.id,onClick:function(){F||(M&&M.allowEmailAddressSharingEditorWriter?ne(!0,!1):K())},showMailIcon:v,buttonText:r,redirectUrl:F};return c.createElement(re,null,M?c.createElement(c.Fragment,null,c.createElement(d.w,n),c.createElement(O.QH,{onConfirm:function(){return ne(!0,!0)},isVisible:Z,hide:X,titleText:"Confirm your subscription to ".concat(t),confirmText:"Confirm now",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!1,withCloseButton:!1,titleTag:"h1",contentTag:"p",isDestructiveAction:!1},"By confirming, you agree to share your email address with the editors of newsletters and writers you've subscribed to so they can stay in contact with you outside of ".concat(q,". You can opt out of sharing your email address by unsubscribing in your Settings."))):c.createElement(T.R9,{operation:"register",newsletterV3:o,collection:$,actionUrl:e,susiEntry:B},c.createElement(d.w,n)))},ae=function(){return!E||F?c.createElement(c.Fragment,null):M?c.createElement(ie,null,"Emails will be sent to ",M.email,".",c.createElement(O.xu,null,c.createElement(T.R9,{operation:"login",newsletterV3:o,collection:$,susiEntry:B},c.createElement(O.rU,{onClick:function(){},linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Not you?")))):c.createElement(ie,null,"Create a free Medium account to get ",o.name," in your inbox.")};return c.createElement(c.Fragment,null,c.createElement(O.Yi,null,(function(e){return c.createElement(O.f6,{theme:(0,A.jN)($,e)},ee?c.createElement(c.Fragment,null,c.createElement(re,null,c.createElement(O.zx,{buttonStyle:"SUBTLE",size:"SMALL",onClick:function(){return ne(!1)}},"Unsubscribe")),E&&c.createElement(ie,null,n)):c.createElement(I.cW,{source:{newsletterV3Id:o.id},extendSource:!0},c.createElement(oe,null),c.createElement(ae,null)))})),te&&c.createElement(C.Z,{toastStyle:"RETRYABLE_ERROR",isVisible:te,hide:function(){}}))}},55346:(e,t,n)=>{"use strict";n.d(t,{QL:()=>L,Lh:()=>j});var r=n(28655),i=n.n(r),o=n(59713),a=n.n(o),l=n(63038),c=n.n(l),u=n(46829),s=n(71439),d=n(67294),m=n(70561),b=n(90194),f=n(89894),p=n(28309),w={from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},E=function(e){return function(t){return{width:"20px",height:"20px",borderRadius:"50%",borderWidth:"1px",borderStyle:"solid",borderColor:"".concat(t.baseColor.border.light," transparent ").concat(t.baseColor.border.light," ").concat(t.baseColor.border.light),animation:"".concat(e," 1s infinite linear;")}}},g=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,r=e.buttonStyle,i=void 0===r?"STRONG":r,o=(0,p.Iq)(),a=function(){var e=(0,p.om)({keyframesName:w}).keyframesName;return d.createElement("div",{className:o(E(e))})};return d.createElement("div",{style:{cursor:"wait"}},d.createElement(f.zx,{buttonStyle:i,onClick:function(){return null},size:n,width:"207px",disabled:!0},d.createElement((function(){return d.createElement(f.xu,null,d.createElement(f.xu,{display:"inline-block",float:"left",marginRight:"8px"},d.createElement(a,null)),d.createElement(f.xu,{float:"left"},"Loading.."))}),null)))},h=n(90738),v=n(14414),S=n(31285),y=n(22484),x=n(80735),V=n(27572),N=n(37581),T=n(49456),O=n(51299),C=n(27952),R=n(534);function I(){var e=i()(["\n  fragment NewsletterV3SubscribeByEmail_newsletterV3 on NewsletterV3 {\n    id\n    slug\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n      ...collectionUrl_collection\n    }\n  }\n  ","\n  ","\n"]);return I=function(){return e},e}function k(){var e=i()(["\n  mutation SendNewsletterSubscriptionAcctAuthEmail(\n    $newsletterV3Id: String!\n    $email: String!\n    $redirect: String\n    $captchaValue: String\n    $operation: String\n  ) {\n    sendNewsletterSubscriptionAcctAuthEmail(\n      newsletterV3Id: $newsletterV3Id\n      email: $email\n      redirect: $redirect\n      captchaValue: $captchaValue\n      operation: $operation\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return k=function(){return e},e}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){var t=e.centerContent,n=void 0!==t&&t,r=e.newsletterV3,i=(0,p.Fg)(),o=(0,V.pK)(),a=(0,V.hp)(),l=(0,m.v9)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation,productName:e.config.productName}}),m.wU),s=l.authDomain,w=l.currentLocation,E=l.productName,I=d.useState(""),k=c()(I,2),P=k[0],L=k[1],j=d.useState(""),B=c()(j,2),D=B[0],U=B[1],F=d.useState(!1),M=c()(F,2),W=M[0],$=M[1],G=d.useState(!1),z=c()(G,2),Y=z[0],q=z[1],H=d.useState(!1),Q=c()(H,2),Z=Q[0],K=Q[1],X=d.useState(!1),J=c()(X,2),ee=J[0],te=J[1],ne=d.useState(""),re=c()(ne,2),ie=re[0],oe=re[1],ae="register",le=null==w.match("http[s]?://[^/]*".concat(s)),ce=r.collection,ue=r.id,se=r.slug,de=(0,C.Zu)(ue),me=ce?(0,C.iB)(se,s,ce):w;(0,u.useQuery)(S.qz,{fetchPolicy:"no-cache",skip:!de||le,onCompleted:function(e){var t=e.accountToken;return t&&oe((0,v.hQ)(me,o,a,de,t))}});var be=function(e){L(e),$(!0),setTimeout((function(){return $(!1)}),y.zn),q(!1),K(!1)},fe=function(){(0,T.J)(D)?(K(!0),q(!0)):be("Enter a valid email address.")},pe=function(){be("We couldn't process your request. Try again, or contact our support team.")},we=(0,u.useMutation)(A,{onCompleted:function(e){switch(e.sendNewsletterSubscriptionAcctAuthEmail.__typename){case"SusiMethod":U(D),te(!0);break;case"BadRequest":be("Enter a valid email address.");break;case"FailedChallenge":case"NotFound":default:pe()}},onError:pe}),Ee=c()(we,1)[0],ge={newsletterV3Id:ue,email:D,operation:ae,redirect:ie},he=(0,O.U)();return d.createElement(f.f6,{theme:(0,R.jN)(ce,i)},d.createElement(f.xu,{alignItems:n?"center":"flex-start",display:"flex",flexDirection:"column",justifyContent:n?"center":"flex-start"},d.createElement(h.k,{callback:function(e){Ee({variables:_({captchaValue:e},ge)})},shouldExecuteRecaptcha:Y}),d.createElement(f.xu,{display:ee?"none":"inline"},d.createElement(f.xu,{alignItems:"center",display:"flex",justifyContent:"space-between",sm:{alignItems:n?"center":"flex-start",flexDirection:"column",height:"130px",paddingTop:"16px"},height:"56px"},d.createElement(f.xu,{marginTop:P&&"25px",sm:{marginTop:"0"}},d.createElement(y.II,{errorMessage:P,handleInputChange:function(e){U(e.target.value.trim())},handleSubmit:fe,input:D,inputType:y.n$.EMAIL,isAnimating:W,textAlign:"start",placeholder:"Your email",width:"".concat({xl:375,lg:375,md:325,sm:450,xs:200,"":200}[he],"px")})),d.createElement(f.xu,{marginBottom:"auto",marginLeft:"15px",sm:{marginLeft:"0px",marginTop:"15px"}},Z?d.createElement(g,{newsletterV3Id:ue}):d.createElement(N.$,{eventData:{operation:ae}},d.createElement(b.w,{newsletterV3Id:ue,onClick:fe})))),d.createElement(f.xu,{paddingTop:P&&"20px",marginTop:"10px",sm:{marginTop:"0"}},d.createElement(x.F,{color:"DARKER",scale:"XS"},"By signing up, you will create a ",E," account if you don’t already have one. Review our"," ",d.createElement(f.rU,{href:(0,C.wo)(),linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Privacy Policy")," ","for more information about our privacy practices."))),d.createElement(f.xu,{display:ee?"inline":"none",marginBottom:"15px",marginTop:"5px"},d.createElement(x.F,{color:"DARKER",scale:"M"},d.createElement("b",null,"Check your inbox"),d.createElement("br",null),E," sent you an email at ",D," to complete your subscription."))))},A=(0,s.Ps)(k()),j=(0,s.Ps)(I(),R.Gi,C.nf)},51299:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var r=n(63038),i=n.n(r),o=n(67294),a=n(28309),l=n(72955),c=function(){var e=(0,a.Fg)(),t=o.useState("lg"),n=i()(t,2),r=n[0],c=n[1],u=function(){window.innerWidth>=e.breakpoints.xl?c("xl"):e.breakpoints.lg<=window.innerWidth&&window.innerWidth<e.breakpoints.xl?c("lg"):e.breakpoints.md<=window.innerWidth&&window.innerWidth<e.breakpoints.lg?c("md"):e.breakpoints.sm<=window.innerWidth&&window.innerWidth<e.breakpoints.md?c("sm"):c("xs")};return o.useEffect((function(){return u(),l.V6.on("resize",u),function(){return l.V6.off("resize",u)}}),[]),r}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/8751.a204e2b8.chunk.js.map