!function(e){function t(t){for(var i,o,n=t[0],r=t[1],a=0,l=[];a<n.length;a++)o=n[a],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&l.push(s[o][0]),s[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);for(d&&d(t);l.length;)l.shift()()}var i={},s={3:0,5:0};function o(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(e){var t=[],i=s[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise((function(t,o){i=s[e]=[t,o]}));t.push(i[2]=n);var r,a=document.createElement("script");a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.src=function(e){return o.p+""+({6:"vendors~jquery"}[e]||e)+".bundle.js"}(e);var d=new Error;r=function(t){a.onerror=a.onload=null,clearTimeout(l);var i=s[e];if(0!==i){if(i){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",d.name="ChunkLoadError",d.type=o,d.request=n,i[1](d)}s[e]=void 0}};var l=setTimeout((function(){r({type:"timeout",target:a})}),12e4);a.onerror=a.onload=r,document.head.appendChild(a)}return Promise.all(t)},o.m=e,o.c=i,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(i,s,function(t){return e[t]}.bind(null,s));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="https://static.showheroes.com/",o.oe=function(e){throw e};var n=window.o3iv79tz90732goagyrw=window.o3iv79tz90732goagyrw||[],r=n.push.bind(n);n.push=t,n=n.slice();for(var a=0;a<n.length;a++)t(n[a]);var d=r;o(o.s=35)}([function(e,t,i){window,e.exports=function(){return s={},e.m=i=[function(e,t,i){"use strict";var s=i(1),o="object"==typeof self&&self&&self.Object===Object&&self,n=s.a||o||Function("return this")();t.a=n},function(e,t,i){"use strict";(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.a=i}).call(this,i(7))},function(e,i,s){"use strict";(function(e){var o=s(0),n=s(5),r=t&&!t.nodeType&&t,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,d=a&&a.exports===r?o.a.Buffer:void 0,l=(d?d.isBuffer:void 0)||n.a;i.a=l}).call(this,s(3)(e))},function(e,t){e.exports=function(e){var t;return e.webpackPolyfill||((t=Object.create(e)).children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1),t}},function(e,i,s){"use strict";(function(e){var o=s(1),n=t&&!t.nodeType&&t,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,a=r&&r.exports===n&&o.a.process,d=function(){try{return r&&r.require&&r.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();i.a=d}).call(this,s(3)(e))},function(e,t,i){"use strict";t.a=function(){return!1}},function(e,i,s){"use strict";(function(e){var o=s(0),n=t&&!t.nodeType&&t,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,a=r&&r.exports===n?o.a.Buffer:void 0,d=a?a.allocUnsafe:void 0;i.a=function(e,t){if(t)return e.slice();var i=e.length,s=d?d(i):new e.constructor(i);return e.copy(s),s}}).call(this,s(3)(e))},function(e,t){var i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";i.r(t);var s={};function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function r(e){if(h()){for(var t,i=arguments.length,s=new Array(1<i?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];(t=console).log.apply(t,o(u.apply(void 0,["".concat(e,":"),"color: darkseagreen;"].concat(s))))}}function a(){if(h()){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];(e=console).log.apply(e,o(u.apply(void 0,["EVENT:","color: lightsteelblue;"].concat(i))))}}function d(){if(h()){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];(e=console).info.apply(e,o(u.apply(void 0,["INFO:","color: powderblue;"].concat(i))))}}function l(){if(h()){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];(e=console).warn.apply(e,o(u.apply(void 0,["WARNING:","color: lightsalmon;"].concat(i))))}}function c(){if(h()){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];(e=console).error.apply(e,o(u.apply(void 0,["ERROR:","color: mediumvioletred;"].concat(i))))}}function p(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"color: lightsteelblue;";if(h()&&(!f().length||f().includes(e))){for(var i,s=arguments.length,n=new Array(2<s?s-2:0),r=2;r<s;r++)n[r-2]=arguments[r];(i=console).log.apply(i,o(u.apply(void 0,["EVENT_BUS ".concat(e,":"),t].concat(n))))}}function u(e,t){for(var i=arguments.length,s=new Array(2<i?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];var n=s;return n.unshift(t),n.unshift("display: inline-block; color: #fff; background: #00c3dd; padding: 2px 5px 2px 4px; border-radius: 2px;"),n.unshift("%cSH%c ".concat(e)),n}function h(){return window.SH_DEBUG}function f(){return window.SH_DEBUG_LIST||[]}i.r(s),i.d(s,"logMessage",(function(){return r})),i.d(s,"logEvent",(function(){return a})),i.d(s,"logInfo",(function(){return d})),i.d(s,"logWarn",(function(){return l})),i.d(s,"logError",(function(){return c})),i.d(s,"logEventBus",(function(){return p}));var m=function(e,t){return e===t||e!=e&&t!=t},g=function(e,t){for(var i=e.length;i--;)if(m(e[i][0],t))return i;return-1},w=Array.prototype.splice;function b(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}b.prototype.clear=function(){this.__data__=[],this.size=0},b.prototype.delete=function(e){var t=this.__data__,i=g(t,e);return!(i<0||(i==t.length-1?t.pop():w.call(t,i,1),--this.size,0))},b.prototype.get=function(e){var t=this.__data__,i=g(t,e);return i<0?void 0:t[i][1]},b.prototype.has=function(e){return-1<g(this.__data__,e)},b.prototype.set=function(e,t){var i=this.__data__,s=g(i,e);return s<0?(++this.size,i.push([e,t])):i[s][1]=t,this};var y,v=b,A=i(0),I=A.a.Symbol,S=Object.prototype,C=S.hasOwnProperty,k=S.toString,_=I?I.toStringTag:void 0,x=Object.prototype.toString,E=I?I.toStringTag:void 0,P=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(E&&E in Object(e)?function(e){var t=C.call(e,_),i=e[_];try{var s=!(e[_]=void 0)}catch(e){}var o=k.call(e);return s&&(t?e[_]=i:delete e[_]),o}:function(e){return x.call(e)})(e)},T=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},M=function(e){if(!T(e))return!1;var t=P(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},R=A.a["__core-js_shared__"],O=(y=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",N=Function.prototype.toString,B=/^\[object .+?Constructor\]$/,W=Function.prototype,L=Object.prototype,D=W.toString,j=L.hasOwnProperty,F=RegExp("^"+D.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=function(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!T(e)||function(e){return!!O&&O in e}(e))&&(M(e)?F:B).test(function(e){if(null!=e){try{return N.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(i)?i:void 0},V=H(A.a,"Map"),z=H(Object,"create"),U=Object.prototype.hasOwnProperty,q=Object.prototype.hasOwnProperty;function G(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}G.prototype.clear=function(){this.__data__=z?z(null):{},this.size=0},G.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},G.prototype.get=function(e){var t=this.__data__;if(z){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return U.call(t,e)?t[e]:void 0},G.prototype.has=function(e){var t=this.__data__;return z?void 0!==t[e]:q.call(t,e)},G.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=z&&void 0===t?"__lodash_hash_undefined__":t,this};var K=G,Z=function(e,t){var i=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map};function Q(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var s=e[t];this.set(s[0],s[1])}}Q.prototype.clear=function(){this.size=0,this.__data__={hash:new K,map:new(V||v),string:new K}},Q.prototype.delete=function(e){var t=Z(this,e).delete(e);return this.size-=t?1:0,t},Q.prototype.get=function(e){return Z(this,e).get(e)},Q.prototype.has=function(e){return Z(this,e).has(e)},Q.prototype.set=function(e,t){var i=Z(this,e),s=i.size;return i.set(e,t),this.size+=i.size==s?0:1,this};var Y=Q;function X(e){var t=this.__data__=new v(e);this.size=t.size}X.prototype.clear=function(){this.__data__=new v,this.size=0},X.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},X.prototype.get=function(e){return this.__data__.get(e)},X.prototype.has=function(e){return this.__data__.has(e)},X.prototype.set=function(e,t){var i=this.__data__;if(i instanceof v){var s=i.__data__;if(!V||s.length<199)return s.push([e,t]),this.size=++i.size,this;i=this.__data__=new Y(s)}return i.set(e,t),this.size=i.size,this};var $=X,J=function(){try{var e=H(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),ee=function(e,t,i){"__proto__"==t&&J?J(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i},te=function(e,t,i){(void 0===i||m(e[t],i))&&(void 0!==i||t in e)||ee(e,t,i)},ie=i(6),se=A.a.Uint8Array,oe=Object.create;function ne(){}var re=function(e,t){return function(i){return e(t(i))}}(Object.getPrototypeOf,Object),ae=Object.prototype,de=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ae)},le=function(e){return null!=e&&"object"==typeof e},ce=function(e){return le(e)&&"[object Arguments]"==P(e)},pe=Object.prototype,ue=pe.hasOwnProperty,he=pe.propertyIsEnumerable,fe=ce(function(){return arguments}())?ce:function(e){return le(e)&&ue.call(e,"callee")&&!he.call(e,"callee")},me=Array.isArray,ge=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},we=function(e){return null!=e&&ge(e.length)&&!M(e)},be=i(2),ye=Function.prototype,ve=Object.prototype,Ae=ye.toString,Ie=ve.hasOwnProperty,Se=Ae.call(Object),Ce={};Ce["[object Float32Array]"]=Ce["[object Float64Array]"]=Ce["[object Int8Array]"]=Ce["[object Int16Array]"]=Ce["[object Int32Array]"]=Ce["[object Uint8Array]"]=Ce["[object Uint8ClampedArray]"]=Ce["[object Uint16Array]"]=Ce["[object Uint32Array]"]=!0,Ce["[object Arguments]"]=Ce["[object Array]"]=Ce["[object ArrayBuffer]"]=Ce["[object Boolean]"]=Ce["[object DataView]"]=Ce["[object Date]"]=Ce["[object Error]"]=Ce["[object Function]"]=Ce["[object Map]"]=Ce["[object Number]"]=Ce["[object Object]"]=Ce["[object RegExp]"]=Ce["[object Set]"]=Ce["[object String]"]=Ce["[object WeakMap]"]=!1;var ke=i(4),_e=ke.a&&ke.a.isTypedArray,xe=_e?function(e){return function(t){return e(t)}}(_e):function(e){return le(e)&&ge(e.length)&&!!Ce[P(e)]},Ee=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Pe=Object.prototype.hasOwnProperty,Te=function(e,t,i){var s=e[t];Pe.call(e,t)&&m(s,i)&&(void 0!==i||t in e)||ee(e,t,i)},Me=/^(?:0|[1-9]\d*)$/,Re=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&Me.test(e))&&-1<e&&e%1==0&&e<t},Oe=(Object.prototype.hasOwnProperty,Object.prototype.hasOwnProperty),Ne=function(e){return we(e)?function(e,t){var i=me(e),s=!i&&fe(e),o=!i&&!s&&Object(be.a)(e),n=!i&&!s&&!o&&xe(e),r=i||s||o||n,a=r?function(e,t){for(var i=-1,s=Array(e);++i<e;)s[i]=t(i);return s}(e.length,String):[],d=a.length;for(var l in e)r&&("length"==l||o&&("offset"==l||"parent"==l)||n&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Re(l,d))||a.push(l);return a}(e):function(e){if(!T(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=de(e),i=[];for(var s in e)("constructor"!=s||!t&&Oe.call(e,s))&&i.push(s);return i}(e)};function Be(e){return e}var We=Math.max,Le=J?function(e,t){return J(e,"toString",{configurable:!0,enumerable:!1,value:function(e){return function(){return e}}(t),writable:!0})}:Be,De=Date.now,je=function(e){var t=0,i=0;return function(){var s=De(),o=16-(s-i);if(i=s,0<o){if(800<=++t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Le),Fe=function(e){return function(e,t){return je(function(e,t,i){return t=We(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,n=We(s.length-t,0),r=Array(n);++o<n;)r[o]=s[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=s[o];return a[t]=i(r),function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(e,this,a)}}(e,void 0,Be),e+"")}((function(t,i){var s=-1,o=i.length,n=1<o?i[o-1]:void 0,r=2<o?i[2]:void 0;for(n=3<e.length&&"function"==typeof n?(o--,n):void 0,r&&function(e,t,i){if(!T(i))return!1;var s=typeof t;return!!("number"==s?we(i)&&Re(t,i.length):"string"==s&&t in i)&&m(i[t],e)}(i[0],i[1],r)&&(n=o<3?void 0:n,o=1),t=Object(t);++s<o;){var a=i[s];a&&e(t,a,s)}return t}))}((function(e,t,i){!function e(t,i,s,o,n){t!==i&&function(e,t,i){for(var s=-1,o=Object(e),n=i(e),r=n.length;r--;){var a=n[++s];if(!1===t(o[a],a))break}}(i,(function(r,a){var d;n=n||new $,T(r)?function(e,t,i,s,o,n,r){var a,d,l,c,p,u=Ee(e,i),h=Ee(t,i),f=r.get(h);f?te(e,i,f):((a=void 0===(p=n?n(u,h,i+"",e,t,r):void 0))&&(l=!(d=me(h))&&Object(be.a)(h),c=!d&&!l&&xe(h),p=h,d||l||c?p=me(u)?u:function(e){return le(e)&&we(e)}(u)?function(e,t){var i=-1,s=e.length;for(t=t||Array(s);++i<s;)t[i]=e[i];return t}(u):l?(a=!1,Object(ie.a)(h,!0)):c?function(e,t){var i=t?function(e){var t=new e.constructor(e.byteLength);return new se(t).set(new se(e)),t}(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}(h,!(a=!1)):[]:function(e){if(!le(e)||"[object Object]"!=P(e))return!1;var t=re(e);if(null===t)return!0;var i=Ie.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&Ae.call(i)==Se}(h)||fe(h)?fe(p=u)?p=function(e){return function(e,t,i,s){var o=!i;i=i||{};for(var n=-1,r=t.length;++n<r;){var a=t[n],d=void 0;void 0===d&&(d=e[a]),(o?ee:Te)(i,a,d)}return i}(e,Ne(e))}(u):T(u)&&!M(u)||(p=function(e){return"function"!=typeof e.constructor||de(e)?{}:function(e){if(!T(e))return{};if(oe)return oe(e);ne.prototype=e;var t=new ne;return ne.prototype=void 0,t}(re(e))}(h)):a=!1),a&&(r.set(h,p),o(p,h,s,n,r),r.delete(h)),te(e,i,p))}(t,i,a,s,e,o,n):(void 0===(d=o?o(Ee(t,a),r,a+"",t,i,n):void 0)&&(d=r),te(t,a,d))}),Ne)}(e,t,i)})),He=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.log;this.logSettings=Fe({},{name:"default",style:"color: lightsteelblue;",events:{include:[],exclude:[],once:[]}},i),this.events={},this.globalListeners=[],this.logOnceCalled=[]}var t;return(t=[{key:"addEventListener",value:function(e,t,i,s,o){var n=2<arguments.length&&void 0!==i&&i,r=3<arguments.length&&void 0!==s&&s,a=!(4<arguments.length&&void 0!==o)||o,d=e,l=!1;e.endsWith(".*")&&(d=e.substring(0,e.length-2),l=!0),this.events[d]||(this.events[d]=[]);var c={handler:t,once:n,withSubEvents:l,async:a};return r?this.events[d].unshift(c):this.events[d].push(c),this}},{key:"addGlobalEventListener",value:function(e,t,i){var s={handler:e,once:1<arguments.length&&void 0!==t&&t};return 2<arguments.length&&void 0!==i&&i?this.globalListeners.unshift(s):this.globalListeners.push(s),this}},{key:"addSyncEventListener",value:function(e,t,i){var s=2<arguments.length&&void 0!==i&&i;return this.addEventListener(e,t,!0,s,!1)}},{key:"once",value:function(e,t,i){var s=2<arguments.length&&void 0!==i&&i;return this.addEventListener(e,t,!0,s)}},{key:"removeEventListener",value:function(e,t){return this.events[e]&&(this.events[e]=this.events[e].filter((function(e){return e.handler!==t}))),this}},{key:"removeGlobalEventListener",value:function(e){return this.globalListeners=this.globalListeners.filter((function(t){return t.handler!==e})),this}},{key:"dispatchEvent",value:function(e,t,i){for(var s=this,o=1<arguments.length&&void 0!==t?t:{},n=2<arguments.length&&void 0!==i&&i,r=function(t,i){var r=!(1<arguments.length&&void 0!==i)||i;t.forEach((function(t){(r||t.withSubEvents)&&(t.toRemove||(!n||t.async?s.asyncCall(t.handler,e,o):s.syncCall(t.handler,e,o)),t.once&&(t.toRemove=!0))})),t=t.filter((function(e){return!0!==e.toRemove}))},a=e.split(".");a.length;){var d=a.join(".");this.events[d]&&r(this.events[d],d===e),this.log(d,o),a.pop()}return r(this.globalListeners),this}},{key:"syncDispatchEvent",value:function(e,t){var i=1<arguments.length&&void 0!==t?t:{};return this.dispatchEvent(e,i,!0)}},{key:"asyncCall",value:function(e,t,i){setTimeout((function(){return e(t,i)}),0)}},{key:"syncCall",value:function(e,t,i){e(t,i)}},{key:"clearEvent",value:function(e){return delete this.events[e],this}},{key:"clearAll",value:function(){return this.events={},this.globalListeners=[],this}},{key:"log",value:function(e,t){var i=this.logSettings.events;if(i.include.length&&!i.include.includes(e))return this;if(i.exclude.includes(e))return this;if(i.once.includes(e)){if(this.logOnceCalled.includes(e))return this;this.logOnceCalled.push(e)}return p(this.logSettings.name,this.logSettings.style,{eventName:e,eventData:t}),this}}])&&function(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}();function Ve(e,t){var i,s=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)),s}function ze(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(i),!0).forEach((function(t){var s,o,n;s=e,n=i[o=t],o in s?Object.defineProperty(s,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[o]=n})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ve(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Ue=ze(ze({},s),{},{EventBus:He});t.default=Ue}],e.c=s,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)e.d(s,o,function(e){return t[e]}.bind(null,o));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=8).default;function e(t){if(s[t])return s[t].exports;var o=s[t]={i:t,l:!1,exports:{}};return i[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i,s}()},function(e,t,i){"use strict";var s;e.exports=((s=document.createElement("div")).setAttribute("data-a-b","c"),Boolean(s.dataset&&"c"===s.dataset.aB)?function(e){return e.dataset}:function(e){var t={},i=e.attributes;function s(){return this.value}function o(e,t){void 0===t?this.removeAttribute(e):this.setAttribute(e,t)}for(var n=0,r=i.length;n<r;n++){var a=i[n];if(a){var d=a.name;if(0===d.indexOf("data-")){var l=d.slice(5).replace(/-./g,(function(e){return e.charAt(1).toUpperCase()})),c=a.value;Object.defineProperty(t,l,{enumerable:!0,get:s.bind({value:c||""}),set:o.bind(e,d)})}}}return t})},function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var s=i(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}).apply(this,arguments)}function r(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=l(e);if(t){var n=l(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,i)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,s.EventBus);var t,i,o,l=d(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=l.call(this,e);var i=e.spots,s=e.iframesCollection,o=e.spotRectangleChanger,n=e.services;return t.spots=i,t.iframesCollection=s,t.spotRectangleChanger=o,t.services=n,t.events=[],t}return t=c,o=[{key:"getIframeId",value:function(e){return e.querySelector("iframe[id]")?e.querySelector("iframe[id]").getAttribute("id"):null}},{key:"setKeywords",value:function(e){var t=this.services.getKeywordsApi();if(t&&e){for(var i=this.services.getPageUrl(),s={"[PAGE_KEYWORDS]":encodeURI(e),"[PAGEURL]":encodeURI(i)},o=t,n=Object.keys(s),r=0;r<n.length;r+=1)o=o.replace(n[r],s[n[r]]);var a=new XMLHttpRequest;a.open("GET",o,!0),a.onload=function(){},a.send(null)}}}],(i=[{key:"searchPlaceholders",value:function(){this.spots.tryToSearch()}},{key:"disposePlaceholder",value:function(e){var t=e.querySelector("iframe[id]").getAttribute("id");this.iframesCollection.forget(t),this.spotRectangleChanger.forget(t),e.parentNode.removeChild(e)}},{key:"subscribe",value:function(e,t){this.addEventListener("".concat(e,".*"),t)}},{key:"unsubscribe",value:function(e){this.clearEvent(e)}},{key:"dispatch",value:function(e){if("pubtag-player-api.event"===e.intent){var t=n({},e.event);t.iframeId=e.publisherIframeId,this.dispatchEvent(e.eventType,t)}"pubtag-player-api.keywords"===e.intent&&(this.services.setKeywordsApi(e.url),e.keywordsVar&&(this.services.setKeywords(this.iframesCollection.websiteWindow[e.keywordsVar]),this.setKeywords(this.services.keywords)))}},{key:"intentPause",value:function(e){this.intentToIframe(e,"pause")}},{key:"intentNext",value:function(e){this.intentToIframe(e,"next")}},{key:"intentPlay",value:function(e){this.intentToIframe(e,"play")}},{key:"intentUnmute",value:function(e){this.intentToIframe(e,"unmute")}},{key:"intentMute",value:function(e){this.intentToIframe(e,"mute")}},{key:"intentResize",value:function(e,t){this.spotRectangleChanger.onIframeResize(e||this.iframesCollection.iframeIds[0],t)}},{key:"intentToIframe",value:function(e,t){this.iframesCollection.iframeConfigs[e||this.iframesCollection.iframeIds[0]].eventBus.dispatchEvent("pubtag-player-api.intent",{intent:"pubtag-player-api.intent",intentName:t})}}])&&r(t.prototype,i),o&&r(t,o),c}()},function(e,t,i){"use strict";function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}i.d(t,"a",(function(){return o}));var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.websiteWindow,s=t.iframesCollection,o=t.debugLogger,n=t.device;this.ima3tag="https://imasdk.googleapis.com/js/sdkloader/ima3.js",this.iframesCollection=s,this.websiteWindow=i,this.debugLogger=o,this.device=n,this.configByFrameIds={}}var t,i,o;return t=e,o=[{key:"createControls",value:function(e){var t=document.createElement("div");t.setAttribute("style","position: absolute; top: 4px; left: 6px; z-index: 999;"),t.innerHTML="<div style='display:flex; align-items: center; width:32px;height:32px; background: rgba(71,95,107,0.5); border-radius: 8px;'><div class='googleIMASDK-volume' style='position: relative; width: 18px; height: 18px; margin: 0 8px;cursor: pointer;text-align: inherit !important;'><img style='position: absolute; width: 18px; height: 18px;' class='googleIMASDK-volume-on'src='https://di-szm339fj.leasewebultracdn.com/storage/vpaid/gwd/ui/sound-on.svg' /><img style='position: absolute; width: 18px; height: 18px; opacity: 0' class='googleIMASDK-volume-off' src='https://di-szm339fj.leasewebultracdn.com/storage/vpaid/gwd/ui/sound-off.svg' /></div></div>",e.appendChild(t)}},{key:"createIframe",value:function(e){return new Promise((function(t){var i=document.createElement("iframe");i.src="about:blank",i.style.width="100%",i.style.height="100%",i.style.display="block",i.style.opacity="0",i.style.position="absolute",i.style.top="0px",i.style.border="none",i.scrolling="no",e.appendChild(i),i.contentDocument.open(),i.frameonload=function(){return t(i)},i.contentDocument.write('<body onload="frameElement.frameonload();"><style>iframe {border-width: 0;}</style></body>'),i.contentDocument.close()}))}},{key:"getVideoElement",value:function(){var e=document.createElement("video");return e.setAttribute("playsinline","true"),e.setAttribute("webkit-playsinline","true"),e.setAttribute("preload","auto"),e.setAttribute("muted","true"),e.setAttribute("style","display:block; width: 100%; height: 100%; min-width:100%; max-width:100%; position: absolute; z-index: -1; top: 0px; object-fit: contain;"),e.volume=0,e.muted=!0,e}}],(i=[{key:"init",value:function(e,t,i,s){var o=this;if(this.configByFrameIds[e]&&this.configByFrameIds[e].googleIMASDK&&this.configByFrameIds[e].googleIMASDK.inited){var n=this.configByFrameIds[e].googleIMASDK;if(n.initializing)var r=new Date,a=setInterval((function(){var s=new Date;n.initializing?s-r>=2e4&&(clearInterval(a),o.onLoadError(e,t,null)):(clearInterval(a),o.setAdRequest({iframeId:e,adTagUrl:i,adId:t}))}),300);else this.setAdRequest({iframeId:e,adTagUrl:i,adId:t})}else this.createWrapper(e,t,this.setAdRequest.bind(this,{iframeId:e,adTagUrl:i,adId:t}),s)}},{key:"createWrapper",value:function(t,i,s,o){var n=this,r=document.getElementById(t),a=document.createElement("div"),d=e.getVideoElement(),l=r.parentNode.querySelector("#google-ima-sdk-wrapper");l||(l=document.createElement("div")).setAttribute("id","google-ima-sdk-wrapper"),a.setAttribute("id","google-"+t),this.configByFrameIds[t]=this.configByFrameIds[t]||{},this.configByFrameIds[t].googleIMASDK={inited:!0,initializing:!0,video:d,slot:a,duration:null,eventBus:this.iframesCollection.iframeConfigs[t].eventBus,playerAspectRatio:o},l.appendChild(a),a.setAttribute("style","position: absolute; z-index: 2; width: 100%; height: 100%; background: #000; visibility: hidden;"),l.setAttribute("style","pointer-events: none; visibility: hidden;"),a.appendChild(d),r.parentNode.appendChild(l),e.createIframe(a).then((function(e){e.style.display="none";var o=e.contentDocument;if(o){var r=o.querySelector("body");r.style.margin="0",n.appendScript(n.ima3tag,r).then((function(){void 0!==e.contentWindow.google?(n.sdk=e.contentWindow.google.ima,n.initializeIMA(t,s)):n.debugLogger.log("google-sdk-ima","google is not defined",{player_id:n.iframesCollection.iframeConfigs[t].playerId})})).catch((function(e){n.onLoadError(t,i,null),n.configByFrameIds[t].googleIMASDK.initializing=!1,n.configByFrameIds[t].googleIMASDK.inited=!1}))}else n.debugLogger.log("google-sdk-ima","invalid frame document",{player_id:n.iframesCollection.iframeConfigs[t].playerId})}))}},{key:"initializeIMA",value:function(e,t){var i=this,s=this.configByFrameIds[e].googleIMASDK;try{"Safari"!==this.device.browser.name&&"Mobile Safari UI/WKWebView"!==this.device.browser.name&&"Mobile Safari"!==this.device.browser.name&&this.sdk.settings.setVpaidMode(this.sdk.ImaSdkSettings.VpaidMode.INSECURE)}catch(e){}this.sdk.settings.setNumRedirects(20);try{var o=function(){var e=i.websiteWindow.navigator;return!!e&&!!e.languages&&(e.languages[0]||e.language||e.userLanguage||"").substring(0,2)}();o&&this.sdk.settings.setLocale(o)}catch(e){}s.adDisplayContainer=new this.sdk.AdDisplayContainer(s.slot,s.video),s.adsLoader=new this.sdk.AdsLoader(s.adDisplayContainer),s.adsRenderingSettings=new this.sdk.AdsRenderingSettings;var n=s.adsLoader;navigator.userAgent.match(/iPhone|iPod|iPad/)&&n.getSettings().setDisableCustomPlaybackForIOS10Plus(!0),n.getSettings().setAutoPlayAdBreaks(!1),"function"==typeof t&&t(),s.initializing=!1,s.inited=!0}},{key:"setAdRequest",value:function(e){var t=e.iframeId,i=e.adId,s=e.adTagUrl;this.configByFrameIds[t].googleIMASDK[i]=this.configByFrameIds[t].googleIMASDK[i]||{},this.configByFrameIds[t].googleIMASDK[i].adsRequest=new this.sdk.AdsRequest;var o=this.configByFrameIds[t].googleIMASDK,n=o.video,r=o.adsLoader,a=this.configByFrameIds[t].googleIMASDK[i].adsRequest;r.addEventListener(this.sdk.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this,t),!1),r.addEventListener(this.sdk.AdErrorEvent.Type.AD_ERROR,this.onLoadError.bind(this,t,null),!1),a.adTagUrl=s,a.linearAdSlotWidth=n.clientWidth,a.linearAdSlotHeight=n.clientHeight,a.nonLinearAdSlotWidth=n.clientWidth,a.nonLinearAdSlotHeight=n.clientHeight/3,r.requestAds(a,{adId:i})}},{key:"onAdsManagerLoaded",value:function(t,i){var s=this.configByFrameIds[t].googleIMASDK;if(!s.adsManager){s.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!1,s.adsRenderingSettings.useStyledLinearAds=!0;var o=s.adsRenderingSettings,n=s.video,r=(s.eventBus,s.slot),a=i.getUserRequestContext().adId;s.adsManager=i.getAdsManager(n,o),this.setupSdkListeners(t,a);try{var d=r.clientWidth,l=r.clientHeight;l<=2&&d&&(l=s.playerAspectRatio>1?Math.round(d/s.playerAspectRatio):Math.round(d*s.playerAspectRatio)),s.adsManager.init(d,l,this.sdk.ViewMode.NORMAL)}catch(e){this.onLoadError(t,a,e)}e.createControls(r),this.onClickControls(t,a)}}},{key:"setupSdkListeners",value:function(e,t){var i=this,s=this.configByFrameIds[e].googleIMASDK,o=s.adsManager,n=s.video;["ALL_ADS_COMPLETED","LOADED","STARTED","DURATION_CHANGE","COMPLETE","PAUSED","RESUMED","SKIPPED","CLICK","AD_PROGRESS"].forEach((function(s){o.addEventListener(i.sdk.AdEvent.Type[s],i.onAdEvent.bind(i,e,t))})),o.addEventListener(this.sdk.AdErrorEvent.Type.AD_ERROR,this.onError.bind(this,e,t)),o.addEventListener(this.sdk.AdEvent.Type.LOG,(function(s){var o=s.getAdData(),n=o.adError?o.adError.getType():null;"adLoadError"===n?i.onLoadError(e,t,o):"adPlayError"===n&&i.onError(e,t,o.adError.getMessage())})),n.addEventListener("playing",(function(){n.style.zIndex="-1"}))}},{key:"onAdEvent",value:function(e,t,i){var s=this.configByFrameIds[e].googleIMASDK,o=s.eventBus,n=s.adsManager,r=s.slot,a=i.getAd();if(i.type===this.sdk.AdEvent.Type.LOADED){if(!a.isLinear())return void this.onError(e,t,"Ad is not linear");o.dispatchEvent("googleIMASDK.ready",{adId:t})}i.type===this.sdk.AdEvent.Type.DURATION_CHANGE&&o.dispatchEvent("googleIMASDK.durationchanged",{duration:a.getDuration(),adId:t}),i.type===this.sdk.AdEvent.Type.STARTED&&(a.isLinear()||this.onError(e,t,"Ad is not linear"),o.dispatchEvent("googleIMASDK.durationchanged",{duration:a.getDuration(),adId:t}),o.dispatchEvent("googleIMASDK.started",{adId:t}),r.childNodes.length&&(r.childNodes[0].style.width="100%",r.childNodes[0].style.height="100%",r.querySelector("iframe")&&(r.querySelector("iframe").style.width="100%",r.querySelector("iframe").style.height="100%"))),i.type===this.sdk.AdEvent.Type.AD_PROGRESS&&this.onCurrentTime(e,t,n.getRemainingTime()),i.type===this.sdk.AdEvent.Type.PAUSED&&(s.paused=!0,o.dispatchEvent("googleIMASDK.paused",{adId:t})),i.type===this.sdk.AdEvent.Type.RESUMED&&(s.paused=!1,o.dispatchEvent("googleIMASDK.resumed",{adId:t})),i.type===this.sdk.AdEvent.Type.CLICK&&o.dispatchEvent("googleIMASDK.click",{adId:t}),i.type===this.sdk.AdEvent.Type.SKIPPED&&(o.dispatchEvent("googleIMASDK.skipped",{adId:t}),this.destroy(e,t)),i.type!==this.sdk.AdEvent.Type.COMPLETE&&i.type!==this.sdk.AdEvent.Type.ALL_ADS_COMPLETED||(o.dispatchEvent("googleIMASDK.completed",{adId:t}),this.destroy(e,t))}},{key:"play",value:function(e,t){var i=this.configByFrameIds[e].googleIMASDK,s=i.adDisplayContainer,o=i.adsManager,n=i.slot;if(s){s.initialize();try{o.start(),n.parentNode.style.pointerEvents="auto",n.style.visibility="visible",n.parentNode.style.visibility="visible"}catch(i){this.onError(e,t,i)}}}},{key:"pause",value:function(e,t){this.configByFrameIds[e].googleIMASDK.adsManager.pause()}},{key:"resume",value:function(e,t){this.configByFrameIds[e].googleIMASDK.adsManager.resume()}},{key:"onCurrentTime",value:function(e,t,i){var s=this.configByFrameIds[e].googleIMASDK,o=s.paused,n=s.eventBus;s.duration||(s.duration=Math.round(i)),o||i<0||n.dispatchEvent("googleIMASDK.progress",{currentTime:s.duration-i,adId:t})}},{key:"onLoadError",value:function(e,t,i){var s=this.configByFrameIds[e].googleIMASDK.eventBus,o=t||i.getUserRequestContext().adId;s.dispatchEvent("googleIMASDK.loadError",{adId:o})}},{key:"onError",value:function(e,t,i){this.configByFrameIds[e].googleIMASDK.eventBus.dispatchEvent("googleIMASDK.error",{error:i,adId:t})}},{key:"resize",value:function(e,t,i,s){var o=this.configByFrameIds[e].googleIMASDK;o.slot,o.adsManager.resize(i,s)}},{key:"destroy",value:function(e,t){var i=this.configByFrameIds[e].googleIMASDK,s=i.slot,o=i.adsManager;o&&o.destroy(),s.parentNode.setAttribute("style","display: none;"),setTimeout((function(){return s.parentNode.parentNode.removeChild(s.parentNode)}),1e3)}},{key:"onClickControls",value:function(e,t){var i=this,s=this.configByFrameIds[e].googleIMASDK.adsManager;document.querySelector(".googleIMASDK-volume").addEventListener("click",(function(){0===s.getVolume()?(s.setVolume(1),document.querySelector(".googleIMASDK-volume-on").style.opacity=0,document.querySelector(".googleIMASDK-volume-off").style.opacity=1):(s.setVolume(0),document.querySelector(".googleIMASDK-volume-on").style.opacity=1,document.querySelector(".googleIMASDK-volume-off").style.opacity=0),i.setVolume(e,t,s.getVolume())}))}},{key:"setVolume",value:function(e,t,i){this.configByFrameIds[e].googleIMASDK.adsManager.addEventListener(this.sdk.AdEvent.Type.STARTED,this.applyVolume.bind(this,e,t,i))}},{key:"applyVolume",value:function(e,t,i){var s=this.configByFrameIds[e].googleIMASDK,o=s.adsManager,n=s.eventBus;o.setVolume(i),n.dispatchEvent("googleIMASDK.volumechanged",{volume:i,adId:t})}},{key:"appendScript",value:function(e,t){var i=this;return new Promise((function(s,o){var n=document.createElement("script");n.type="text/javascript",n.src=e,n.onerror=function(){return o(new Error("error on script element"))},n.onload=function(){return s()},n.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState&&s()},t.appendChild(n)}))}}])&&s(t.prototype,i),o&&s(t,o),e}()},function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var s=i(0),o="spot.loaded";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=l(e);if(t){var o=l(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,i)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,s.EventBus);var t,i,n=d(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=n.call(this,e);var i=e.websiteWindow,s=e.spotRectangleChanger,o=e.passbackListener,r=e.iframesCollection,a=e.prebidComposer,d=e.adFlows,c=e.googleAd,p=e.switchInAd,u=e.isSafeFrame,h=e.googleIMASDK,f=e.adwaysSDK,m=e.debugLogger;return t.websiteWindow=i,t.spotRectangleChanger=s,t.passbackListener=o,t.iframesCollection=r,t.prebidComposer=a,t.adFlows=d,t.googleAd=c,t.switchInAd=p,t.isSafeFrame=u,t.googleIMASDK=h,t.adwaysSDK=f,t.debugLogger=m,t.api=null,t}return t=l,(i=[{key:"setupApi",value:function(e){this.api=e}},{key:"subscribeEvents",value:function(e){var t=this;e.addGlobalEventListener((function(e,i){if(e===o&&(t.iframesCollection.add(i.iframeId),t.isSafeFrame&&t.spotRectangleChanger.onMessageMakeShapeFixed({publisherIframeId:i.iframeId,aspectRatio:$sf.ext.geom().self.h/$sf.ext.geom().self.w,width:$sf.ext.geom().self.w,height:$sf.ext.geom().self.h})),"openUrl"===e){var s=t.websiteWindow.open(i.url,"_blank");null!=s||(t.websiteWindow.location.href=i.url)}"addAdToFlow"===e&&t.adFlows.setAd(i.publisherIframeId,i.type,i.adId,i.cpm,i.renderIntoSpot,i.vastId),"setAdSettings"===e&&(t.adFlows.setAdMaxTimeOut(i.publisherIframeId,i.options.timeout),t.passbackListener.setSpotPassbackListener(i.publisherIframeId,"noad",i.options.noadJS,i.options.noadFallbackPlayer)),"getReadyAdFromFlow"===e&&t.adFlows.getReadyAd(i.publisherIframeId,i.timeout,i.type,i.forceTimer),"getNextReadyAdFromFlow"===e&&t.adFlows.getNextReadyAd(i.publisherIframeId),"stopWatchingAdFlow"===e&&t.adFlows.forget(i.publisherIframeId),"clearAdsFromAdFlow"===e&&t.adFlows.clearAdsByType(i.publisherIframeId,i.type),"setAnimation"===e&&t.spotRectangleChanger.setAnimation(i.publisherIframeId),"setHeader"===e&&t.spotRectangleChanger.onMessageSetHeader(i.publisherIframeId,i.headerHtml),"setCaptions"===e&&t.spotRectangleChanger.onMessageMakeCaptions(i.publisherIframeId,i.config),"removeCaptions"===e&&t.spotRectangleChanger.onMessageHideCaptions(i.publisherIframeId),"makeShapeResponsive"===e&&t.spotRectangleChanger.onMessageMakeShapeResponsive(i),"makeShapeFixed"===e&&t.spotRectangleChanger.onMessageMakeShapeFixed(i),"iframeResized"===e&&t.spotRectangleChanger.onIframeResized(i.publisherIframeId),"runPassbackListener"===e&&t.passbackListener.runPassback(i.publisherIframeId,i.type,i.pixel,i.pixelError,i.backMessageName),"googleIMASDK.init"===e&&t.googleIMASDK.init(i.publisherIframeId,i.adId,i.adTagUrl,i.playerAspectRatio),"googleIMASDK.play"===e&&t.googleIMASDK.play(i.publisherIframeId,i.adId),"googleIMASDK.pause"===e&&t.googleIMASDK.pause(i.publisherIframeId,i.adId),"googleIMASDK.resume"===e&&t.googleIMASDK.resume(i.publisherIframeId,i.adId),"googleIMASDK.setVolume"===e&&t.googleIMASDK.setVolume(i.publisherIframeId,i.adId,i.volume),"showGoogleAd"===e&&t.googleAd.render(i.publisherIframeId,i.adsUnitPath,i.adsSizes),"renderSwitchInAd"===e&&t.switchInAd.render(i.publisherIframeId,i.partner,i.pubId,i.src),"setupPrebid"===e&&t.prebidComposer.setup(i.publisherIframeId,i.config),"setKeywords"===e&&t.prebidComposer.setKeywords(i.publisherIframeId,i.config),"startDisplayAuction"===e&&t.prebidComposer.startDisplayAuction(i.publisherIframeId,i.targetingData),"startNonLinearAuction"===e&&t.prebidComposer.startNonLinearAuction(i.publisherIframeId),"startVideoAuction"===e&&t.prebidComposer.startVideoAuction(i.publisherIframeId,i.targetingData),"sasCookieSync"===e&&t.prebidComposer.sasCookieSync(i.config,i.gdpr),"checkSmartHBVideoAds"===e&&t.prebidComposer.checkSmartHBAds(i.publisherIframeId,"video"),"setFullscreenOn"===e&&t.spotRectangleChanger.setFullscreenOn(i.publisherIframeId,i.mobileClickoutUrl,i.native),"setFullscreenOff"===e&&t.spotRectangleChanger.setFullscreenOff(i.publisherIframeId,i.native),"viewability"===e&&t.spotRectangleChanger.setViewability(i.publisherIframeId,i.intentParam1,i.intentParam2),"destroyPlayer"===e&&setTimeout((function(){t.spotRectangleChanger.destroySpot(i.publisherIframeId)}),100),"playerFocused"===e&&(t.spotRectangleChanger.device.isFirefox()?t.iframesCollection.checkActiveTab(!0):t.websiteWindow.focus()),"pubtag-player-api.event"!==i.intent&&"pubtag-player-api.keywords"!==i.intent||t.api.dispatch(i),"vpaidMode"===i.intent&&t.spotRectangleChanger.setVpaidMode(i.publisherIframeId,i.active),"ampActivationMode"===i.intent&&t.spotRectangleChanger.setAmpActivationMode(i.publisherIframeId,i.mode),"stickySettings"===i.intent&&t.spotRectangleChanger.setStickySettings(i.publisherIframeId,i.config),"adways.renderAd"===i.intent&&t.adwaysSDK.renderAd(i.publisherIframeId,i.params),"spot.currentCreative"===i.intent&&(window.ShowheroesEnv.currentCreative=i.id),"spot.putCreatives"===i.intent&&(window.ShowheroesEnv.putCreatives=i.ids),"debugPixel"===i.intent&&t.debugLogger.log("pixels-fail",i.message.slice(0,200),{player_id:t.iframesCollection.iframeConfigs[i.publisherIframeId].playerId}),"аdVerificationFounded"===i.intent&&t.debugLogger.log("ad-verification-founded",i.message.slice(0,200),{player_id:t.iframesCollection.iframeConfigs[i.publisherIframeId].playerId})}))}},{key:"destroy",value:function(){for(var e in this.iframesCollection.iframeConfigs)this.iframesCollection.iframeConfigs.hasOwnProperty(e)&&this.iframesCollection.iframeConfigs[e].eventBus.removeGlobalEventListener()}}])&&r(t.prototype,i),l}()},,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _modules_MessagesListner_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_modules_Api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_modules_GoogleIMASDK_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),Cookie=__webpack_require__(11),Device=__webpack_require__(12),Spots=__webpack_require__(16),SpotRectangleChanger=__webpack_require__(18),PlayerIframeComposer=__webpack_require__(20),IframesCollection=__webpack_require__(21),resetWindowStyles=__webpack_require__(22),Services=__webpack_require__(23),GDPRDetector=__webpack_require__(24),PrebidComposer=__webpack_require__(25),AdFlows=__webpack_require__(28),PassbackListener=__webpack_require__(29),GoogleAd=__webpack_require__(30),SwitchInAd=__webpack_require__(31),CustomIntegration=__webpack_require__(32),PubSub=__webpack_require__(33),AdwaysSDK=__webpack_require__(34),customIntegration,runPubtag=function(e,t,i,s,o,n,r,a,d,l,c){var p=new Cookie(e.websiteWindow),u=new Device(e.websiteWindow,p,t);!0===u.isAutoplaySupportedImmediately()&&1!=d?(u.checkAutoplayDisallowing(),continuePubtag(!0,u,p,e,t,i,s,o,n,r,a,l,c)):!0===u.isAutoplayNotSupportedImmediately()||1==d?continuePubtag(!1,u,p,e,t,i,s,o,n,r,a,l,c):(u.runAutoplayTest(),setTimeout((function(){var d=!1;!0===u.isAutoplaySupported&&(u.checkAutoplayDisallowing(),d=!0),continuePubtag(d,u,p,e,t,i,s,o,n,r,a,l,c)}),1100))},continuePubtag=function continuePubtag(isNativeSupported,device,cookie,integrationType,debugLogger,zoneHost,playerHost,widgetHost,playerParams,passbackListener,noadPassbackListener,vpaid,carouselPassbackListener){var evalPassbackListener=function evalPassbackListener(){debugLogger.log("passback-browser-unsupported"),void 0!==passbackListener&&passbackListener&&setTimeout((function(){eval(passbackListener)}),2e3)},isSafeFrame="iframe_safeframe"===integrationType.within,isInsidePreviewIframe="iframe_preview"===integrationType.within,ampIntegration=integrationType.within.indexOf("iframe")>=0&&(integrationType.websiteWindow.name.indexOf("amp")>=0||integrationType.websiteWindow.location.hash.indexOf("#amp=1")>=0),pageUrl=isSafeFrame||isInsidePreviewIframe?document.referrer:integrationType.websiteWindow.location.href;if(window.ShowheroesEnv&&window.ShowheroesEnv.pageurl&&(pageUrl=window.ShowheroesEnv.pageurl),isNativeSupported);else if(!device.isCanvasSupported())return debugLogger.log("browser-unsupported",device.getFailedSupportMessage()),void evalPassbackListener();debugLogger.log("browser-supported"),"iframe"==integrationType.within&&resetWindowStyles(window);var iframesCollection=new IframesCollection(debugLogger,integrationType.websiteWindow,"iframe"===integrationType.within?integrationType.websiteIframe:null,isSafeFrame);isInsidePreviewIframe||vpaid||iframesCollection.watchActiveTab();var pubSub=new PubSub,spotRectangleChanger=new SpotRectangleChanger(iframesCollection,"iframe"===integrationType.within?integrationType.websiteIframe:null,integrationType.websiteWindow,device,isSafeFrame,debugLogger,pubSub,ampIntegration);spotRectangleChanger.intial(),spotRectangleChanger.watchPositions(),spotRectangleChanger.watchViewport();var passbackListener=new PassbackListener(spotRectangleChanger,iframesCollection,{noad:noadPassbackListener,carouselStopped:carouselPassbackListener}),adwaysSDK=new AdwaysSDK(spotRectangleChanger,iframesCollection,pageUrl),adFlows=new AdFlows(iframesCollection),prebidComposer=new PrebidComposer(iframesCollection,spotRectangleChanger,adFlows,pageUrl,debugLogger,adwaysSDK,pubSub),googleAd=new GoogleAd(spotRectangleChanger,iframesCollection),googleIMASDK=new _modules_GoogleIMASDK_js__WEBPACK_IMPORTED_MODULE_2__.a({spotRectangleChanger:spotRectangleChanger,websiteWindow:integrationType.websiteWindow,iframesCollection:iframesCollection,debugLogger:debugLogger,device:device}),switchInAd=new SwitchInAd(spotRectangleChanger,iframesCollection),messagesListner=window.MessagesListner=new _modules_MessagesListner_js__WEBPACK_IMPORTED_MODULE_0__.a({websiteWindow:integrationType.websiteWindow,spotRectangleChanger:spotRectangleChanger,passbackListener:passbackListener,iframesCollection:iframesCollection,prebidComposer:prebidComposer,adFlows:adFlows,googleAd:googleAd,switchInAd:switchInAd,isSafeFrame:isSafeFrame,googleIMASDK:googleIMASDK,adwaysSDK:adwaysSDK,debugLogger:debugLogger}),playerIframeComposer=new PlayerIframeComposer(zoneHost,playerHost,widgetHost,pageUrl,device,isNativeSupported,playerParams,isInsidePreviewIframe,Boolean(void 0!==noadPassbackListener&&noadPassbackListener),isSafeFrame),spots=new Spots(integrationType,debugLogger,playerIframeComposer,spotRectangleChanger,passbackListener,iframesCollection,messagesListner,ampIntegration,customIntegration);passbackListener.setSpots(spots);var gdprDetector=new GDPRDetector(isSafeFrame);spots.checkOptStateAndCMP(gdprDetector);var services=new Services(pageUrl),api=new _modules_Api_js__WEBPACK_IMPORTED_MODULE_1__.a({spots:spots,iframesCollection:iframesCollection,spotRectangleChanger:spotRectangleChanger,services:services});window.SHCore.api=api,"function"==typeof window.onShowheroesPubtagAPIReady&&window.onShowheroesPubtagAPIReady.call(window,api),messagesListner.setupApi(api)},initPubtag=function(){window.ShowheroesEnv&&window.ShowheroesEnv.integrationType&&window.ShowheroesEnv.debugLogger&&(void 0!==window.MessagesListner&&window.MessagesListner.destroy(),window.SHCore={},window.ShowheroesEnv.zoneHost=window.ShowheroesEnv.zoneHost||"https://playview.showheroes.com",window.ShowheroesEnv.widgetHost=window.ShowheroesEnv.widgetHost||"https://apollo.showheroes.com","us"===window.ShowheroesEnv.region?window.ShowheroesEnv.playerHost="https://vl-us.showheroes.com":window.ShowheroesEnv.playerHost=window.ShowheroesEnv.playerHost||"https://video-library.showheroes.com",window.ShowheroesEnv.playerHost.indexOf("video-library")<0&&window.ShowheroesEnv.playerHost.indexOf("vl-us")<0&&window.ShowheroesEnv.debugLogger.log("player-host-error","player host was overwritten",{player_host:window.ShowheroesEnv.playerHost}),window.ShowheroesEnv.playerParams=window.ShowheroesEnv.playerParams||null,window.ShowheroesEnv.inited=!0,customIntegration=new CustomIntegration(window.ShowheroesEnv.customSpotPlacement,window.ShowheroesEnv.integrationType,window.ShowheroesEnv.tagSrc,(function(){runPubtag(window.ShowheroesEnv.integrationType,window.ShowheroesEnv.debugLogger,window.ShowheroesEnv.zoneHost,window.ShowheroesEnv.playerHost,window.ShowheroesEnv.widgetHost,window.ShowheroesEnv.playerParams,window.ShowheroesEnv.passbackListener,window.ShowheroesEnv.noadPassbackListener,window.ShowheroesEnv.canvas,window.ShowheroesEnv.vpaid,window.ShowheroesEnv.carouselPassbackListener)}),window.ShowheroesEnv.debugLogger,window.ShowheroesEnv.customConfigs))};initPubtag()},function(e,t){var i=function(e){this.document=e.document};i.prototype.read=function(e){for(var t=this.document.cookie.split(";"),i=0;i<t.length;i++)if(t[i].substr(0,t[i].indexOf("=")).replace(/^\s+|\s+$/g,"")==e)return unescape(t[i].substr(t[i].indexOf("=")+1));return null},i.prototype.write=function(e,t,i){var s=new Date;s.setTime(s.getTime()+3600*i*1e3),this.document.cookie=e+"="+t+"; expires="+s.toUTCString()+"; path=/"},e.exports=i},function(e,t,i){var s=i(13),o=i(14),n=function(e,t,i){var s=(new o).getResult();this.browser=s.browser,this.websiteWindow=e,this.cookie=t,this.debugLogger=i,this.isAutoplaySupported=null,this.isAutoplayDisallow=!1,this.failedSupportMessage="",this.litmusSrc="https://static.showheroes.com/litmus.mp4",this.litmusDataUri="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAs1tZGF0AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMjYwMSBhMGNkN2QzIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTEgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEwIHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAD2WIhAA3//728P4FNjuZQQAAAu5tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAZAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACGHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAgAAAAIAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAGQAAAAAAAEAAAAAAZBtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAACgAAAAEAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAE7bWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAA+3N0YmwAAACXc3RzZAAAAAAAAAABAAAAh2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgACAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwFkAAr/4QAYZ2QACqzZX4iIhAAAAwAEAAADAFA8SJZYAQAGaOvjyyLAAAAAGHN0dHMAAAAAAAAAAQAAAAEAAAQAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAAsUAAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjQwLjEwMQ=="};n.prototype.isBot=function(){return!/ntv/.test(this.websiteWindow.navigator.userAgent.toLowerCase())&&!!this.websiteWindow.navigator.userAgent&&/bot|googlebot|crawler|spider|robot|crawling/.test(this.websiteWindow.navigator.userAgent.toLowerCase())},n.prototype.isDesktop=function(){return this.websiteWindow.document.documentElement.clientWidth>639},n.prototype.isAndroid=function(){return/android/i.test(this.websiteWindow.navigator.userAgent.toLowerCase())},n.prototype.isIOS=function(){return this.websiteWindow.navigator.userAgent.match(/iPhone|iPad|iPod/i)&&!this.websiteWindow.MSStream},n.prototype.isIOSFBInstantArticle=function(){return this.websiteWindow.navigator.userAgent.match(/iPhone|iPad|iPod/i)&&this.websiteWindow.navigator.userAgent.match(/FBAN|FBDV/i)&&!this.websiteWindow.navigator.userAgent.match(/FBIOS/i)&&!this.websiteWindow.MSStream},n.prototype.isIOSWebView=function(){return this.websiteWindow.navigator.userAgent.match(/iPhone|iPad|iPod/i)&&!this.websiteWindow.navigator.userAgent.match(/Safari/i)},n.prototype.isFirefox=function(){return this.websiteWindow.navigator.userAgent.indexOf("Firefox")>-1},n.prototype.isInternetExplorer=function(){return this.websiteWindow.navigator.userAgent.match(/Trident/i)&&!this.websiteWindow.navigator.userAgent.match(/Edge/i)},n.prototype.isIOSVersion=function(e,t){if(this.isIOS()){var i=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(this.websiteWindow.navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||0;if(i<t)return!0;if(i>=e&&!t)return!0}return!1},n.prototype.isAutoplayNotSupportedImmediately=function(){return!!this.isIOSVersion(0,10)&&(this.isAutoplaySupported=!1,!0)},n.prototype.isModernBrowser=function(){if(!(this.browser.name in s))return!1;var e=parseInt(s[this.browser.name],10);return this.browser.major>=e},n.prototype.isAutoplaySupportedImmediately=function(){if(this.isBot())return this.failedSupportMessage="Bot crawler, not a browser",this.isAutoplaySupported=!1,!1;if(!0===this.isModernBrowser())return this.isAutoplaySupported=!0,!0;var e=this.cookie.read("showheroes_AutoplayTestResult");return"true"===e?(this.isAutoplaySupported=!0,!0):"false"===e?(this.failedSupportMessage="AutoplayTest result is negative",this.isAutoplaySupported=!1,!1):null},n.prototype.runAutoplayTest=function(){var e,t=5,i=0,s=document.createElement("video");"autoplay"in s||this.finishedAutoplayTest(!1);var o=this,n=function n(r){i++,clearTimeout(e);var a=r&&"playing"===r.type||0!==s.currentTime;!a&&i<=t?e=setTimeout(n,200):(o.finishedAutoplayTest(a),s.removeEventListener("playing",n,!1),s.parentNode.removeChild(s))};s.setAttribute("autoplay",""),s.autoplay=!0,s.setAttribute("muted",""),s.muted=!0,s.setAttribute("playsinline",""),s.playsinline=!0,s.style.cssText="position:fixed;bottom:0;left:0;width:1px;height:1px;overflow:hidden;opacity:0.1;z-index:9999999",this.websiteWindow.document.querySelector("body").appendChild(s),s.addEventListener("playing",n,!1);try{this.isIOS()?(s.src=this.litmusDataUri,s.play()):(s.src=this.litmusSrc,s.play(),t=30)}catch(e){return void this.finishedAutoplayTest(!1)}setTimeout((function(){s.addEventListener("playing",n,!1),e=setTimeout(n,200)}),0)},n.prototype.finishedAutoplayTest=function(e){this.isAutoplaySupported=e,!0===e&&this.cookie.write("showheroes_AutoplayTestResult","true",168)},n.prototype.isCanvasSupported=function(){if(this.isBot())return this.failedSupportMessage="Bot crawler, not a browser",!1;if(!window.requestAnimationFrame){for(var e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame)return this.failedSupportMessage="No support for requestAnimationFrame",!1}return void 0!==this.websiteWindow.ShowheroesEnv&&void 0!==this.websiteWindow.ShowheroesEnv.playerHost&&(this.websiteWindow.ShowheroesEnv.playerHost.indexOf("video-library")>=0||this.websiteWindow.ShowheroesEnv.playerHost.indexOf("vl-us")>=0)||(window.AudioContext||window.webkitAudioContext?"performance"in window&&window.performance.now()>0||(this.failedSupportMessage="No support for windowPerformance",!1):(this.failedSupportMessage="No support for webAudio",!1))},n.prototype.getFailedSupportMessage=function(){return this.failedSupportMessage},n.prototype.checkAutoplayDisallowing=function(){var e=this,t=document.createElement("video");t.setAttribute("autoplay",""),t.muted=!0,t.setAttribute("playsinline",""),t.src=this.isIOS()?this.litmusDataUri:this.litmusSrc;var i=t.play();void 0!==i&&i.then((function(){})).catch((function(t){var i=t.message;e.isIOS()&&(i="Video autoplay is disallow.",e.isAutoplayDisallow=!0),e.debugLogger.log("video-error",i)}))},e.exports=n},function(e,t){e.exports={"Mobile Safari":"10",Firefox:"50","Chrome Mobile":"53",Chrome:"51","Samsung Internet":"7","Samsung Browser":"7",UCBrowser:"9",Edge:"12",Facebook:"140",Safari:"10",IE:"10",Google:"30","Chrome Mobile WebView":"43","Android Browser":"4","Firefox Mobile":"50","Chrome Mobile iOS":"54","Mobile Safari UI/WKWebView":"10",WebKit:"400",Opera:"37","Amazon Silk":"65",Instagram:"72","Firefox iOS":"13","Opera Mobile":"49",Flipboard:"4"}},function(e,t,i){var s;!function(o,n){"use strict";var r="model",a="name",d="type",l="vendor",c="version",p="mobile",u="tablet",h={extend:function(e,t){var i={};for(var s in e)t[s]&&t[s].length%2==0?i[s]=t[s].concat(e[s]):i[s]=e[s];return i},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f={rgx:function(e,t){for(var i,s,o,n,r,a,d=0;d<t.length&&!r;){var l=t[d],c=t[d+1];for(i=s=0;i<l.length&&!r;)if(r=l[i++].exec(e))for(o=0;o<c.length;o++)a=r[++s],"object"==typeof(n=c[o])&&n.length>0?2==n.length?"function"==typeof n[1]?this[n[0]]=n[1].call(this,a):this[n[0]]=n[1]:3==n.length?"function"!=typeof n[1]||n[1].exec&&n[1].test?this[n[0]]=a?a.replace(n[1],n[2]):void 0:this[n[0]]=a?n[1].call(this,a,n[2]):void 0:4==n.length&&(this[n[0]]=a?n[3].call(this,a.replace(n[1],n[2])):void 0):this[n]=a||void 0;d+=2}},str:function(e,t){for(var i in t)if("object"==typeof t[i]&&t[i].length>0){for(var s=0;s<t[i].length;s++)if(h.has(t[i][s],e))return"?"===i?void 0:i}else if(h.has(t[i],e))return"?"===i?void 0:i;return e}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},g={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,c],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],c],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[a,c],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],c],[/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],[[a,"Edge"],c],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],c],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],c],[/(focus)\/([\w\.]+)/i],[[a,"Firefox Focus"],c],[/(opt)\/([\w\.]+)/i],[[a,"Opera Touch"],c],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],c],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],c],[/(brave)\/([\w\.]+)/i],[[a,"Brave"],c],[/(qqbrowserlite)\/([\w\.]+)/i],[a,c],[/(QQ)\/([\d\.]+)/i],[a,c],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,c],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[a,c],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[a,c],[/(MetaSr)[\/\s]?([\w\.]+)/i],[a],[/(LBBROWSER)/i],[a],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[c,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[c,[a,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[a,c],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[c,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],c],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],c],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[c,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,c],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],c],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],c],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],c],[/fxios\/([\w\.-]+)/i],[c,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[c,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[c,a],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[a,"GSA"],c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[c,f.str,m.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",h.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[r,l,[d,u]],[/applecoremedia\/[\w\.]+ \((ipad)/],[r,[l,"Apple"],[d,u]],[/(apple\s{0,1}tv)/i],[[r,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,r,[d,u]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[r,[l,"Amazon"],[d,u]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[r,f.str,m.device.amazon.model],[l,"Amazon"],[d,p]],[/android.+aft([bms])\sbuild/i],[r,[l,"Amazon"],[d,"smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[r,l,[d,p]],[/\((ip[honed|\s\w*]+);/i],[r,[l,"Apple"],[d,p]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,r,[d,p]],[/\(bb10;\s(\w+)/i],[r,[l,"BlackBerry"],[d,p]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[r,[l,"Asus"],[d,u]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[r,"Xperia Tablet"],[d,u]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[r,[l,"Sony"],[d,p]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,r,[d,"console"]],[/android.+;\s(shield)\sbuild/i],[r,[l,"Nvidia"],[d,"console"]],[/(playstation\s[34portablevi]+)/i],[r,[l,"Sony"],[d,"console"]],[/(sprint\s(\w+))/i],[[l,f.str,m.device.sprint.vendor],[r,f.str,m.device.sprint.model],[d,p]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,r,[d,u]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[l,[r,/_/g," "],[d,p]],[/(nexus\s9)/i],[r,[l,"HTC"],[d,u]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[r,[l,"Huawei"],[d,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,r,[d,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[r,[l,"Microsoft"],[d,"console"]],[/(kin\.[onetw]{3})/i],[[r,/\./g," "],[l,"Microsoft"],[d,p]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[r,[l,"Motorola"],[d,p]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[r,[l,"Motorola"],[d,u]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,h.trim],[r,h.trim],[d,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[r,/^/,"SmartTV"],[l,"Samsung"],[d,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[r,[l,"Sharp"],[d,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],r,[d,u]],[/smart-tv.+(samsung)/i],[l,[d,"smarttv"],r],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[l,"Samsung"],r,[d,p]],[/sie-(\w*)/i],[r,[l,"Siemens"],[d,p]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[l,"Nokia"],r,[d,p]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[r,[l,"Acer"],[d,u]],[/android.+([vl]k\-?\d{3})\s+build/i],[r,[l,"LG"],[d,u]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],r,[d,u]],[/(lg) netcast\.tv/i],[l,r,[d,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[r,[l,"LG"],[d,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[r,[l,"Lenovo"],[d,u]],[/linux;.+((jolla));/i],[l,r,[d,p]],[/((pebble))app\/[\d\.]+\s/i],[l,r,[d,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,r,[d,p]],[/crkey/i],[[r,"Chromecast"],[l,"Google"]],[/android.+;\s(glass)\s\d/i],[r,[l,"Google"],[d,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[r,[l,"Google"],[d,u]],[/android.+;\s(pixel( [23])?( xl)?)\s/i],[r,[l,"Google"],[d,p]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[r,/_/g," "],[l,"Xiaomi"],[d,p]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[r,/_/g," "],[l,"Xiaomi"],[d,u]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[r,[l,"Meizu"],[d,u]],[/(mz)-([\w-]{2,})/i],[[l,"Meizu"],r,[d,p]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[r,[l,"OnePlus"],[d,p]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[r,[l,"RCA"],[d,u]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[r,[l,"Dell"],[d,u]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[r,[l,"Verizon"],[d,u]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],r,[d,u]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[r,[l,"NuVision"],[d,u]],[/android.+;\s(k88)\sbuild/i],[r,[l,"ZTE"],[d,u]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[r,[l,"Swiss"],[d,p]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[r,[l,"Swiss"],[d,u]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[r,[l,"Zeki"],[d,u]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[l,"Dragon Touch"],r,[d,u]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[r,[l,"Insignia"],[d,u]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[r,[l,"NextBook"],[d,u]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],r,[d,p]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[l,"LvTel"],r,[d,p]],[/android.+;\s(PH-1)\s/i],[r,[l,"Essential"],[d,p]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[r,[l,"Envizen"],[d,u]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[l,r,[d,u]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[r,[l,"MachSpeed"],[d,u]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,r,[d,u]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[r,[l,"Rotor"],[d,u]],[/android.+(KS(.+))\s+build/i],[r,[l,"Amazon"],[d,u]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[l,r,[d,u]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[d,h.lowerize],l,r],[/(android[\w\.\s\-]{0,9});.+build/i],[r,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[c,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,c],[/rv\:([\w\.]{1,9}).+(gecko)/i],[c,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[c,f.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[c,f.str,m.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[a,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[a,"Symbian"],c],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],c],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[a,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],c],[/(sunos)\s?([\w\.\d]*)/i],[[a,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[a,c],[/(haiku)\s(\w+)/i],[a,c],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[c,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[a,c]]},w=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof w))return new w(e,t).getResult();var i=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),s=t?h.extend(g,t):g;return this.getBrowser=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,i,s.browser),e.major=h.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return f.rgx.call(e,i,s.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return f.rgx.call(e,i,s.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,i,s.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,i,s.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};w.VERSION="0.7.19",w.BROWSER={NAME:a,MAJOR:"major",VERSION:c},w.CPU={ARCHITECTURE:"architecture"},w.DEVICE={MODEL:r,VENDOR:l,TYPE:d,CONSOLE:"console",MOBILE:p,SMARTTV:"smarttv",TABLET:u,WEARABLE:"wearable",EMBEDDED:"embedded"},w.ENGINE={NAME:a,VERSION:c},w.OS={NAME:a,VERSION:c},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=w),t.UAParser=w):i(15)?void 0===(s=function(){return w}.call(t,i,t,e))||(e.exports=s):o&&(o.UAParser=w);var b=o&&(o.jQuery||o.Zepto);if(void 0!==b&&!b.ua){var y=new w;b.ua=y.getResult(),b.ua.get=function(){return y.getUA()},b.ua.set=function(e){y.setUA(e);var t=y.getResult();for(var i in t)b.ua[i]=t[i]}}}("object"==typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,i){function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e}).apply(this,arguments)}var o=i(0),n=i(1),r=i(17),a=r.parseAddtlConsent,d=r.parseTcfVendors,l=r.parseRestrictions,c=function(e,t,i,s,o,n,r,a,d){this.integrationType=e,this.debugLogger=t,this.playerIframeComposer=i,this.spotRectangleChanger=s,this.passbackListener=o,this.ampIntegration=a,this.cmp=null,this.tcf=null,this.isCmpDefault=!1,this.iframesCollection=n,this.messagesListner=r,this.customIntegration=d,this.defaultConsentString="BO56w_lO56xKLAHABBENDW-AAAAyOAYAAqAB4AEEAJwAoABaADIAGkARABGACYAE8AKQAWwAxABvADmAH6AQABAgCGgFIAUoA4QCKAEdAKyAXUA"};c.prototype.fill=function(e,t,i,s){var n=this,r=this,a=Boolean(e.getAttribute("data-vpaid")),d=e.getAttribute("data-player"),l=e.getAttribute("data-noad-passback-listener"),c=e.getAttribute("data-responsive-hidden");if(this.integrationType.websiteWindow,l&&this.passbackListener.setSpotPassbackListener(t,"noad",l),("webpage"==this.integrationType.within&&null===e.offsetParent||"iframe_preview"==this.integrationType.within&&null===e.offsetParent||"iframe"==this.integrationType.within&&null===this.integrationType.websiteIframe.offsetParent&&this.integrationType.websiteIframe.name.indexOf("showheroes")<0)&&!a)throw{message:"placeholder skipped because it is hidden or resides in an iframe that is hidden",debugEvent:"1"!==c?"placeholder-hidden":null,params:{player_id:d}};e.appendChild(this.playerIframeComposer.compose(e,t)),this.iframesCollection.iframeConfigs[t]=this.iframesCollection.iframeConfigs[t]||{},this.iframesCollection.iframeConfigs[t].ampIntegration=this.ampIntegration,this.iframesCollection.iframeConfigs[t].playerId=d,this.iframesCollection.iframeConfigs[t].eventBus=new o.EventBus,this.messagesListner.subscribeEvents(this.iframesCollection.iframeConfigs[t].eventBus);var p=this.playerIframeComposer.makeSrc(e,i,s);p.indexOf("video-library")<0&&p.indexOf("vl-us")<0&&this.debugLogger.log("player-host-error","player host was overwritten before spot call",{player_host:this.playerIframeComposer.playerHost,player_id:d});var u=e.querySelector("#"+t),h='<script async onerror=\'(function() { window.postMessage("spot-error", "*"); })()\' src=\''+p+"'><\/script>";u.contentWindow.document.write(h),u.contentWindow.document.close();var f,m=null;m=setInterval((function(){if(!0!==f)if(u.contentWindow&&"function"==typeof u.contentWindow.initSetup)try{r.publisherPolicy&&(u.contentWindow.publisherPolicy=r.publisherPolicy),u.contentWindow.initSetup(r.iframesCollection.iframeConfigs[t].eventBus,r.getMacroses(e))}catch(e){r.debugLogger.log("spot-error","spot code has an Error: "+e.message,{player_id:d})}finally{clearInterval(m)}else null===u.contentWindow&&(r.debugLogger.log("spot-error","spot code has an Error: Iframe contentWindow is null",{player_id:d}),clearInterval(m));else clearInterval(m)}),100),u.contentWindow.addEventListener("message",(function e(t){"spot-error"===t.data&&(f=!0,r.debugLogger.log("spot-error","cannot load spot",{player_id:d,player_host:r.playerIframeComposer.playerHost}),u.contentWindow.removeEventListener("message",e))}));var g=e.getAttribute("data-fallback-container-id")||null;g&&this.iframesCollection.iframeConfigs[t].eventBus.once("play",(function(){var i=n;setTimeout((function(){i.setFallbackContainer(t,e,g)}),1e3)}))},c.prototype.search=function(){for(var e,t,i=window.document.querySelectorAll(".publisher-sh-spot, .showheroes-spot, .showheroes-spot-polls"),s=0;s<i.length;s++)if((e=i[s]).hasAttribute("data-custom-configs")&&!e.hasAttribute("custom-integration-inited")&&this.customIntegration)this.customIntegration.init(e);else if(!(e.hasAttribute("data-filled")||e.hasAttribute("data-skipped")||e.hasAttribute("custom-integration-inited")&&!e.hasAttribute("custom-integration-ready"))){var o=document.createElement("div");o.classList.add("publisher-sh-spot-container"),o.style.flex="1 0 100%",e.parentNode.insertBefore(o,e),o.appendChild(e);try{t="showheroes-iframe-"+Math.random().toString().substring(2);var n=this.tcf?this.tcf:this.cmp;(!1===window.allowAdTracking||"out"==e.getAttribute("data-opt-state"))&&(n={consentData:"BON9SZFON9SZFAHABBENAUAAAAALeAAA",gdprApplies:!0}),e.getAttribute("data-player"),this.fill(e,t,n,this.isCmpDefault),e.setAttribute("data-filled","true"),this.debugLogger.log("player-requested"),this.spotRectangleChanger.onSpotFilled(t)}catch(t){if(!t.message)throw t;e.setAttribute("data-skipped","true"),this.debugLogger.log(t.debugEvent,t.message,t.params)}}},c.prototype.tryToSearch=function(){this.cmp&&this.search()},c.prototype.checkOptStateAndCMP=function(e){this.publisherPolicy={},this.integrationType.websiteWindow;var t=this,i=function(e){if(e&&e.addtlConsent){t.publisherPolicy.addtlConsent=e.addtlConsent;var i=a(e.addtlConsent);i&&(t.publisherPolicy.allowedAddtlVendorsId=i.vendorsId)}if(e&&e.vendor){var s=d(e.vendor);s&&(t.publisherPolicy.allowedTcfVendorsId=s)}e.publisher&&e.publisher.restrictions&&(t.publisherPolicy.publisherRestriction=l(e.publisher.restrictions,t.publisherPolicy.allowedTcfVendorsId?t.publisherPolicy.allowedTcfVendorsId:[],e.purpose))};e.init((function(e){var s=e.cmp,o=e.tcf;if(s)t.cmp=s;else if(o){var n=o.tcString,r=o.gdprApplies,a=o.addtlConsent,d=o.vendor,l=o.publisher,c=o.purpose;t.tcf={gdprApplies:r},r&&(t.tcf.consentData=n),i({addtlConsent:a,vendor:d,publisher:l,purpose:c})}else t.cmp={consentData:t.defaultConsentString,gdprApplies:!0},t.isCmpDefault=!0;t.search(),t.watch()}),(function(e){var o,n=e.cmp,r=e.tcf;if(n)t.cmp=n,o=n;else if(r){var a=r.tcString,d=r.gdprApplies,l=r.addtlConsent,c=r.vendor,p=r.publisher,u=r.purpose;t.tcf={gdprApplies:d},d&&(t.tcf.consentData=a),i({addtlConsent:l,vendor:c,publisher:p,purpose:u}),o=t.tcf}t.spotRectangleChanger.iframesCollection.setCMP(s(o,{publisherPolicy:t.publisherPolicy}))}),this.ampIntegration)},c.prototype.watch=function(){var e=this;clearTimeout(e.watchTimeout);var t=parseInt(window.ShowheroesEnv.watchDuration,10),i="number"==typeof t&&!Number.isNaN(t)&&t>60?t:60;e.watchTimeout=setTimeout((function t(){--i>0&&(e.search(),e.watchTimeout=setTimeout(t,1e3))}),1e3)},c.prototype.getMacroses=function(e){var t=n(e),i=null;return Object.keys(t).forEach((function(e){if("macros"===e){i=i||{};var s=JSON.parse(decodeURIComponent(t[e]));for(var o in s)if(s.hasOwnProperty(o)){var n=o.toUpperCase();i[n="["+n+"]"]=s[o]}}else if(0===e.indexOf("macros")){var r=e.replace("macros","").toUpperCase();0!==r.indexOf("SH_PUB_")&&(r="SH_PUB_"+r),(i=i||{})[r="["+r+"]"]=t[e]}})),i},c.prototype.setFallbackContainer=function(e,t,i){var s=document.getElementById(i),o=t.parentNode.getBoundingClientRect(),n=o.width,r=o.height;s&&(s.style.width="".concat(n,"px"),s.style.height="".concat(r,"px")),this.iframesCollection.message(e,{intent:"setHoverCloseControl"})},e.exports=c},function(e,t){e.exports={parseAddtlConsent:function(e){if(/[A-Z]/g.test(e))return!1;var t=e.split("~"),i=t[0],s=t[1].indexOf(".")>=0?t[1].split("."):[t[1]];return{version:i,vendorsId:s=s.filter((function(e){return!!e}))}},parseTcfVendors:function(e){if(e.consents){var t=[];return Object.keys(e.consents).forEach((function(i){e.consents[i]&&t.push(i)})),t}return!1},parseRestrictions:function(e,t,i){var s={};if(i.consents){var o=i.consents,n={consentObtained:[],notAllowed:[]};s[0]=n,Object.keys(o).forEach((function(e){o[e]?n.consentObtained.push(e):n.notAllowed.push(e)}))}return Object.keys(e).forEach((function(i){var o=e[i];Object.keys(o).forEach((function(e){s[e]||(s[e]={consentObtained:[],notAllowed:[]});var n=s[e];1===o[e]?t.find((function(t){return t===e}))?n.consentObtained.push(i):n.notAllowed.push(i):0===o[e]&&n.notAllowed.push(i)}))})),s}}},function(e,t,s){var o=s(19),n=function(e,t,i,s,o,n,r,a){this.iframesCollection=e,this.websiteIframe=t,this.websiteWindow=i,this.device=s,this.isSafeFrame=o,this.googleSafeframe=o&&this.websiteWindow.location.host.indexOf("googlesyndication")>=0,this.debugLogger=n,this.ampIntegration=a,this.stickyframeId=null,this.measures={},this.captions={},this.headers={},this.aspectRatios={},this.fixedSizes={},this.vpaidMode={},this.settings={},this.stickySettings={},this.watchViewportInterval=null,this.watchPositionsInterval=null,this.viewportSetterTimer=null,this.spotPositions={},this.observerSupported="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,this.debugLogger.log("viewport-detection-type","isSafe: "+this.isSafeFrame+"; observerSupported: "+this.observerSupported),this.pubSub=r,this.fullscreenEnabled=!1,this.ampActivationMode={}};n.prototype.forget=function(e){var t=!1;this.watchPositionsInterval&&(t=!0,clearInterval(this.watchPositionsInterval),this.watchPositionsInterval=null),e in this.headers&&this.headers[e].parentNode&&this.headers[e].parentNode.removeChild(this.headers[e]),e in this.captions&&this.captions[e].parentNode&&this.captions[e].parentNode.removeChild(this.captions[e]),e in this.measures&&this.measures[e].parentNode&&this.measures[e].parentNode.removeChild(this.measures[e]),e in this.headers&&delete this.headers[e],e in this.captions&&delete this.captions[e],e in this.measures&&delete this.measures[e],e in this.aspectRatios&&delete this.aspectRatios[e],e in this.fixedSizes&&delete this.fixedSizes[e],e in this.settings&&delete this.settings[e],t&&this.watchPositions()},n.prototype.setVpaidMode=function(e,t){this.vpaidMode[e]=t},n.prototype.setAmpActivationMode=function(e,t){this.ampActivationMode[e]=t},n.prototype.setStickySettings=function(e,t){this.stickySettings[e]=t},n.prototype.setViewability=function(e,t,i){this.iframesCollection.iframeViewport[e]={delay:1e3*i,top:(0===t?1:t)/100,bottom:(100-t)/100,setted:!1,threshold:t<50?[t/100,(100-t)/100]:[.5],viewport:t}},n.prototype.recalculatePositions=function(){for(var e=0;e<this.iframesCollection.iframeIds.length;e++){this.iframesCollection.iframeIds[e]in this.spotPositions||(this.spotPositions[this.iframesCollection.iframeIds[e]]={});var t=this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]);if(this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).classList.contains("interscroller")){t=this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).parentNode.parentNode.parentNode.parentNode.parentNode;var i=(this.websiteWindow.document.documentElement.clientHeight-this.iframesCollection.iframes[this.iframesCollection.iframeIds[e]].clientHeight)/2;this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).style.marginTop=i+"px";var s=this.websiteWindow.document.documentElement.clientWidth,o=this.websiteWindow.document.documentElement.clientHeight,n=-(s-t.clientWidth)/2;this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).parentNode.parentNode.parentNode.style.width=s+"px",this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).parentNode.parentNode.parentNode.style.height=o+"px",this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).parentNode.parentNode.parentNode.style.left=n.toString()+"px",this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).parentNode.parentNode.parentNode.parentNode.style.minHeight=o+"px",this.spotPositions[this.iframesCollection.iframeIds[e]].offsetTop=t.offsetTop}else if(!this.isSafeFrame&&!this.ampIntegration){var r=t,a=window;this.spotPositions[this.iframesCollection.iframeIds[e]].offsetTop=0;do{this.spotPositions[this.iframesCollection.iframeIds[e]].offsetTop+=r.offsetTop,null==(r=r.offsetParent)&&(r=a.frameElement,a=a.parent)}while(r)}this.spotPositions[this.iframesCollection.iframeIds[e]].width=t.offsetWidth,this.spotPositions[this.iframesCollection.iframeIds[e]].height=t.offsetHeight}this.iframesCollection.recalculatePositions()},n.prototype.watchPositions=function(){this.recalculatePositions();var e=this;this.watchPositionsInterval=setInterval((function(){e.recalculatePositions()}),1e3)},n.prototype.watchViewport=function(){if(!this.watchViewportInterval){var e=this;this.watchViewportInterval=setInterval((function(){e.isSafeFrame?e.checkViewport_SafeFrame():e.observerSupported?(e.setIntersectionObserver(),e.checkEPB()):(e.checkViewport_Old(),e.checkEPB())}),200)}},n.prototype.stopViewportWatching=function(e){clearInterval(this.watchViewportInterval);var t=this.spotPositions[e];t.observer&&(t.observer.stopObserve(),t.observer=null),this.watchViewportInterval=null},n.prototype.setIntersectionObserver=function(){for(var e=this,t=0;t<this.iframesCollection.iframeIds.length;t++){var i=this.iframesCollection.iframeIds[t];if(this.spotPositions[i]&&!this.spotPositions[i].observer){var s={root:null,rootMargin:"0px",threshold:Array.apply(null,{length:100}).map((function(e,t){return t/100}))};this.spotPositions[i].observer=new o({target:this.getWidgetTargetElement(i),options:s,iframeId:i,pubSub:this.pubSub}),this.pubSub.subscribe("pubtag.changeViewability",(function(t,i){e.checkViewport(i.ratio,i.iframeId);var s=i.ratio;e.isSafeFrame&&(s=$sf.ext.inViewPercentage()),e.iframesCollection.message(i.iframeId,{intent:"viewability-size",value:s>0?s:0})}))}}},n.prototype.checkViewability=function(e){if(this.iframesCollection.iframePositions[e]){var t=this.websiteWindow.innerWidth,i=this.websiteWindow.innerHeight,s=this.iframesCollection.iframePositions[e].width*this.iframesCollection.iframePositions[e].height,o=this.iframesCollection.iframes[e].getBoundingClientRect(),n=o.right-o.left,r=o.bottom-o.top;t<n&&(n=o.right-(o.right-t)-o.left),i<o.bottom?r-=o.bottom-i:o.top<0&&(r=o.bottom);var a=n*r,d=Math.round(100*a/s);this.isSafeFrame&&(d=$sf.ext.inViewPercentage()),this.iframesCollection.message(e,{intent:"viewability-size",value:d>0?d:0})}},n.prototype.checkViewport=function(e,t){var i=this.getWidgetTargetElement(t);if(i){var s=i.getAttribute("data-sticky-spot"),o=this.iframesCollection,n=o.iframePositions[t],r=o.iframeViewport[t];if(o.iframeIds.length&&!0===o.iframeConfigs[this.iframesCollection.iframeIds[0]].ampIntegration&&"load"===this.ampActivationMode[t])!0!==n.ampNotFirstTime&&(this.iframesCollection.message(t,{intent:"play"}),n.ampNotFirstTime=!0);else if(e>=r.viewport&&!0!==n.inViewport)n.inViewport=!0,s&&this.setStickyStyles(t,!1),r.setted?o.message(t,{intent:"play"}):this.viewportSetterTimer=setTimeout((function(){r.setted=!0,o.message(t,{intent:"play"})}),r.delay);else if(e<r.viewport&&!0===n.inViewport){if(this.viewportSetterTimer&&!s&&clearTimeout(this.viewportSetterTimer),n.inViewport=!1,s)return void this.setStickyStyles(t,!0);o.message(t,{intent:"pause"})}}},n.prototype.checkViewport_Old=function(){this.websiteWindow.innerWidth,this.websiteWindow.innerHeight;var e,t,i=this.websiteWindow.document.documentElement.scrollTop||this.websiteWindow.document.body.scrollTop;for(e=0;e<this.iframesCollection.iframeIds.length;e++)if(this.spotPositions[this.iframesCollection.iframeIds[e]]){var s=this.getWidgetTargetElement(this.iframesCollection.iframeIds[e]).getAttribute("data-sticky-spot"),o=this.iframesCollection.iframeViewport[this.iframesCollection.iframeIds[e]],n=o.delay,r=o.top,a=o.bottom,d=o.setted;if(i+this.websiteWindow.innerHeight>this.spotPositions[this.iframesCollection.iframeIds[e]].offsetTop+r*this.spotPositions[this.iframesCollection.iframeIds[e]].height&&!(a*this.spotPositions[this.iframesCollection.iframeIds[e]].height+this.spotPositions[this.iframesCollection.iframeIds[e]].offsetTop<i)){if(!0!==this.iframesCollection.iframePositions[this.iframesCollection.iframeIds[e]].inViewport){for(this.iframesCollection.iframePositions[this.iframesCollection.iframeIds[e]].inViewport=!0,s&&this.setStickyStyles(this.iframesCollection.iframeIds[e],!1),t=0;t<this.iframesCollection.iframeIds.length;t++)t!=e&&this.iframesCollection.message(this.iframesCollection.iframeIds[t],{intent:"pause"});var l=this,c=e;d?l.iframesCollection.message(l.iframesCollection.iframeIds[c],{intent:"play"}):this.viewportSetterTimer=setTimeout((function(){l.iframesCollection.iframeViewport[l.iframesCollection.iframeIds[c]].setted=!0,l.iframesCollection.message(l.iframesCollection.iframeIds[c],{intent:"play"})}),n)}}else if(!0===this.iframesCollection.iframePositions[this.iframesCollection.iframeIds[e]].inViewport){if(this.iframesCollection.iframePositions[this.iframesCollection.iframeIds[e]].inViewport=!1,s)return void this.setStickyStyles(this.iframesCollection.iframeIds[e],!0);this.iframesCollection.message(this.iframesCollection.iframeIds[e],{intent:"pause"}),this.viewportSetterTimer&&clearTimeout(this.viewportSetterTimer)}this.checkViewability(this.iframesCollection.iframeIds[e])}},n.prototype.checkViewport_SafeFrame=function(){if(0!==this.iframesCollection.iframeIds.length){var e=this.iframesCollection.iframeIds[0],t=this.iframesCollection.iframeViewport[e],i=100*t.top;t.bottom,$sf.ext.inViewPercentage()>=i?!0!==this.iframesCollection.iframePositions[e].inViewport&&(this.iframesCollection.iframePositions[e].inViewport=!0,this.iframesCollection.message(e,{intent:"play"})):!0===this.iframesCollection.iframePositions[e].inViewport&&(this.iframesCollection.iframePositions[e].inViewport=!1,this.iframesCollection.message(e,{intent:"pause"})),this.websiteWindow.innerWidth,this.websiteWindow.innerHeight,this.checkViewability(e)}},n.prototype.checkEPB=function(){for(var e=this.websiteWindow.innerHeight,t=.7*e,i=this.websiteWindow.document.documentElement.scrollTop||this.websiteWindow.document.body.scrollTop,s=0;s<this.iframesCollection.iframeIds.length;s++){var o=this.spotPositions[this.iframesCollection.iframeIds[s]];if(!this.getWidgetTargetElement(this.iframesCollection.iframeIds[s]).getAttribute("data-sticky-spot")&&this.spotPositions[this.iframesCollection.iframeIds[s]]){var n=o.height,r=o.offsetTop,a=o.offsetTop+n;if(i<r-e-t||i>a+t){if(o.outEPB)return;o.outEPB=!0,this.iframesCollection.message(this.iframesCollection.iframeIds[s],{intent:"adPlay"})}else{if(!o.outEPB)return;o.outEPB=!1,this.iframesCollection.message(this.iframesCollection.iframeIds[s],{intent:"adPause"})}}}},n.prototype.setStickyStyles=function(e,t){var i=this;this.stickyframeId&&this.stickyframeId!==e&&this.setStickyStyles(this.stickyframeId,!1);var s=document.getElementById(e),o=[];o.push(s);var n=document.getElementById("google-ima-sdk-wrapper");n&&n.childNodes.length&&o.push(n),this.stickyframeId=e;for(var r=this.device.isDesktop(),a=!r,d=this.getWidgetTargetElement(e),l=a&&d.getAttribute("data-sticky-mobile-spot")||d.getAttribute("data-sticky-spot")||"bottom-right",c=l.split("-"),p=a&&d.getAttribute("data-sticky-mobile-width")&&d.getAttribute("data-sticky-mobile-height")||d.getAttribute("data-sticky-width")&&d.getAttribute("data-sticky-height"),u=a&&d.getAttribute("data-sticky-mobile-width")||d.getAttribute("data-sticky-width")||d.clientWidth||300,h=a&&d.getAttribute("data-sticky-mobile-height")||d.getAttribute("data-sticky-height")||d.clientHeight||300,f=!(!a||!d.getAttribute("data-banner-style")),m=s.contentDocument,g=0,w=o;g<w.length;g++){var b=w[g];if(!0===t){var y=b.getBoundingClientRect(),v=b.style.pointerEvents,A=b.style.visibility;b.setAttribute("style","");var I=20,S=r?.75:.67,C=y.top>0?"up":"down",k="up"===C?.4:.7,_=p?u:u*S,x=p?h:h*S,E="bottom"===c[0]?"up"===C?y[c[0]]-window.innerHeight-x:y[c[0]]+window.innerHeight+x:y[c[0]],P="right"===c[1]?window.innerWidth-y.left-_:y[c[1]],T="position:fixed !important; z-index:999 !important;width:"+u+"px !important;height:"+h+"px !important;margin:"+I+"px !important;";if(f){var M=d.getAttribute("data-sticky-mobile-margin")?d.getAttribute("data-sticky-mobile-margin").split("-"):0;I="",M&&(I="margin-".concat(M[0],": ").concat(M[1],"px !important;")),T="position:fixed !important; z-index:999 !important;width:"+window.innerWidth+"px !important;height:"+9*window.innerWidth/16+"px !important;"+I}if(b.setAttribute("style",T),v&&(b.style.pointerEvents=v),A&&(b.style.visibility=A),b.style[c[0]]=(E||0)+"px !important",b.style[c[1]]=(P||0)+"px !important",b.style.boxShadow="0 0 10px rgba(0,0,0,0.3)",p||f||(b.style.transform="scale("+S+")"),setTimeout((function(e){e.style[c[0]]="0",e.style[c[1]]="0",e.style.transition="all "+k+"s"}),40,b),b.style.border=0,b.style.transformOrigin=c[0]+" "+c[1]+" 0px",this.iframesCollection.iframes[e].parentNode.querySelector(".showheroes-sticky-close")||!r&&i.stickySettings[e].closeOnSwipe||i.addCloseButton(e,{spotPosition:l,position:c,originalWidth:u,originalHeight:h,width:_,height:x,margin:I,showDelay:k}),i.stickySettings[e].closeOnSwipe){var R=_/2+I,O=0;this.startTouchListening(m,{touchstart:function(e,t){b.style.transition=""},touchmove:function(t,s){"right"===c[1]?O-=s:O+=s,b.style[c[1]]=O+"px",(O<-R||O>window.innerWidth-R)&&i.setStickyStyles(e,!1)},touchend:function(){O<-R||O>window.innerWidth-R?i.setStickyStyles(e,!1):(O=0,b.style[c[1]]="0",b.style.transition="all "+k+"s")}})}}else"google-ima-sdk-wrapper"===b.getAttribute("id")?(v=b.style.pointerEvents,A=b.style.visibility,b.setAttribute("style",""),v&&(b.style.pointerEvents=v),A&&(b.style.visibility=A)):b.setAttribute("style","position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0;overflow:hidden;"),this.removeCloseButton(e),this.stopTouchListening(m)}},n.prototype.addCloseButton=function(e,t){var i=(t=t||{}).position||[],s=document.createElement("div");s.setAttribute("class","showheroes-sticky-close"),s.setAttribute("data-iframe-id",e),s.innerHTML="&times;",s.style.width="24px",s.style.height="24px",s.style.position="fixed",s.style[i[0]]=parseInt(t.height,10)+parseInt(t.margin,10)+5+"px",s.style[i[1]]=t.margin+"px",s.style.background="rgba(0,0,0,0.3)",s.style.textAlign="center",s.style.lineHeight="24px",s.style.color="#ffffff",s.style.borderRadius="50%",s.style.boxShadow="0 0 10px rgba(0,0,0,0.3)",s.style.cursor="pointer",s.style.zIndex="999",t.showDelay&&(s.style.opacity="0",setTimeout((function(){s&&(s.style.opacity="1",s.style.transition="opacity 0.3s")}),1e3*t.showDelay)),s.onclick=this.setStickyStyles.bind(this,e),this.iframesCollection.iframes[e].parentNode.appendChild(s)},n.prototype.removeCloseButton=function(e){var t=this.iframesCollection.iframes[e].parentNode.querySelector(".showheroes-sticky-close");t&&t.parentNode.removeChild(t)},n.prototype.onSpotFilled=function(e){this.appendSpotMeasure(e)},n.prototype.setAspectRatio=function(e,t,i,s,o){if(this.iframesCollection.iframes[e]&&!0!==this.fullscreenEnabled){var n=t,r=this.getWidgetTargetElement(e),a=r.getAttribute("data-fit-to-parent");if(a){var d=r.parentNode.parentNode;n=d.clientHeight/d.clientWidth,d.style.position="relative",this.iframesCollection.iframes[e].parentNode.style.position="unset"}if(this.aspectRatios[e]=n,o||a||this.vpaidMode[e]?this.iframesCollection.iframes[e].parentNode.style.height="100%":this.iframesCollection.iframes[e].parentNode.style.paddingBottom=(100*n).toString()+"%",s&&(this.iframesCollection.iframes[e].parentNode.parentNode.style.maxWidth=s.toString()+"px",this.measures[e].style.maxWidth=s.toString()+"px"),null!==this.websiteIframe&&!(null!==this.websiteIframe&&this.websiteIframe.name.indexOf("showheroes")>=0))if(this.websiteIframe.parentNode&&(this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper")||this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper-2")||this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper-1")))this.websiteIframe.parentNode.style.paddingBottom=(100*n).toString()+"%",s&&(this.websiteIframe.parentNode.parentNode.style.maxWidth=s.toString()+"px");else if(i){if(this.websiteIframe.parentNode.clientHeight>25)this.websiteIframe.style.width=this.websiteIframe.parentNode.clientWidth.toString()+"px",this.websiteIframe.style.height=this.websiteIframe.parentNode.clientHeight.toString()+"px";else{var l=this.measures[e].offsetTop>100?this.measures[e].offsetTop:this.measures[e].offsetWidth;this.websiteIframe.style.width=this.measures[e].offsetWidth.toString()+"px",this.websiteIframe.style.height=(1==n?l*n:l).toString()+"px"}var c=this;c.measures[e].prevWidth=this.measures[e].offsetWidth,c.measureInterval=setInterval((function(){c.measures[e].prevWidth!=c.measures[e].offsetWidth&&(clearInterval(c.measureInterval),c.recalculateShape(e,!0))}),(this.device.isDesktop(),300))}this.isSafeFrame&&!this.googleSafeframe&&(this.iframesCollection.iframes[e].parentNode.parentNode.style.position="absolute")}},n.prototype.setSize=function(e,t,i){var s=t.toString().indexOf("%")>=0?t:t.toString()+"px",o=i.toString().indexOf("%")>=0?i:i.toString()+"px";this.iframesCollection.iframes[e].parentNode.parentNode.style.minWidth=s,this.iframesCollection.iframes[e].parentNode.parentNode.style.maxWidth=s,this.iframesCollection.iframes[e].parentNode.parentNode.style.width=s,this.iframesCollection.iframes[e].parentNode.parentNode.style.height=o,null!==this.websiteIframe&&(this.websiteIframe.parentNode&&(this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper")||this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper-2")||this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper-1"))?(this.websiteIframe.parentNode.parentNode.style.minWidth=s,this.websiteIframe.parentNode.parentNode.style.maxWidth=s,this.websiteIframe.parentNode.parentNode.style.width=s,this.websiteIframe.parentNode.parentNode.style.height=o):(this.websiteIframe.style.width=s,this.websiteIframe.style.height=o))},n.prototype.setFrameFullSize=function(e,t,i,s){this.websiteIframe&&(this.setSize(e,t,i),s&&(this.websiteIframe.style.minHeight="-webkit-fill-available"))},n.prototype.onMessageMakeShapeResponsive=function(e){(e=e||{}).publisherIframeId in this.fixedSizes&&delete this.fixedSizes[e.publisherIframeId],e.publisherIframeId in this.settings?this.settings[e.publisherIframeId].isDisplay=e.isDisplay:this.settings[e.publisherIframeId]={isDisplay:e.isDisplay},this.setAspectRatio(e.publisherIframeId,e.aspectRatio,!0,e.maxWidth),this.recalculatePositions()},n.prototype.onMessageMakeCaptions=function(e,t){this.measures[e]&&(this.isSafeFrame&&!this.googleSafeframe||(e in this.captions?this.adjustSpotCaptionWidth(e,this.measures[e].offsetWidth):this.createSpotCaption(e,this.measures[e].offsetWidth,t)))},n.prototype.onMessageHideCaptions=function(e){if(this.measures[e]&&this.getWidgetTargetElement(e)){var t=this.getWidgetTargetElement(e).parentNode.querySelector(".publisher-sh-spot-caption");t&&(t.style.display="none")}},n.prototype.onMessageMakeShapeFixed=function(e){if(e=e||{},this.fixedSizes[e.publisherIframeId]={width:e.width,height:e.height},this.settings[e.publisherIframeId]={isDisplay:e.isDisplay},e.width.toString().indexOf("%")>=0&&e.height.toString().indexOf("%")>=0&&null!==this.websiteIframe){this.iframesCollection.iframes[e.publisherIframeId].parentNode.style.height="100%",this.websiteIframe.style.position="absolute",this.websiteIframe.style.top=0;var t=1/(this.websiteWindow.innerWidth/this.websiteWindow.innerHeight);this.iframesCollection.iframes[e.publisherIframeId].parentNode.style.paddingBottom=(100*t).toString()+"%"}else this.setAspectRatio(e.publisherIframeId,e.aspectRatio,!1,null,!0);e.width.toString().indexOf("%")>=0&&e.height.toString().indexOf("%")>=0&&this.websiteIframe,this.setSize(e.publisherIframeId,e.width,e.height),this.recalculatePositions()},n.prototype.recalculateShape=function(e,t){if(this.measures[e]){var i=e in this.fixedSizes?this.fixedSizes[e].width:this.measures[e].offsetWidth;this.adjustSpotHeaderWidth({iframeId:e,width:i}),this.adjustSpotCaptionWidth(e,i),this.setAspectRatio(e,this.aspectRatios[e],!!t,null,e in this.fixedSizes),this.recalculatePositions()}},n.prototype.intial=function(){null===this.websiteIframe||null!==this.websiteIframe&&this.websiteIframe.name.indexOf("showheroes")>=0||this.resetWebsiteIframe()},n.prototype.resetWebsiteIframe=function(){this.websiteIframe.removeAttribute("width"),this.websiteIframe.removeAttribute("height"),this.websiteIframe.setAttribute("allowfullscreen","allowfullscreen"),this.websiteIframe.parentNode&&(this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper")||this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper-2")||this.websiteIframe.parentNode.classList.contains("showheroes-responsive-wrapper-1"))&&this.websiteIframe.parentNode.parentNode&&(this.websiteIframe.parentNode.parentNode.classList.contains("showheroes-responsive-wrapper")||this.websiteIframe.parentNode.parentNode.classList.contains("showheroes-responsive-wrapper-1")||this.websiteIframe.parentNode.parentNode.classList.contains("showheroes-responsive-wrapper-2"))?(this.websiteIframe.parentNode.parentNode.setAttribute("style","display:block; margin:0 auto; width:100%; min-width:240px; max-width:"+(this.device.isDesktop()?1440:500)+"px; padding:0;"),this.websiteIframe.parentNode.setAttribute("style","display:block; position:relative; overflow:hidden; height:0; padding:0 0 2px 0;"),this.websiteIframe.setAttribute("style","display:block; position:absolute; overflow:hidden; top:0; bottom:0; left:0; right:0; width:100%; height:100%; border:0;")):this.websiteIframe.setAttribute("style","display:block; width:100%; height:2px; overflow:hidden; margin:0 auto;")},n.prototype.getWidgetTargetElement=function(e){var t=null;return null!==this.websiteIframe?(((t=this.websiteIframe).parentNode.classList.contains("showheroes-responsive-wrapper")||t.parentNode.classList.contains("showheroes-responsive-wrapper-2"))&&(t=t.parentNode),(t.parentNode.classList.contains("showheroes-responsive-wrapper")||t.parentNode.classList.contains("showheroes-responsive-wrapper-1"))&&(t=t.parentNode),t.contentDocument&&t.contentDocument.querySelector(".publisher-sh-spot")&&(t=t.contentDocument.querySelector(".publisher-sh-spot")),t.contentDocument&&t.contentDocument.querySelector(".showheroes-spot")&&(t=t.contentDocument.querySelector(".showheroes-spot")),t.contentDocument&&t.contentDocument.querySelector(".showheroes-spot-polls")&&(t=t.contentDocument.querySelector(".showheroes-spot-polls"))):e in this.iframesCollection.iframes?this.iframesCollection.iframes[e]&&this.iframesCollection.iframes[e].parentNode&&(t=this.iframesCollection.iframes[e].parentNode.parentNode.parentNode):t=document.getElementById(e)?document.getElementById(e).parentNode.parentNode.parentNode:null,t},n.prototype.insertBeforeWidget=function(e,t){var i=this.getWidgetTargetElement(e);i.parentNode.insertBefore(t,i)},n.prototype.insertAfterWidget=function(e,t){var i=this.getWidgetTargetElement(e),s=i.parentNode;s.lastchild==i?s.appendChild(t):s.insertBefore(t,i.nextSibling)},n.prototype.onMessageSetHeader=function(e,t){e in this.headers&&(this.headers[e].parentNode.removeChild(this.headers[e]),this.headers[e]=null,delete this.headers[e]),this.measures[e]&&(this.createSpotHeader(e,t,this.measures[e].offsetWidth),this.recalculatePositions())},n.prototype.createSpotHeader=function(e,t,i){var s=document.createElement("div");s.innerHTML=t,s.classList.add("publisher-sh-spot-header"),s.style.textAlign="left",s.style.display="block",s.style.margin="0 auto",s.style.width=i.toString()+"px",s.style.fontSize="14px",s.style.lineHeight="1.2",this.headers[e]=s,this.insertBeforeWidget(e,s)},n.prototype.adjustSpotHeaderWidth=function(e){var t=(e=e||{}).iframeId,i=t in this.settings&&this.settings[t]&&this.settings[t].header||{};t in this.headers&&(i.maxWidth?this.headers[t].style.maxWidth=i.maxWidth.toString()+"px":this.headers[t].style.width=e.width.toString()+"px",i.margin&&(this.headers[t].style.margin=i.margin))},n.prototype.setAnimation=function(e){this.iframesCollection.iframes[e].parentNode.style.transition="all 1s"},n.prototype.setIframeSettings=function(e,t){var i=this;e in this.settings?Object.keys(t).forEach((function(s){t.hasOwnProperty(s)&&(i.settings[e][s]=t[s])})):this.settings[e]=t},n.prototype.createSpotCaption=function(e,t,i){var s=document.createElement("div");s.setAttribute("class","publisher-sh-spot-caption");var o,n=document.createElement("a");n.setAttribute("style","color:#999;font-size:11px;font-family:sans-serif;text-decoration:none;"),n.setAttribute("target","_blank"),n.setAttribute("href",i.link),i.icon?((o=document.createElement("img")).src=i.icon,n.appendChild(o),n.appendChild(document.createTextNode(i.text)),o.setAttribute("style","width:17px; height:17px; display:inline-block; vertical-align:middle; margin-right:3px;")):((o=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("version","1"),o.setAttribute("fill","#6f7070"),o.setAttribute("role","img"),o.setAttribute("aria-label","ShowHeroes"),o.setAttribute("viewBox","0 0 283.5 31.2"),o.appendChild(this.getSVGNode("title","ShowHeroes")),o.appendChild(this.getSVGNode("path","M10.1,18.2c-1-0.3-2.8-0.7-4.4-1.8C3.4,14.8,2.1,12.5,2,9.7c-0.1-2.3,0.6-4.4,2.1-6c2.2-2.2,5.3-2.9,6.8-2.9 c4.2,0,6.6,1.5,8.7,2.9l1,0.6l-3,5l-1-0.7c-1.9-1.2-3.1-2-5.6-2C10.5,6.7,9,7,8.3,7.8C8,8.1,7.7,8.5,7.8,9.5c0,1.5,1.1,2.3,3.8,3 c0.3,0.1,0.6,0.2,0.8,0.2c2.8,1,5,2.2,6.5,3.9s2.3,3.6,2.3,5.7c0,2-0.9,4.2-2.3,5.8c-1.7,1.9-4.1,3-6.7,3c-1.3,0-3-0.1-5.1-0.7 c-2.6-0.8-5-2.3-7-4.4l4.2-4c3.1,3.3,6.5,3.3,7.8,3.3c2.4,0,3.2-2.2,3.2-3c0-1.6-1.8-3-4.8-4.1h-0.1L10.1,18.2z")),o.appendChild(this.getSVGNode("polygon","42.3,1.4 42.3,12.5 31.5,12.5 31.5,1.4 25.7,1.4 25.7,30.5 31.5,30.5 31.5,18.4 42.3,18.4 42.3,30.5   48.2,30.5 48.2,1.4")),o.appendChild(this.getSVGNode("path","M58.5,15.9c0,5,4.1,9.1,9.1,9.1s9.1-4.1,9.1-9.1s-4.1-9.1-9.1-9.1C62.6,6.8,58.5,10.9,58.5,15.9 M82.8,15.9   C82.8,24.2,76,31,67.7,31s-15.1-6.8-15.1-15.1S59.4,0.8,67.7,0.8C76,0.8,82.8,7.6,82.8,15.9")),o.appendChild(this.getSVGNode("polygon","115.2,1.3 107.6,17.5 100,1.3 93.5,1.3 99.2,12.8 96.6,17.7 88.8,1.3 82.3,1.3 95.7,30.5 97.1,30.5   102,19.8 106.9,30.5 108.3,30.5 121.7,1.3")),o.appendChild(this.getSVGNode("polygon","145,0.7 145,11.8 134.2,11.8 134.2,0.7 128.4,0.7 128.4,29.8 134.2,29.8 134.2,17.7 145,17.7   145,29.8 150.9,29.8 150.9,0.7")),o.appendChild(this.getSVGNode("polygon","155.9,0.6 155.9,29.8 175.2,29.8 175.2,24 161.7,24 161.7,17.7 173,17.7 173,11.8 161.7,11.8   161.7,6.4 175.3,6.4 175.3,0.6")),o.appendChild(this.getSVGNode("path","M186.2,6.4v5.9h5.2c1.6,0,2.9-1.3,2.9-2.9s-1.3-3-2.9-3C191.4,6.4,186.2,6.4,186.2,6.4z M194.5,29.8L189,18.1   h-2.9v11.7h-5.8V0.6h11c4.8,0,8.7,4,8.7,8.8c0,3.5-2.1,6.6-5.1,8l5.8,12.5h-6.2V29.8z")),o.appendChild(this.getSVGNode("path","M209,15.2c0,5,4.1,9.1,9.1,9.1s9.1-4.1,9.1-9.1s-4.1-9.1-9.1-9.1C213.1,6.1,209,10.2,209,15.2 M233.3,15.2   c0,8.3-6.8,15.1-15.1,15.1s-15.1-6.8-15.1-15.1s6.8-15.1,15.1-15.1C226.5,0.1,233.3,6.9,233.3,15.2")),o.appendChild(this.getSVGNode("polygon","238.3,0.6 238.3,29.8 257.6,29.8 257.6,24 244.1,24 244.1,17.7 255.4,17.7 255.4,11.8 244.1,11.8   244.1,6.4 257.8,6.4 257.8,0.6")),o.appendChild(this.getSVGNode("path","M272.5,17.4c-1-0.2-2.7-0.7-4.4-1.8c-2.3-1.5-3.6-3.8-3.8-6.6c-0.1-2.3,0.6-4.4,2.1-6c2.2-2.3,5.3-2.9,6.8-2.9   c4.3,0,6.6,1.5,8.8,2.9l1,0.6l-3,5l-1-0.7c-1.9-1.2-3.1-2-5.6-2c-0.4,0-1.8,0.3-2.6,1.1c-0.2,0.3-0.5,0.7-0.5,1.7   c0,1.5,1.1,2.3,3.8,3c0.3,0.1,0.6,0.2,0.8,0.2c2.8,1,5,2.2,6.5,3.9s2.3,3.6,2.3,5.7c0,2-0.9,4.2-2.3,5.8c-1.7,1.9-4.1,3-6.7,3   c-1.3,0-3-0.1-5.1-0.7c-2.6-0.8-5-2.3-7-4.4l4.3-4c3.1,3.3,6.5,3.3,7.8,3.3c2.4,0,3.2-2.2,3.2-3c0-1.6-1.8-3-4.8-4.1H273   L272.5,17.4z")),n.appendChild(document.createTextNode(i.text)),n.appendChild(o),o.setAttribute("style","width:82px; height:12px; display:inline-block; vertical-align:text-top;margin-left:3px;")),s.appendChild(n),s.style.textAlign="left",s.style.display="block",s.style.margin="0 auto",s.style.width=t.toString()+"px",this.captions[e]=s,this.insertAfterWidget(e,s)},n.prototype.getSVGNode=function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg",e);return"path"===e?i.setAttribute("d",t):"polygon"===e?i.setAttribute("points",t):i.textContent=t,i},n.prototype.adjustSpotCaptionWidth=function(e,t){e in this.captions&&(this.captions[e].style.width=t.toString()+"px")},n.prototype.appendSpotMeasure=function(e){var t=document.createElement("div");t.setAttribute("class","publisher-sh-spot-measure"),t.setAttribute("data-iframe-id",e),t.style.width="100%",t.style.maxWidth=this.device.isDesktop()?"1440px":"500px",t.style.height="1px",this.measures[e]=t,this.insertAfterWidget(e,t)},n.prototype.onIframeResized=function(e){this.recalculateShape(e)},n.prototype.onWebsiteWindowResized=function(){for(var e=0;e<this.iframesCollection.iframeIds.length;e++)this.recalculateShape(this.iframesCollection.iframeIds[e])},n.prototype.setFullscreenOn=function(e,t,i){if(this.fullscreenEnabled=!0,this.stopViewportWatching(e),!i){var s=this.websiteIframe||this.iframesCollection.iframes[e];this.websiteIframe&&(this.iframesCollection.iframes[e].parentNode.style.position="static");var o=this.websiteWindow.document.querySelector("body");o.setAttribute("data-prev-overflow",o.style.overflow);var n=this.websiteWindow.document.querySelector("body");n.setAttribute("data-prev-overflow",n.style.overflow),o.style.overflow="hidden",n.style.overflow="hidden",s.setAttribute("data-prev-style",s.getAttribute("style")),s.setAttribute("style","display:block; width:100%; height:100%; position:fixed; top:0; left:0; right:0; bottom:0; z-index:99999999; border:0; background:#888;");var r=s.parentNode.children["google-ima-sdk-wrapper"];if(r&&r.childNodes.length){var a=r.style.pointerEvents,d=r.style.visibility;r.setAttribute("data-prev-style",s.getAttribute("style")),r.setAttribute("style","display:block; width:100%; height:100%; position:fixed; top:0; left:0; right:0; bottom:0; z-index:99999999; border:0; background:#888;"),r.style.pointerEvents=a,r.style.visibility=d}this.websiteWindow.document.querySelector(".jPanelMenu-panel")&&(this.websiteWindow.document.querySelector(".jPanelMenu-panel").style.transform="none"),this.websiteWindow.document.querySelector("#mainContainer")&&(this.websiteWindow.document.querySelector("#mainContainer").style.transform="none",this.websiteWindow.document.querySelector("#mainContainer").style.webkitTransform="none",this.websiteWindow.document.querySelector("#mainContainer").style.mozTransform="none")}},n.prototype.setFullscreenOff=function(e,t){if(this.fullscreenEnabled=!1,t)this.watchViewport();else{var i=this.websiteIframe||this.iframesCollection.iframes[e];if(this.websiteIframe&&(this.iframesCollection.iframes[e].parentNode.style.position="relative"),i.getAttribute("data-prev-style")){i.setAttribute("style",i.getAttribute("data-prev-style")),i.removeAttribute("data-prev-style");var s=this.websiteWindow.document.querySelector("body");s.style.overflow=s.getAttribute("data-prev-overflow");var o=this.websiteWindow.document.querySelector("body");o.style.overflow=o.getAttribute("data-prev-overflow")}var n=i.parentNode.children["google-ima-sdk-wrapper"];if(n&&n.childNodes.length){var r=n.style.pointerEvents,a=n.style.visibility;n.setAttribute("style",n.getAttribute("data-prev-style")),n.removeAttribute("data-prev-style"),n.style.pointerEvents=r,n.style.visibility=a}this.websiteWindow.document.querySelector(".jPanelMenu-panel")&&(this.websiteWindow.document.querySelector(".jPanelMenu-panel").style.transform="translate3d(0px, 0px, 0px)"),this.websiteWindow.document.querySelector("#mainContainer")&&(this.websiteWindow.document.querySelector("#mainContainer").style.transform="translate3d(0px, 0px, 0px)",this.websiteWindow.document.querySelector("#mainContainer").style.webkitTransform="translate3d(0px, 0px, 0px)",this.websiteWindow.document.querySelector("#mainContainer").style.mozTransform="translate3d(0px, 0px, 0px)");var d=this;setTimeout((function(){d.watchViewport()}),1e3)}},n.prototype.onIframeResize=function(e,t){var i=t.width,s=t.height;(i||s)&&this.onMessageMakeShapeFixed({publisherIframeId:e,aspectRatio:1/s/i,width:i,height:s})},n.prototype.destroySpot=function(e){for(i=0;i<this.iframesCollection.iframeIds.length;i++)if(this.iframesCollection.iframeIds[i]===e){var t=this.getWidgetTargetElement(this.iframesCollection.iframeIds[i]);t.parentNode&&t.parentNode.removeChild(t)}this.iframesCollection.forget(e),this.forget(e)},n.prototype.startTouchListening=function(e,t){var i,s,o,n,r,a=e,d=(t=t||{}).touchstart||function(){},l=t.touchmove||function(){},c=t.touchend||function(){},p=e._touchstart_=function(e){var t=e.changedTouches[0];i="none",s=t.pageX,o=t.pageY,d(s,o)},u=e._touchmove_=function(e){var t=e.changedTouches[0];n=t.pageX-s,r=t.pageY-o,i=Math.abs(n)>=Math.abs(r)?n<0?"left":"right":r<0?"up":"down",l(i,n,r)},h=e._touchend_=function(e){var t=e.changedTouches[0];n=t.pageX-s,r=t.pageY-o,i=Math.abs(n)>=Math.abs(r)?n<0?"left":"right":r<0?"up":"down",c(i,n,r)};a.addEventListener("touchstart",p,!0),a.addEventListener("touchmove",u,!0),a.addEventListener("touchend",h,!0)},n.prototype.stopTouchListening=function(e){e.removeEventListener("touchstart",e._touchstart_,!0),e.removeEventListener("touchmove",e._touchmove_,!0),e.removeEventListener("touchend",e._touchend_,!0)},e.exports=n},function(e,t){var i=function(e){this.target=e.target,this.options=e.options,this.ratio=null,this.pubSub=e.pubSub,this.iframeId=e.iframeId,this.init()};i.prototype.init=function(){this.observer=new IntersectionObserver(this.handleIntersect.bind(this),this.options),this.observer.observe(this.target)},i.prototype.handleIntersect=function(e){var t=null;if(e.forEach((function(e){(!t||e.time>t.time)&&(t=e)})),t){var i=0,s=0,o=t.intersectionRatio;if(o>0&&(i=1,s=o),Math.round(100*s)===this.ratio)return;this.ratio=Math.round(100*s),this.pubSub.publish("pubtag.changeViewability",{ratio:this.ratio,status:i,iframeId:this.iframeId})}},i.prototype.stopObserve=function(){this.observer.unobserve(this.target)},e.exports=i},function(e,t){var i=function(e,t,i,s,o,n,r,a,d,l){this.playerHost=t,this.zoneHost=e,this.widgetHost=i,this.pageUrl=s,this.device=o,this.pageUrl.indexOf("#")>0&&(this.pageUrl=this.pageUrl.substr(0,this.pageUrl.indexOf("#"))),this.isDesktop=this.device.isDesktop(),this.isNative=n,this.playerParams=r,this.isInsidePreviewIframe=a,this.isIOSFBInstantArticle=this.device.isIOSFBInstantArticle(),this.hasNoadPassbackListener=d,this.isSafeFrame=l,this.objToString=function(e){var t="&";for(var i in e)e.hasOwnProperty(i)&&void 0!==e[i]&&(t+=i+"="+e[i]+"&");return t.replace(/&$/,"")};var c=parseInt(this.device.browser.major,10),p="Firefox"===this.device.browser.name;this.FFHack=this.isDesktop&&p&&c>=72};i.prototype.makeSrc=function(e,t,i){var s=e.classList.contains("showheroes-spot-polls"),o=e.getAttribute("data-zone")||e.getAttribute("data-config")||null,n=e.getAttribute("data-player")||null,r=e.getAttribute("data-placement")||null,a=e.getAttribute("data-poll")||null,d=e.getAttribute("data-video")||null,l=e.getAttribute("data-version")||null,c=e.getAttribute("data-canvas")||null,p=e.getAttribute("data-footer-caption")||1,u=e.getAttribute("data-debug")||this.pageUrl.indexOf("pubtag_debug=1")>=0||null,h=e.getAttribute("data-vpaid")||null,f=("boolean"==typeof window.allowAdTracking?window.allowAdTracking?"in":"out":null)||e.getAttribute("data-opt-state")||null,m=e.getAttribute("data-autoplay")||null,g=e.getAttribute("data-amp-autoplay")||null,w=e.getAttribute("data-macros")||null,b=e.getAttribute("data-noad-passback-listener")||null,y=e.getAttribute("data-spot-size")||null,v=e.getAttribute("data-max-width")||null,A=e.getAttribute("data-max-height")||null,I=e.getAttribute("data-onhover-unmute")||null,S=e.getAttribute("data-aspect-ratio")||null,C=e.getAttribute("data-skin")||null,k=e.getAttribute("data-vast-1")||null,_=e.getAttribute("data-sas-network-id")||null,x=e.getAttribute("data-sas-integration")||null,E=e.getAttribute("data-playlist-id")||null,P=e.getAttribute("data-hard-autoplay")||null,T="";if(!0===this.device.isAutoplayDisallow&&(P=!1),n||1!=x||(n="8ed4bab6-26ef-490f-9e09-82d1ab962406"),o&&n)throw{message:"Either data-zone or data-player attribute is allowed for placeholder, but not both simultaneously",debugEvent:"integration-invalid"};if(!(o||n||r||a))throw{message:"Neither data-zone nor data-player nor data-placement nor data-poll attribute is found for placeholder. At least one is required",debugEvent:"integration-invalid"};if(w)try{void 0!==(w=JSON.parse(decodeURIComponent(w))).pageurl&&/^http/.test(w.pageurl)&&(this.pageUrl=w.pageurl,delete w.pageurl),void 0!==w.player_type&&(T=w.player_type,delete w.player_type),void 0!==w.user_consent_string&&t&&i&&(t.consentData=w.user_consent_string),void 0!==w.gdpr_applies&&t&&i&&(t.gdprApplies=w.gdpr_applies)}catch(e){}var M=this.playerHost;return s?M=this.widgetHost:o&&(M=this.zoneHost),M+(s?"/delivery/p":"/spot/iframe")+"?pageurl="+encodeURIComponent(this.pageUrl)+(o?"&zone="+encodeURIComponent(o):"")+(n?"&player="+encodeURIComponent(n):"")+(r?"&pid="+encodeURIComponent(r):"")+(a?"&pollid="+encodeURIComponent(a):"")+(T?"&player_type="+encodeURIComponent(T):"")+(d?"&video="+encodeURIComponent(d):"")+(l?"&ver="+encodeURIComponent(l):"")+(u?"&debug="+encodeURIComponent(u):"")+(y?"&spsize="+encodeURIComponent(y):"")+(v?"&maxvpw="+encodeURIComponent(v):"")+(A?"&maxvph="+encodeURIComponent(A):"")+(I?"&onhvrunmt="+encodeURIComponent(I):"")+(S?"&aspctr="+encodeURIComponent(S):"")+(C?"&skin="+encodeURIComponent(C):"")+(k?"&advst1="+encodeURIComponent(k):"")+(_?"&sasnetid="+encodeURIComponent(_):"")+(this.hasNoadPassbackListener||b?"&noad=1":"")+(h?"&vpaid=1":"")+(this.isSafeFrame?"&sfd=1":"")+(p?"&footer="+encodeURIComponent(p):"")+(e.getAttribute("data-publisher-id")?"&publisherid="+encodeURIComponent(e.getAttribute("data-publisher-id")):"")+(e.getAttribute("data-ad-vast-tag")?"&advasttag="+encodeURIComponent(e.getAttribute("data-ad-vast-tag")):"")+(e.getAttribute("data-passback-url")?"&passbackurl="+encodeURIComponent(e.getAttribute("data-passback-url")):"")+(e.getAttribute("data-tracking-url")?"&trackingurl="+encodeURIComponent(e.getAttribute("data-tracking-url")):"")+(e.getAttribute("data-click-tracking")?"&clicktracking="+encodeURIComponent(e.getAttribute("data-click-tracking")):"")+(this.isDesktop?"&desktop=true":"")+(w?"&cmacros="+encodeURIComponent(JSON.stringify(w)):"")+(f?"&opt_state="+encodeURIComponent(f):"")+(c?"&native=false":this.isNative||this.isInsidePreviewIframe||this.isIOSFBInstantArticle?"&native=true":"")+(this.playerParams?"&"+this.playerParams:"")+(P||!(this.isInsidePreviewIframe||this.isIOSFBInstantArticle||this.device.isAutoplayDisallow)||g?m?"&sh_ap="+encodeURIComponent(m):"":"&sh_ap=0")+(t?this.objToString(t):"")+(E?"&plst="+encodeURIComponent(E):"")},i.prototype.compose=function(e,t){var i=document.createElement("div");i.setAttribute("style","width:100%;margin:0 auto;min-width:240px;max-width:"+(this.isDesktop?1440:500)+"px;");var s=document.createElement("div");s.setAttribute("style","position:relative;display:block;height:0;padding:0;overflow:hidden;padding:0 0 2px 0;box-sizing:border-box;");var o=document.createElement("iframe");if(o.setAttribute("style","position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0;overflow:hidden;box-shadow:none !important;"),o.setAttribute("id",t),o.setAttribute("name",t),this.FFHack||o.setAttribute("src","javascript:void(0)"),o.setAttribute("scrolling","no"),o.setAttribute("allowfullscreen","allowfullscreen"),o.setAttribute("allow","autoplay"),s.appendChild(o),i.appendChild(s),"interscroller"===e.getAttribute("data-integration-mode")){var n=e.getAttribute("data-bg-color")||"#27bc9c",r=document.documentElement.clientWidth,a=document.documentElement.clientHeight,d=(r-e.clientWidth)/2,l=document.createElement("div");l.setAttribute("style","position: relative;min-height: "+a+"px;");var c=document.createElement("div");c.setAttribute("style","overflow: hidden; display: block; width: "+r+"px; height: "+a+"px; position: absolute; left: -"+d+"px; right: auto; top: 0px; bottom: auto;");var p=document.createElement("div");p.setAttribute("style","position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; margin: 0px; padding: 0px; overflow: hidden; clip-path: inset(0px); clip: rect(0px auto auto 0px);");var u=document.createElement("div");u.setAttribute("style","position: fixed;top: auto;left: 0px;width: 100%;height: 100%;margin: 0px;padding: 0px;bottom: 0px;transform: translateZ(0px); background: "+n+";");var h=document.createElement("div");return h.classList.add("interscroller"),h.setAttribute("style","text-align: center;"),h.appendChild(i),u.appendChild(h),p.appendChild(u),c.appendChild(p),l.appendChild(c),l}return i},e.exports=i},function(e,t){var i=function(e,t,i,s){var o;this.iframes={},this.iframeIds=[],this.iframePositions={},this.iframeViewport={},this.iframeConfigs={},this.iframePlayCalled={},this.debugLogger=e,this.websiteWindow=t,this.websiteIframe=i||null,this.isSafeFrame=s,this.leavedTab=!1,this.getUniqueId=(o=0,function(){return o++})};i.prototype.message=function(e,t){this.iframes[e]?("play"!==t.intent||this.iframePlayCalled[e]||(this.iframePlayCalled[e]=!0,this.debugLogger.log("pubtag-play","isSafeFrame: "+this.isSafeFrame+"; Viewport: "+JSON.stringify(this.iframeViewport[e]||"")+"; Positions: "+JSON.stringify(this.iframePositions[e]||"")+"; Configs: "+JSON.stringify(this.iframeConfigs[e]||""),{player_id:this.iframeConfigs[e].playerId})),this.iframeConfigs[e].eventBus.dispatchEvent(t.intent,t)):this.forget(e)},i.prototype.add=function(e){this.debugLogger.log("player-loaded"),this.iframeConfigs[e]=this.iframeConfigs[e]||{};var t=document.getElementById(e);this.iframes[e]=t,this.iframeIds.push(e),this.iframeConfigs[e]._id=this.getUniqueId(),this.recalculatePositions();var i="";try{i=this.websiteWindow.document.title}catch(e){}this.message(e,{intent:"publisherIframeId",publisherIframeId:e,pageTitle:i,placedInIframe:null!==this.websiteIframe}),this.isSafeFrame?this.message(e,{intent:"size",width:$sf.ext.geom().self.w,height:$sf.ext.geom().self.h,windowWidth:$sf.ext.geom().win.w,windowHeight:$sf.ext.geom().win.h,isSafeFrame:!0}):this.message(e,{intent:"size",width:this.iframePositions[e].width,height:this.iframePositions[e].height,windowWidth:this.websiteWindow.innerWidth,windowHeight:this.websiteWindow.innerHeight}),this.message(e,{intent:"loaded"})},i.prototype.forget=function(e){var t=!1;this.watchPositionsInterval&&(t=!0,clearInterval(this.watchPositionsInterval),this.watchPositionsInterval=null),this.iframeConfigs[e].eventBus.clearAll(),e in this.iframes&&delete this.iframes[e],e in this.iframePositions&&delete this.iframePositions[e],e in this.iframeViewport&&delete this.iframeViewport[e],this.iframeIds.indexOf(e)>-1&&this.iframeIds.splice(this.iframeIds.indexOf(e),1),t&&this.watchPositions()},i.prototype.getConfigs=function(e){return this.iframeConfigs[e]},i.prototype.recalculatePositions=function(){for(var e,t=0;t<this.iframeIds.length;t++){if(this.iframeIds[t]in this.iframePositions||(this.iframePositions[this.iframeIds[t]]={}),this.iframeIds[t]in this.iframeViewport||(this.iframeViewport[this.iframeIds[t]]={top:.2,bottom:.8,delay:0,setted:!1}),!this.isSafeFrame){this.iframePositions[this.iframeIds[t]].offsetTop=0,e=this.websiteIframe?this.websiteIframe:this.iframes[this.iframeIds[t]];do{this.iframePositions[this.iframeIds[t]].offsetTop+=e.offsetTop,e=e.offsetParent}while(e&&"body"!=e.tagName.toLowerCase()&&"html"!=e.tagName.toLowerCase())}this.iframePositions[this.iframeIds[t]].width=this.iframes[this.iframeIds[t]].offsetWidth,this.iframePositions[this.iframeIds[t]].height=this.iframes[this.iframeIds[t]].offsetHeight}},i.prototype.watchPositions=function(){var e=this;this.watchPositionsInterval=setInterval((function(){e.recalculatePositions()}),1e3)},i.prototype.watchActiveTab=function(){var e=this,t=["moz","ms","o","webkit"],i=!0;function s(e){return e?e+"Hidden":"hidden"}var o=function(){for(var e=0;e<t.length;e++)if(s(t[e])in document)return t[e];return null}(),n=s(o),r=(o||"")+"visibilitychange";function a(){i||(i=!0,e.checkActiveTab(!0))}function d(){i&&(i=!1,e.checkActiveTab(!1))}function l(t){if("boolean"==typeof t){if(t)return a();if(e.websiteWindow.document.activeElement.tagName==="iframe".toUpperCase())return;return d()}return e.websiteWindow.document[n]?d():a()}this.websiteWindow.document.addEventListener(r,l,!1);var c=function(){l(!0)},p=function(){l(!1)};this.websiteWindow.document.addEventListener("focus",c,!1),this.websiteWindow.document.addEventListener("blur",p,!1),this.websiteWindow.addEventListener("focus",c,!1),this.websiteWindow.addEventListener("blur",p,!1),this.removeListeners=function(){e.websiteWindow.document.removeEventListener(r,l),e.websiteWindow.document.removeEventListener("focus",c),e.websiteWindow.document.removeEventListener("blur",p),e.websiteWindow.removeEventListener("focus",c),e.websiteWindow.removeEventListener("blur",p)}},i.prototype.checkActiveTab=function(e){for(var t=0;t<this.iframeIds.length;t++)!0===this.iframePositions[this.iframeIds[t]].inViewport&&(e?this.message(this.iframeIds[t],{intent:"play"}):this.message(this.iframeIds[t],{intent:"end-current"}))},i.prototype.stopActiveTabWatching=function(){"function"==typeof this.removeListeners&&this.removeListeners()},i.prototype.setCMP=function(e){var t=this,i=(new Date).getTime(),s=function(){for(var i=0;i<t.iframeIds.length;i++)t.message(t.iframeIds[i],{intent:"cmpData",data:e})};if(0===this.iframeIds.length)var o=setInterval((function(){var e=(new Date).getTime();t.iframeIds.length>0?(s(),clearInterval(o)):e-i>=2e3&&clearInterval(o)}),100);else s()},e.exports=i},function(e,t){e.exports=function(e){var t=e.document.querySelector("html");t&&(t.style.margin="0",t.style.padding="0");var i=e.document.querySelector("body");i&&(i.style.margin="0",i.style.padding="0",i.style.background="transparent")}},function(e,t){e.exports=function(e){var t=this;this.pageUrl=e,this.keywords=null,this.keywordsApi=null,this.setKeywords=function(e){t.keywords=e},this.setKeywordsApi=function(e){t.keywordsApi=e},this.getKeywordsApi=function(){return t.keywordsApi},this.getPageUrl=function(){return t.pageUrl}}},function(e,t,i){self,e.exports=(()=>{"use strict";var e={579:(e,t,i)=>{var s;t.default=void 0;var o=((s=i(903))&&s.__esModule?s:{default:s}).default;t.default=o},903:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,o=(s=i(105))&&s.__esModule?s:{default:s};function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSafeFrame=t,this.timeout=1500}var t;return(t=[{key:"init",value:function(e,t,i){if(this.cmpReturn=e,this.cmpReturnWaiting=t,i)new o.default(this.cmpReturn,this.cmpReturnWaiting,this.timeout).init();else if(window.__tcfapi&&"function"==typeof window.__tcfapi)this.tcfInsertDirectly("getTCData");else if(window.__cmp&&"function"==typeof window.__cmp)this.cmpInsertDirectly("getConsentData");else if(this.isSafeFrame&&"function"==typeof window.$sf.ext.cmp)this.cmpReturn({});else{for(var s,n,r=window;!s||!n;){try{r.frames.__tcfapi?n=r:r.frames.__cmp&&(s=r)}catch(e){}if(r===window.top)break;r=r.parent}s?this.whileInIframe("getConsentData",s,"__cmp"):n?this.whileInIframe("getTCData",n,"__tcfapi"):this.cmpReturn({})}}},{key:"cmpInsertDirectly",value:function(e){var t=window.__cmp,i=this,s=null,o=(new Date).getTime(),n=!1,r=setInterval((function(){var e=(new Date).getTime();s?(clearInterval(r),i.cmpReturn({cmp:s})):!s&&e-o>=i.timeout&&(n=!0,clearInterval(r),i.cmpReturn({}))}),100);t(e,null,(function(e){s=e,n&&i.cmpReturnWaiting({cmp:s})}))}},{key:"tcfInsertDirectly",value:function(e){var t,i=this,s=null,o=(new Date).getTime(),n=!1,r=!1,a=setInterval((function(){var e=(new Date).getTime();s&&!n?(i.cmpReturn({tcf:s}),clearInterval(a)):!s&&e-o>=i.timeout&&!n?(n=!0,i.cmpReturn({})):r||d()}),100),d=function(){window.__tcfapi("ping",2,(function(e,t){e&&e.cmpLoaded&&"loaded"===e.cmpStatus&&(r=!0,l())}))},l=function o(){window.__tcfapi(e,2,(function(e,r){"useractioncomplete"===e.eventStatus||"tcloaded"===e.eventStatus?(s=e,n&&(i.cmpReturnWaiting({tcf:s}),clearInterval(a)),t&&clearInterval(t)):t||(t=setInterval((function(){o()}),100))}))}}},{key:"cmpWhileInSafeFrame",value:function(e){var t=this;window.$sf.ext.register(1,1,(function(i,s){if("cmpReturn"===i){var o="getConsentData"===e?s.vendorConsentData:s.vendorConsents;t.cmpReturn({cmp:o})}})),window.$sf.ext.cmp(e)}},{key:"whileInIframe",value:function(e,t,i){var s,o="__tcfapi"===i,r=this,a=!1,d=(new Date).getTime(),l=setInterval((function(){var e=(new Date).getTime();s?(clearInterval(l),r.cmpReturn(n({},o?"tcf":"cmp",s))):!s&&e-d>=r.timeout&&(a=!0,clearInterval(l),r.cmpReturn({}))}),100);function c(e){try{e.data&&e.data[i+"Return"]&&(s=e.data[i+"Return"].returnValue,a&&r.cmpReturnWaiting(n({},o?"tcf":"cmp",s)))}catch(e){r.cmpReturn({})}}t?(window[i]=o?function(e,s,o,r){var a=Math.random()+"",d=n({},i+"Call",{command:e,parameter:r,version:s,callId:a});t.postMessage(d,"*")}:function(e,s,o){var r=Math.random()+"",a=n({},i+"Call",{command:e,parameter:s,callId:r});t.postMessage(a,"*")},window.addEventListener("message",c,!1),t[i](e,o?2:null,(function(e,t){o&&!t||(window.removeEventListener("message",c,!1),r.cmpReturn(n({},o?"tcf":"cmp",e)),s=e,a&&r.cmpReturnWaiting(n({},o?"tcf":"cmp",s)))}))):r.cmpReturn({})}}])&&function(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}();t.default=r},105:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(t,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cmpReturn=t,this.cmpReturnWaiting=i,this.outOfTime=!1,this.setGDPR=!1,this.timeout=s}var t;return(t=[{key:"init",value:function(){var e=this;setTimeout((function(){e.setGDPR||(e.outOfTime=!0,e.cmpReturn({}))}),this.timeout),window.addEventListener("message",this.handler.bind(this)),window.parent.postMessage({sentinel:"amp",type:"send-consent-data"},"*")}},{key:"handler",value:function(e){if(this.isAmpMessage(e,"consent-data")){if(e.data&&e.data.consentString&&e.data.consentPolicyState){var t={tcString:e.data.consentString,gdprApplies:e.data.consentPolicyState};this.outOfTime?this.cmpReturnWaiting({tcf:t}):(this.setGDPR=!0,this.cmpReturn({tcf:t}))}else this.cmpReturn({});window.removeEventListener("message",this.handler.bind(this))}}},{key:"isAmpMessage",value:function(e,t){return e.source==window.parent&&e.origin!=window.location.origin&&e.data&&"amp"==e.data.sentinel&&e.data.type==t}}])&&function(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}();t.default=i}},t={};return function i(s){if(t[s])return t[s].exports;var o=t[s]={exports:{}};return e[s](o,o.exports,i),o.exports}(579)})().default},function(e,t,i){var s=i(26),o=i(27),n=function(e,t,i,s,n,r,a){this.pageUrl=s,this.iframesCollection=e,this.spotRectangleChanger=t,this.adFlows=i,this.pubSub=a,this.settingsByIframe={},this.injectedScripts=[],this.debugLogger=n,this.adwaysSDK=r,window.shpbjs=window.shpbjs||{},o.call(this,e,this.debugLogger)};(n.prototype=Object.create(o.prototype)).constructor=n,n.prototype.setup=function(e,t){var i=this.spotRectangleChanger.getWidgetTargetElement(e),s=this.iframesCollection.getConfigs(e),o="showheroes-"+s._id,n=t.smartAdServerTag.enabled,r="video-"+o,a="display-"+o,d="nonlinear-"+o;n&&(t.smartAdServerTag.minimumCPM=t.minimumCPM,void 0===window.sas?this.initSmart(s.playerId):window.sasSetupSetted||(n=!1,this.debugLogger.log("prebid","SAS tag was set before SH holistic. Disable SAS.",{player_id:s.playerId}))),this.settingsByIframe[e]={sasEnabled:n,config:t,spot:i,videoBidders:t.adUnits.video,displayBidders:t.adUnits.display,nonLinearBidders:t.adUnits.nonLinear,videoCode:r,displayCode:a,nonLinearCode:d,playerWidth:t.playerWidth},(t.adUnits.video||t.adUnits.display||t.adUnits.nonLinear)&&this.initPrebid(t,e);var l=i;if(i.childNodes.length)for(var c=0;c<i.childNodes.length;c++)"DIV"===i.childNodes[c].nodeName.toUpperCase()&&(l=i.childNodes[c]);this.createNode(r,i),this.createNode(a,l,"text-align: center;")},n.prototype.initPrebid=function(e,t){var i=this;this.prebidInited=!0,s("stage_pubtag",this.pageUrl)?this.injectScript("https://pubtag.stage.showheroes.com/prebid.v1.js","prebid"):this.injectScript("https://static.showheroes.com/prebid.v1.js","prebid"),window.shpbjs.que=[],window.shpbjs.que.push((function(){window.shpbjs.aliasBidder("pubmatic","pubmatic-video"),window.shpbjs.aliasBidder("grid","themediagrid-display"),window.shpbjs.aliasBidder("grid","themediagrid-video"),window.shpbjs.aliasBidder("yieldlab","yieldlab-display"),window.shpbjs.aliasBidder("spotx","spotx-goldbach"),window.shpbjs.aliasBidder("spotx","spotx-showheroes"),window.shpbjs.aliasBidder("appnexus","appnexus-video"),window.shpbjs.aliasBidder("appnexus","appnexus-omg"),window.shpbjs.aliasBidder("criteo","criteo-video"),window.shpbjs.aliasBidder("mgid","mgid-display"),window.shpbjs.onEvent("bidResponse",(function(e){i.iframesCollection.message(t,{intent:"bidResponse",bid:e})})),window.shpbjs.onEvent("bidderDone",(function(e,s){!1===s&&i.iframesCollection.message(t,{intent:"bidError",bid:e.bids.length?e.bids[0]:{}})})),window.shpbjs.onEvent("bidRequested",(function(e){i.iframesCollection.message(t,{intent:"bidRequested",bid:e.bids.length?e.bids[0]:{}})}))})),window.shpbjs.que.push((function(){window.shpbjs.setConfig({priceGranularity:"dense",currency:e.currency,consentManagement:{cmpApi:"static",allowAuctionWithoutConsent:!1,consentData:{getConsentData:{gdprApplies:1==e.gdpr.gdprApplies,hasGlobalScope:!1,consentData:e.gdpr.consentData},getVendorConsents:{metadata:"",meta:""},getTCData:{tcString:e.gdpr.consentData,gdprApplies:1==e.gdpr.gdprApplies}}},cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},debug:e.debug,bidderTimeout:700,userSync:{filterSettings:{all:{bidders:["pubmatic","pubmatic-video","appnexus-xaxis","appnexus-xaxis-interstitial","appnexus","appnexus-video","appnexus-omg","danmarket","danmarket-video","rubicon","justpremium","criteo","criteo-video","adform","adformAG","adhese","mgid-display"],filter:"include"}},syncDelay:6e3}})}))},n.prototype.startPrebidAuction=function(e,t,i,s,o){t.length&&window.shpbjs.que.push((function(){window.shpbjs.addAdUnits(t),window.shpbjs.requestBids({adUnitCodes:[s],timeout:3e3,bidsBackHandler:i})}));var n=this.settingsByIframe[e],r=s.indexOf("display")>=0;if(n.config.smartAdServerTag.enabled){var a=n.config.smartAdServerTag.videoFormatId;r&&(a=n.config.smartAdServerTag.displayFormatId),a&&this.smartCall(n.config.smartAdServerTag,n.spot,e,s,[{id:a,tagId:s}],o),!t.length&&r&&window.sas.cmd.push((function(){window.sas.render(s)}))}},n.prototype.checkSmartHBAds=function(e,t){window.sas.render(this.settingsByIframe[e][t+"Code"])},n.prototype.startVideoAuction=function(e,t){if(this.settingsByIframe[e]){this.settingsByIframe[e].sas=this.settingsByIframe[e].sas||{};var i,s=[],o=this.settingsByIframe[e],n=o.config,r=o.videoBidders;r&&r.bids&&r.bids.length&&(r.code=o.videoCode,this.customiseBidders(e,r.bids),s.push(r)),s.length&&(i=this.bidsBackHandler.bind(this,o.spot,e,o.videoCode,n.minimumCPM)),o.sasEnabled&&!o.sas[o.videoCode]&&(i=this.smartBidsBackHandler.bind(this,n.minimumCPM,o.videoCode,o.spot,e),this.settingsByIframe[e].sas[o.videoCode]=!0),i?this.startPrebidAuction(e,s,i,o.videoCode,t):this.iframesCollection.message(e,{intent:"auctionIsEnded",type:"video",empty:!0})}},n.prototype.startDisplayAuction=function(e,t){var i,s=[],o=this.settingsByIframe[e],n=o.config,r=o.displayBidders;r&&r.bids&&r.bids.length&&(r.code=o.displayCode,this.customiseBidders(e,r.bids),s.push(r)),s.length&&(i=this.bidsBackHandler.bind(this,o.spot,e,o.displayCode,n.minimumCPM)),o.sasEnabled&&n.smartAdServerTag.displayFormatId&&(i=this.smartBidsBackHandler.bind(this,n.minimumCPM,o.displayCode)),i?this.startPrebidAuction(e,s,i,o.displayCode,t):this.iframesCollection.message(e,{intent:"auctionIsEnded",type:"display",empty:!0})},n.prototype.startNonLinearAuction=function(e){var t=[],i=this.settingsByIframe[e],s=i.config,o=i.nonLinearBidders;if(o&&o.bids,o&&o.bids&&o.bids.length&&(o.code=i.nonLinearCode,this.customiseBidders(e,o.bids),t.push(o)),t.length){var n=this.bidsBackHandler.bind(this,i.spot,e,i.nonLinearCode,s.minimumCPM);window.shpbjs.que.push((function(){window.shpbjs.addAdUnits(t),window.shpbjs.requestBids({adUnitCodes:[o.code],timeout:3e3,bidsBackHandler:n})}))}else this.iframesCollection.message(e,{intent:"auctionIsEnded",type:"nonlinear",empty:!0})},n.prototype.bidsBackHandler=function(e,t,i,s,o){var n=this,r=!0,a="function"==typeof window.shpbjs.getHighestCpmBids?window.shpbjs.getHighestCpmBids(i)[0]:null;if(a&&a.adUnitCode.indexOf("nonlinear")>=0){var d=this.settingsByIframe[t].playerWidth,l=window.shpbjs.getBidResponsesForAdUnitCode(i);if(l.bids.length>1&&d<a.width)for(var c=0;c<l.bids.length;c++){if(l.bids[c].width>d&&(l.bids[c].native||l.bids[c].nativeCallback)){var p=a.width/a.height;(a=l.bids[c]).width=d,a.height=d/p;break}if(d>=l.bids[c].width){a=l.bids[c];break}}}var u=this.settingsByIframe[t].nonLinearBidders;u&&u.bids,a&&a.cpm>s&&(r=!1,"video"===a.mediaType||a.adUnitCode.indexOf("nonlinear")>=0||"outbrain-wrapper"===a.bidder?n.iframesCollection.message(t,{intent:"wonBidder",bid:a}):n.adFlows.setAd(t,"display",a.bidder,a.cpm,(function(){n.renderDisplayBid(t,a)}))),n.iframesCollection.message(t,{intent:"auctionIsEnded",type:i.indexOf("display")>=0?"display":i.indexOf("nonlinear")>=0?"nonlinear":"video",empty:r}),window.shpbjs.que&&window.shpbjs.que.push((function(){window.shpbjs.removeAdUnit(i)}))},n.prototype.setDisplayAdSizes=function(e,t){var i="auto 0",s=this.settingsByIframe[e].displayCode,o=this.settingsByIframe[e].config,n=this.getNode(s,this.settingsByIframe[e].spot),r=n.parentNode.offsetWidth.toString();o.sizes&&o.sizes.responsiveBidders.indexOf(t)<0&&o.sizes.maxWidth?n.style.maxWidth=o.sizes.maxWidth+"px":n.style.maxWidth=(r*o.aspectRatio).toString()+"px",o.sizes&&o.sizes.maxHeight&&o.sizes.responsiveBidders.indexOf(t)<0&&(n.style.maxHeight=o.sizes.maxHeight+"px"),o.sizes&&o.sizes.spotAdAlign&&o.sizes.responsiveBidders.indexOf(t)<0&&("center"===o.sizes.spotAdAlign&&(i="0 auto"),"right"===o.sizes.spotAdAlign&&(i="auto 0 auto auto"),n.style.margin=i,this.spotRectangleChanger.setIframeSettings(e,{header:{maxWidth:o.sizes.maxWidth,margin:i}}))},n.prototype.renderDisplayBid=function(e,t){var i=this.settingsByIframe[e],s=this.getNode(t.adUnitCode,i.spot),o=document.createElement("iframe");o.style.border="0 none",s.appendChild(o),o.src="javascript:void(0)",this.setDisplayAdSizes(e,t.bidder),window.shpbjs.renderAd(o.contentWindow.document,t.adId),o.contentWindow.document.body&&(o.contentWindow.document.body.style.margin=0),this.iframesCollection.message(e,{intent:"wonDisplayBidder",bid:t})},n.prototype.customiseBidders=function(e,t){for(var i=[],s=0;s<t.length;s++){if(t[s].bidder.indexOf("rubicon")>=0){t[s].params.referrer=this.pageUrl;var o=/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/g.exec(this.pageUrl);t[s].params.inventory={},t[s].params.inventory.domain=[o.length>1?o[1]:""]}if((t[s].bidder.indexOf("danmarket")>=0||t[s].bidder.indexOf("outbrain-wrapper")>=0)&&(t[s].params.contentPageUrl=this.pageUrl),"criteo"===t[s].bidder){var n=JSON.parse(JSON.stringify(t[s]));n.params.nativeCallback=function(e){var t=document.createElement("div"),i="";for(var s in i+='<div class="criteo_privacy" style="position: absolute; right: 0px; top: 0px; z-index: 1000;">',i+='<a href="'+e.privacy.optout_click_url+'" target="_blank"><img src="'+e.privacy.optout_image_url+'" style="width:19px; height:15px; display: block; text-decoration: none;"></a>',i+="</div>",i+='<div class="criteo_products" style="overflow: hidden">',e.products){if(s>=2)break;i+='<div class="criteo_product" style="position: relative;height: 100vh; padding: 5px 0 5px 100vh;">',i+='<a href="'+e.products[s].click_url+'" style="text-decoration: none;" target="_blank">',i+='<div class="criteo_product_image" style="width: 100vh; height: 100vh; position: absolute; left: 0; top: 0;"><img src="'+e.products[s].image.url+'" style="max-width: 100%; max-height: 100%; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: auto !important; height: auto !important;"></div>',i+='<div class="criteo_product_title" style="color: rgba(0,0,0,.87); font-weight: bold; margin-left: 10px;">'+e.products[s].title+"</div>",i+='<div class="criteo_product_description" style="color: #000; margin-left: 10px;">'+e.products[s].description+"</div>",e.products[s].call_to_action&&(i+='<div class="criteo_product_cta" style="margin-left: 10px;">'+e.products[s].call_to_action+"</div>"),i+="</a>",i+='<a href="'+e.advertiser.logo_click_url+'" style="text-decoration: none;" target="_blank">',i+='<div class="criteo_advertiser" style="font-size: 10px; color: #999;">'+e.advertiser.domain+"</div>",i+="</a>",i+="</div>"}for(s in i+="</div>",e.impression_pixels)i+='<img src="'+e.impression_pixels[s].url+'" width="0px" height="0px" style="display:none;" >';t.innerHTML=i,t.style.display="block",t.style.position="position",t.style.overflow="hidden",t.style.background="#f5f5f5",t.style.width="100%",this.document.appendChild(t)},i.push(n)}}i.forEach((function(e){t.push(e)}))},n.prototype.createNode=function(e,t,i){if(!document.getElementById(e)){var s=document.createElement("div");s.setAttribute("id",e),i&&s.setAttribute("style",i),t.appendChild(s)}},n.prototype.getNode=function(e,t){return t.querySelector("#"+e)},n.prototype.removeNode=function(e,t){var i=t.querySelector("#"+e);t.removeChild(i)},n.prototype.injectScript=function(e,t,i,s){if(!(this.injectedScripts.indexOf(t)>=0)){this.injectedScripts.push(t);var o=document.createElement("script");o.src=e,o.async=!0,"function"==typeof i&&(o.onload=i),document.head.appendChild(o)}},n.prototype.reduceFromArray=function(e,t){for(var i=[],s=0;s<e.bids.length;s++)e.bids[s].bidder!==t&&i.push(e.bids[s]);return e.bids=i,e},n.prototype.setKeywords=function(e,t){var i=t.keywords;if(this.settingsByIframe[e].videoBidders){var s="",o=[];Object.keys(i).forEach((function(e){s+=i[e].join(","),o=o.concat(i[e])}));for(var n=0;n<this.settingsByIframe[e].videoBidders.bids.length;n++){var r=this.settingsByIframe[e].videoBidders.bids[n];"appnexus-video"!==r.bidder&&"appnexus-omg"!==r.bidder||(r.params.keywords=i),"yieldlab-display"===r.bidder&&(r.params.targeting=i),"spotx-goldbach"!==r.bidder&&"spotx-showheroes"!==r.bidder||(r.params.custom.category=o),"adhese"===r.bidder&&(r.params.data=i),"adform"===r.bidder&&(r.params.mkw=s)}}},e.exports=n},function(e,t){e.exports=function(e,t){e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}},function(e,t){var i=function(e,t){this.iframesCollection=e,this.debugLogger=t};i.prototype.initSmart=function(e){var t=this;this.injectScript("https://ced.sascdn.com/tag/2161/smart.js","smart"),window.sas=window.sas||{},window.sas.cmd=window.sas.cmd||[],window.sas.cmd.push((function(){try{window.sasSetupSetted||(window.sas.setup({networkid:2161,domain:"//www8.smartadserver.com",async:!0,renderMode:2}),window.sasSetupSetted=!0)}catch(i){t.debugLogger.log("prebid","SAS setup has an Error: "+i.message,{player_id:e})}}))},i.prototype.smartBidsBackHandler=function(e,t,i,s,o){var n=this;window.sas.cmd.push((function(){window.shpbjs.que.push((function(){var o="function"==typeof window.shpbjs.getHighestCpmBids?window.shpbjs.getHighestCpmBids(t)[0]:null,r=t.indexOf("display")>=0;o&&o.cpm>e&&(window.sas.setHeaderBiddingWinner(t,o),r||n.bidsBackHandler(i,s,t,e)),r&&window.sas.render(t)}))}))},i.prototype.smartCall=function(e,t,i,s,o,n){var r=this;e.noAd={},window.sas.cmd.push((function(){window.sas.call("onecall",{siteId:e.siteId,pageId:e.pageId,formats:o,target:n||""},{onNoad:r.onNoadSas.bind(r,e,t,i,s),onLoad:r.onLoadSas.bind(r,e,t,i,s)})}))},i.prototype.sasCookieSync=function(e,t){this.injectScript("https://ced.sascdn.com/tag/2161/smart.js","smart");var i="https://www8.smartadserver.com/ac?pgid="+e.pid+"&insid="+e.iid+"&tmstp="+Math.round(1e10*Math.random())+"&out=js";t&&(i+="&gdpr="+t.gdprApplies+"&gdpr_consent="+t.consentData),this.injectScript(i,"smartSync")},i.prototype.onNoadSas=function(e,t,i,s,o){e.noAd[o.formatId]=!0;var n=o.tagId.indexOf("display")>=0,r="function"==typeof window.shpbjs.getHighestCpmBids?window.shpbjs.getHighestCpmBids(s)[0]:null;n?this.bidsBackHandler(t,i,s,e.minimumCPM):r||this.iframesCollection.message(i,{intent:"auctionIsEnded",type:"video",empty:!0})},i.prototype.onLoadSas=function(e,t,i,s,o){var n=this;setTimeout((function(){if(!e.noAd[o.formatId]){var t=o.tagId.indexOf("display")>=0;n.iframesCollection.message(i,{intent:"auctionIsEnded",type:t?"display":"video",empty:!1}),t&&n.setDisplayAdSizes(i,"smartadserver"),n.adFlows.forget(i),o.formatId,o.isVideo=e.videoFormatId===o.formatId,n.iframesCollection.message(i,{intent:"smartFormatWon",intentParam:o})}}),0)},e.exports=i},function(e,t){var i=function(e){this.iframesCollection=e,this.priority=["priority-video","video","display"],this.timers={},this.ads={},this.maxTimeouts={},this.statuses={},this.deathTime=18e4};i.prototype.setAdMaxTimeOut=function(e,t){this.maxTimeouts[e]=t},i.prototype.getReadyAd=function(e,t,i,s){var o=this;if(this.ads[e]||t||"FAIL"!==o.statuses[e]||o.iframesCollection.message(e,{intent:"nothingToShow"}),t&&s&&(this.timers[e]=null,clearInterval(this.timers[e])),t&&"WAITING"!==this.statuses[e]&&(!this.ads[e]||this.ads[e]&&!this.ads[e].length)&&(this.timers[e]=null,this.ads[e]=null,this.maxTimeouts[e]=t),!o.ads[e]&&!this.timers[e]){this.statuses[e]="WAITING";var n=(new Date).getTime();this.timers[e]=setInterval((function(){o.statuses[e]="WAITING";var t=(new Date).getTime();o.ads[e]||t-n>=o.maxTimeouts[e]?(clearInterval(o.timers[e]),!o.ads[e]||i&&o.ads[e]&&"display"===o.ads[e][0].type?(o.statuses[e]="FAIL",o.iframesCollection.message(e,{intent:"nothingToShow"})):o.ads[e]&&o.getReadyAd(e)):o.getReadyAd(e)}),300)}if(this.ads[e]&&this.checkAdsTiming(e),this.ads[e]){if(i&&o.ads[e]&&o.ads[e][0]&&"display"===o.ads[e][0].type)return o.statuses[e]="FAIL",void o.iframesCollection.message(e,{intent:"nothingToShow"});this.statuses[e]="SUCCESS",this.ads[e]=this.sortBy(this.ads[e],"cpm","desc"),this.ads[e]=this.sortBy(this.ads[e],"order","asc");var r=this.ads[e].shift();if(!r)return o.statuses[e]="FAIL",void o.iframesCollection.message(e,{intent:"nothingToShow"});"function"==typeof r.renderIntoSpot?r.renderIntoSpot():this.iframesCollection.message(e,{intent:"adIsReadyToShow",ad:r}),clearInterval(o.timers[e])}},i.prototype.checkAdsTiming=function(e){for(var t=(new Date).getTime(),i=0;i<this.ads[e].length;i++)t-this.ads[e][i].timestemp>=this.deathTime&&(this.ads[e][i].adId,this.ads[e].splice(i,1),i--)},i.prototype.getNextReadyAd=function(e){var t={},i=this.ads[e];i&&(i=this.sortBy(i,"order"),t=(i=this.sortBy(i,"cpm","desc"))[0]),this.iframesCollection.message(e,{intent:"nextAdReadyToShow",ad:t})},i.prototype.forget=function(e){this.timers[e]&&clearInterval(this.timers[e])},i.prototype.setAd=function(e,t,i,s,o,n){this.ads[e]=this.ads[e]||[];var r={adId:i,order:this.priority.indexOf(t),type:t,cpm:s,vastId:n,renderIntoSpot:o,timestemp:(new Date).getTime()};this.ads[e].push(r)},i.prototype.clearAdsByType=function(e,t){if(this.ads[e])for(var i=0;i<this.ads[e].length;i++)this.ads[e][i].type.indexOf(t)>=0&&this.ads[e].splice(i,1)},i.prototype.removeAd=function(e,t){},i.prototype.sortBy=function(e,t,i){return e.sort((function(e,s){var o=0;return e[t]>s[t]?o="desc"===i?-1:1:e[t]<s[t]&&(o="desc"===i?1:-1),o}))},e.exports=i},function(module,exports){var PassbackListener=function(e,t,i){this.spotRectangleChanger=e,this.iframesCollection=t,this.passbacks=i||{},this.passbackPlayer={}};PassbackListener.prototype.setSpots=function(e){this.spots=e},PassbackListener.prototype.runPassback=function(iframeId,type,pixel,pixelError,backMessageName){if(this.passbackPlayer[iframeId]&&this.passbackPlayer[iframeId].id){pixel&&this.track(pixel);var noadPlayerSpot=document.createElement("div");return noadPlayerSpot.setAttribute("class","publisher-sh-spot"),noadPlayerSpot.setAttribute("data-player",this.passbackPlayer[iframeId].id),this.spotRectangleChanger.getWidgetTargetElement(iframeId).parentNode.appendChild(noadPlayerSpot),this.spots.search(),void this.spotRectangleChanger.destroySpot(iframeId)}var passbackScript=this.passbacks[iframeId]&&this.passbacks[iframeId][type]||this.passbacks[type]||null;if(passbackScript){this.spotRectangleChanger.stopViewportWatching(iframeId),this.iframesCollection.stopActiveTabWatching(),pixel&&this.track(pixel);try{if(this.iframeId=iframeId,eval(passbackScript),this.spotRectangleChanger.websiteIframe&&this.spotRectangleChanger.websiteIframe.id.indexOf("google")>=0)var _this=this,lastTime=(new Date).getTime(),timer=setInterval((function(){var e=(new Date).getTime();if(document.getElementsByTagName("iframe")[0]&&document.getElementsByTagName("iframe")[0].id.indexOf("google")>=0){var t=document.getElementsByTagName("iframe")[0].getAttribute("width")+"px",i=document.getElementsByTagName("iframe")[0].getAttribute("height")+"px";_this.spotRectangleChanger.websiteIframe.setAttribute("style","display:block; width: "+(t||"100%")+"; height:"+(i||"100%")+"; overflow:hidden; margin:0 auto;"),clearInterval(timer)}else e-lastTime>=18e4&&clearInterval(timer)}),100);else this.spotRectangleChanger.destroySpot(iframeId)}catch(e){pixelError&&this.track(pixelError),this.spotRectangleChanger.getWidgetTargetElement(iframeId)?(this.spotRectangleChanger.watchPositions(),this.spotRectangleChanger.watchViewport(),backMessageName&&this.iframesCollection.message(iframeId,{intent:backMessageName})):this.spotRectangleChanger.destroySpot(iframeId)}}else backMessageName&&this.iframesCollection.message(iframeId,{intent:backMessageName})},PassbackListener.prototype.track=function(e){(new Image).src=e},PassbackListener.prototype.setSpotPassbackListener=function(e,t,i,s){this.passbacks[e]=this.passbacks[e]||{},this.passbacks[e][t]||(i?this.passbacks[e][t]=i:s&&(this.passbackPlayer[e]=this.passbackPlayer[e]||{},this.passbackPlayer[e].id=s))},module.exports=PassbackListener},function(e,t){var i=function(e,t){this.spotRectangleChanger=e,this.iframesCollection=t};i.prototype.render=function(e,t,i){var s=this,o=this.spotRectangleChanger.getWidgetTargetElement(e),n=document.createElement("div"),r="google-ad-"+e;n.setAttribute("id",r),n.style.width="100%",n.style.height="100%",n.style.textAlign="center",o.appendChild(n),window.googletag=window.googletag||{},googletag.cmd=googletag.cmd||[],function(){var e=document.createElement("script");e.async=!0;var t="https:"==document.location.protocol;e.src=(t?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}(),googletag.cmd.push((function(){googletag.defineSlot(t,i,r).addService(googletag.pubads()).setCollapseEmptyDiv(!0,!0),googletag.pubads().addEventListener("slotRequested",(function(t){s.iframesCollection.message(e,{intent:"gptTrack",type:"request"})})),googletag.pubads().addEventListener("slotRenderEnded",(function(t){t.isEmpty?(s.iframesCollection.message(e,{intent:"gptTrack",type:"error"}),s.iframesCollection.message(e,{intent:"gptNoad"})):(s.iframesCollection.message(e,{intent:"gptTrack",adId:t.creativeId,type:"response"}),s.iframesCollection.message(e,{intent:"gptRendered"}))})),googletag.pubads().addEventListener("impressionViewable",(function(t){s.iframesCollection.message(e,{intent:"gptTrack",type:"impression"})})),googletag.pubads().enableSingleRequest(),googletag.enableServices(),googletag.display(r)}))},e.exports=i},function(e,t){var i=function(e,t){this.spotRectangleChanger=e,this.iframesCollection=t};i.prototype.render=function(e,t,i,s){if(this.track("request",e,t,i),!document.querySelector('script[src*="'+s+'"]')){var o=this,n=this.spotRectangleChanger.getWidgetTargetElement(e),r=document.createElement("script");r.src=s,r.onerror=function(){o.track("error",e,t,i,1401)},window.addEventListener("rec_noAd",(function(s){var n=s.detail&&s.detail.recFrameID||e;o.track("error",n,t,i,1402)})),window.addEventListener("recAdImp",(function(s){var n=s.detail&&s.detail.recFrameID||e;o.track("impression",n,t,i)})),window.addEventListener("recImgImp",(function(s){var n=s.detail&&s.detail.recFrameID||e;o.track("response",n,t,i)})),n.appendChild(r)}},i.prototype.track=function(e,t,i,s,o){this.iframesCollection.message(t,{intent:"switchInTrack",type:e,partner:i,code:o,pubId:s})},e.exports=i},function(module,exports,__webpack_require__){var CustomIntegration=function(e,t,i,s,o,n){this.integrationType=t,this.websiteWindow=t.websiteWindow,this.websiteDocument=this.websiteWindow.document||this.websiteWindow.contentDocument,this.runPubtag=s,this.logger=o,this.tagSrc=i,this.configs=n,this.currentConfig=null,this.pixelParams={},"1"===e?this.init():this.runPubtag()};CustomIntegration.prototype.init=function(e){var t=this,i=e||this.getSpot();if(i){if(!i.getAttribute("custom-integration-inited")){i.setAttribute("custom-integration-inited","1");var s=i.getAttribute("data-custom-configs")||this.configs;if(this.pixelParams.player_id=i.getAttribute("data-player"),s){try{this.configs=JSON.parse(s)}catch(e){this.logger.log("custom-integration","invalid data attr config "+e.message,this.pixelParams)}try{this.doMigrateSpot(i)}catch(e){this.logger.log("custom-integration","migrating spot error: "+e.message,this.pixelParams)}}else this.loadConfig((function(e,s){e?t.logger.log("custom-integration","cannot load config file",t.pixelParams):(t.configs=s,t.migrateSpot(i))}))}}else this.logger.log("custom-integration","spot tag is undefined")},CustomIntegration.prototype.doMigrateSpot=function(e){var t=this;this.currentConfig=this.getCurrentConfig(),this.currentConfig?setTimeout((function(){var i=t.currentConfig.selectors.join(",");/:first$|:last$|:eq/g.test(i)?__webpack_require__.e(6).then(__webpack_require__.t.bind(null,36,7)).then((function(i){t.migrateSpot(e,i.default)})):t.migrateSpot(e)}),300):this.logger.log("custom-integration","config for this site is not set",this.pixelParams)},CustomIntegration.prototype.migrateSpot=function(e,t){var i=this.getPlace(t);if(i){var s=e.outerHTML;e.parentNode.removeChild(e);var o=document.createElement("div");if(o.id="showheroes-ad-"+Math.random().toString().substring(2),o.classList.add("showheroes-ad"),o.innerHTML=s,this.currentConfig.style&&o.setAttribute("style",this.currentConfig.style),this.currentConfig.class&&o.setAttribute("class",this.currentConfig.class),i.insertAdjacentElement(this.currentConfig.position,o),"webpage"!==this.integrationType.within){if(!(r=this.getPublisherTag()))return;var n=this.websiteDocument.createElement("script");Object.keys(r.attributes).forEach((function(e){if("data-custom-spot-placement"!==r.attributes[e].name&&"data-noad-passback-listener"!==r.attributes[e].name)n.setAttribute(r.attributes[e].name,r.attributes[e].value);else if("data-noad-passback-listener"===r.attributes[e].name){var t=r.attributes[e].value.replace(/\((.+)?\);/g,"");if("function"==typeof window[t]){var i='document.getElementById("'+window.name+'").contentWindow.'+r.attributes[e].value;n.setAttribute("data-noad-passback-listener",i)}else n.setAttribute(r.attributes[e].name,r.attributes[e].value)}})),o.children[0].setAttribute("custom-integration-ready","1"),o.appendChild(n)}else o.children[0].setAttribute("custom-integration-ready","1"),this.runPubtag()}else{this.logger.log("custom-integration","invalid selectors",this.pixelParams);var r,a=(r=this.getPublisherTag()).getAttribute("data-noad-passback-listener",this.pixelParams);a?this.runPassback(a,e):this.runPubtag(null,e)}},CustomIntegration.prototype.getCurrentConfig=function(){var e=this.websiteWindow.location.hostname,t=null,i=null;if(this.configs[e]?i=this.configs[e]:(e=0===e.indexOf("www.")?e.replace("www.",""):"www."+e,this.configs[e]&&(i=this.configs[e])),i)if(i instanceof Array){for(var s=0;s<i.length;s++)if(this.availablePath(i[s].paths)){t=i[s];break}}else this.availablePath(i.paths)&&(t=i);return t},CustomIntegration.prototype.availablePath=function(e){var t=this.websiteWindow.location.pathname,i=!0;if(e){var s=e instanceof Array?e:[e];i=!1;for(var o=0;o<s.length;o++)if(0===t.indexOf(s[o])){i=!0;break}}return i},CustomIntegration.prototype.getSpot=function(){return document.querySelector(".publisher-sh-spot, .showheroes-spot")},CustomIntegration.prototype.getPublisherTag=function(){return document.querySelector("script[data-custom-spot-placement]")},CustomIntegration.prototype.getPlace=function(e){if("iframe_safeframe"===this.integrationType.within)return this.websiteDocument.body;this.currentConfig.selectors instanceof Array&&1===this.currentConfig.selectors.length&&(this.currentConfig.selectors=this.currentConfig.selectors[0].split(",")),"string"==typeof this.currentConfig.selectors&&(this.currentConfig.selectors=[this.currentConfig.selectors]);var t=this.getValidSelectors(this.currentConfig.selectors,e);e&&!t.length&&(t=this.getValidSelectors(this.currentConfig.selectors));for(var i=null,s=0;s<t.length&&!(i=t[s]);s++);return i},CustomIntegration.prototype.getNode=function(e,t){return!t&&/:first$|:last$|:eq/g.test(e)?null:t?t(e,this.websiteDocument).get(0):this.websiteDocument.querySelector(e)},CustomIntegration.prototype.getValidSelectors=function(e,t){for(var i=[],s=0;s<e.length;s++)try{if(!e[s])continue;var o=this.getNode(e[s],t);if(!o)continue;var n=o.parentNode?window.getComputedStyle(o.parentNode):null;if(null===o.offsetParent&&"SCRIPT"!==o.nodeName||n&&n.getPropertyValue("opacity")<1)throw{message:"parent is hidden"};i.push(o)}catch(t){this.logger.log("custom-integration","invalid selector "+e[s]+": "+t.message,this.pixelParams)}return i},CustomIntegration.prototype.loadConfig=function(e){var t=this.tagSrc.replace("publishertag.js","custom.json"),i=new XMLHttpRequest;i.open("GET",t,!0),i.onreadystatechange=function(){if(4===i.readyState){if(200!==i.status)return 400===i.status?e(null,null):e(new Error("XHRURLHandler: "+i.statusText));try{return e(null,JSON.parse(i.responseText))}catch(t){return e(t,null)}}},i.send(null)},CustomIntegration.prototype.runPassback=function(script,spot){this.logger.log("noadPassback",null,this.pixelParams,"report-video");try{eval(script)}catch(e){this.logger.log("noadPassbackError",e.message,this.pixelParams,"report-video")}},module.exports=CustomIntegration},function(e,t){var i=function(){this.topics={},this.subUid=-1};i.prototype.subscribe=function(e,t){this.topics[e]||(this.topics[e]=[]);var i=(++this.subUid).toString();return this.topics[e].push({token:i,func:t}),i},i.prototype.publish=function(e,t,i,s){var o=e.split(".");1==o.length?this._publish(o[0],e,t,i,s):2==o.length?(this._publish(o[0],e,t,i,s),this._publish(o[0]+"."+o[1],e,t,i,s)):3==o.length&&(this._publish(o[0],e,t,i,s),this._publish(o[0]+"."+o[1],e,t,i,s),this._publish(o[0]+"."+o[1]+"."+o[2],e,t,i,s))},i.prototype._publish=function(e,t,i,s,o){if(!this.topics[e])return!1;for(var n=this.topics[e],r=n?n.length:0;r--;)n[r].func(t,i,s,o);return!0},i.prototype.unsubscribe=function(e){for(var t in this.topics)if(this.topics[t])for(var i=0,s=this.topics[t].length;i<s;i++)if(this.topics[t][i].token===e)return this.topics[t].splice(i,1),e;return!1},e.exports=i},function(e,t){var i=function(e,t,i){this.spotRectangleChanger=e,this.iframesCollection=t,this.iframesPubs={},this.pageDomain=new URL(i).hostname};i.prototype.requestAd=function(e,t){var i=t.pubId;this.track("request",e,"adways",i);var s=this.spotRectangleChanger.getWidgetTargetElement(e),o="//hv-contents.adpaths.com/template/adways/publisher/"+i;if(new Date,!document.querySelector('script[src*="'+o+'"]')){var n=this,r=document.createElement("script");r.src=o,r.addEventListener("load",(function(){n.iframesPubs[e]={};var t=n.iframesPubs[e];t.pub=new adpaths.publisher,t.pub.setDomain(this.pageDomain),document.getElementById(e)&&(t.pub.setPlayerAPI(document.getElementById(e)),t.pub.setPlayerClass("showheroes"),t.pub.subscribe("AdError",(function(){t.state="error",n.track("error",e,"adways",i)})),t.pub.subscribe("AdReady",(function(){new Date,n.track("response",e,"adways",i),n.addEventListeners(e,"adways",i),t.adIsReady=!0,t.state="ready"})),t.pub.launch(!1),t.state="inited")})),s.appendChild(r)}},i.prototype.renderAd=function(e,t){var i=t.pubId;this.track("request",e,"adways",i);var s=this.spotRectangleChanger.getWidgetTargetElement(e),o="//hv-contents.adpaths.com/template/adways/publisher/"+i;if(!document.querySelector('script[src*="'+o+'"]')){var n=this,r=document.createElement("script");r.src=o,r.addEventListener("load",(function(){n.iframesPubs[e]={};var t=n.iframesPubs[e];t.pub=new adpaths.publisher,document.getElementById(e)&&(t.pub.setPlayerAPI(document.getElementById(e)),t.pub.setPlayerClass("showheroes"),t.pub.subscribe("AdError",(function(){t.state="error",n.track("error",e,"adways",i)})),t.pub.subscribe("AdReady",(function(){new Date,n.track("response",e,"adways",i),n.addEventListeners(e,"adways",i),t.adIsReady=!0,t.state="ready",t.pub.renderAd()})),t.pub.launch(!1),t.state="inited")})),s.appendChild(r)}},i.prototype.checkState=function(e){var t=this.iframesPubs[e];return!(!t||!t.state)&&{progress:t.state,adIsReady:t.adIsReady}},i.prototype.addEventListeners=function(e,t,i){var s=this,o=this.iframesPubs[e].pub;o.subscribe("AdImpression",(function(){s.track("impression",e,t,i)})),o.subscribe("AdClickThru",(function(){s.track("click",e,t,i)})),o.subscribe("AdVideoStart",(function(){s.track("start",e,t,i)})),o.subscribe("AdVideoFirstQuartile",(function(){s.track("firstQuartile",e,t,i)})),o.subscribe("AdVideoMidpoint",(function(){s.track("midpoint",e,t,i)})),o.subscribe("AdVideoThirdQuartile",(function(){s.track("thirdQuartile",e,t,i)})),o.subscribe("AdVideoComplete",(function(){s.track("complete",e,t,i)})),o.subscribe("AdSkipped",(function(){s.track("close",e,t,i)}))},i.prototype.track=function(e,t,i,s){this.iframesCollection.message(t,{intent:"adwaysTrack",type:e,partner:i,pubId:s})},e.exports=i},function(e,t,i){e.exports=i(10)}]);