!function(r){var n={};function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=r,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=209)}([function(e,t,r){"use strict";r.r(t),r.d(t,"__extends",function(){return i}),r.d(t,"__assign",function(){return o}),r.d(t,"__rest",function(){return a}),r.d(t,"__decorate",function(){return s}),r.d(t,"__param",function(){return c}),r.d(t,"__metadata",function(){return d}),r.d(t,"__awaiter",function(){return u}),r.d(t,"__generator",function(){return l}),r.d(t,"__exportStar",function(){return p}),r.d(t,"__values",function(){return f}),r.d(t,"__read",function(){return h}),r.d(t,"__spread",function(){return v}),r.d(t,"__spreadArrays",function(){return m}),r.d(t,"__await",function(){return y}),r.d(t,"__asyncGenerator",function(){return g}),r.d(t,"__asyncDelegator",function(){return b}),r.d(t,"__asyncValues",function(){return A}),r.d(t,"__makeTemplateObject",function(){return E}),r.d(t,"__importStar",function(){return _}),r.d(t,"__importDefault",function(){return S}),r.d(t,"__classPrivateFieldGet",function(){return w}),r.d(t,"__classPrivateFieldSet",function(){return I});var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function s(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,r,a):i(t,r))||a);return 3<o&&a&&Object.defineProperty(t,r,a),a}function c(r,n){return function(e,t){n(e,t,r)}}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,a,s,c){return new(s=s||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(n,i)}o((c=c.apply(e,a||[])).next())})}function l(r,n){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=n.call(r,s)}catch(e){t=[6,e],o=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function p(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function g(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),o=[],a={};return n("next"),n("throw"),n("return"),a[Symbol.asyncIterator]=function(){return this},a;function n(n){i[n]&&(a[n]=function(r){return new Promise(function(e,t){1<o.push([n,r,e,t])||s(n,r)})})}function s(e,t){try{(r=i[e](t)).value instanceof y?Promise.resolve(r.value.v).then(c,d):u(o[0][2],r)}catch(e){u(o[0][3],e)}var r}function c(e){s("next",e)}function d(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(n){var i,e={};return t("next"),t("throw",function(e){throw e}),t("return"),e[Symbol.iterator]=function(){return this},e;function t(t,r){e[t]=n[t]?function(e){return(i=!i)?{value:y(n[t](e)),done:"return"===t}:r?r(e):e}:r}}function A(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=a[Symbol.asyncIterator];return t?t.call(a):(a=f(a),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=a[o]&&function(i){return new Promise(function(e,t){var r,n;i=a[o](i),r=e,e=t,n=i.done,t=i.value,Promise.resolve(t).then(function(e){r({value:e,done:n})},e)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Constants=void 0,(n=t.Constants||(t.Constants={})).WRAPPER_LIMIT=10,(t=n.VastErrorCodes||(n.VastErrorCodes={}))[t.XML_PARSING_ERROR=100]="XML_PARSING_ERROR",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.TRAFFICKING_ERROR=200]="TRAFFICKING_ERROR",t[t.EXPECTING_DIFFERENT_LINEARITY_ERROR=201]="EXPECTING_DIFFERENT_LINEARITY_ERROR",t[t.EXPECTING_DIFFERENT_DURATION_ERROR=202]="EXPECTING_DIFFERENT_DURATION_ERROR",t[t.EXPECTING_DIFFERENT_SIZE_ERROR=203]="EXPECTING_DIFFERENT_SIZE_ERROR",t[t.GENERAL_WRAPPER_ERROR=300]="GENERAL_WRAPPER_ERROR",t[t.VAST_URI_TIMEOUT=301]="VAST_URI_TIMEOUT",t[t.WRAPPER_LIMIT_REACHED=302]="WRAPPER_LIMIT_REACHED",t[t.NO_ADS_VAST_RESPONSE=303]="NO_ADS_VAST_RESPONSE",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.MEDIAFILE_NOT_FOUND_ERROR=401]="MEDIAFILE_NOT_FOUND_ERROR",t[t.MEDIAFILE_TIMEOUT_ERROR=402]="MEDIAFILE_TIMEOUT_ERROR",t[t.UNSUPPORTED_MEDIA_FILE=403]="UNSUPPORTED_MEDIA_FILE",t[t.DISPLAYING_MEDIAFILE_ERROR=405]="DISPLAYING_MEDIAFILE_ERROR",t[t.UNDEFINED_ERROR=900]="UNDEFINED_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",n.VIRALIZE_AD_SYSTEM_NAME="VIRALIZE",n.IMA_PLAYER_TYPE="videojs-ima",n.FLASH_MIME_TYPES=new Set(["application/x-shockwave-flash"]),n.VPAID_MIME_TYPES=new Set(["text/javascript","text/javascript1.0","text/javascript1.2","text/javascript1.4","text/jscript","application/javascript","application/x-javascript","text/ecmascript","text/ecmascript1.0","text/ecmascript1.2","text/ecmascript1.4","text/livescript","application/ecmascript","application/x-ecmascript"]),n.MP4_MIME_TYPES=new Set(["video/x-mp4","video/mp4"]),(t=(t=n.TIMEOUTS||(n.TIMEOUTS={})).ERROR_CODES||(t.ERROR_CODES={}))[t.REQUEST=10002]="REQUEST",t[t.LOAD=10003]="LOAD",t[t.START=10004]="START",(t=n.DeviceType||(n.DeviceType={})).DESKTOP="D",t.MOBILE="M",t.TABLET="T",(t=n.Position||(n.Position={})).TOP_LEFT="top-left",t.BOTTOM_LEFT="bottom-left",t.TOP_RIGHT="top-right",t.BOTTOM_RIGHT="bottom-right",n.DEFAULT_ANALYTICS_FLUSH_TIMEOUT=50,n.PLUGINS_LOADING_TIMEOUT=2e3,n.URL_LENGTH_LIMIT=2e3,(t=n.ControllerType||(n.ControllerType={})).INTEXT="intext",t.INSTREAM="instream",t.OVERLAY="overlay",t.CONTENTS="contents",(t=n.FormatFamily||(n.FormatFamily={})).NATIVE="native",t.OUTSTREAM="outstream",t.INTERSTITIAL="interstitial",t.INSTREAM="instream",t.GALLERY="gallery",t.STRIP_HOVER="strip_hover",(t=n.ViewabilityReason||(n.ViewabilityReason={}))[t.OUT_OF_VIEWPORT=0]="OUT_OF_VIEWPORT",t[t.HIDDEN=1]="HIDDEN",t[t.NOT_IN_FOCUS=2]="NOT_IN_FOCUS",t[t.TOO_SMALL=3]="TOO_SMALL",t[t.IN_VIEWPORT=4]="IN_VIEWPORT",t[t.FIXED_VIEWABILITY=5]="FIXED_VIEWABILITY",(t=n.ParentNetwork||(n.ParentNetwork={})).VIRALIZE="1",t.SHOW_HEROES="2",n.PARTNER_NAME="Showheroesgroup",n.PARTNER_VERSION="1.0.0",(t=n.ApiFramework||(n.ApiFramework={})).OMID="omid",t.VPAID="vpaid",(t=n.CmpStatus||(n.CmpStatus={})).TIMEOUT="timeout",t.ERROR="error",t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.APPLIES="applies",(n=n.AD_VERIFICATION_MACROS||(n.AD_VERIFICATION_MACROS={})).REASON="REASON",n.OMIDPARTNER="OMIDPARTNER",n.APIFRAMEWORKS="APIFRAMEWORKS",n.BUNDLEID="BUNDLEID"},function(e,t,r){"use strict";e.exports=function(e,t){return t=t||{},"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var a,n=r(4),i=r(1),o=r(9),s=r(32),c=r(105);new n.Console("Utils");function d(e,i){var o=e;return Object.keys(i).forEach(function(e){var t,r,n=i[e];null!=n&&(t=a.encodeURIComponentRFC3986(n),r="["+e+"]",n="%%"+e+"%%",e="{"+e+"}",o=(o=(o=o.replace(r,t)).replace(n,t)).replace(e,t))}),o}function u(e,o){return new Promise(function(t,r){var n=!1;function i(e,t){n||(n=!0,e(t))}o.catch(function(e){i(r,e)}),e.then(function(e){i(t,e)}).catch(function(e){i(r,e)})})}(a=t.Utils||(t.Utils={})).timedPromise=function(t){return new Promise(function(e){return setTimeout(e,t)})},a.noOp=function(){},a.isThenable=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then},a.isString=function(e){return"string"==typeof e||e instanceof String},a.parseXMl=function(e){if(null!=e&&"string"==typeof e&&""!==e.trim()){e=(new DOMParser).parseFromString(e,"text/xml");if(0<e.getElementsByTagName("parsererror").length)throw new c.XMLParsingError;if(null!=e.documentElement)return e.documentElement}},a.serializeXML=function(e){return(new XMLSerializer).serializeToString(e)},a.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},a.encodeURIComponentRFC3986=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},a.toCodedError=function(e){var t=e.error,e=e.defaultCode;return t instanceof o.CodedError?t:(e=null!=e?e:2e4,null==t?new o.CodedError(e,"no error to parse"):(null!=t.getError?function(e,t){var r=e.getError();if(null==r)return new o.CodedError(t,"ima error without error object");if(null==r.getType||null==r.getMessage||null==r.getErrorCode||null==r.getVastErrorCode)return new o.CodedError(t,"unable to parse an ima-like object");var n=r.getType()+" - "+r.getMessage(),e=r.getErrorCode();if(a.isNumeric(e))return new o.CodedError(parseInt(e,10),n);if(e=r.getVastErrorCode(),a.isNumeric(e))return new o.CodedError(parseInt(e,10),n);return new o.CodedError(t,"ima error without a code")}:function(e,t){e=e instanceof Error?e.message:a.isString(e)?e:"Unknown error";return new o.CodedError(t,e)})(t,e))},a.toMs=function(e){return a.isNumeric(e)&&0<=e?Math.round(1e3*e):-1},a.resolveMacros=function(e,t){var r=null!=t?t:{};return e instanceof Array?e.map(function(e){return d(e,r)}):d(e,r)},a.getAspectRatio=function(e){if(0===e.height)return{value:16/9,category:"16/9"};for(var t=e.width/e.height,r=0,n=[{value:1.7778,category:"16/9"},{value:.5625,category:"9/16"},{value:1.6,category:"16/10"},{value:.625,category:"10/16"},{value:1.333,category:"4/3"},{value:1.222,category:"11/9"},{value:.75,category:"3/4"},{value:1,category:"1/1"}];r<n.length;r++){var i=n[r];if(function(e,t,r,n){void 0===r&&(r=1e-9);void 0===n&&(n=0);return e===t||Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}(t,i.value,.01))return{value:t,category:i.category}}return{value:t,category:"unknown"}},a.getQueryParameterFromUrl=function(e,t){return t=t.replace(/[\[\]]/g,"\\$&"),null==(e=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)","i").exec(e))?null:null==e[2]?"":decodeURIComponent(e[2].replace(/\+/g," "))},a.generateCacheBusting=function(){return("00000000"+Math.round(1e8*Math.random()).toString()).slice(-8)},a.unescapeXMLChars=function(e){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">")},a.setCookieExpiringTomorrow=function(e,t){var r=(new Date).getTime(),n=new Date(r+864e5);n.setHours(0,0,0,0),n=e+"="+t+";path=/;max-age="+Math.floor((n.getTime()-r)/1e3)+";expires="+n.toUTCString(),document.cookie=n},a.getCookie=function(e){if(e=(e=window.encodeURIComponent(e)).replace(/[\-\.\+\*]/g,"\\$&"),e=new RegExp("(?:(?:^|.*;)\\s*"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$"),""!==(e=document.cookie.replace(e,"$1")))return window.decodeURIComponent(e)},a.canAccessTopWindow=function(){return function(e){try{return null!=e.location.href}catch(e){return!1}}(window.top)},a.isIOS=function(e){return"iOS"===e},a.raceWithNeverResolvingPromise=u,a.promiseWithTimeout=function(e,r){var n,i;return u(e,new Promise(function(e,t){n=window.setTimeout(function(){null==i&&t(new s.TimeoutError(r))},r)})).then(function(e){return i=!0,clearTimeout(n),e}).catch(function(e){throw i=!1,e})},a.toIDp4Config=function(e){if(null!=e)return{sampling:e.sampling,value:e.value,valueOnHidden:e.value_on_hidden}},a.decodeAdServerSignedString=function(e){var t,r=e.replace(new RegExp("-","g"),"+").replace(new RegExp("_","g"),"/");try{t=atob(r)}catch(e){throw new Error("Invalid encoding")}if(t.length<8)throw new Error("Encoded string has no signature");return t.substring(0,t.length-8)},a.sortVerifications=function(e){var t=[],r=[];return[].forEach.call(e,function(e){0!==e.javaScriptResources.length&&(e.javaScriptResources[0].apiFramework.toLocaleLowerCase().includes(i.Constants.ApiFramework.OMID)?r:t).push(e)}),{othersVerifications:t,omidVerifications:r}},a.mergeTrackingEvents=function(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];if(void 0!==i.trackingEvents)for(var o=0,a=Object.keys(i.trackingEvents);o<a.length;o++){var s=a[o],c=i.trackingEvents[s];null!=s&&""!==s&&null!=c&&(null==t[s]&&(t[s]=[]),t[s]=t[s].concat(c))}}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Console=void 0;var n,i=r(0),o=i.__importDefault(r(81)),a="color:white; padding: 5px; border-radius: 5px; margin-left: 10px; display: inline-block;";(r=n=n||{}).DEBUG="debug",r.INFO="info",r.WARNING="warn",r.ERROR="error";var s=((r={})[n.DEBUG]="grey",r[n.INFO]="dodgerblue",r[n.WARNING]="orange",r[n.ERROR]="red",r);c.prototype.getChildLogger=function(e){return new c(""+this.name+c.CHILD_SEPARATOR+e,this.color)},c.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},c.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},c.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},c.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},c.prototype.sporadic=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Math.random()<this.sporadicRate&&this.debug.apply(this,e)},c.prototype.logArgs=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return i.__spreadArrays(["%c%s%c%s%c%s",a+" background-color: "+s[e]+";",e.toLocaleUpperCase().padEnd(6," "),a+" background-color: "+c.PLAYER_COLOR+";",c.PLAYER_COLOR,a+" background-color: "+this.color+";",this.name],t)},c.CHILD_SEPARATOR="|",c.PLAYER_COLOR="#"+Math.floor(16777215*Math.random()).toString(16),r=c;function c(e,t,r){void 0===r&&(r=.05),this.name=e,this.color=null!=t?t:(e=e,"#"+(o.default(e)%16777215).toString(16)),this.sporadicRate=r}t.Console=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XMLNodeBuilder=void 0;var n=(i.prototype.withContent=function(e){return this.content=document.createTextNode(e),this},i.prototype.withCDATAContent=function(e){return this.content=(new DOMParser).parseFromString("","text/xml").createCDATASection(e),this},i.prototype.addAttribute=function(e,t){return this.attributes.push({key:e,value:t}),this},i.prototype.addAttributes=function(t){var r=this;return Object.keys(t).forEach(function(e){r.addAttribute(e,t[e])}),this},i.prototype.addChild=function(e){return e instanceof Document?this.children.push(e.documentElement):this.children.push(e),this},i.prototype.build=function(){var r=document.implementation.createDocument("","",null).createElement(this.nodeName);return null!=this.content&&r.appendChild(this.content),this.attributes.forEach(function(e){r.setAttribute(e.key,e.value)}),this.children.forEach(function(e){var t=e;null!=e.parentNode&&(t=e.cloneNode(!0)),r.appendChild(t)}),r},i);function i(e){this.nodeName=e,this.attributes=[],this.children=[]}t.XMLNodeBuilder=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VastParserUtils=void 0;var n,i=r(3);(n=t.VastParserUtils||(t.VastParserUtils={})).parseErrors=function(e,t){if(0!==(t=e.querySelectorAll(t)).length){var r=[];if([].forEach.call(t,function(e){e=n.parseNodeText(e);null!=e&&""!==e&&r.push(e)}),0!==r.length)return r}},n.parseNodeText=function(e){if(null!=e&&null!=e.textContent)return e.textContent.trim()},n.parseNodeAttribute=function(e,t){if(null!=t){e=t.getAttribute(e);if(null!=e)return e.trim()}},n.parseSequence=function(e){if(null!=(e=n.parseNodeAttribute("sequence",e))){e=parseInt(e,10);if(!isNaN(e))return e}},n.parseTime=function(e){if(null!=e){if(i.Utils.isNumeric(e)){var t=parseInt(e,10);return t<0?void 0:t}var r=e.split(":");if(3===r.length){t=r[2].split("."),e=parseInt(t[0],10);2===t.length&&(e+=parseFloat("0."+t[1]));t=60*parseInt(r[1],10),r=3600*parseInt(r[0],10);if(!(isNaN(r)||isNaN(t)||isNaN(e)||3600<t||60<e))return i.Utils.toMs(r+t+e)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sentry=void 0;var i,o,a;new(r(4).Console)("Sentry");t=t.Sentry||(t.Sentry={}),i=!1,o=[/[^\u0000-\u007F]+/,/Permission denied to access property ('|")toString('|")/,"playerLocation is undefined","Can't execute code from a freed script","Impossibile eseguire il codice da uno script liberato",/Unable to emit vpt event: TypeError: Object doesn't support this action/,/Unable to emit vpt event: TypeError: Azione non valida per l'oggetto/],a=[/extensions\//i,/^chrome:\/\//i],t.init=function(n,e){null!=window.Raven&&(Raven.config(n.dsn,{ignoreErrors:o,ignoreUrls:a,shouldSendCallback:function(e){var t,r=Math.random()<n.sampleRate;try{-1<(t=e.exception.values[0].stacktrace.frames)[t.length-1].filename.indexOf("viralize")||(r=!1)}catch(e){}return r},release:"PROD-cbbcbd8f"}).install(),Raven.setExtraContext({format:e.impression.format,selected_campaign:e.content._id,website_domain:e.environment.site.url}),i=!0)},t.reportError=function(e){null!=window.Raven&&i&&Raven.captureException(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BidRejectedError=t.VastError=void 0;var n,i=r(0),o=r(1),r=r(9),r=(n=r.CodedError,i.__extends(a,n),a);function a(e,t){e=n.call(this,e,"Error parsing vast: "+e)||this;return e.errorUrls=[],null!=t&&(e.errorUrls=t),e}t.VastError=r;var s,i=(s=r,i.__extends(c,s),c);function c(e){return s.call(this,o.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE,e)||this}t.BidRejectedError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodedError=void 0;var n,i=r(0),r=r(10),i=(n=r.CustomError,i.__extends(o,n),o);function o(e,t){t=n.call(this,t)||this;return t.code=e,t}t.CodedError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomError=void 0;var n,r=r(0),r=(n=Error,r.__extends(i,n),i);function i(e){var t=this.constructor;void 0===e&&(e="");var r=n.call(this,e)||this;return Object.setPrototypeOf(r,t.prototype),r.name=r.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(r,r.constructor):r.stack=new Error(e).stack,r}t.CustomError=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayableComponent=void 0;var n=(i.prototype.show=function(){this.element.classList.add(this.showClass)},i.prototype.hide=function(){this.element.classList.remove(this.showClass)},i.SHOW_ELEMENT_SUFFIX="--show",i);function i(e){this.element=this.getComponentElement(),this.showClass=e+i.SHOW_ELEMENT_SUFFIX}t.DisplayableComponent=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DomEventManager=void 0;var n,i=r(0),r=r(82),i=(n=r.EventManager,i.__extends(o,n),o.prototype.addEventListener=function(e,t){this.target.addEventListener(e,t)},o.prototype.removeEventListener=function(e,t){this.target.removeEventListener(e,t)},o);function o(e){var t=n.call(this)||this;return t.target=e,t}t.DomEventManager=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var n=r(0),r=(new(r(4).Console)("Observable"),i.prototype.addObserver=function(e){this.observers.includes(e),this.observers.push(e)},i.prototype.removeObserver=function(e){e=this.observers.indexOf(e);-1!==e&&this.observers.splice(e,1)},i.prototype.removeAllObservers=function(){this.observers=[]},i.prototype.getObservers=function(){return n.__spreadArrays(this.observers)},i);function i(){this.observers=[]}t.Observable=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=void 0;var n=(i.prototype.buildPromise=function(){var r,n;return{promise:new Promise(function(e,t){r=e,n=t}),resolve:r,reject:n}},i);function i(){var e=this.buildPromise();this.promise=e.promise,this.resolve=e.resolve,this.reject=e.reject}t.Deferred=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreativityInitEventName=t.CreativityEventName=t.CreativityNonUniqueEventName=t.CreativityUniqueEventName=void 0;var n,i,o=r(0);(i=n=t.CreativityUniqueEventName||(t.CreativityUniqueEventName={})).IMPRESSION="impression",i.START="start",i.FIRST_QUARTILE="first_quartile",i.MIDPOINT="midpoint",i.THIRD_QUARTILE="third_quartile",i.COMPLETE="complete",i.GOOGLE_VIEWABILITY_MEASURABLE="google_viewability_measurable",i.GOOGLE_VIEWABLE="google_viewable",i.VIEWABLE="viewable",i.VIEWABLE_IMPRESSION="viewable_impression",i.VIEWABLE_START="viewable_start",i.VIEWABLE_FIRST_QUARTILE="viewable_first_quartile",i.VIEWABLE_MIDPOINT="viewable_midpoint",i.VIEWABLE_THIRD_QUARTILE="viewable_third_quartile",i.VIEWABLE_COMPLETE="viewable_complete",i.NOT_VIEWABLE_IMPRESSION="not_viewable_impression",i.NOT_VIEWABLE_START="not_viewable_start",i.NOT_VIEWABLE_FIRST_QUARTILE="not_viewable_first_quartile",i.NOT_VIEWABLE_MIDPOINT="not_viewable_midpoint",i.NOT_VIEWABLE_THIRD_QUARTILE="not_viewable_third_quartile",i.NOT_VIEWABLE_COMPLETE="not_viewable_complete",i.SKIP="skip",i.SHARE_FB="share_fb",i.SHARE_TW="share_tw",i.PAUSE="pause",i.RESUME="resume",(i=r=t.CreativityNonUniqueEventName||(t.CreativityNonUniqueEventName={})).CLICK_THROUGH="clickthrough",i.PLAY="play",i.MUTE="mute",i.UNMUTE="unmute",i.REWIND="rewind",i.FULLSCREEN="fullscreen",i.EXIT_FULLSCREEN="exit_fullscreen",t.CreativityEventName=o.__assign(o.__assign({},n),r),t.CreativityInitEventName=t.CreativityEventName.IMPRESSION},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VastTrackerUtils=void 0;var n=r(1),i=r(3);(t=t.VastTrackerUtils||(t.VastTrackerUtils={})).resolveMacros=function(e,t){return null==(t=null!=t?t:{}).CACHEBUSTING&&(t.CACHEBUSTING=i.Utils.generateCacheBusting()),null==t.RANDOM&&(t.RANDOM=t.CACHEBUSTING),null==t.ERRORCODE&&(t.ERRORCODE=""+n.Constants.VastErrorCodes.UNDEFINED_ERROR),null==t.TIMESTAMP&&(t.TIMESTAMP=(new Date).toISOString()),i.Utils.resolveMacros(e,t)},t.splitUniversalAdId=function(e){return e.map(function(e){return e.idRegistry+" "+e.value}).join(",")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=void 0;new(r(4).Console)("DomUtils");(t=t.DomUtils||(t.DomUtils={})).injectScript=function(n){return new Promise(function(e,t){var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",n),r.onload=function(){e()},r.onerror=function(){t("Error loading script "+n)},document.body.appendChild(r)})},t.findVideoTags=function(e){var t=Array.from(e.getElementsByTagName("video"));e instanceof HTMLVideoElement&&t.push(e);for(var r=0,n=function(e){var t=Array.from(e.getElementsByTagName("iframe"));e instanceof HTMLIFrameElement&&t.push(e);for(var r,n,i=[],o=0,a=t;o<a.length;o++){var s=a[o];try{var c=(c=n=void 0,null!=(r=s).contentDocument?r.contentDocument:null==(null===(n=r.contentWindow)||void 0===n?void 0:n.document)||null===(c=r.contentWindow)||void 0===c?void 0:c.document);if(null==c)continue;i.push(c)}catch(e){}}return i}(e);r<n.length;r++){var i=n[r].getElementsByTagName("video");t.push.apply(t,Array.from(i))}return t},t.injectScriptInFrame=function(n){return new Promise(function(e,t){var r=document.createElement("iframe");r.setAttribute("sandbox","allow-scripts allow-same-origin"),r.style.display="none",r.srcdoc='<script src="'+n+'"><\/script>',r.onload=function(){e(r)},r.onerror=function(){t("Error loading script im frame "+n)},document.body.appendChild(r)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAnalytics=void 0;var n=(i.SID_SEPARATOR=":",i);function i(e,t,r){this.viralizeTracker=e,this.sessionId=""+t+i.SID_SEPARATOR+r,this.subSessionId=r}t.BaseAnalytics=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAnalyticsEvent=void 0;var n=(i.prototype.toJSON=function(){var e=this.getSubSessionName(),t={ver:this.version,type:this.type,category:this.category,session_id:this.sessionId};return t[e]=this.subSessionId,t.label=this.label,t.reason=this.reason.toString(),t},i);function i(e,t,r,n,i,o){void 0===o&&(o="ok"),this.version=e,this.type="event",this.category=t,this.sessionId=r,this.subSessionId=n,this.label=i,this.reason=o}t.BaseAnalyticsEvent=n},function(e,t,r){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.BidOppInitEventName=t.BidOppEventName=void 0,(i=n=t.BidOppEventName||(t.BidOppEventName={})).BID_OPPORTUNITY="bid_opportunity",i.BID_ERROR="bid_error",i.BID_REJECTED="bid_rejected",t.BidOppInitEventName=n.BID_OPPORTUNITY},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewConstants=void 0,(t=t.ViewConstants||(t.ViewConstants={})).PLAYER_ID="js-vr-player",t.RESPONSIVE_CONTAINER_ID="js-vr-responsive-container",t.VIDEO_ID="js-vr-video"},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CommunicationAdapter=void 0,(n=n||{}).AD_FILLED="adFilled";var i=(o.prototype.notifyStarted=function(){this.injectorPlayerEmitter.emit(n.AD_FILLED)},o);function o(){this.injectorPlayerEmitter=window.injectorPlayerEmitter}t.CommunicationAdapter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePlaybackTracker=void 0;var n=(i.prototype.isVisible=function(e){return e.focus&&50<=e.perc},i);function i(e,t){this.viewabilityEvaluator=e,this.iabEvaluator=t,this.iabEvaluator.addObserver(this)}t.BasePlaybackTracker=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSubSessionAnalytics=void 0;var n,i=r(0),r=r(18),i=(n=r.BaseAnalytics,i.__extends(o,n),o);function o(e,t){return n.call(this,e.viralizeTracker,e.sessionId,t)||this}t.BaseSubSessionAnalytics=i},function(e,t,r){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.BidDoneInitEventName=t.BidDoneEventName=void 0,(i=n=t.BidDoneEventName||(t.BidDoneEventName={})).BID_DONE="bid_done",i.BID_SELECTED="bid_selected",t.BidDoneInitEventName=n.BID_DONE},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAdSkinConfigFactory=void 0;var u=r(1),r=(n.prototype.setClosePhantomClick=function(e){this.enableClosePhantomClick=e},n.prototype.build=function(e,t,r){var n,i=this.evalShowProgressBar(),o=this.evalShowLogo(),a=!0,s=2,c=-1,d=this.evalShowClosePlayerButton();return 1===d&&(c=this.config.settings.skip_delay),this.config.settings.pauseable_ads&&(s=this.config.environment.client.device.type!==u.Constants.DeviceType.DESKTOP?0:1),null!=t&&(i=t.progressbar,o=t.logo,t.controls||(a=!1,s=2),""!==t.backgroundColor&&(n=t.backgroundColor)),{closePlayerButtonPosition:this.config.settings.skip_position,closePlayerButtonText:this.config.settings.skip_text,showClosePlayerButton:d,closePlayerButtonDelay:c,showProgressBar:i,showLogo:o,showMuteButton:a,showPlayButton:s,enableClickCover:e,shareUrl:r,backgroundColor:n,enableClosePhantomClick:this.enableClosePhantomClick}},n.prototype.evalShowProgressBar=function(){return this.config.settings.enable_ad_progressbar},n.prototype.evalShowLogo=function(){return this.config.settings.enable_branding},n.prototype.evalShowClosePlayerButton=function(){return-1===this.config.settings.skip_delay?2:1},n);function n(e){this.config=e,this.enableClosePhantomClick=!1}t.DefaultAdSkinConfigFactory=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StandaloneFormatController=void 0;var i,n=r(0),o=r(4),a=r(36),s=r(3),c=r(146),d=r(147);(r=i=i||{})[r.STOPPED=0]="STOPPED",r[r.AD_SEARCH=1]="AD_SEARCH",r[r.AD_STARTING=2]="AD_STARTING",r[r.AD_PLAYING=3]="AD_PLAYING";new o.Console("StandaloneFormatController");var u,n=(u=d.Activable,n.__extends(l,u),l.prototype.run=function(){var e=this;this.waitForActivation().then(function(){e.onActivation()}).catch(),null!=window.vpt&&window.vptEmitter(window.vpt.EVENTS.AD_SESSION_START),this.tryRunPreroll()},l.prototype.closePlayerRequested=function(){this.closeRequested=!0,this.state===i.AD_SEARCH?(this.adFinder.abort(),this.notifyAdStartAborted()):this.state===i.AD_STARTING?this.adPlaybackController.abort():this.state===i.AD_PLAYING&&this.adPlaybackController.closePlayerRequested()},l.prototype.shown=function(){this.state!==i.AD_STARTING&&this.state!==i.AD_PLAYING||this.adPlaybackController.shown()},l.prototype.hidden=function(){this.state!==i.AD_STARTING&&this.state!==i.AD_PLAYING||this.adPlaybackController.hidden(),this.analytics.track(a.PlayerEventName.COLLAPSE)},l.prototype.notifyImpression=function(){var e,t;null!==(t=(e=this.formatObserver).notifyImpression)&&void 0!==t&&t.call(e)},l.prototype.notifyAdStartAborted=function(){var e,t;null!==(e=(t=this.formatObserver).notifySkip)&&void 0!==e&&e.call(t),null!==(t=(e=this.formatObserver).notifyFailed)&&void 0!==t&&t.call(e)},l.prototype.notifyComplete=function(){var e,t;this.state=i.STOPPED,null!==(t=(e=this.formatObserver).notifyComplete)&&void 0!==t&&t.call(e)},l.prototype.notifyAdPlayerEnded=function(){var e,t;null!==(t=(e=this.formatObserver).notifyEnded)&&void 0!==t&&t.call(e)},l.prototype.notifyAdPlayerRemovable=function(){this.cleanUp()},l.prototype.notifySkip=function(){var e,t;null!==(t=(e=this.formatObserver).notifySkip)&&void 0!==t&&t.call(e)},l.prototype.notifyMuted=function(){var e,t;null!==(t=(e=this.formatObserver).notifyMuted)&&void 0!==t&&t.call(e)},l.prototype.notifyUnmuted=function(){var e,t;null!==(t=(e=this.formatObserver).notifyUnmuted)&&void 0!==t&&t.call(e)},l.prototype.notifyPaused=function(){var e,t;null!==(t=(e=this.formatObserver).notifyPaused)&&void 0!==t&&t.call(e)},l.prototype.notifyResumed=function(){var e,t;null!==(t=(e=this.formatObserver).notifyResumed)&&void 0!==t&&t.call(e)},l.prototype.notifyProgress=function(e){var t,r;null!==(r=(t=this.formatObserver).notifyProgress)&&void 0!==r&&r.call(t,e)},l.prototype.notifyDurationChange=function(e){var t,r;null!==(r=(t=this.formatObserver).notifyDurationChange)&&void 0!==r&&r.call(t,e)},l.prototype.notifyFirstQuartile=function(){var e,t;null!==(t=(e=this.formatObserver).notifyFirstQuartile)&&void 0!==t&&t.call(e)},l.prototype.notifyMidPoint=function(){var e,t;null!==(t=(e=this.formatObserver).notifyMidPoint)&&void 0!==t&&t.call(e)},l.prototype.notifyThirdQuartile=function(){var e,t;null!==(t=(e=this.formatObserver).notifyThirdQuartile)&&void 0!==t&&t.call(e)},l.prototype.notifyClick=function(){var e,t;null!==(t=(e=this.formatObserver).notifyClick)&&void 0!==t&&t.call(e)},l.prototype.notifyError=function(e){var t,r;null!==(r=(t=this.formatObserver).notifyError)&&void 0!==r&&r.call(t,e)},l.prototype.notifySetInteractionMode=function(){var e,t;null!==(t=(e=this.formatObserver).notifySetInteractionMode)&&void 0!==t&&t.call(e)},l.prototype.setVolume=function(e){0===e?this.adPlaybackController.mute():this.adPlaybackController.unmute()},l.prototype.pause=function(){this.adPlaybackController.pause()},l.prototype.resume=function(){this.adPlaybackController.play()},l.prototype.onActivation=function(){var t=this;this.analytics.track(a.PlayerEventName.ACTIVATION),this.viewabilityEvaluator.start(),this.viewabilityEvaluator.isViewabilityAvailable().then(function(e){e&&t.analytics.track(a.PlayerEventName.VIEWABILITY_AVAILABLE)}).catch(),null!=window.vpt&&window.vptEmitter(window.vpt.EVENTS.ACTIVATION)},l.prototype.tryRunPreroll=function(){var n=this;this.closeRequested?this.onAdSearchEnded():(this.state=i.AD_SEARCH,this.playerSkin.notifyPlayerLoading(),this.adFinder.getNextPrerollPlayer(this.presenter).then(function(e){var t,r;null!==(r=(t=n.formatObserver).notifyAdLoaded)&&void 0!==r&&r.call(t,e.getDimensions()),n.player=e,n.tryExecutePlayer(e).then(function(){var e,t;n.state=i.AD_PLAYING,n.playerSkin.notifyPlayerRunning(),null!==(t=(e=n.formatObserver).notifyStarted)&&void 0!==t&&t.call(e)}).catch(function(){e.removeAllObservers(),n.tryRunPreroll()})}).catch(function(){var e,t;n.closeRequested||null!==(t=(e=n.formatObserver).notifyFailed)&&void 0!==t&&t.call(e),n.onAdSearchEnded()}))},l.prototype.tryExecutePlayer=function(e){var t=this;return this.waitForActivation().then(function(){return t.closeRequested?Promise.reject():(t.state=i.AD_STARTING,t.adPlaybackController.start(e,t.presenter))})},l.prototype.onAdSearchEnded=function(){this.state=i.STOPPED,this.cleanUp()},l.prototype.cleanUp=function(){var r=this;this.playerSkin.disableSkin(),null!=window.vpt&&window.vptEmitter(window.vpt.EVENTS.AD_SESSION_END);function t(){var e,t;null!==(t=r.player)&&void 0!==t&&t.removeAllObservers(),r.viewabilityEvaluator.stop(),null!==(t=(e=r.formatObserver).notifyRemove)&&void 0!==t&&t.call(e)}var e=s.Utils.timedPromise(l.MIN_FLUSH_WAIT);Promise.all([e,this.analyticsTracker.flush()]).catch(function(e){return t(),Promise.reject(e)}).then(t).catch(function(){})},l.MIN_FLUSH_WAIT=3e3,l);function l(e){var t=u.call(this)||this;return t.formatObserver=e.observer,t.analyticsTracker=e.analyticsFactory.getViralizeTrackerInstance(),t.analytics=e.analyticsFactory.buildPlayerAnalyticsFacade(),t.viewabilityEvaluator=e.viewabilityEvaluator,t.adPlaybackControllerFactory=e.adPlaybackControllerFactory,t.adFinder=e.adFinder,t.playerSkin=e.playerSkinPresenterFactory.buildPlayerSkinPresenter(t),t.closeRequested=!1,t.state=i.STOPPED,t.adPlaybackController=t.adPlaybackControllerFactory.newInstance(t),t.viewabilityEvaluator.addObserver(t.adPlaybackController),t.presenter=new c.AdSkinPresenter(e.adView,t.adPlaybackController),t}t.StandaloneFormatController=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerLoader=void 0;var n=r(9),r=(i.prototype.run=function(){var r=this;return this.isAborted()?Promise.reject(new n.CodedError(4e4)):new Promise(function(e,t){r.abortFn=t,r.internalLoad().then(e).catch(t)})},i.prototype.abort=function(){this.aborted=!0,null!=this.abortFn&&this.abortFn(new n.CodedError(4e4))},i.prototype.isAborted=function(){return this.aborted},i);function i(e,t){this.source=e,this.waterfallPosition=t,this.aborted=!1}t.PlayerLoader=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdPlayer=void 0;var n,i=r(0),o=r(14),a=r(13),s=r(3),i=(n=a.Observable,i.__extends(c,n),c.prototype.load=function(e){return this.adStarted=!1,this.resetAbortState(),this.raceWithAbort(this.internalLoad(e))},c.prototype.runAd=function(){var t=this,e=this.internalRunAd();return this.raceWithAbort(e).then(function(e){return t.adStarted=!0,e})},c.prototype.abort=function(){this.adStarted||(this.markAsAborted(),this.cleanUp())},c.prototype.notifyShareOnSocial=function(r){this.observers.forEach(function(e){var t;null!==(t=e.notifyShareOnSocial)&&void 0!==t&&t.call(e,r)})},c.prototype.isAborted=function(){return this.aborted},c.prototype.isAdStarted=function(){return this.adStarted},c.prototype.raceWithAbort=function(e){return s.Utils.raceWithNeverResolvingPromise(e,this.abortDeferred.promise)},c.prototype.resetAbortState=function(){this.aborted=!1,this.abortDeferred=new o.Deferred},c.prototype.markAsAborted=function(){this.aborted=!0,this.abortDeferred.reject(new Error(c.PLAYER_ABORTED_ERROR_MESSAGE))},c.PLAYER_ABORTED_ERROR_MESSAGE="Player has been aborted",c);function c(){var e=n.call(this)||this;return e.adStarted=!1,e.aborted=!1,e.abortDeferred=new o.Deferred,e}t.AdPlayer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VastBuilderUtils=void 0,(t.VastBuilderUtils||(t.VastBuilderUtils={})).toFormattedTime=function(e){var t=e/1e3,r=Math.floor(t/3600),n=Math.floor((t-3600*r)/60),t=Math.floor(t-3600*r-60*n),e=Math.floor(e-1e3*(t+3600*r+60*n));return(r<10?"0"+r:""+r)+":"+(n<10?"0"+n:""+n)+":"+(t<10?"0"+t:""+t)+"."+(e=100<=e?""+e:10<=e?"0"+e:"00"+e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VerificationEventsObserver=void 0;var n=r(41),i=r(16),o=r(1),r=(a.prototype.notifyVerificationNotExecuted=function(e){var e=((t={})[o.Constants.AD_VERIFICATION_MACROS.REASON]=e,t),t=this.trackingEvents.verificationNotExecuted;void 0!==t&&this.handleEvent(t,e)},a.prototype.handleEvent=function(e,t){var r=this;void 0===e&&(e=[]),void 0===t&&(t={}),t[o.Constants.AD_VERIFICATION_MACROS.OMIDPARTNER]=o.Constants.PARTNER_NAME,t[o.Constants.AD_VERIFICATION_MACROS.APIFRAMEWORKS]=o.Constants.ApiFramework.OMID,e.forEach(function(e){r.tracker.track(i.VastTrackerUtils.resolveMacros(e.url,t)).catch(function(){})})},a);function a(e){this.tracker=new n.PixelTracker,this.trackingEvents=e}t.VerificationEventsObserver=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeoutError=void 0;var n,i=r(0),r=r(10),i=(n=r.CustomError,i.__extends(o,n),o);function o(e){return n.call(this,"Timeout of "+e+" reached")||this}t.TimeoutError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsSessionCounter=void 0;function n(e,t){this.value="wp"+e+"sc"+t}t.AnalyticsSessionCounter=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BidEventName=void 0;var n=r(0),i=r(25),r=r(20);t.BidEventName=n.__assign(n.__assign({},r.BidOppEventName),i.BidDoneEventName)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DP4Factory=void 0;var n={isActive:!1,playbackRateOnMuted:1,playbackRateOnHidden:1},i=(o.convertToAdServerConfig=function(e){return{sampling:e.isActive?1:0,value:e.playbackRateOnMuted-1,value_on_hidden:e.playbackRateOnHidden-1}},o.prototype.get=function(e){return null==e?this.baseConfig:this.computeConfig(e)},o.prototype.computeConfig=function(e){return this.forceInactive?n:{isActive:Math.random()<e.sampling,playbackRateOnMuted:e.value+1,playbackRateOnHidden:e.valueOnHidden+1}},o);function o(e,t){var r=0<=e.indexOf("IE"),e=0<=e.indexOf("Edge");this.forceInactive=r||e,this.baseConfig=null==t?n:this.computeConfig(t)}t.DP4Factory=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerEventName=void 0,(t=t.PlayerEventName||(t.PlayerEventName={})).VIEWABILITY_AVAILABLE="viewability_available",t.DROPPABLE="droppable",t.ACTIVATION="activation",t.COLLAPSE="collapse"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SourceNotSupported=void 0;var n,i=r(0),r=r(10),i=(n=r.CustomError,i.__extends(o,n),o);function o(){return n.call(this,"No loader found for specified source")||this}t.SourceNotSupported=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseBidJob=void 0;var n,i=r(0),r=r(13),i=(n=r.Observable,i.__extends(o,n),o);function o(){return null!==n&&n.apply(this,arguments)||this}t.BaseBidJob=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BidJobResult=void 0;var n,i=r(0),o=r(13),a=r(3),i=(n=o.Observable,i.__extends(s,n),s.prototype.get=function(){var t=this;return this.result.get().then(function(e){return t.observers.forEach(function(e){var t;null!==(t=e.notifyBidSelected)&&void 0!==t&&t.call(e)}),e}).catch(function(e){return Promise.reject(t.handleError(e))})},s.prototype.handleError=function(e){var r=a.Utils.toCodedError({error:e,defaultCode:2e4});return this.observers.forEach(function(e){var t;null!==(t=e.notifyBidError)&&void 0!==t&&t.call(e,r)}),r},s);function s(e){var t=n.call(this)||this;return t.result=e,t}t.BidJobResult=i},function(e,t,r){"use strict";function n(e,t){return null!=t&&e.test(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LoaderUtils=void 0,(t=t.LoaderUtils||(t.LoaderUtils={})).isOneTag=function(e){return n(/(onetag-sys\.\w+)\/(\w+)\/(\w+)/,e)},t.isAps=function(e){return n(/aax\.amazon-adsystem\.com\/.*/,e)},t.isPrebid=function(e){return"auto"===e.tech&&null!=e.prebid&&0<e.prebid.bidder.length},t.hasPositiveMinCpm=function(e){return null!=e.min_cpm&&0<e.min_cpm}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PixelTracker=void 0;var n=(i.prototype.track=function(r){return new Promise(function(e){var t=new Image;t.onload=function(){e()},t.onerror=function(){e()},t.src=r})},i);function i(){}t.PixelTracker=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MoatClient=void 0;var n=r(4),i=r(14),u=r(7),l=r(3),p=r(160),n=(new n.Console("MoatClient"),o.isViralizeMoatPlugin=function(e){return null!==e.match(/\/viralize_moat_adapter\.min(\.[\w\d]+)?\.js/)||null!==e.match(/\/player\/adapters\/moat\.js/)},o.prototype.load=function(e,t){if(null==this.moatApi){var r=l.Utils.getQueryParameterFromUrl(this.url,"partnerCode"),n=l.Utils.getQueryParameterFromUrl(this.url,"moatClientLevel1"),i=l.Utils.getQueryParameterFromUrl(this.url,"moatClientLevel2"),o=l.Utils.getQueryParameterFromUrl(this.url,"moatClientLevel3"),a=l.Utils.getQueryParameterFromUrl(this.url,"moatClientLevel4"),s=l.Utils.getQueryParameterFromUrl(this.url,"moatClientSlicer1"),c=l.Utils.getQueryParameterFromUrl(this.url,"moatClientSlicer2");if(null==r||""===r||null==n||""===n||null==i||""===i||null==o||""===o||null==a||""===a)return this.url,void this.loadedDeferred.reject(new Error("Moat plugin is not correctly configured, missing partnerCode param"));var d={level1:n,level2:i,level3:o,level4:a,slicer1:s,slicer2:c};try{this.moatApi=p.initMoatTracking(e,d,t,r)}catch(e){u.Sentry.reportError(new Error("Error initializing moat sdk: "+e)),this.loadedDeferred.reject(new Error(e))}this.loadedDeferred.resolve()}},o.prototype.track=function(e,t){var r=this;return this.loadedDeferred.promise.then(function(){if(null==r.moatApi)throw new Error("Moat library is not yet initialize. Must call .load");r.moatApi.dispatchEvent({type:e,adVolume:t})})},o);function o(e){this.url=e,this.loadedDeferred=new i.Deferred}t.MoatClient=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseNotAcceptedError=void 0;var n,i=r(0),r=r(10),i=(n=r.CustomError,i.__extends(o,n),o);function o(e){return void 0===e&&(e=""),n.call(this,e)||this}t.ResponseNotAcceptedError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractVast=void 0;var n=r(6),r=function(e){var t=n.VastParserUtils.parseNodeAttribute("version",e);null!=t&&(this.version=t),this.errors=[],null!=(e=n.VastParserUtils.parseErrors(e,"VAST > Error"))&&(this.errors=e)};t.AbstractVast=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractLinear=void 0;var i=r(6),r=(n.prototype.merge=function(r){var e,n=this;Object.keys(r.trackingEvents).forEach(function(e){var t=r.trackingEvents[e];null!=t&&(null==n.trackingEvents[e]&&(n.trackingEvents[e]=[]),(e=n.trackingEvents[e]).push.apply(e,t))}),null!=r.icons&&(null==this.icons?this.icons=r.icons:(e=this.icons).push.apply(e,r.icons))},n);function n(e){var n=this,t=e.getElementsByTagName("Tracking");this.trackingEvents={},[].forEach.call(t,function(e){var t=i.VastParserUtils.parseNodeAttribute("event",e),r=i.VastParserUtils.parseNodeText(e);null!=t&&""!==t&&null!=r&&""!==r&&(null==n.trackingEvents[t]&&(n.trackingEvents[t]=[]),n.trackingEvents[t].push({url:r,offset:i.VastParserUtils.parseNodeAttribute("offset",e)}))});e=e.getElementsByTagName("Icon");0<e.length&&(this.icons=Array.from(e))}t.AbstractLinear=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoClicks=void 0;var n=r(176),i=r(177),o=r(6),r=(a.prototype.merge=function(e){var t;null!=e.clickTrackings&&(null==this.clickTrackings&&(this.clickTrackings=[]),(t=this.clickTrackings).push.apply(t,e.clickTrackings)),null!=e.customClicks&&(null==this.customClicks&&(this.customClicks=[]),(t=this.customClicks).push.apply(t,e.customClicks))},a.prototype.toXML=function(){var e=null!=this.clickThrough?this.clickThrough:{url:""},t=new n.ClickBuilder(e.url,"ClickThrough");null!=e.id&&t.withId(e.id);var r=new i.VideoClicksBuilder(t.build());return null!=this.clickTrackings&&this.clickTrackings.forEach(function(e){var t=new n.ClickBuilder(e.url,"ClickTracking");null!=e.id&&t.withId(e.id),r.addClickTracking(t.build())}),null!=this.customClicks&&this.customClicks.forEach(function(e){var t=new n.ClickBuilder(e.url,"CustomClick");null!=e.id&&t.withId(e.id),r.addCustomClick(t.build())}),r.build()},a.prototype.parseClickThrough=function(e){var t=e.getElementsByTagName("ClickThrough")[0],e=o.VastParserUtils.parseNodeText(t);if(null!=e&&""!==e)return{url:e,id:o.VastParserUtils.parseNodeAttribute("id",t)}},a.prototype.parseClickTrackings=function(e){return this.parseClickUrls(e,"ClickTracking")},a.prototype.parseCustomClicks=function(e){return this.parseClickUrls(e,"CustomClick")},a.prototype.parseClickUrls=function(e,t){t=e.getElementsByTagName(t);if(0!==t.length){var r=[];if([].forEach.call(t,function(e){var t=o.VastParserUtils.parseNodeText(e);null!=t&&""!==t&&r.push({url:t,id:o.VastParserUtils.parseNodeAttribute("id",e)})}),0!==r.length)return r}},a);function a(e){var t=this.parseClickThrough(e);null!=t&&(this.clickThrough=t);t=this.parseClickTrackings(e);null!=t&&(this.clickTrackings=t);e=this.parseCustomClicks(e);null!=e&&(this.customClicks=e)}t.VideoClicks=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions=void 0;var a=r(7),i=r(6),r=(n.prototype.merge=function(e){var t;this.mergeVrExtensions(e),null!=e.unknownExtensions&&(null==this.unknownExtensions&&(this.unknownExtensions=[]),(t=this.unknownExtensions).push.apply(t,e.unknownExtensions))},n.prototype.parseMobiExt=function(e){var t,r=this.getExtensionContent(e,"MobiResource");if(null!=r){try{t=JSON.parse(r)}catch(e){return void a.Sentry.reportError(new Error("Unable to parse extension MobiResource: "+e))}this.mobi={framesets:t.framesets,numFramesets:parseInt(t.num_framesets,10),videolq:t.videolq,frameWidth:parseInt(t.frame_width,10),frameHeight:parseInt(t.frame_height,10),fps:parseInt(t.fps,10),audio:t.audio}}},n.prototype.parseSocialExt=function(e){var t=this.getExtensionContent(e,"ShareUrl");if(null!=t)try{this.shareUrl=JSON.parse(t)}catch(e){return void a.Sentry.reportError(new Error("Unable to parse extension ShareUrl: "+e))}},n.prototype.parseDp4Ex=function(e){var t={sampling:0,value:0,valueOnHidden:0},r=e.getElementsByTagName("sampling");0<r.length&&null!=r[0].textContent&&(t.sampling=parseFloat(r[0].textContent));r=e.getElementsByTagName("value");0<r.length&&null!=r[0].textContent&&(t.value=parseFloat(r[0].textContent));e=e.getElementsByTagName("valueOnHidden");0<e.length&&null!=e[0].textContent&&(t.valueOnHidden=parseFloat(e[0].textContent)),this.dp4=t},n.prototype.parsePluginExt=function(e){var t,r=this.getExtensionContent(e,"Plugins");if(null!=r){try{t=JSON.parse(r)}catch(e){return a.Sentry.reportError(new Error("Unable to parse extension Plugins: "+e)),void(this.plugins=[])}t instanceof Array?this.plugins=t:this.plugins=[]}else this.plugins=[]},n.prototype.parseUiExt=function(e){var t,r=this.getExtensionContent(e,"Parameters");if(null!=r){try{t=JSON.parse(r)}catch(e){return void a.Sentry.reportError(new Error("Unable to parse extension Parameters: "+e))}null!=t.skip&&(t.controls=t.skip);var n=!!t.controls,i=!!t.progressbar,o=!!t.logo,e=t.backgroundColor;this.ui={controls:n,progressbar:i,logo:o,backgroundColor:e}}},n.prototype.getExtensionContent=function(e,t){t=e.getElementsByTagName(t)[0];return i.VastParserUtils.parseNodeText(t)},n.prototype.buildCallbacks=function(e,n){e=e.getElementsByTagName("Tracking");[].forEach.call(e,function(e){var t=i.VastParserUtils.parseNodeAttribute("event",e),r=i.VastParserUtils.parseNodeText(e);null!=t&&""!==t&&null!=r&&""!==r&&(null==n[t]&&(n[t]=[]),n[t].push({url:r,offset:i.VastParserUtils.parseNodeAttribute("offset",e)}))})},n.prototype.mergeVrExtensions=function(e){null!=e.mobi&&null==this.mobi&&(this.mobi=e.mobi),null!=e.shareUrl&&null==this.shareUrl&&(this.shareUrl=e.shareUrl),null!=e.dp4&&null==this.dp4&&(this.dp4=e.dp4),0<e.plugins.length&&0===this.plugins.length&&(this.plugins=e.plugins),null!=e.ui&&null==this.ui&&(this.ui=e.ui),this.mergeVrExtraTracking(e),this.mergeVrViewabilityTracking(e)},n.prototype.mergeVrExtraTracking=function(e){null==e.extraTracking||null!=this.extraTracking&&0!==Object.keys(this.extraTracking).length||(this.extraTracking=e.extraTracking)},n.prototype.mergeVrViewabilityTracking=function(e){null==e.viewabilityTracking||null!=this.viewabilityTracking&&0!==Object.keys(this.viewabilityTracking).length||(this.viewabilityTracking=e.viewabilityTracking)},n);function n(e){var r=this,e=e.getElementsByTagName("Extension");this.plugins=[],[].forEach.call(e,function(e){var t=i.VastParserUtils.parseNodeAttribute("name",e);switch(null==t&&(t=i.VastParserUtils.parseNodeAttribute("type",e)),t){case"vr-mobi":r.parseMobiExt(e);break;case"vr-social":r.parseSocialExt(e);break;case"vr-dp4":r.parseDp4Ex(e);break;case"vr-plugins":r.parsePluginExt(e);break;case"vr-player-ui":r.parseUiExt(e);break;case"vr-viewability":null==r.viewabilityTracking&&(r.viewabilityTracking={}),r.buildCallbacks(e,r.viewabilityTracking);break;case"vr-extra-tracking":null==r.extraTracking&&(r.extraTracking={}),r.buildCallbacks(e,r.extraTracking);break;default:null==r.unknownExtensions&&(r.unknownExtensions=[]),r.unknownExtensions.push(e)}})}t.Extensions=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Verification=void 0;var i=r(1),o=r(7),a=r(6),r=(n.prototype.parseVerificationParameters=function(e){e=e.getElementsByTagName("VerificationParameters");if(0!==e.length){e=a.VastParserUtils.parseNodeText(e[0]);if(null!=e&&""!==e)return e}},n.prototype.parseJavaScriptResource=function(e){var e=e.getElementsByTagName("JavaScriptResource"),n=[];return[].forEach.call(e,function(e){var t=a.VastParserUtils.parseNodeText(e),r=a.VastParserUtils.parseNodeAttribute("apiFramework",e);null!=t&&""!==t&&void 0!==r&&""!==r&&(r.toLocaleLowerCase()===i.Constants.ApiFramework.VPAID&&o.Sentry.reportError(new Error("VPAID ad verification detected: "+t)),e=a.VastParserUtils.parseNodeAttribute("browserOptional",e),n.push({url:t,apiFramework:r,browserOptional:void 0===e||"true"===e.toLowerCase()}))}),this.sortJavaScriptResources(n)},n.prototype.sortJavaScriptResources=function(e){return e.sort(function(e,t){function r(e,t){return e?t?0:1:t?-1:0}return e.apiFramework.toLocaleLowerCase().includes(i.Constants.ApiFramework.OMID)&&t.apiFramework.toLocaleLowerCase().includes(i.Constants.ApiFramework.OMID)||e.apiFramework.toLocaleLowerCase().includes(i.Constants.ApiFramework.VPAID)&&t.apiFramework.toLocaleLowerCase().includes(i.Constants.ApiFramework.VPAID)?r(e.browserOptional,t.browserOptional):e.apiFramework.toLocaleLowerCase().includes(i.Constants.ApiFramework.OMID)&&t.apiFramework.toLocaleLowerCase().includes(i.Constants.ApiFramework.VPAID)?-1:t.apiFramework.toLocaleLowerCase().includes(i.Constants.ApiFramework.OMID)&&e.apiFramework.toLocaleLowerCase().includes(i.Constants.ApiFramework.VPAID)?1:0})},n.prototype.parseTrackingEvents=function(e){var e=e.getElementsByTagName("Tracking"),n={};return[].forEach.call(e,function(e){var t=a.VastParserUtils.parseNodeAttribute("event",e),r=a.VastParserUtils.parseNodeText(e);null!=t&&""!==t&&null!=r&&""!==r&&(null==n[t]&&(n[t]=[]),n[t].push({url:r,offset:a.VastParserUtils.parseNodeAttribute("offset",e)}))}),n},n);function n(e){this.vendor=a.VastParserUtils.parseNodeAttribute("vendor",e),this.verificationParameters=this.parseVerificationParameters(e),this.javaScriptResources=this.parseJavaScriptResource(e),this.trackingEvents=this.parseTrackingEvents(e)}t.Verification=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewableImpression=void 0;var n=r(6),r=(i.prototype.merge=function(e){var t,r;null!=e.viewable&&(t=this.viewable).push.apply(t,e.viewable),null!=e.notViewable&&(r=this.notViewable).push.apply(r,e.notViewable),null!=e.viewUndetermined&&(r=this.viewUndetermined).push.apply(r,e.viewUndetermined)},i);function i(e){var t=e.getElementsByTagName("ViewableImpression");this.viewable=[],this.notViewable=[],this.viewUndetermined=[],0<t.length&&(t=e.getElementsByTagName("Viewable"),null!=(t=n.VastParserUtils.parseNodeText(t[0]))&&this.viewable.push(t),t=e.getElementsByTagName("NotViewable"),null!=(t=n.VastParserUtils.parseNodeText(t[0]))&&this.notViewable.push(t),e=e.getElementsByTagName("ViewUndetermined"),null!=(e=n.VastParserUtils.parseNodeText(e[0]))&&this.viewUndetermined.push(e))}t.ViewableImpression=r},function(e,t,r){"use strict";e.exports=function(r){var c=[];return c.toString=function(){return this.map(function(e){var t=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){e=function(e){e=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(e," */")}(n),t=n.sources.map(function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")});return[r].concat(t).concat([e]).join("\n")}return[r].join("\n")}(e,r);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t}).join("")},c.i=function(e,t,r){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(r)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(n[o]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);r&&n[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),c.push(s))}},c}},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAkFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+WABnwAAAAL3RSTlMAAwUHDxcYHiQ0NTc4P0NIS0xQVFldYmh5foCKj5CUlpego6a9xNPU2+Pn6+/7/kgzr3EAAAC1SURBVBgZBcEHQtBQAECxqAxxoG1ZDqT6qVYpvPvfzgSwHBWvADBVlTfn704Btqp9/fT6/OLzzTWwVTNwenN3/xWmCoDv4/EjKgB4/PPEUrO3Y5xwVh9cPr0sjsIY3/hdeOlQO67HoO6xl1phjPdLwVpqhR/j13N/YS21w8kYdQZ7OQqMn/8CdVhqhssvD7cw10IFrq5AhakCoJpgq2ZgrjZgq9rXda/aAKaqqpoAsBxVxwL8B3wlHmkdkzdNAAAAAElFTkSuQmCC"},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAADnElEQVRYhb2ZTWtUMRSG396KUjviFXRVxBZxJdgrKm6knYUbF2r/gdU/UDcuxf4Dp4L7qV25q6IobpzRrUpn4bfiFMRvcAZFqptI2hMIp+ckudOPF8LMTZOT557knGTSPmMMetAwgCqVAsAoMzELYLIXw6tkAUuUqjFm3qRpktnNjDEDxpitZcbckvge1lPTAMZLvPuw970PwCCVivULgB8AujEjMcCcwKZKgDm1PbiKB+c+9wP4AuAVgH+akdAatHANYX2laAbARc9zEqD7XAJwG8DfMoAFwe2MwLSonS0dAAv06bQNwA6yE4K0M3kDwKcUwJymJwRno7RGQCkaADAEYCQA2g/gMoA/IcDYtLYofaSCcdmXPgFgrwJpA+cKgN+uX8YMTAfgZmnqe4UDRe1dmqFBoRwEcMHv4ANWA9G6fol3RfcBvFa8eB7AcQlwepPgnG7SbEievOQauTVovfdQMNKiabXazpKvU5svbE+519+XH+3XARwSvHkGQNMBzgM4Kxg67K05C3iNPn3NAbinANpceJXVdelFHeAB8maF7TZ3AExk1FiCm2UBYb30RGh3SoFzgFzzLFe+BfCAwfUT03BG0yupJtRJntoNYJ9QXyj1kt05BudU1QBbSjpZBPBSqJe8KHmvqdh9DuA9g4MDlBZxQ6jzB+E6KtRNCHX1gN3HQl2RKYk5BPhIiFobOGPe86SwVXYjgNKYo3wnceoo9U7SWjzmfZe8J6296Jg2zUjHmV0RyD10pOKaosX+QfjbiHdGlGRz5k9er3kwpu8AngptxpRd51YETpUGKAUOlzTN4wpgbHrVMTXAPMHgCzoe+RoSct9iJOiCY2aU87i05M3FvbgknIpTvActH2dK4kwFbLKU842tzVhqiY25kGn5J3Ed8v3ZPn/0nvm+q0n68W/V0AChbFWS3DTb3x2fAbzx2qROrzbWMmCb0gDXuUQvLlL5Rb9vrRffBfZzroLG4lpOTS6KtTdNXT/Wi1+952clvKeNsdLfuwdpKDcu9cR7lJPGmCNUTif2qStjNlwbv3E1cCWUClmmaHCGWFYB2lLbJMgQXM1vyzvmxpiFQGf7t2INYEWC/TwE6CA7ASPOm2VAi4jXDI2Z874bcXnk+ufeLWzshqxL7ValpY26fiujFsGJO07oPNihjtLBdL00E4JbVuIaqgbyZC9q+KkkVDbyEl2S7ZsEFguSmGL/hnBy+7ELpHLHfgD/AXKvBn5pLb63AAAAAElFTkSuQmCC"},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAMCAYAAAAZKF83AAAAAXNSR0IArs4c6QAAAp9JREFUSA3dlE1IVFEUx+eVfVhNRrq0TTREEkREtKpFRRJiBa0EFy0iazUFWosyS2YiJjcKLRRr0xdkBA5B4SYikCCIJEqhEU3KKGpjko7jzOv3f9xr14GGh8sO/DjnnnvOfffec+6LRP438X2/Es7DtqWcjbwekNTBFmiGjUtZK1SO+QDKfxQqoSiIPLvhWuz7WgiJF4WFHpaFiHxCTA30hYgtFbKcydswA89KBZaaCzbMifcRtAKGPc+bVAK+3agKGIVbMI6vCr0ZPsB+WAkvyfnG3HbsHfAFBmEnZKAAkmUwAtr0D+L3oNeBK1Os9Zq5KE7tSa3zDt9bN0ibOweSu5pAb4JfMAZNIGmDw5CFIbByE+MCyG9FH52DQ9BlnAfRCWM3oDPGdtUrBjF44zjz2CnQgYNTS/fAGNQzoVPVg07fCxMgyRt0q2qRFFyGj5CAn3AWOmAXqGLKccWOszhPwTHQGvOQg+uQBFXnDGyFAWiBRvgrbLQVJHF4ATNQDUdAcgl0YxKVNRDsG4HH908Ylyr00PgOoN0bvmr82qjioqBblejvsRq+g6qThj6w1ZxVjvvo7jBuhlbYAI/pnc8kqNeK5avjsGvoRq24tvW5usC6ynsAWr+Tb3XgW4Xtg278E2iTGUiDKrvQEhESxhn3QyXoRXfDvyToJzP51OgkH2yBLsZHnUTPsV1TbVQHaqVR8k6i1YqDUA5TcA90OeuhHRYLSXthHlSm4JbQx0FyEWxLXLOZ+DxohxxYUVl1i2qJTuPUo7ti7NPoSVCMsDKBUQPPrcPo9+iYvrno9Dg11mPLceNBz+DTxnViPRQ9mjWymdd4QYiLMlgLc/AbVEJpld7aqpzKrrXlcyvFMFJg3WnWkl/r6dt6jNP4gwf7B2b4aCZepC1dAAAAAElFTkSuQmCC"},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAAYCAYAAAB+zTpYAAAAAXNSR0IArs4c6QAABlRJREFUaAXtmX1o1WUUx7fZlo3yBTVtq00oM0KIykBHBEJvsBAxUVwZOjIqC6QQ6o/YqKm9E0oGEbaNZOSKNItKc9WsXOWiILHUumsvmqY5rcx0uT7f2+9czv31u9u97LKKduB7z8tznnOe33lepzk5QzRUgf99BXp7e8eBxWAhOHswC0K+K8DvwKjR8mMYD+4CFaDQ7P8pzsBHg23AqAGhYLA+glyRBcY+BnwCjOoQzhiscWUtD4OeaV/g+MVZS9BPIHKmKvBsNx6JJ8CUfsJlvTkvCxGPEKPXxfkJ+Ren/1PioVDiY+jdIdu/X2VVDANVIAb2gNsHc9TkS7WC82irATGwC1QO5riynosP0IUyNuuB+wlIzsgCWzfaJ4DRpg82Txz6DCIvNzf3dKYDoB/dcvVzIJ2++OsCLAXK1U6/U+F+Ggu2YnAO6MDn57BPujp9f0jXN10/xjcS3wlAR+P+vsaXKDCOr9DxIrjRSjo2mCJOewnsJTBKOnQQLMH+NPwCGaAW+t0hAfsmmIq5GtSDe8FtoAiowJ341MHr6XMEWU+8haACTARngcPYP4KvwqcV+XnkaaABfSU8kvDT5KwHmihRK/6LsFch3xy39P/Thct8+sXPbvpOR78blAHVQAXWuLfB1+C3Ax5NOM0Dnrai+AlQwe70Dsj1YCTocvb3LAO2WGDfB98YyFFsDsYS0BTVGNiOwRtBT6CvUR7kyCMC+yigCTT6OPB/0Qxp8P34jAn6LUM+3kefX2lbKl9P/hWxkYZW16hZusx0OqvY802Ha2s/B7QS/TbvQTcy+3kYZpoxxFvQt4N1YEaozatakXPAsMD4h29MIVt+Ndu4tOqiKMregaMm9lb440A7yqgTQTAqRHgK3/juNWNihbK89U7Udr0yaBwOnwus6JcjXxW0iakoatO2zoR24dwMdPFoEpeBCnA1MNLHvgm+AOPBbBBfSfCB0loCaFL9BGnSHgQTgdFhhCVAE1tjRvhv4AHwcmDT2FR81UELtpo6vkU9NTnJREMx8NtdzxudNdqKjwFPiwL7WIxtrmGLRcW229klvgHGuXblGwH2AqNTCPqwBKFPBe3mEPDVckDu64iIuT7NyLmJoE7Aru1/0vnqT28tLsVf4OwSVcwkwrYi5LPCHPwRkUPVdai/Zo3wyaCMztoas5z9W+TXnZ6OeBSnpeT40ZyDfDqGSs0Gb8L+rNM1Ll0eT3pbtmS+TcfecpDvYj5MzvWBPt3ZJequqAKPBKjG5scvn1v0I0ocEX+p8d9afiuBiqoZ10xqy04CRhsYgLZQJqRJ0QSG6VwMfhzxyyjshK5trTPVFyLCLX0TBVLxtBN8zDr0R10UHVGe5nklhVxidv9hZvsc4UNwXWAQvwTY9jqOXAsyJU2SxfB9/Vkoe/xI8g6BrLenXXARzZmZKG4RPXQe+7Ndd4N2mR+Tl5WkC5wE4W/R94mS7H8rMMFPk7wWRyuwBiIYbUbYaUoWeDsxToDhQaxy8usNfjAUWzd50pEWak9bJb4upDqghWPUhlBJ3m4zBPzrkP4Quo6PfGfXJKiw4t6ecsC6wfeAKFrLIGy2otoztX1FB/8Rk9D1vr4UFABdosuxLcg0cNhf44Y0SToCrnXtKupiEKM9P4Byq1haUHqKGt2HUKSJMKCfCZ4A5c6Gmnz2xQ36wekowdchVkt39CXyVqcPWCSXbu9nCFTrgt2A3AL2Ar06zgcDJvJold0Dkl4p6FowNSC8o3sC3w1wPcdEU4D+/bsRHgMa3yyg3aD/dCiDV6vQ8NSE42TQDTzdH+5BY7rPtB34Fob7S8euf5F7AWRC/pnmn1j6cMXUX3IxF/B95EKgP7czIb2iSsHuNDt14JdYECnPNGbgG8b5tgYbkF4N8cGbwXFtJSO/ClLZzTfOyaWzS6tqFdB5HEU6Rr5zDXbhaVX6nGaXazi/fFN+szpEUD7j+x77TWAT0EsmimR/F+iY6DQHJUxJzMSFNF4DtIU66agASYSPzp9yoL94FK8Lvy1wrSJtHd3+okPgHdq07VISfabSqD+JtRVHAA22GbwKtA01JuXZSaxP8dcr4Eagwqp4MewfYC9AVlFsXPuQm8D1QE9Df66iRpK+ezPxDqiVmMo7DcwAxUCkwraB7eAzfNOJi+sQZaUCfwKbpXhvpmcY8AAAAABJRU5ErkJggg=="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAoCAYAAABuDmFRAAAACXBIWXMAAAsSAAALEgHS3X78AAAFg0lEQVR4nO2c7XHjNhCGcZn8NzuwrgKzAykVxFeBpArC60Cu4OQKInWgdEBXcFIHcgd0Bcwws3vZebMLgBLtCDf7zGAkkSA+FkvsYgH7U9/3wXFunV98hJwScEV1isAV1SkCV1SnCFxRnSJwRXWKwBXVKQJXVKcIXFGdInBFdYrg15GNrEMIlfjdfmAnF6L+cwjhSAmZUWLOlCp6Hq9bWOXI9qTKkvLqRHtRjjGGZzqlTmTMWMyoDSwPluUYecSw5FGJeo8ZY/Avw15/Rqr7vm/7/9L1fb/r+76CMiQbo3xZXmvkqej5Tql74KyUv4A8B7o+U56N9X0H+RcT9lGTpYWsN8Ygo60yFjJZ4yjbiP3ktBnRZk0eWyPvMVLnj5SrpJaiMF1EoJcqak2dyOEIA4SDMctUPk6o1Fr7runjeygqczTashpRZzOxoub0dxvTwxwfdRNCuMvIp5nhS6nIlD1kPv9A+dmc7pQ+yE+8juB1LO+WeVDavwoh/Dmizd9CCM1EfXwMIcwz8kVdgBxF/V18P4UQ1iGEz/T5Stcb4UdNwUF5OZ5DCL9R3cPnHu4PA7Sl7zvRtoEl+VdneG6u+H0zys+8vrOinqg/VrImgK8i/wnurcT3WlHSVzGOPJZYxjfw6ZFYm6W8sIwnZQxPYux0Mkx/bEqvyKRMaRbRx+zIDdDKWChuCZt5NHW7TLOO7oHWvylNv+Wfp+qULkFFPreE7x0MOWgJ+y7bhqY/t82y/s4YQ2t8R5n+N/G9oamc6d5htlkpv61ZpVXMHJusHbR9KSIGOKvyaraC/r0VYvaHNt8r1yuwiK+KfCUrmFnnI1b6FnLs7mjmlGW2WW5jxhuBb5l8M63FyFjkmysXUKmVOSc5q8ZmAZ75rNnWyj91H3MXU7E6j1SOVhZHOtA6WdZBJpTNoyGb3DbXRr5zZnv+STmZqsTqW1utjaU1no2ZKZnkYJ2h7VKJO8NM9kp0o0uEeq7p4xSKGoMnEFSuZBhIUayNUVZum0MkNNXTWExi+jtacDyDKWX+uDHz2MH3g/h9R6ZGM5MtLOAOEy8QP4q1CP7fSvsHd+xLCOFFuXdP7Y26GLk7Ux1V1pAfs4KQw5KUVdsdeTGurwyFOYmwVGwnRiJXljg4G1jFWyEvjDJYoSuNsX2UXBpVYF9S9ucrlIW+X46/iat0a8frKaMsyYFSLXSIZc6+66P5dK6PkOHLSDOtmY6YuZZmEX3ix0Q7GsivuSKWn625ANiXHNP/f676ZR/Qp6+U/sbcGc0t4vyXrvpjdaFLeZXpr+ktxb3pHUzl164OZbn424rnLZSZT4vHWTOWNWPHY3q3hWzrPazqO4hw3FN+7ZxBRfekBfhrIvdhq8i6U+Rsxm1Tpr8WvhsrBftuaP7zDhekaUlAHFYZ6v5OAmeF4zDSEkp7NtrR0ksl27sXoSpZzsvEu2wpqoSLIw+laOxg97CBFxNdnyXVt4VDMo3ipsTcn5w2V6Qvc1rL7EW9M2X3y5Z7YmpO7fFrpuhas2iZhRS4348JQzW8MYAbADkr4ylN/6VylddTq/sx+/wMho7G7PVz/ZbLpXGIyTtm+juatbSVPrKf+MgfRxpwW8/iRPljM08rtlX3YuY90wwe6P5HHl2cCjSh2lmF9Yi61hNFchoh2xhvqbMFKR+Vwwb7iMI+J3Y7LqUjk/QE+/YS3rOuM30pHkAchC3cLw30ReeKv7ejPXY8IyHZU56pwo082a0TY7hIuY5j//eUPLzMMUqtgmsOFVvwgduZOHR7iS+5MGZN6/rPSCVkWYmD0+8dd63Foe1A8s6Suf+TNKcI/G+mnCJwRXWKwBXVKQJXVKcIXFGdInBFdYrAFdUpAldUpwhcUZ0icEV1bp8Qwt+NYyVNEHuOXgAAAABJRU5ErkJggg=="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVQAAABQCAYAAABGdI0XAAAACXBIWXMAAAsSAAALEgHS3X78AAALt0lEQVR4nO2d620rORKFexb738pA2gisicCaCKyNwHIE1kZg3QhGE8HIEawcwZUiGDmCK0ewUgS9EFDENnrJepDVrdb1+YAGDFj9IFk8LJJF8pe6risAAADl/A15CAAAPkBQAQDACQgqAAA4AUEFAAAnIKgAAOAEBBUAAJyAoAIAgBMQVAAAcAKCCgAATkBQAQDACQgqAAA4AUEFAAAnIKgAAOAEBBUAAJyAoAIAgBMQVAAAcAKCCgAATkBQAQDACQgqAAA4AUEFAAAnIKgAAODE35GR7kzoChzpAmCITKuqGjW+61RV1QEllYeXoF4KZVFV1ayqqvvW/z6pgHZVVW0N4jKhZ8bY0aVlRleMTaHgTRppf2B+90HfvDEYLPfdF9ZUAZosWxWkyZHeX8KcyjvFSnh26v/Wb8uxj7Xw7blsEt+e+74d5cc2Ur6lcHW1SY69xug7z1NMqG6k0r2ndJal93Iuf8E1ret6V9vY1HU9Ubxzxjx1ZfzmFfOsWWb6ZxlpDxzqul4o3jERnhPLBy6ttTLvU9eorusT8+yt4hkpdhn5b8mXqqC8JLp634mePSqsp5drTnaXw1Fpr0PI8/Y1Is2xkJ3ekjHUSyv3l+CVxXiqquoHtVwpT2rIjMhz+J6R9sClhfyTPIAJ87sjtZwpYt7oJV/PzD2SB8lxed8d8/91wbPB/3PJ61fymHK9vAnZ2b8Fj5Rj3LDXLrzNrphSHXrqK725grqgF5bwQobCdWmHxowK6NHpux4oD1Jd10oQwDsSuSYnQdieBBHnaL+ryd44DAP0jDPFbE72ldvwt3mg7+DsdShM6Vs5B0CT3r8sTkiOoE4cPZExFfotsCCvtKSAYtxR48SNB34w98fuk7xUThi598A7vR531DPS9uoW5JX2ba9DYeuYdrVG5QjqyvFDz4Vd0L7w8MglOCPlxGocuU/yUhcZwy1cOX2SAYNuGSvry7Xt9dosKK+8UDsgVkEdKccjPqkLyHlJFX2o9yymN9MM7yukn/MsY/yZGALZ0DNTxCoZ56XGhgo4JAO9hUbxZ+FFaAynGWL6QfbKjdfHSNnrtdHY9llZR98sQ1nWsCkp8/ZUkZveSghXeIn8tjSEpw82So/8jdId89TmdGkaoy3lWbuhueTr74l7gpfazM/gpb4m7lkmwq5icIJ5vpFylPhXQbhMTtjdb8z/VsK45zyR5yNDT4Gz1ynZR4m9auDyQILLcykcbN0KSRtRnq5ajsPZPDzmGH60UYQANUMoph2ExeR8Nxc2JYUg1RSKIqUllQcp1onwDy5k6Zh4H4cmNIQrh5yySHHtsKnc8Dnu4t4n3btl7k3VNa29akPnSuxVk+fe+S3ZxUG4d9TKQ3PolOfSU8ktPpKH+89Cb6AvRorW6Y3SpE1LyIM34XcvkZl4aVx0HOlBHIV3abrqkneKyahu4PI9FqWhtdepwaMusdchIqX7RPn+a1VVf+T0vDwFVRvSsb2RSjgXuvp76mbndHUWCiONVQ4p32KVkKuYsQmtJtLqr80NjIHfKlaHQ4rCeC+YRNLY6y2EUmlF/5AZCWMWVK6QFzcWUyrBZejZIdxrKUw0xZ5/Egz7wdlLlTxYeKfdYbUvTtDODoIn2etQBJXrKd93bbNWQeU+9o7iNHdkDLe4CiowEga2tZM5HCeF9xjz+nPWykvviVXeieCdvmHTl86QYr3bjs1EsFePaJpce70G3Mz9C9ntsothCqugnqjrwPFAAcX/oe59TsyjxGXmujZcqZnuFJKn7dXKSeFQse84CmWQ8lKlJaxt+vZOH4xl+t35/d+N7y9dFbZKXGFzDi5Mrf1uTsjOjjHCGyEU0tpDteS3Jc+lsc8xRcz8oLqx8hLXnDFUS0V6pFi18NG34rVyBvruPG7IGXuqkKUyaHe/JG+zLcITIWRmjy3einlNXE/CWGhsEQVnr7se7XUo9VtyVJqMqRx+0H1FwpojqJcC+ma8J2zycLyhpaYpvIWEe16qouwEj7O9Xl/TCK4Sf0u/Bf0Sy3tOBPq016HMoZwyx3SbGzdlkTvLv1LM+sW4o+GAoQeC9zkWlDsOKeVhqHgz5WYuD43Nhjnv9AOboFyN1GIYaccyT26lZ3Kx0WfFas0YYeMms8ddun1f7gc//SSra66J1K0JXqrFm1wqwkUws38dPn6C3l3fbMihsC4Br2iSb2cV1dI41DDm8C1DWJ8G3HXssxUuGbOR8m9r3LrtSRDUTzSEV+EPEobUWChnr94z2bcWGhn2kn3OENZ7a2/M4wiUU2O2ck4ZPlfu9vJKld4qYJ/GrszEcfcZb4PiniflS1gkkZrEyNlQ+Fpb9J2NdiCFtln5ME7e9NXoPisaMe67vYevOIG2DgVZN2MpyfNwZMq0cbSQZijsvqFvMh2tp60MR4Skjs245lp+af26x5EU4eLW5y8L0+bJySndKb7aWv5Z4zoyv5P2yKjoeBOOvuw1tva977X8lmuiPB7lpH1ml8dI7xpr97nhgMcBhlNJLWHWsrQI0nJBTYsvbSbthcdiBvA/do2L836eFPVDspMh2euQOFKa/iEMB9xpx6/7OJd/q+gmD+2cmpOQwR6rLEaKTZs1XZxTRuD2syFOL4Cx0+6QJhglQezLXrkhH+sw3JA4KiavVBpVIqiWAjrQwHqKIR78xRmP9TiKGBthXNciYJbJvbByxvJ8LDPtHq4MuaPBA13bq3SkyBCjPywaJS2tVc2d5ArqJuMkRq67OMQVVNIyu6ywisazpQFxi4FKG6C0n3syDhUgkL97tsIJC1KgOnd/VWCvI0W0yBA3GV9SkL5luKN4SCvnCJRDY3mc5URAziCGGiwspe3eeHLrtJF/HN8yCldr0EGoT8p73uGd9oK0362m2+9trzMSYU3jP6Tx9U3jdIvfDd55sUZZwqZGlLntUJVX+pBV61iBJlL3dqiCuqa0ceE5Y9pYI6xiaefBiAxzoQzT+MzsPoXlqNIOUc1vW0eOpmnzVQL5S4adjk6NzpqEM9a1jh1zE7vfaq+71rdPGvaqiWH+KOjBlIQgHhitaTssj5TGDeVRrKwWgqOj0yhlOMCIjg/QcKBQqBUdjcCFhNSJoztyw2JSV+4RKCG0ggsVSaEJGYuhPU4lJ3wmdvQFFzZiDWXSXF7v8g6bKiHnfal0rZl7UnWleU0z7TWHk8Jeu8rzWL3VhEDVlI87+v1aqW2qY2O0HurSEER9T5fGG6tuYHwubOhi3S7OskIp8FzorW/Jw431BlITS2umZcbMfv9wvYZxoxue4pBprzksB9S7nCkPFawoH8eGOqqelNWOoeZuhiLxcSOVtmSjBS2aFTEaUg1U6tmHxIoVLDO9Dh7ngN2SvXoR0uzN2eL0WSalFnS4nhcexzL0SdhowdtIz7T4wcs4Y9EJe8Grse7yD7qFy/vYBuIxgr1a440lznT88xAb2w0dsOdZR5eW8XHrLP+aPjhn95YmZ+NpoUPhQIP2Xt76niZDvHZUD7QnkqSJpV2r4v0sZ+3fKtKpDNpQoBDa6GWv72T/Q14R5VlHzV54Thxqc/eWnNZvf6NiGgib1/6mOA4mxZ7un3UUktSMMY3t8B5j1bofXBeuDB4NQevBXn8tEJl3stf5jSw/Lq2jn7le+C+XmalCpo0TT7mJq3fjCp0JMySwM7aSM6abtCkUtUljl61ZIuQl7KS0pauPuM45lY0lr4KodhlXmOrOHo0GnGMfi47Oj895n2ZIhVshZa0DgVGjvk4TE5jnxvNL7bWrPLfUW00drajnvS7pnXkIaptJJAO/2g7v00ZFwO72YOiMGotOvsoGOG0Hy6WediGoAADwJeljtykAAPgSQFABAMAJCCoAADgBQQUAACcgqAAA4AQEFQAAnICgAgCAExBUAABwAoIKAABOQFABAMAJCCoAADgBQQUAACcgqAAA4AQEFQAAnICgAgCAExBUAABwAoIKAABOQFABAMAJCCoAADgBQQUAACcgqAAA4EFVVf8FNHn84QebuuQAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAAxklEQVQokZWSMWpCURBFD+IS0qVQk+ZnBSLa2gWxjuv5rdmA21BrwUVYGQhRCbGw0MYUx2aK5/eD3wsD797hXe4Mg0qhmuqfOinp3VSNa2TAEngCnqmAGlCPdxtYJB8tGH8Cr4k2BHLUqXpSj15jlkTth/YVvBv8G/VgOVID1I/Qd+q/ulUbqPuKBqjjpP+u8kiCUegb9az+qq1Hd7AO3gm+Ra2H2A7XMoO3iP+SaAM1L86YqT9hMC/Zwd1DWgE9YA9sqhzSBdvZxKPwsvcjAAAAAElFTkSuQmCC"},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAWCAYAAAChWZ5EAAABgklEQVRIx83Wy05UQRAG4APGhEC4aIiDCQG8vABLfR7exJ2JIUoiRjcksHaDxhsEXRqegTdwAboYcITPhdXQaYdhSM6ZTCVn011V/9/nr6ruqurDMIK72MQvPMFYNQgL8Hm8xYl/9gOtQYEv4R3+uLBDzA0C/B4+FODNE7gC/FICETeDRUz0yJ18xtPiTbRicQHL+HQJeC8Cd0KuI7zErS7gD/ExfJ6ljRXsYB/fcdADvCsBjOJRdIko2De4XYB/xWn4HKXgwwA8zTZdh0DkmcX7jPwJXmM6JP2W5W/jaQrsB7TfGljE5yznMbawVxBbxWQKbNdBoCjgL+iEf6c4+XNM5UFtnNVBICOxUOidTr5+fvKqqkYbHCUj8ZV24z/cBiR4gN1Mgt+Z/sfRotN5UJ1FuBT650W4EW3eydZenJNouA3XMRndsVcU42rdg+hxMYhepWlYSJNyt+sexa34Az/jF890keg+tmMUrzV5GY33cRlNDOd1PBQPkqF4kg3iUfoXitZvLr3TFB4AAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAA4ElEQVQokYXSsS5EURDG8d+ebEUrG4lIbDT7BoolJChU9NuK2j6E2hOIRrSik1CQ2Ci8gE6ESyJaGhKKO5Kbw977NefMOfnPzDeZVlEUMs3hFqfYzj9zpSzu4RpTmGmCfxO0476Aqwr4nSXex3zlbQt77Wh1JYDJMYVmsRtQF32c4DFFMFEDwzkGyvm84DLOpYSvGrCq47AxrbS9g4fqDJo0wBDP+MQBugkjfOC9Bl7HEe6VQ15GB6OETaX/VbyOSfAU7a9FfBPcYStbpB4uosoZNpp85Yt0h0W84c+K/qcf8Ror9Nd5g3oAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAWCAYAAAChWZ5EAAACIElEQVRIx7XWy6tNcRQH8M85rkeiWx6l1oAo+Re8SWJo4FWK8shr6hXK4CYyUt65eQwYGJowISkz+Q8I9Svl7aLrcl2TdWq7uTnH3VbtTnt31v5+f2t9v2vthjailNLADJzCGpzG8YjoN8potgkeOIf1mITd6FZDdLUBPhNnsRpjKnmN/0ogwWfhPFZWwGuNrjrBM687rzcR8eUv/3ndlQ/HYgomYAhTcRIrOjz5dFzBYtwopRyJiPfDwOdkS+ejt1WBLdiYrH5iWva+bfBSSjNfvjSFug1jSykHI+JdBbw3CTaxvZHJHzKp0aY7PmJeRLwaRmIarmNVkh/I+/1Z4WtYlO/vx5lWBSa3Y8k24i324HK2bxw2Y2JaeWHiDOAielqgA3UoOiKG8BI7cR8/MB4bsCSr0p/gxyKir3rqoRpJPE8NPEpNdVVOfg1HI+KTmso+UjRGGFZjqrjNYQmjjlT77LTjgsT4jsGKJk6UUrqrBMbVCD4ze7wsS/8NN/Ggoomt6CmldLdc0NehDUeKqbm0lld6fhUHKjZckiR2YLAFtC8ZPsFjPMuS6XAQza2ovQV+OCL60h3bE2cwp+6uFoHr2IS1WJe/9zohERE/8RQPs6KXcKg1itMdz/Lkd/AJvY1/XEYjTcLfFk1EfP3bwmr84zr+I4Fav4gqA2U37naqiVo+yZLEC+zC7crI/lHX5Gy2OVoL9uIWPuNCtmHU8QslYb0buTvNuwAAAABJRU5ErkJggg=="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAALCAQAAADljHTpAAAAjElEQVQY03XQMQ4BARCF4UGi1YhWpxGFRiVcgBPonYIjiGQbWrULiKNso9FLJLaSfAp2SXa9aWbyZzJvXohPDVysiimEyJuhOw4FmBu/YdPEAyRC3VDYoR1OrnIlQgMbIXMMv0qEsEZYeoZbCbbQ16Nqc4SOKeWbNZlUOEur3O50LTD79+fW/htCZUIvTP3dvOuboMsAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAWCAYAAADTlvzyAAABwUlEQVRIia2WvWvVYBSHH9MP6sftYC4OYmkRRHQQxQ4O7i6dCm4dWkdBQfAPcHUTRRwUdBAHF3URiohiBwfBSelkVXBWdLmotY9DzjWxmpvXaw685Jffe04e3uTNSVBJGNvVy2pPvaJOJNb9MVKSJtXb/h4HhgWOMjhy4BpwcpO/paGuNrIBc13gxl9gqbEVuBXX2PnLrVn6LvW+9XEw4fbNVvJvqiPVZ9hV96i71f3qwwGwOuAhdUHN43yb+qhSs9AHLqpP1ZfqC/VNA6wOuBpzd9ROeNPqWviv1Bz1SwIgBXgv5jbUUxV/qVI3n8XDbSPOAG8pdvASxaYDeAyshp7LgPWWgB+AS6GPA9MV/3noY4Nei2FihXIBM3HcAN6Fnmob+BX4FrpT8XtxHG8buAOYCP2x4vfhvQwa29u/xBxF9/pOeRvHgH2h1zLK5f5vHAZOh14G3oeeodhEACujwFlgEZgEflD0vb1DAK9SNPsecB34HP48MBX6QZut7VnMXVTHLPvpp/CfqJ02m3dXPVqB5erryF9XT9jwAe5atqsU4OZxpJJ/oe83FeXq3SGBI+p59Zw6ngps/RcjNbG1n6ifadB64p/0pLgAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAALCAQAAADljHTpAAAAlUlEQVQY03WQIQ7CUBAFH5BgMaQWhyGIGhShF4AT4DkFHIGQ1BSL5gKEo9RgGE1CQhXJQ7T9pp+M2sxudvfJqmHOg31b1bQq5Y25hNYNS0sWQ1Z8MCa36JNaFJixuPHEDbnFAHO0qLgqiEZaHLDFjq94deQIM2OKY5MLTEKGuzt7VJQWd8rYtQUTtpj1vz9PnEMI8YR+++jTlEe2NooAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAWCAYAAADTlvzyAAACJklEQVRIibXWT4hPaxgH8M/8DJlcEpPF03WHWyJKlIWFmrWaInXrijKKlLg7sqdYKCIJd3GtrJWSuqIsLO5OmbG6Q/k9Cw3lWgzGj7s475hfP3/m/Abfzfs933Pe833O+z7P856eZrOpBhbgJPbjTxzBa4iIOvM/olHjmUW4hMOYj0NY2ZVLG3pnuL8UF/Fbh97zIwz7cQXbZ/PizOxTBfsORyPixdcMl+Eyts3GrGAd9hQ+JzP3RURrag/78TMCq/FXt2aZuT4zd2fm0iKN4O/Ch7ETeprN5nARFqGFJfi1RvQjTGdpZo5iDa7hQES8yswB3FEl2UMMNnAOg9iITTXMvoRHZfxdSbKIeILjbUEONtA3S4NOHMaYKoP3ZmZ/0W9jtPChhiqLvhkR8RRny+UWDBT+FPcL31yn8LvBPdMfsKIE8h6Pi7b8exu+wdvCF7bpE2Wc970Nf1K1P3jRpk+ZTzTM3N66wZCqP08qy5iZc7Gq3P+3YfpzvwmZuQEHy+UtPCl8hSqJ4F4v/tB94X8OF1TNfgJXIuJl0XdgeeHXe1Vt7IZq7d+r1vsMtnZp2CrjedyEzNyEY0W/i3+m9m+8Y/Kw7pv3DlXtPYiIydJTr2JxCeZURLz6UsI8wz58UPN4iojxjsB/wdrCT0TELb6eoePFdNKnB3AdPFD9irRU+2smQ3heTN9iV5v+YSa3iGjhdKdepwb/wwFVIU/9RI3VmPdZ/A+wCYsVUK81NgAAAABJRU5ErkJggg=="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAALCAYAAACtWacbAAAAYElEQVQYlcWLMQqAQAwEh9he4QfvZR74E98keq2uhQnqgWDnQIpJJkgaJC2SsiRuk30/oIupiaY4GFA5mXkSXg3YXPYmCt+MD/wQdS8P4Z0ByaVvovBkQAFWYGyi0fflAG8US4VIBLwCAAAAAElFTkSuQmCC"},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAWCAYAAADNX8xBAAAAoklEQVQ4je2UwQ2CUBBEx/9DE1RCF9ICxRkvJHQjFKAtEAyR5+WbfGHd6MUTk+xlZ+YdR0AJtMAdGIAjEAF9uJgyQ+q0QCngzLuuQOWAqpTJdRIwslXjgBojPwZJhbaKxs/ziiBpMQwckOUtwSn8pB20g3bQ/0AW7OB0LC8ESbNhPByQ5c1BUrd63iT1DqhPmVydsvGfgAtQfzH+dcpOr/F/Ah7wA/bOaRICAAAAAElFTkSuQmCC"},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAALBAMAAABfd7ooAAAAHlBMVEXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eUQ7fWcAAAACXRSTlMAXZusrr7w8vO7FsXyAAAAKElEQVQI12NQF2AQV2CYGcAQOYGh04HBs4Eh04DBMgEnCVEDUQ/WCwDCDg2fXZtGvQAAAABJRU5ErkJggg=="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAWCAYAAADNX8xBAAAAvElEQVQ4je3UsW0CMRyF8d85YgmuSpkNGIIIRUrBEFE6lBnSMgQ0QRQwRCQGuJLKQyAUksbF6WRbokl1r3zf+39y5SbGOMUazzjjA0f8yOcBc3ziEQe8NzHGLZa9YcQrvguiGb7Q9rpNwGIwbPFUkEisHXQvAZPC80vJsUnALQN+K6Icu4XKwV0ZRaNoFP2fKCdrKjc5FgKuGVD6ZkvsGrAflBFdRdSlTT/7gBV2uKTRG04V0SltunSzw+oPpSsmmGIVFC4AAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAALCAYAAACtWacbAAAAZElEQVQYlY3QwQ2CUBBF0YcV2AWWYAnEaiiCwmhBg23IEnbHjcZovh9u8lZzJ3kzwR0jWqSU+LCg/yc9fDPi/CvNygxotiS4omswJzmmwqE2THJLctndadd1b9ban6bX9qkkIE9pJyAh38gUkQAAAABJRU5ErkJggg=="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAWCAYAAADNX8xBAAAAvElEQVQ4jcXUMWpCQRRA0adVGiGSNVjZRHANqV1AymzAyrgJV5BFhPRik+zAwsYdRAstPhbhpNBBQZv/Z8ALr70MM/NuYIIdvvCMaDKBvTMbTPHYRHRwzTde6oqqGyKnk87wlCtKLDEqIUp8oFdCBGu8lRDBHz7RzxUlfjFGJ1eUmGPYQhURD5HHqp0pSLRKiBYR8XrXyy7y/EU+ZPaKZC9t7YzcCtuPBmG7TO3WMbXdOpIkeneO/6CuIM0/Zo23jk8bb6oAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAALCAYAAACtWacbAAAAmElEQVQYlYXNIW4CcRTE4W/JCiS17wioyrr1vUgr6+AAVJfbYEG1kpCQtAf4P0OT1ShqlorNsoyavPnNm6qUcsQJLxHxY0ATzNFgn5lvt6C281N8ZOY2M5/6UNUrNvjMzFVmVlCVUlrMhmZwwOIe9D83pgOex6B3PEbEpsalF+6wjIiv66HGQ+fPXbjuv6xxxC9eI+J7aPcPAiotvIMmeWAAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAWCAYAAADNX8xBAAABGUlEQVQ4ja3Uv0rDQBwH8E9LEQcLoltGwclHcBTcRB/ATV+gUxFFcFARwVmxPoJY0EEE/y3OLgVBcEu34lBBcCgOZ7BCbZuk3+mSSz53ucv9CnEcV7GJB2zjWYpEUQSK2EIZS7jFBibTYAk01nU9hT1cYTEt1Olxfx7nOML0sNB/mUAFj1jJAyWZwwVqmM0DJVnDNdbzQjCDE9SFmWaGkneWhbWrNJvNMhTiOP7EeAYwyR2qo4DgJcun9UphFNA9Vks5gBZ2UYuiqJ0F6uBSqBiN5PSnhd6wL/zlf5IGOsMBXnt1DgM1hJpV7/dQP+gDp8KCtgaNVtL7mDxhBzeDgG7oy2+VfMchjn/aQ6coTL0tbOmCsCupEPgGC087ASBQfBEAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAPCAQAAABzA0a4AAAAeUlEQVQI12P4zwCE0v8X/n/x/xMQPgNxmf5f/A8HIAFDKPvm/4n/u0ECllABT5A0w3/R/4lQgez/Iv8VGf6//v8PKvDv//f/zxn+o4IvDP8r/y+Gctb9b/gfATJUDSrgADGU4b8bVCCGAgEvqEASTMAZ7M9P/8NBAgDbObzAeM+gQgAAAABJRU5ErkJggg=="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAeCAYAAAAl+Z4RAAAAsElEQVQ4je2TPQoCQQyFv5EVS9lOsLG2EBt7z6Kn2M7ey3gGe8/gzwEsBKtFnpUgcSbMMpb7IEXCywcPkiCJhGbAFlgDc6AGwo9LUqwaSa0yFFve5Cx+FEyEIXAGpqlcVgPTr7osA1SmXzjeF9AAJ+CeAtQO4Ajs7dBGGDmAR2xoAZ1VAcuvfuJ4x8YLQJBzihl6lka4lQIupYBrMcA+0s75m0Ps+YrvoAf0gB7wJ8Abb/3DkD+BbSIAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAPCAQAAABzA0a4AAAAnklEQVQIHQXBMUoDQRQA0Pcn4xokWAbBUrGLtdgLVt7Ai1h4AU/gWexSeJK4LAoRsqaJ63zfi50wrX5fptuEnxg52m8Oy5mUqE27+1sWafZZ174reQp0z8evVFeuARftsp1EP+YCgHIobdEAqYmueqo3+ZBCvE3vZTDY3ve5yT6/Hj8M6lyeJ1KcdSgpAYlQAIBUAAAKOsAcKvZGsIN/WRI79xyzYw4AAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAeCAMAAAASJ24jAAAAS1BMVEXl5eXy8vLx8fHx8fHw8PDw8PDv7+/v7+/u7u7u7u7u7u7u7u7u7u7s7Ozt7e3r6+vr6+vq6urq6urq6urp6enn5+fn5+fl5eXm5ubvjI1gAAAAF3RSTlMACjxXZ3OeprS4ucDD1dXn6u7v8fj8/nBEafQAAABWSURBVBjTY2AAAyYeYTFxMIDwucThAMxnE0cVYBRFE2ARRxNgh7I5WJmZmZGMFGSAAW6IAD8OAaA2XoiAEDMIMIijAgl0ARF0AQF0AT50AU4i3DGcBQD3+xj4UTNVmQAAAABJRU5ErkJggg=="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAALCAQAAAAKTh/XAAAAmElEQVQYGXXBrS4FAACA0U8SbRQizWy3KIoXwGZTJJtApN5XsHkDyQSe4SZNExTF6IpwTRKOmXDNzzlZMpAkyYEHYzd27FvL0LtNSbLru+Ns+3Rp3ZRcmbizkjm3vjw492jiSNnwnz1lxo2/LSiZ9+K3CymZNvLT2KyUJIeeTbxalZSBoVMjE9eWJSmLTjzhzdi9M1uSJH0AUC0IwXWhFMAAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAWCAYAAADXYyzPAAAB2UlEQVRIibWVPWsVQRSGH+M1EoVoNCYiCIr4nSIQ8QP/gKJVGrWUlBba6A+wtUlhSJMihagEtBFRUdGgQQloKVwxUYsQiAQLRY0xPBa7o8t1997seveFYZmZM/uclxnOQaUJo1cdVWeM9F2dVC+obYm4VeoptT0sHFKvqSsLQC+qS2arqg6oI3Fi11XC4eE46Ja6Ngd0oA4wTS/VjerRFiLtjb/9wAugl8ZqA64sIy7oJ7AEvAU2h8zv1WS2qA6qm+q4PZ7Treo3tV8lOH5ek10FOA98AEaAI/AnNmhLDrfEbg8AtwFWqACdQBXYUOfgHDAOvAamgd3A5RzgH0TXQxK8A9gG3EluNlmfgK4wqcTf0XjxI7CnJPC75CTc2ziwq0QowGQaeAj4UiIU4FEaeBY4AyyUBJ0HHqSBAe4Ch4GnJYCHgMUsMMB+YAp41UToPDD4z2pNNdqufi1QkerprCmVL60UHmsi/EYaNAuMulO9qS78B3RCXZMXHMY6dawA9El8NvPfWRvd6iX1fQHoVbW1gSEqwAmgB+gAuoGDwL4Cr7cKnAMeLyvavw/qvvqrgMMJ9bTa0shlcoTuFNQFnIxd9wFbgfXAaqJ++pmoR78BngEPiRpLbv0G5E9Ln/oIn2EAAAAASUVORK5CYII="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAALCAQAAAAKTh/XAAAA7klEQVQY013MrUpEURTF8ZWNJutUm1lutAmCPoAYFH0BwWQwGAWbwTcQjFOM0wyCQRAszvm4Z86952ufi9FlmDug1v3b64+0lXcqIhIyCgTh0kYt7iOchqu8D3/bMh5mZGQI0pmioqGmpmW4Q3+iqOmn6SCvCbrZnIaGhoruVbZRJovP5aIN3ayNemTNxXkP9MeWeswprtDQ0F94QDbc2+/jamtZNitQUJqW/x/m7J4GVKCgrnfvf7OKljKpECAhoiBe2y89ZhUt8+4AgQBpz9+7G/9sR9J0L7lZogC56R8W34ZmMOKKfwxHBRl15B8o5f9xvk+45wAAAABJRU5ErkJggg=="},function(e,t,r){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAWCAMAAADgvdz9AAAA81BMVEXl5eXy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDv7+/v7+/v7+/v7+/v7+/v7+/v7+/v7+/u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7t7e3t7e3t7e3t7e3s7Ozt7e3s7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozr6+vr6+vq6urq6urq6urq6urp6enp6enp6enp6eno6Ojp6eno6Ojn5+fn5+fm5ubn5+fl5eXm5uYJE+m1AAAAT3RSTlMABAYKDBIUFhsdISUmKCosMDo+QUVNV2JlaHR8fYCBiouPkJKWnZ6goa+0tba4u73BxMfP0tXV2dvc3+Dh4+Xr7/Hy8/T19/j5+fv8/f7+tlKPXgAAANpJREFUGBl1wYkiw0AUBdBbVdS+Bq3aiX0rorQaEYTG3Pf/X6PTRDqRcQ4KnFaPEh5XgPLuBLD6OALDCROR6/WeANzzeRwZl0OvU+uAT747SFUUMxKobaDLvuYMBjZokC0AF9TEWysBcGlYQd+0YiLunO9cckigLdWEVjG0l+iTVgG0a/6jCW3+m3abGGgIbVQZCcenxRVS+94bC9QkUovCogNk6sK/2jAst4U5wRhyqh0a/CpMc6dfNNyO4lfj7Obhg6aoBkO9S1OwV0Le7OFdGAsZh62jBeT8AA9YfhCeATzMAAAAAElFTkSuQmCC"},function(e,t,r){var n,i;n=[],void 0===(i="function"==typeof(i=function(){"use strict";var e;return function(e){var t=5381;for(var r=0;r<e.length;r++)t=(t<<5)+t^e.charCodeAt(r);return t>>>0}})?i.apply(t,n):i)||(e.exports=i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;var n=(i.prototype.on=function(e,t){this.addEventListener(e,t);var r=this.listeners[e];return null==r?(this.listeners[e]=[t],0):(r.push(t),r.length-1)},i.prototype.once=function(t,r){var n=this,i=this.on(t,function(e){n.off(t,i),r(e)});return i},i.prototype.off=function(e,t){null!=e?null!=t?this.removeSingleListener(e,t):this.removeAllListenersFromAnEvent(e):this.removeAllListeners()},i.prototype.removeAllListeners=function(){var t=this;Object.keys(this.listeners).forEach(function(e){t.removeAllListenersFromAnEvent(e)})},i.prototype.removeAllListenersFromAnEvent=function(t){var r=this,e=this.listeners[t];null!=e&&(e.forEach(function(e){null!=e&&r.removeEventListener(t,e)}),this.listeners[t]=void 0)},i.prototype.removeSingleListener=function(e,t){var r,n=this.listeners[e];null!=n&&n.length>t&&(null!=(r=n[t])&&(this.removeEventListener(e,r),n[t]=void 0))},i);function i(){this.listeners={}}t.EventManager=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Queue=void 0;var n=(i.prototype.add=function(e){this.list.push(e)},i.prototype.size=function(){return this.list.length},i.prototype.hasNext=function(){return 0<this.list.length},i.prototype.consumeNext=function(){return this.list.shift()},i);function i(){this.list=[]}t.Queue=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OmidPlaybackTracker=void 0;var a=r(7),s=r(31),c=r(159),r=(n.prototype.notifyDurationChange=function(e,t){this.duration=t/1e3},n.prototype.notifyImpression=function(e){this.notify("AdVideoStart")},n.prototype.notifyFirstQuartile=function(e){this.notify("AdVideoFirstQuartile")},n.prototype.notifyMidPoint=function(e){this.notify("AdVideoMidpoint")},n.prototype.notifyThirdQuartile=function(e){this.notify("AdVideoThirdQuartile")},n.prototype.notifyComplete=function(e){this.notify("AdVideoComplete")},n.prototype.notifyResumed=function(e){this.notify("AdResume")},n.prototype.notifyPaused=function(e){this.notify("AdPaused")},n.prototype.notifyMuted=function(e){this.volume=0,this.notify("AdVolumeChange")},n.prototype.notifyUnmuted=function(e){this.volume=1,this.notify("AdVolumeChange")},n.prototype.notifySkip=function(){this.notify("AdSkipped")},n.prototype.notifyLoadedData=function(){this.notify("AdLoaded")},n.prototype.notifyClick=function(){this.notify("AdClick")},n.prototype.notify=function(e){this.omidManager.track(e,this.volume,this.duration).then(function(){}).catch(function(){})},n);function n(e,t,r,n,i){var o=this;this.observer=new s.VerificationEventsObserver(i),this.omidManager=new c.OmidManager(t,n.adSettings,this.observer),this.omidManager.init(n.omidServiceScripts,e,n.pageUrl).then(function(){}).catch(function(e){o.observer.notifyVerificationNotExecuted("3"),a.Sentry.reportError(e)}),this.volume=r}t.OmidPlaybackTracker=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdInfoViralize=void 0;var n=(i.prototype.getAdSystem=function(){return this.selectedAd.ad.inline.adSystem.value},i.prototype.getContentType=function(){return this.selectedAd.mediaFile.mimeType},i.prototype.getDimensions=function(){return{width:this.selectedAd.mediaFile.width,height:this.selectedAd.mediaFile.height}},i.prototype.getCreativityId=function(){var e;return null!==(e=this.selectedAd.ad.id)&&void 0!==e?e:""},i.prototype.getCreativityWidth=function(){return this.selectedAd.mediaFile.width},i.prototype.getDuration=function(){return null!=this.selectedAd.creative.linear.duration?this.selectedAd.creative.linear.duration/1e3:-1},i.prototype.isLinear=function(){return!0},i.prototype.getWrappersCount=function(){return this.selectedAd.additionalData.wrappersCount},i.prototype.getLoader=function(){return this.selectedAd.additionalData.loader},i.prototype.getDp4=function(){var e;return null!=this.dp4?this.dp4:null===(e=this.selectedAd.ad.inline.extensions)||void 0===e?void 0:e.dp4},i.prototype.getAdCustomSkinConfig=function(){var e;return{enableClickCover:this.enableClickCover,shareUrl:null===(e=this.selectedAd.ad.inline.extensions)||void 0===e?void 0:e.shareUrl,uiExt:null===(e=this.selectedAd.ad.inline.extensions)||void 0===e?void 0:e.ui}},i.prototype.requiresFullViewability=function(){return this.fullViewability},i);function i(e,t,r,n){this.selectedAd=e,this.enableClickCover=t,this.fullViewability=r,this.dp4=n}t.AdInfoViralize=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ajax=void 0;var p,f=r(3),o=r(43),n=r(163);function a(a,s,c){var d=c.data,u={200:!0,201:!0,202:!0,204:!0,206:!0,304:!0,1223:!0},l=function(){try{return{fetcher:new XDomainRequest,fetcherType:0}}catch(e){}try{return{fetcher:new XMLHttpRequest,fetcherType:1}}catch(e){}}();return null==l?Promise.reject(new n.UnsupportedAjaxError("xhrFetcher is null")):new Promise(function(e,t){var r,n,i=l.fetcher,o=l.fetcherType;i.open(s,a,!0),1===o?((n=i).onerror=function(){h(a,s,c,e,t)},n.onreadystatechange=function(){n.readyState===p.DONE&&(u[n.status]?e(n.responseText):h(a,s,c,e,t))}):((r=i).onload=function(){e(r.responseText)},r.onprogress=f.Utils.noOp,r.onerror=function(){h(a,s,c,e,t)}),"withCredentials"in i&&(i.withCredentials=c.withCredentials);o=null;null!=d&&(i.setRequestHeader("Content-type","application/json"),o=JSON.stringify(d)),i.send(o)})}function h(e,t,r,n,i){r.retryOnFail?a(e,t,{retryOnFail:!1,withCredentials:!1,data:r.data}).then(n).catch(i):i(new o.ResponseNotAcceptedError)}r=t.Ajax||(t.Ajax={}),(t=p=p||{})[t.UNSET=0]="UNSET",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE",r.get=function(e){return a(e,"GET",{withCredentials:!0,retryOnFail:!0})},r.post=function(e,t){return a(e,"POST",{withCredentials:!0,retryOnFail:!0,data:t})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VastBuilder=void 0;var n=r(5),r=(i.prototype.addAd=function(e){return this.ads.push(e),this},i.prototype.addError=function(e){return this.errors.push(e),this},i.prototype.build=function(){var t=this;return this.ads.forEach(function(e){t.nodeBuilder.addChild(e)}),this.errors.forEach(function(e){t.nodeBuilder.addChild(t.buildError(e))}),this.nodeBuilder.build()},i.prototype.buildError=function(e){return new n.XMLNodeBuilder("Error").withCDATAContent(e).build()},i);function i(){this.ads=[],this.errors=[],this.nodeBuilder=new n.XMLNodeBuilder("VAST"),this.nodeBuilder.addAttribute("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),this.nodeBuilder.addAttribute("version","3.0"),this.nodeBuilder.addAttribute("xsi:noNamespaceSchemaLocation","vast.xsd")}t.VastBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdBuilder=void 0;var n=r(5),r=(i.prototype.withId=function(e){return this.nodeBuilder.addAttribute("id",""+e),this},i.prototype.withSequence=function(e){return this.nodeBuilder.addAttribute("sequence",""+e),this},i.prototype.build=function(){return this.nodeBuilder.build()},i);function i(e){this.nodeBuilder=new n.XMLNodeBuilder("Ad"),this.nodeBuilder.addChild(e)}t.AdBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdSystemBuilder=void 0;var n=r(5),r=(i.prototype.withVersion=function(e){return this.nodeBuilder.addAttribute("version",e),this},i.prototype.build=function(){return this.nodeBuilder.build()},i);function i(e){this.nodeBuilder=new n.XMLNodeBuilder("AdSystem").withContent(e)}t.AdSystemBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InLineBuilder=void 0;var i=r(5),r=(n.prototype.addImpression=function(e,t){e=new i.XMLNodeBuilder("Impression").withCDATAContent(e);return null!=t&&e.addAttribute("id",t),this.impressions.push(e.build()),this},n.prototype.withDescription=function(e){return this.description=e,this},n.prototype.withAdvertiser=function(e){return this.advertiser=e,this},n.prototype.withSurvey=function(e){return this.survey=e,this},n.prototype.addError=function(e){return this.errors.push(e),this},n.prototype.withPricing=function(e,t,r){var n=new i.XMLNodeBuilder("Pricing");return n.withCDATAContent(""+e),n.addAttribute("model",t),n.addAttribute("currency",r),this.pricing=n.build(),this},n.prototype.addExtension=function(e){return this.extensions.push(e),this},n.prototype.build=function(){var t=this;return this.impressions.forEach(function(e){t.nodeBuilder.addChild(e)}),this.errors.forEach(function(e){t.nodeBuilder.addChild(t.buildError(e))}),null!=this.description&&this.nodeBuilder.addChild(this.buildDescription(this.description)),null!=this.advertiser&&this.nodeBuilder.addChild(this.buildAdvertiser(this.advertiser)),null!=this.survey&&this.nodeBuilder.addChild(this.buildSurvey(this.survey)),null!=this.pricing&&this.nodeBuilder.addChild(this.pricing),0<this.extensions.length&&this.nodeBuilder.addChild(this.buildExtensions()),this.nodeBuilder.build()},n.prototype.buildSurvey=function(e){return new i.XMLNodeBuilder("Survey").withCDATAContent(e).build()},n.prototype.buildAdvertiser=function(e){return new i.XMLNodeBuilder("Advertiser").withCDATAContent(e).build()},n.prototype.buildDescription=function(e){return new i.XMLNodeBuilder("Description").withCDATAContent(e).build()},n.prototype.buildAdTitle=function(e){return new i.XMLNodeBuilder("AdTitle").withContent(e).build()},n.prototype.buildError=function(e){return new i.XMLNodeBuilder("Error").withCDATAContent(e).build()},n.prototype.buildExtensions=function(){var t=new i.XMLNodeBuilder("Extensions");return this.extensions.forEach(function(e){t.addChild(e)}),t.build()},n);function n(e,t,r){this.impressions=[],this.errors=[],this.extensions=[],this.nodeBuilder=new i.XMLNodeBuilder("InLine"),this.nodeBuilder.addChild(e),this.nodeBuilder.addChild(this.buildAdTitle(t)),this.nodeBuilder.addChild(r)}t.InLineBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreativeBuilder=void 0;var n=r(5),r=(i.prototype.withCreativeExtensions=function(e){return this.creativeExtensions=e,this},i.prototype.withId=function(e){return this.nodeBuilder.addAttribute("id",e),this},i.prototype.withSequence=function(e){return this.nodeBuilder.addAttribute("sequence",""+e),this},i.prototype.withAdID=function(e){return this.nodeBuilder.addAttribute("adID",e),this},i.prototype.withApiFramework=function(e){return this.nodeBuilder.addAttribute("apiFramework",e),this},i.prototype.build=function(){return null!=this.creativeExtensions&&this.nodeBuilder.addChild(this.creativeExtensions),this.nodeBuilder.build()},i);function i(e){this.nodeBuilder=new n.XMLNodeBuilder("Creative"),this.nodeBuilder.addChild(e)}t.CreativeBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Linear=void 0;var i,n=r(0),o=r(1),a=r(8),s=r(93),c=r(172),d=r(94),u=r(95),l=r(173),p=r(174),f=r(30),h=r(6),v=r(45),m=r(175),y=r(46),n=(i=v.AbstractLinear,n.__extends(g,i),g.prototype.merge=function(e){i.prototype.merge.call(this,e),null!=e.videoClicks&&(null==this.videoClicks?this.videoClicks=e.videoClicks:this.videoClicks.merge(e.videoClicks))},g.prototype.toXML=function(){var e=new d.LinearBuilder(null!=this.duration?f.VastBuilderUtils.toFormattedTime(this.duration):"00:00:00.000",this.mediaFilesToXML());return null!=this.skipOffset&&e.withSkipoffset(this.skipOffset),null!=this.adParameter&&e.withAdParameters(new s.AdParametersBuilder(this.adParameter).build()),0<Object.keys(this.trackingEvents).length&&e.withTrackingEvents(this.trackingEventsToXML()),null!=this.videoClicks&&e.withVideoClicks(this.videoClicks.toXML()),null!=this.icons&&e.withIcons(this.iconsToXML(this.icons)),e.build()},g.prototype.parseMediaFiles=function(e){var e=e.getElementsByTagName("MediaFile"),t=[];if([].forEach.call(e,function(e){try{t.push(new m.MediaFile(e))}catch(e){}}),0===t.length)throw new a.VastError(o.Constants.VastErrorCodes.VAST_SCHEMA_VALIDATION_ERROR);return t},g.prototype.parseSkipOffset=function(e){e=h.VastParserUtils.parseNodeAttribute("skipoffset",e);if(null!=e)return e},g.prototype.mediaFilesToXML=function(){var t=new u.MediaFilesBuilder;return this.mediaFiles.forEach(function(e){t.addMediaFile(e.toXML())}),t.build()},g.prototype.trackingEventsToXML=function(){var r=this,n=new p.TrackingEventsBuilder;return Object.keys(this.trackingEvents).forEach(function(t){var e=r.trackingEvents[t];null!=e&&e.forEach(function(e){n.addTracking(r.trackingEventToXML(e,t))})}),n.build()},g.prototype.trackingEventToXML=function(e,t){t=new l.TrackingBuilder(t,e.url);return null!=e.offset&&t.withOffset(e.offset),t.build()},g.prototype.iconsToXML=function(e){var t=new c.IconsBuilder;return e.forEach(function(e){t.addIcon(e)}),t.build()},g);function g(e){var t=i.call(this,e)||this,r=e.getElementsByTagName("Duration")[0];null==r||null!=(n=h.VastParserUtils.parseTime(r.textContent))&&(t.duration=n);var n=e.getElementsByTagName("MediaFiles");if(0===n.length)throw new a.VastError(o.Constants.VastErrorCodes.VAST_SCHEMA_VALIDATION_ERROR);t.mediaFiles=t.parseMediaFiles(n[0]);n=e.getElementsByTagName("VideoClicks");0<n.length&&(t.videoClicks=new y.VideoClicks(n[0]));n=e.getElementsByTagName("AdParameters")[0],n=h.VastParserUtils.parseNodeText(n);null!=n&&(t.adParameter=n);e=t.parseSkipOffset(e);return null!=e&&(t.skipOffset=e),t}t.Linear=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdParametersBuilder=void 0;var n=r(5),r=(i.prototype.withXmlEncoded=function(){return this.nodeBuilder.addAttribute("xmlEncoded",""+!0),this},i.prototype.withXmlNotEncoded=function(){return this.nodeBuilder.addAttribute("xmlEncoded",""+!1),this},i.prototype.build=function(){return this.nodeBuilder.build()},i);function i(e){this.nodeBuilder=new n.XMLNodeBuilder("AdParameters"),this.nodeBuilder.withCDATAContent(e)}t.AdParametersBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinearBuilder=void 0;var n=r(5),r=(i.prototype.withSkipoffset=function(e){return this.nodeBuilder.addAttribute("skipoffset",e),this},i.prototype.withAdParameters=function(e){return this.adParameters=e,this},i.prototype.withVideoClicks=function(e){return this.videoClicks=e,this},i.prototype.withTrackingEvents=function(e){return this.trackingEvents=e,this},i.prototype.withIcons=function(e){return this.icons=e,this},i.prototype.build=function(){return null!=this.adParameters&&this.nodeBuilder.addChild(this.adParameters),null!=this.videoClicks&&this.nodeBuilder.addChild(this.videoClicks),null!=this.trackingEvents&&this.nodeBuilder.addChild(this.trackingEvents),null!=this.icons&&this.nodeBuilder.addChild(this.icons),this.nodeBuilder.build()},i);function i(e,t){this.nodeBuilder=new n.XMLNodeBuilder("Linear"),this.nodeBuilder.addChild(new n.XMLNodeBuilder("Duration").withContent(e).build()),this.nodeBuilder.addChild(t)}t.LinearBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaFilesBuilder=void 0;var n=r(5),r=(i.prototype.addMediaFile=function(e){return this.mediaFiles.push(e),this},i.prototype.build=function(){if(0===this.mediaFiles.length)throw new Error("At least one mediafile should be present");var t=new n.XMLNodeBuilder("MediaFiles");return this.mediaFiles.forEach(function(e){t.addChild(e)}),t.build()},i);function i(){this.mediaFiles=[]}t.MediaFilesBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaFileBuilder=void 0;var o=r(5),r=(n.prototype.withId=function(e){return this.nodeBuilder.addAttribute("id",e),this},n.prototype.withBitrate=function(e){return this.nodeBuilder.addAttribute("bitrate",""+e),this},n.prototype.withMinBitrate=function(e){return this.nodeBuilder.addAttribute("minBitrate",""+e),this},n.prototype.withMaxBitrate=function(e){return this.nodeBuilder.addAttribute("maxBitrate",""+e),this},n.prototype.withScalable=function(e){return this.nodeBuilder.addAttribute("scalable",""+e),this},n.prototype.withMaintainAspectRatio=function(e){return this.nodeBuilder.addAttribute("maintainAspectRatio",""+e),this},n.prototype.withCodec=function(e){return this.nodeBuilder.addAttribute("codec",e),this},n.prototype.withApiFramework=function(e){return this.nodeBuilder.addAttribute("apiFramework",""+e),this},n.prototype.build=function(){return this.nodeBuilder.build()},n);function n(e,t,r,n,i){this.nodeBuilder=new o.XMLNodeBuilder("MediaFile"),this.nodeBuilder.withCDATAContent(e).addAttribute("delivery",r).addAttribute("type",t).addAttribute("width",""+n).addAttribute("height",""+i)}t.MediaFileBuilder=r},function(e,t,r){(function(e){("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"PROD-cbbcbd8f"}}).call(this,r(98))},function(e,t){var r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(100),i=r(101);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r={insert:"head",singleton:!1},n(i,r);e.exports=i.locals||{}},function(e,t,i){"use strict";var r,n,s=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=(n={},function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}),d=[];function u(e){for(var t=-1,r=0;r<d.length;r++)if(d[r].identifier===e){t=r;break}return t}function c(e,t){for(var r={},n=[],i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s=r[a]||0,c="".concat(a," ").concat(s);r[a]=s+1;s=u(c),o={css:o[1],media:o[2],sourceMap:o[3]};-1!==s?(d[s].references++,d[s].updater(o)):d.push({identifier:c,updater:function(t,e){var r,n,i;{var o;i=e.singleton?(o=v++,r=h=h||l(e),n=f.bind(null,r,o,!1),f.bind(null,r,o,!0)):(r=l(e),n=function(e,t,r){var n=r.css,i=r.media,r=r.sourceMap;i?e.setAttribute("media",i):e.removeAttribute("media");r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */"));if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,r,e),function(){var e;null!==(e=r).parentNode&&e.parentNode.removeChild(e)})}return n(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||n(t=e):i()}}(o,t),references:1}),n.push(c)}return n}function l(e){var t,r=document.createElement("style"),n=e.attributes||{};if(void 0!==n.nonce||(t=i.nc)&&(n.nonce=t),Object.keys(n).forEach(function(e){r.setAttribute(e,n[e])}),"function"==typeof e.insert)e.insert(r);else{e=o(e.insert||"head");if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(r)}return r}var a,p=(a=[],function(e,t){return a[e]=t,a.filter(Boolean).join("\n")});function f(e,t,r,n){r=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;e.styleSheet?e.styleSheet.cssText=p(t,r):(n=document.createTextNode(r),(r=e.childNodes)[t]&&e.removeChild(r[t]),r.length?e.insertBefore(n,r[t]):e.appendChild(n))}var h=null,v=0;e.exports=function(e,o){(o=o||{}).singleton||"boolean"==typeof o.singleton||(o.singleton=s());var a=c(e=e||[],o);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<a.length;t++){var r=u(a[t]);d[r].references--}for(var e=c(e,o),n=0;n<a.length;n++){var i=u(a[n]);0===d[i].references&&(d[i].updater(),d.splice(i,1))}a=e}}}},function(e,t,r){"use strict";r.r(t);var n=r(50),i=r.n(n),o=r(2),a=r.n(o),s=r(51),c=r(52),d=r(53),u=r(54),l=r(55),p=r(56),f=r(57),h=r(58),v=r(59),m=r(60),y=r(61),g=r(62),b=r(63),A=r(64),E=r(65),_=r(66),S=r(67),w=r(68),I=r(69),C=r(70),T=r(71),P=r(72),O=r(73),R=r(74),k=r(75),B=r(76),D=r(77),n=r(78),o=r(79),r=r(80),i=i()(!1),s=a()(s.a),c=a()(c.a),d=a()(d.a),u=a()(u.a),l=a()(l.a),p=a()(p.a),f=a()(f.a),h=a()(h.a),v=a()(v.a),m=a()(m.a),y=a()(y.a),g=a()(g.a),b=a()(b.a),A=a()(A.a),E=a()(E.a),_=a()(_.a),S=a()(S.a),w=a()(w.a),I=a()(I.a),C=a()(C.a),T=a()(T.a),P=a()(P.a),O=a()(O.a),R=a()(R.a),k=a()(k.a),B=a()(B.a),D=a()(D.a),n=a()(n.a),o=a()(o.a),r=a()(r.a);i.push([e.i,'html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}h1{font-size:2em;margin:.67em 0}dl dl,dl ol,dl ul,ol dl,ol ol,ol ul,ul dl,ul ol,ul ul{margin:0}hr{box-sizing:content-box;color:inherit;height:0;overflow:visible}main{display:block}pre{font-family:monospace,monospace;font-size:1em}a{background-color:rgba(0,0,0,0)}abbr[title]{text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}audio,video{display:inline-block}img{border-style:none}svg:not(:root){overflow:hidden}table{border-color:inherit;text-indent:0}button,input,select{margin:0}button{overflow:visible;text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}fieldset{padding:.35em .75em .625em}input{overflow:visible}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;white-space:normal}progress{display:inline-block;vertical-align:baseline}select{text-transform:none}textarea{margin:0;overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:1px dotted ButtonText}:-moz-ui-invalid{box-shadow:none}details,dialog{display:block}dialog{background-color:#fff;border:solid;color:#000;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;left:0;margin:auto;padding:1em;position:absolute;right:0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content}dialog:not([open]){display:none}summary{display:list-item}canvas{display:inline-block}[hidden],template{display:none}*,:after,:before{box-sizing:border-box}*{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}.vr-player{position:absolute;width:100%;top:0;bottom:0}.vr-responsive-container:before{display:block;content:"";width:100%;padding-top:56.25%}.vr-canvas-slot,.vr-ima-container,.vr-video,.vr-vpaid-container{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;cursor:pointer}.vr-ima-container,.vr-vpaid-container{visibility:hidden}.vr-ima-container--show,.vr-vpaid-container--show{visibility:visible}.vr-canvas-slot{z-index:1}.vr-video-mobi{z-index:-1000}.vr-loader{box-sizing:border-box;position:absolute;top:50%;left:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:1px solid #ccc;border-top-color:#f06;-webkit-animation:spinner 1s linear infinite;animation:spinner 1s linear infinite;display:none;z-index:2}.vr-loader--show{display:block}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}.vr-close{position:absolute;display:none;z-index:110;opacity:0;filter:alpha(opacity=0);transition:opacity .6s;color:#fff;cursor:pointer;padding:3px;line-height:normal}.vr-close:hover{color:#e5e5e5;cursor:pointer}.vr-close--show{display:block;opacity:1;filter:alpha(opacity=90)}.vr-close--show>*{vertical-align:middle;background:rgba(0,0,0,.4)}.vr-close--block{pointer-events:none}.vr-close[class*=left]{left:0;padding-left:7px}.vr-close[class*=left].vr-close--with-text .vr-close__icon-wrapper{border-radius:5px 0 0 5px;float:left}.vr-close[class*=left].vr-close--with-text .vr-close__text{border-radius:0 5px 5px 0;padding:2px 5px 0 2px;float:right;opacity:1}.vr-close[class*=right]{right:0;padding-right:7px}.vr-close[class*=right].vr-close--with-text .vr-close__icon-wrapper{border-radius:0 5px 5px 0;float:right}.vr-close[class*=right].vr-close--with-text .vr-close__text{border-radius:5px 0 0 5px;padding:2px 2px 0 5px;float:left;opacity:1}.vr-close[class*=top]{top:0;padding-top:7px}.vr-close[class*=bottom]{bottom:0;padding-bottom:14px}.vr-close__icon-wrapper{width:20px;height:20px;text-align:center;border-radius:5px}.vr-close__icon:after{content:"\\00d7";display:inline-block;font-size:16px}.vr-close__text{font-family:Verdana;height:20px;font-size:11px;opacity:0;box-sizing:border-box}.vr-click-cover{display:none}.vr-click-cover--enable{z-index:2;position:absolute;right:0;top:0;left:0;bottom:0;cursor:pointer;background:hsla(0,0%,100%,0);\n  /* !important is required by iOS, otherwise the cover click is not emitted */display:block!important}.vr-ad-progressbar{position:absolute;bottom:0;height:4px;width:100%;z-index:2;display:none}.vr-ad-progressbar--show{display:block}.vr-ad-progressbar__background{position:absolute;height:100%;width:100%;background:hsla(0,0%,100%,.5)}.vr-ad-progressbar__value{width:0;height:100%;transition:width .5s linear;background:"#ff0066"}.vr-ad-logo{position:absolute;bottom:10px;left:8px;z-index:110;text-decoration:none;font-size:0;display:none;cursor:pointer}.vr-ad-logo__text{color:#fff;font-family:Verdana;font-size:8px;display:none;line-height:20px}.vr-ad-logo__img,.vr-ad-logo__text{position:relative;vertical-align:middle}.vr-ad-logo__img{display:inline-block}.vr-ad-logo__img-hover{background-position:0 0;position:relative;display:none;margin-left:3px;vertical-align:middle}.vr-ad-logo--show{display:block}.vr-ad-logo:hover{bottom:8px}.vr-ad-logo:hover .vr-ad-logo__img{display:none}.vr-ad-logo:hover .vr-ad-logo__img-hover,.vr-ad-logo:hover .vr-ad-logo__text{display:inline-block}.vr-ad-logo--viralize .vr-ad-logo__img{width:18px;height:18px}.vr-ad-logo--viralize .vr-ad-logo__img:after{content:" ";background-image:url('+s+");background-position:0 0;width:18px;height:18px;position:absolute;top:50%;left:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.vr-ad-logo--viralize .vr-ad-logo__img:after{background-image:url("+c+");background-size:100% 100%}}.vr-ad-logo--viralize .vr-ad-logo__img-hover{background-image:url("+d+");background-size:44px 12px;background-repeat:no-repeat;width:44px;height:12px}@media only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min-device-pixel-ratio:2),only screen and (min-resolution:2dppx),only screen and (min-resolution:192dpi){.vr-ad-logo--viralize .vr-ad-logo__img-hover{background-image:url("+u+")}}.vr-ad-logo--showheroes .vr-ad-logo__img,.vr-ad-logo--showheroes .vr-ad-logo__img-hover{background-image:url("+l+");background-size:85px 20px;background-repeat:no-repeat;width:85px;height:20px}@media only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min-device-pixel-ratio:2),only screen and (min-resolution:2dppx),only screen and (min-resolution:192dpi){.vr-ad-logo--showheroes .vr-ad-logo__img,.vr-ad-logo--showheroes .vr-ad-logo__img-hover{background-image:url("+p+')}}.vr-ad-logo--showheroes .vr-ad-logo__img{margin-left:-4px;margin-bottom:-2px}.vr-ad-controls{position:absolute;z-index:110;bottom:10px;right:0}.vr-ad-controls__mute{cursor:pointer;display:none;position:relative;float:right;margin-right:10px}.vr-ad-controls__mute--muted{width:18px;height:18px}.vr-ad-controls__mute--muted:after{content:" ";background-image:url('+f+");background-position:0 0;width:16px;height:11px;position:absolute;top:50%;left:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.vr-ad-controls__mute--muted:after{background-image:url("+h+");background-size:100% 100%}}.vr-ad-controls__mute--muted:hover:after{background-image:url("+v+");background-position:0 0;width:16px;height:11px}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.vr-ad-controls__mute--muted:hover:after{background-image:url("+m+');background-size:100% 100%}}.vr-ad-controls__mute--unmuted{width:18px;height:18px}.vr-ad-controls__mute--unmuted:after{content:" ";background-image:url('+y+");background-position:0 0;width:14px;height:11px;position:absolute;top:50%;left:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.vr-ad-controls__mute--unmuted:after{background-image:url("+g+");background-size:100% 100%}}.vr-ad-controls__mute--unmuted:hover:after{background-image:url("+b+");background-position:0 0;width:14px;height:11px}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.vr-ad-controls__mute--unmuted:hover:after{background-image:url("+A+');background-size:100% 100%}}.vr-ad-controls__mute--show{display:block}.vr-ad-controls__play{cursor:pointer;display:none;position:relative;float:left;margin-right:10px}.vr-ad-controls__play--playing{width:18px;height:18px}.vr-ad-controls__play--playing:after{content:" ";background-image:url('+E+");background-position:0 0;width:9px;height:11px;position:absolute;top:50%;left:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.vr-ad-controls__play--playing:after{background-image:url("+_+");background-size:100% 100%}}.vr-ad-controls__play--playing:hover:after{background-image:url("+S+");background-position:0 0;width:9px;height:11px}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.vr-ad-controls__play--playing:hover:after{background-image:url("+w+');background-size:100% 100%}}.vr-ad-controls__play--paused{width:18px;height:18px}.vr-ad-controls__play--paused:after{content:" ";background-image:url('+I+");background-position:0 0;width:9px;height:11px;position:absolute;top:50%;left:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.vr-ad-controls__play--paused:after{background-image:url("+C+");background-size:100% 100%}}.vr-ad-controls__play--paused:hover:after{background-image:url("+T+");background-position:0 0;width:9px;height:11px}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.vr-ad-controls__play--paused:hover:after{background-image:url("+P+');background-size:100% 100%}}.vr-ad-controls__play--show{display:block}.vr-social{position:absolute;z-index:110;right:5px;top:34px;width:36px;transition:.6s;background-color:rgba(0,0,0,.7);opacity:0;filter:alpha(opacity=0);transition:opacity .15s .3s;border-radius:2px;display:none}.vr-social--show{display:block}.vr-responsive-container .vr-social{opacity:0;filter:alpha(opacity=0)}.vr-responsive-container:hover .vr-social{opacity:1;filter:alpha(opacity=100)}.vr-social-ico{display:block;position:relative;margin:3px;transition:all .3s ease}.vr-fb-share{background-color:#3a5795;width:30px;height:30px}.vr-fb-share:after{content:" ";background-image:url('+O+");background-position:0 0;width:8px;height:15px;position:absolute;top:50%;left:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.vr-fb-share:after{background-image:url("+R+");background-size:100% 100%}}.vr-fb-share:hover:after{background-image:url("+k+");background-position:0 0;width:8px;height:15px}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.vr-fb-share:hover:after{background-image:url("+B+');background-size:100% 100%}}.vr-tw-share{background-color:#55acee;width:30px;height:30px}.vr-tw-share:after{content:" ";background-image:url('+D+");background-position:0 0;width:15px;height:11px;position:absolute;top:50%;left:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.vr-tw-share:after{background-image:url("+n+");background-size:100% 100%}}.vr-tw-share:hover:after{background-image:url("+o+");background-position:0 0;width:15px;height:11px}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.vr-tw-share:hover:after{background-image:url("+r+");background-size:100% 100%}}",""]),t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ecg=t.Ecg=void 0,t.Ecg=function(){},t.ecg=function(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsFactory=void 0;var n=r(1),i=r(104),o=r(106),a=r(107),s=r(108),c=r(120),d=r(121),u=r(122),r=(l.prototype.getViralizeTrackerInstance=function(){var e;return null==this.viralizeTracker&&(e=(this.config.environment.client.is_ssl?"https":"http")+"://"+this.config.environment.client.endpoint_host,this.viralizeTracker=new u.ViralizeTracker(e,this.tracker,n.Constants.DEFAULT_ANALYTICS_FLUSH_TIMEOUT,n.Constants.URL_LENGTH_LIMIT)),this.viralizeTracker},l.prototype.buildPlayerAnalyticsFacade=function(){var e=this.getViralizeTrackerInstance();return new s.PlayerAnalyticsFacade({tracker:e,requestSessionId:this.config.environment.session.id,sessionCounter:this.config.extra.session_counter,zoneId:this.config.environment.zone.zid,contentId:this.contentId,pageUrl:this.config.environment.client.page_url,formatName:this.config.environment.zone.format})},l.prototype.buildCustomCallbacksTracker=function(){return new i.CustomCallbacksTracker(this.config.extra_tracking,this.tracker,this.viewabilityEvaluator,this.iabEvaluator)},l.prototype.buildVastBidTracker=function(){return new o.VastBidTracker(this.tracker)},l.prototype.buildVastPlaybackTracker=function(e,t){return new a.VastPlaybackTracker(e,this.tracker,this.viewabilityEvaluator,this.iabEvaluator,t)},l.prototype.buildViralizeBidTracker=function(e,t){return new c.ViralizeBidTracker(this.buildPlayerAnalyticsFacade().getBidAnalytics(e,t))},l.prototype.buildViralizePlaybackTracker=function(e,t){return new d.ViralizePlaybackTracker(this.buildPlayerAnalyticsFacade().getBidAnalytics(e,t),this.viewabilityEvaluator,this.iabEvaluator)},l);function l(e,t,r,n,i){this.config=e,this.tracker=t,this.viewabilityEvaluator=r,this.iabEvaluator=n,this.contentId=i}t.AnalyticsFactory=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomCallbacksTracker=void 0;var i,n=r(0),o=r(4),a=r(7),s=r(3),c=r(23),d=r(15),n=(new o.Console("CustomCallbacksTracker"),i=c.BasePlaybackTracker,n.__extends(u,i),u.prototype.notifyIABViewable=function(){this.handleCallback("viewable")},u.prototype.notifyStart=function(){this.handleCallback(d.CreativityEventName.START),this.handleViewability("viewableStart","notViewableStart")},u.prototype.notifyImpression=function(){this.handleCallback(d.CreativityEventName.IMPRESSION)},u.prototype.notifyPlay=function(){this.handleCallback(d.CreativityEventName.PLAY)},u.prototype.notifySkip=function(){this.handleCallback(d.CreativityEventName.SKIP)},u.prototype.notifyFirstQuartile=function(){this.handleCallback("firstQuartile"),this.handleViewability("viewableFirstQuartile","notViewableFirstQuartile")},u.prototype.notifyMidPoint=function(){this.handleCallback(d.CreativityEventName.MIDPOINT),this.handleViewability("viewableMidpoint","notViewableMidpoint")},u.prototype.notifyThirdQuartile=function(){this.handleCallback("thirdQuartile"),this.handleViewability("viewableThirdQuartile","notViewableThirdQuartile")},u.prototype.notifyComplete=function(){this.handleCallback(d.CreativityEventName.COMPLETE),this.handleViewability("viewableComplete","notViewableComplete")},u.prototype.notifyResumed=function(){this.handleCallback(d.CreativityEventName.RESUME)},u.prototype.notifyPaused=function(){this.handleCallback(d.CreativityEventName.PAUSE)},u.prototype.notifyClick=function(){this.handleCallback(d.CreativityEventName.CLICK_THROUGH)},u.prototype.notifyMuted=function(){this.handleCallback(d.CreativityEventName.MUTE)},u.prototype.notifyUnmuted=function(){this.handleCallback(d.CreativityEventName.UNMUTE)},u.prototype.notifyShareOnSocial=function(e){"facebook"===e?this.handleCallback("shareFb"):this.handleCallback("shareTw")},u.prototype.handleCallback=function(e){var t,r=this;null!=this.callbacks[e]&&(t={timestamp:""+Date.now()},s.Utils.resolveMacros(this.callbacks[e],t).forEach(function(e){r.tracker.track(e).catch(function(){})}))},u.prototype.handleViewability=function(t,r){var e;try{e=this.viewabilityEvaluator.getCurrentValue()}catch(e){return void a.Sentry.reportError(new Error("Error retrieving viewability when tracking "+t+"/"+r+": "+e.message))}null!=e&&(this.isVisible(e)?this.handleCallback(t):this.handleCallback(r))},u);function u(e,t,r,n){n=i.call(this,r,n)||this;return n.callbacks=e,n.tracker=t,n}t.CustomCallbacksTracker=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XMLParsingError=void 0;var n,i=r(0),r=r(10),i=(n=r.CustomError,i.__extends(o,n),o);function o(){return n.call(this,"An error occurs during XML parsing")||this}t.XMLParsingError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VastBidTracker=void 0;var n=r(4),i=r(8),o=r(16),n=(new n.Console("VastBidTracker"),a.prototype.notifyBidRejected=function(e){this.trackVastErrorUrls(e)},a.prototype.notifyBidError=function(e){e instanceof i.VastError&&this.trackVastErrorUrls(e)},a.prototype.trackVastErrorUrls=function(e){var t,r=this,n=((t={}).ERRORCODE=""+e.code,t);e.errorUrls.forEach(function(e){e=o.VastTrackerUtils.resolveMacros(e,n);r.tracker.track(e).catch(function(){})})},a);function a(e){this.tracker=e}t.VastBidTracker=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VastPlaybackTracker=void 0;var o,n=r(0),i=r(4),a=r(1),s=r(17),c=r(7),d=r(3),u=r(30),l=r(6),p=r(23),f=r(16),p=(new i.Console("VastPlaybackTracker"),o=p.BasePlaybackTracker,n.__extends(h,o),h.prototype.notifyStart=function(e){this.handleEvent(this.linear.trackingEvents.start,{},e),this.handleViewability("viewableStart","notViewableStart",e)},h.prototype.notifyImpression=function(e,t){var r=this.ad.inline.impressions.filter(function(e){return!(-1<e.indexOf("#js"))||(s.DomUtils.injectScript(e).then().catch(),!1)}).map(function(e){return{url:e}}),t={adsystem:t.getAdSystem(),aspect_ratio:d.Utils.getAspectRatio(t.getDimensions()).category,content_type:t.getContentType(),creativity_id:t.getCreativityId(),creativity_width:""+t.getCreativityWidth(),duration:""+Math.round(t.getDuration()),linear:""+t.isLinear(),loader:""+t.getLoader(),wrappers_count:""+t.getWrappersCount()};this.handleEvent(r,t,e)},h.prototype.notifyPlay=function(e){var t;null!=(null===(t=this.extraTrackings)||void 0===t?void 0:t.play)&&this.handleEvent(this.extraTrackings.play,{},e)},h.prototype.notifySkip=function(e){this.handleEvent(this.linear.trackingEvents.skip,{},e)},h.prototype.notifyFirstQuartile=function(e){this.handleEvent(this.linear.trackingEvents.firstQuartile,{},e),this.handleViewability("viewableFirstQuartile","notViewableFirstQuartile",e)},h.prototype.notifyMidPoint=function(e){this.handleEvent(this.linear.trackingEvents.midpoint,{},e),this.handleViewability("viewableMidpoint","notViewableMidpoint",e)},h.prototype.notifyThirdQuartile=function(e){this.handleEvent(this.linear.trackingEvents.thirdQuartile,{},e),this.handleViewability("viewableThirdQuartile","notViewableThirdQuartile",e)},h.prototype.notifyComplete=function(e){this.handleEvent(this.linear.trackingEvents.complete,{},e),this.handleViewability("viewableComplete","notViewableComplete",e)},h.prototype.notifyResumed=function(e){this.handleEvent(this.linear.trackingEvents.resume,{},e)},h.prototype.notifyPaused=function(e){this.handleEvent(this.linear.trackingEvents.pause,{},e)},h.prototype.notifyClick=function(e){this.handleEvent(this.clickTrackingUrls,{},e)},h.prototype.notifyMuted=function(e){this.handleEvent(this.linear.trackingEvents.mute,{},e)},h.prototype.notifyUnmuted=function(e){this.handleEvent(this.linear.trackingEvents.unmute,{},e)},h.prototype.notifyProgress=function(t){var r=[];this.progressInfos=this.progressInfos.filter(function(e){return!(0<e.offset&&e.offset<=t)||(r.push(e),!1)}),0<r.length&&this.handleEvent(r,{},t)},h.prototype.notifyDurationChange=function(e,t){null!=this.progressInfos&&(this.progressInfos=this.updateProgressInfo(this.progressInfos,t))},h.prototype.notifyShareOnSocial=function(e){var t;"facebook"===e?null!=(null===(t=this.extraTrackings)||void 0===t?void 0:t.shareFb)&&this.handleEvent(this.extraTrackings.shareFb):null!=(null===(t=this.extraTrackings)||void 0===t?void 0:t.shareTw)&&this.handleEvent(this.extraTrackings.shareTw)},h.prototype.notifyError=function(e,t){var r=this.getErrorCode(t),t=((t={}).ERRORCODE=""+r,t);this.handleEvent(this.ad.inline.errors.map(function(e){return{url:e}}),t,e)},h.prototype.notifyIABViewable=function(){var e,t;null!=(null===(e=this.viewabilityTracking)||void 0===e?void 0:e.viewable)&&this.handleEvent(null===(t=this.viewabilityTracking)||void 0===t?void 0:t.viewable),null!=(null===(t=this.viewableImpressions)||void 0===t?void 0:t.viewable)&&(t=null===(t=this.viewableImpressions)||void 0===t?void 0:t.viewable.map(function(e){return{url:e}}),this.handleEvent(t))},h.prototype.notifyIABNotViewable=function(){var e;null!=(null===(e=this.viewableImpressions)||void 0===e?void 0:e.notViewable)&&(e=null===(e=this.viewableImpressions)||void 0===e?void 0:e.notViewable.map(function(e){return{url:e}}),this.handleEvent(e))},h.prototype.notifyIABViewUndetermined=function(){var e;null!=(null===(e=this.viewableImpressions)||void 0===e?void 0:e.viewUndetermined)&&(e=null===(e=this.viewableImpressions)||void 0===e?void 0:e.viewUndetermined.map(function(e){return{url:e}}),this.handleEvent(e))},h.prototype.notifyEnded=function(){},h.prototype.handleEvent=function(e,t,r){var n=this;void 0===e&&(e=[]),void 0===t&&(t={}),t.ASSETURI=this.mediaFile.url,null!=r&&(t.CONTENTPLAYHEAD=u.VastBuilderUtils.toFormattedTime(r),t.ADPLAYHEAD=u.VastBuilderUtils.toFormattedTime(r)),0<this.creative.universalAdIds.length&&(t.UNIVERSALADID=f.VastTrackerUtils.splitUniversalAdId(this.creative.universalAdIds)),e.forEach(function(e){n.tracker.track(f.VastTrackerUtils.resolveMacros(e.url,t)).catch(function(){})})},h.prototype.getClickTrackingUrls=function(){var e=[],t=[];return null!=this.linear.videoClicks&&(null!=this.linear.videoClicks.clickTrackings&&(e=this.linear.videoClicks.clickTrackings),null!=this.linear.videoClicks.customClicks&&(t=this.linear.videoClicks.customClicks)),n.__spreadArrays(e,t)},h.prototype.initProgressInfo=function(e){var t=this.linear.trackingEvents.progress,t=(t=null!=t?t:[]).filter(function(e){return null!=e.offset}).map(function(e){return{url:e.url,offset:h.UNKNOWN_OFFSET,originalOffset:e.offset}});return this.updateProgressInfo(t,e)},h.prototype.updateProgressInfo=function(e,t){var r=this;return e.map(function(e){return{url:e.url,offset:r.calculateOffset(e.originalOffset,t),originalOffset:e.originalOffset}}).sort(this.sortProgressInfos)},h.prototype.calculateOffset=function(e,t){var r,n=0<e.indexOf("%");return n&&t?t*parseInt(e,10)/100:!n&&null!=(r=l.VastParserUtils.parseTime(e))?r:h.UNKNOWN_OFFSET},h.prototype.sortProgressInfos=function(e,t){return e.offset===h.UNKNOWN_OFFSET?1:t.offset===h.UNKNOWN_OFFSET?-1:e.offset-t.offset},h.prototype.handleViewability=function(t,r,e){var n;try{n=this.viewabilityEvaluator.getCurrentValue()}catch(e){return void c.Sentry.reportError(new Error("Error retrieving viewability when tracking "+t+"/"+r+": "+e.message))}null!=n&&(this.isVisible(n)?null!=this.viewabilityTracking&&null!=this.viewabilityTracking[t]&&this.handleEvent(this.viewabilityTracking[t],{},e):null!=this.viewabilityTracking&&null!=this.viewabilityTracking[r]&&this.handleEvent(this.viewabilityTracking[r],{},e))},h.prototype.getErrorCode=function(e){var t;if("dvast"===this.source.origin&&"auto"===this.source.tech&&e.code in a.Constants.TIMEOUTS.ERROR_CODES)return e.code;switch(e.code){case a.Constants.TIMEOUTS.ERROR_CODES.REQUEST:t=a.Constants.VastErrorCodes.VAST_URI_TIMEOUT;break;case a.Constants.TIMEOUTS.ERROR_CODES.LOAD:t=this.isVpaid?a.Constants.VastErrorCodes.GENERAL_VPAID_ERROR:a.Constants.VastErrorCodes.MEDIAFILE_TIMEOUT_ERROR;break;case a.Constants.TIMEOUTS.ERROR_CODES.START:t=this.isVpaid?a.Constants.VastErrorCodes.GENERAL_VPAID_ERROR:a.Constants.VastErrorCodes.UNDEFINED_ERROR;break;default:t=e.code in a.Constants.VastErrorCodes?e.code:a.Constants.VastErrorCodes.UNDEFINED_ERROR}return t},h.UNKNOWN_OFFSET=-1,h);function h(e,t,r,n,i){n=o.call(this,r,n)||this;return n.ad=e.ad,n.creative=e.creative,n.linear=e.creative.linear,n.mediaFile=e.mediaFile,n.tracker=t,n.source=i,n.clickTrackingUrls=n.getClickTrackingUrls(),n.progressInfos=n.initProgressInfo(n.linear.duration),n.extraTrackings=null===(i=e.ad.inline.extensions)||void 0===i?void 0:i.extraTracking,n.viewabilityTracking=null===(i=e.ad.inline.extensions)||void 0===i?void 0:i.viewabilityTracking,n.viewableImpressions=e.ad.inline.viewableImpression,n.isVpaid=a.Constants.VPAID_MIME_TYPES.has(e.mediaFile.mimeType),n}t.VastPlaybackTracker=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerAnalyticsFacade=void 0;var n=r(109),i=r(111),r=(o.prototype.track=function(e){this.analytics.track(e)},o.prototype.getBidAnalytics=function(e,t){return new i.BidAnalyticsFacade({analytics:this.analytics,gcid:e,waterfallPosition:t,sessionCounter:this.config.sessionCounter,zoneId:this.config.zoneId,contentId:this.config.contentId,pageUrl:this.config.pageUrl,formatName:this.config.formatName})},o.prototype.getCreativityAnalytics=function(e,t){return this.getBidAnalytics(e,t).getCreativityAnalytics()},o);function o(e){this.config=e,this.analytics=new n.PlayerAdAnalytics(e.tracker,e.requestSessionId)}t.PlayerAnalyticsFacade=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerAdAnalytics=void 0;var n,i=r(0),o=r(18),a=r(110),i=(n=o.BaseAnalytics,i.__extends(s,n),s.prototype.track=function(e){this.skip(e)||(e=new a.PlayerSessionEvent(this.sessionId,this.subSessionId,e),this.viralizeTracker.track(e))},s.prototype.skip=function(e){return null!=this.trackedEvents[e]||!(this.trackedEvents[e]=!0)},s.SUB_SESSION_ID="0",s);function s(e,t){t=n.call(this,e,t,s.SUB_SESSION_ID)||this;return t.trackedEvents={},t}t.PlayerAdAnalytics=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerSessionEvent=void 0;var n,i=r(0),r=r(19),i=(n=r.BaseAnalyticsEvent,i.__extends(o,n),o.prototype.getSubSessionName=function(){return"player_session_id"},o);function o(e,t,r){return n.call(this,10,"player_session",e,t,r)||this}t.PlayerSessionEvent=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BidAnalyticsFacade=void 0;var n=r(33),i=r(112),o=r(25),a=r(114),s=r(116),c=r(20),d=r(117),r=(u.prototype.track=function(e,t){this.isBidOpportunityEvent(e)?this.trackBidOpportunityEvent(e,t):this.trackBidDoneEvent(e,t)},u.prototype.getCreativityAnalytics=function(){return new d.CreativityAnalyticsFacade(this.config.formatName,this.bidDoneAnalytics)},u.prototype.trackBidOpportunityEvent=function(e,t){e===c.BidOppInitEventName?this.bidOppAnalytics.track(e,{zid:this.config.zoneId,hcid:this.config.contentId,u:this.config.pageUrl,t:"adn",item:new s.BidOppEventId(this.config.gcid,this.config.waterfallPosition,this.config.sessionCounter)}):this.bidOppAnalytics.track(e,t)},u.prototype.trackBidDoneEvent=function(e,t){var r;e===o.BidDoneInitEventName?(r=t,this.bidDoneAnalytics.track(e,{zid:this.config.zoneId,hcid:this.config.contentId,u:this.config.pageUrl,t:"adn",item:this.config.gcid,sc:new n.AnalyticsSessionCounter(this.config.waterfallPosition,this.config.sessionCounter),cpm:null===(t=r.cpm)||void 0===t?void 0:t.value,cpm_enc:null===(t=r.cpm)||void 0===t?void 0:t.encode,l:r.loader,as:r.adSystem,ct:r.contentType})):this.bidDoneAnalytics.track(e)},u.prototype.isBidOpportunityEvent=function(e){return u.BID_OPP_EVENT_NAME_MAP[e]},u.BID_OPP_EVENT_NAME_MAP=Object.values(c.BidOppEventName).reduce(function(e,t){return e[t]=!0,e},{}),u);function u(e){this.config=e,this.bidOppAnalytics=new a.BidOppAdAnalytics(e.analytics,e.gcid,new n.AnalyticsSessionCounter(e.waterfallPosition,e.sessionCounter)),this.bidDoneAnalytics=new i.BidDoneAdAnalytics(this.bidOppAnalytics)}t.BidAnalyticsFacade=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BidDoneAdAnalytics=void 0;var n,i=r(0),o=r(18),a=r(24),s=r(25),c=r(113),i=(n=a.BaseSubSessionAnalytics,i.__extends(d,n),d.prototype.track=function(e,t){this.skip(e)||(e===s.BidDoneInitEventName?this.trackInitEvent(t):this.trackStandardEvent(e))},d.prototype.trackInitEvent=function(r){var e=this.sessionId.split(o.BaseAnalytics.SID_SEPARATOR)[0],n=[];Object.keys(r).filter(function(e){return null!=r[e]}).forEach(function(e){var t="sc"!==e?""+r[e]:""+r[e].value;n.push(e+"="+encodeURIComponent(t))}),n.push("sid="+encodeURIComponent(e));e=this.viralizeTracker.baseUrl+"/t-bid-done/?"+n.join("&");this.viralizeTracker.tracker.track(e).catch(function(){})},d.prototype.trackStandardEvent=function(e){e=new c.BidDoneSessionEvent(this.sessionId,this.subSessionId,e);this.viralizeTracker.track(e)},d.prototype.skip=function(e){return null!=this.trackedEvents[e]||!(this.trackedEvents[e]=!0)},d.SUB_SESSION_ID="0",d);function d(e){e=n.call(this,e,d.SUB_SESSION_ID)||this;return e.trackedEvents={},e}t.BidDoneAdAnalytics=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BidDoneSessionEvent=void 0;var n,i=r(0),r=r(19),i=(n=r.BaseAnalyticsEvent,i.__extends(o,n),o.prototype.getSubSessionName=function(){return"bid_done_id"},o);function o(e,t,r){return n.call(this,1,"bid_done",e,t,r)||this}t.BidDoneSessionEvent=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BidOppAdAnalytics=void 0;var n,i=r(0),o=r(18),a=r(24),s=r(20),c=r(115),i=(n=a.BaseSubSessionAnalytics,i.__extends(d,n),d.prototype.track=function(e,t){this.skip(e)||(e===s.BidOppInitEventName?this.trackInitEvent(t):this.trackStandardEvent(e,t))},d.prototype.trackInitEvent=function(r){var e=this.sessionId.split(o.BaseAnalytics.SID_SEPARATOR)[0],n=[];Object.keys(r).forEach(function(e){var t;"item"!==e&&(t=""+r[e],n.push(e+"="+encodeURIComponent(t)))}),n.push("sid="+encodeURIComponent(e)),(Array.isArray(r.item)?r.item:[r.item]).forEach(function(e){n.push("item="+encodeURIComponent(e.value))});e=this.viralizeTracker.baseUrl+"/t-bid-opportunity/?"+n.join("&");this.viralizeTracker.tracker.track(e).catch(function(){})},d.prototype.trackStandardEvent=function(e,t){this.viralizeTracker.track(new c.BidOppSessionEvent(this.sessionId,this.subSessionId,e,t))},d.prototype.skip=function(e){return null!=this.trackedEvents[e]||!(this.trackedEvents[e]=!0)},d);function d(e,t,r){r=n.call(this,e,t+"~"+r.value)||this;return r.trackedEvents={},r}t.BidOppAdAnalytics=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BidOppSessionEvent=void 0;var i,n=r(0),r=r(19),n=(i=r.BaseAnalyticsEvent,n.__extends(o,i),o.prototype.getSubSessionName=function(){return"bid_opportunity_id"},o);function o(e,t,r,n){return i.call(this,1,"bid_opportunity",e,t,r,n)||this}t.BidOppSessionEvent=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BidOppEventId=void 0;var n=r(33),r=function(e,t,r){r=new n.AnalyticsSessionCounter(t,r),this.value=e+"."+t+"."+r.value};t.BidOppEventId=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreativityAnalyticsFacade=void 0;var n=r(118),i=r(15),r=(o.prototype.track=function(e,t){e===i.CreativityInitEventName?this.analytics.track(e,{adsystem:t.adsystem,aspect_ratio:t.aspect_ratio,content_type:t.content_type,creativity_id:t.creativity_id,creativity_width:t.creativity_width,duration:t.duration,format:this.format,linear:t.linear,loader:t.loader,wrappers_count:t.wrappers_count}):this.analytics.track(e)},o);function o(e,t){this.format=e,this.analytics=new n.CreativityAdAnalytics(t)}t.CreativityAnalyticsFacade=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreativityAdAnalytics=void 0;var n,i=r(0),o=r(24),a=r(15),s=r(119),i=(n=o.BaseSubSessionAnalytics,i.__extends(c,n),c.prototype.track=function(e,t){this.skip(e)||(e=e===a.CreativityInitEventName?new s.CreativitySessionEvent(this.sessionId,this.subSessionId,e,t):new s.CreativitySessionEvent(this.sessionId,this.subSessionId,e),this.viralizeTracker.track(e))},c.prototype.skip=function(e){var t=!1;return null!=this.uniqueEventMap[e]&&(t=this.uniqueEventMap[e],this.uniqueEventMap[e]=!0),t},c.SUB_SESSION_ID="0",c);function c(e){var t=n.call(this,e,c.SUB_SESSION_ID)||this;return t.uniqueEventMap={},Object.values(a.CreativityUniqueEventName).forEach(function(e){t.uniqueEventMap[e]=!1},{}),t}t.CreativityAdAnalytics=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreativitySessionEvent=void 0;var i,n=r(0),r=r(19),r=(i=r.BaseAnalyticsEvent,n.__extends(o,i),o.prototype.toJSON=function(){var e=i.prototype.toJSON.call(this);return null!=this.data?n.__assign(n.__assign({},e),this.data):e},o.prototype.getSubSessionName=function(){return"creativity_session_id"},o);function o(e,t,r,n){r=i.call(this,7,"creativity_session",e,t,r)||this;return r.data=n,r}t.CreativitySessionEvent=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViralizeBidTracker=void 0;var n=r(4),i=r(34),o=r(20),n=(new n.Console("ViralizeBidTracker"),a.prototype.notifyInitBidOpportunity=function(){this.analytics.track(i.BidEventName.BID_OPPORTUNITY)},a.prototype.notifyBidDone=function(e){this.analytics.track(i.BidEventName.BID_DONE,e)},a.prototype.notifyBidRejected=function(e){this.analytics.track(o.BidOppEventName.BID_REJECTED)},a.prototype.notifyBidSelected=function(){this.analytics.track(i.BidEventName.BID_SELECTED)},a.prototype.notifyBidError=function(e){this.analytics.track(o.BidOppEventName.BID_ERROR,e.code)},a);function a(e){this.analytics=e}t.ViralizeBidTracker=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViralizePlaybackTracker=void 0;var n,i=r(0),o=r(4),a=r(1),s=r(7),c=r(3),d=r(23),u=r(34),l=r(15),i=(new o.Console("ViralizePlaybackTracker"),n=d.BasePlaybackTracker,i.__extends(p,n),p.prototype.notifyIABViewable=function(){this.creativityAnalytics.track(l.CreativityEventName.VIEWABLE)},p.prototype.notifyStart=function(e){this.creativityAnalytics.track(l.CreativityEventName.START),this.trackViewability(l.CreativityEventName.VIEWABLE_START,l.CreativityEventName.NOT_VIEWABLE_START)},p.prototype.notifyImpression=function(e,t){t={adsystem:t.getAdSystem(),aspect_ratio:c.Utils.getAspectRatio(t.getDimensions()).category,content_type:t.getContentType(),creativity_id:t.getCreativityId(),creativity_width:t.getCreativityWidth(),duration:Math.round(t.getDuration()),linear:t.isLinear(),loader:t.getLoader(),wrappers_count:t.getWrappersCount()};this.creativityAnalytics.track(l.CreativityEventName.IMPRESSION,t)},p.prototype.notifyPlay=function(e){this.creativityAnalytics.track(l.CreativityEventName.PLAY)},p.prototype.notifySkip=function(e){this.creativityAnalytics.track(l.CreativityEventName.SKIP)},p.prototype.notifyFirstQuartile=function(e){this.creativityAnalytics.track(l.CreativityEventName.FIRST_QUARTILE),this.trackViewability(l.CreativityEventName.VIEWABLE_FIRST_QUARTILE,l.CreativityEventName.NOT_VIEWABLE_FIRST_QUARTILE)},p.prototype.notifyMidPoint=function(e){this.creativityAnalytics.track(l.CreativityEventName.MIDPOINT),this.trackViewability(l.CreativityEventName.VIEWABLE_MIDPOINT,l.CreativityEventName.NOT_VIEWABLE_MIDPOINT)},p.prototype.notifyThirdQuartile=function(e){this.creativityAnalytics.track(l.CreativityEventName.THIRD_QUARTILE),this.trackViewability(l.CreativityEventName.VIEWABLE_THIRD_QUARTILE,l.CreativityEventName.NOT_VIEWABLE_THIRD_QUARTILE)},p.prototype.notifyComplete=function(e){this.creativityAnalytics.track(l.CreativityEventName.COMPLETE),this.trackViewability(l.CreativityEventName.VIEWABLE_COMPLETE,l.CreativityEventName.NOT_VIEWABLE_COMPLETE)},p.prototype.notifyResumed=function(e){this.creativityAnalytics.track(l.CreativityEventName.RESUME)},p.prototype.notifyPaused=function(e){this.creativityAnalytics.track(l.CreativityEventName.PAUSE)},p.prototype.notifyClick=function(e){this.creativityAnalytics.track(l.CreativityEventName.CLICK_THROUGH)},p.prototype.notifyDurationChange=function(e,t){},p.prototype.notifyProgress=function(e){},p.prototype.notifyMuted=function(e){this.creativityAnalytics.track(l.CreativityEventName.MUTE)},p.prototype.notifyUnmuted=function(e){this.creativityAnalytics.track(l.CreativityEventName.UNMUTE)},p.prototype.notifyShareOnSocial=function(e){"facebook"===e?this.creativityAnalytics.track(l.CreativityEventName.SHARE_FB):this.creativityAnalytics.track(l.CreativityEventName.SHARE_TW)},p.prototype.notifyError=function(e,t){t.code in a.Constants.TIMEOUTS.ERROR_CODES&&this.bidAnalytics.track(u.BidEventName.BID_ERROR,t.code)},p.prototype.notifyEnded=function(){},p.prototype.trackViewability=function(t,r){var e;try{e=this.viewabilityEvaluator.getCurrentValue()}catch(e){return void s.Sentry.reportError(new Error("Error retrieving viewability when tracking "+t+"/"+r+": "+e.message))}null!=e&&(this.isVisible(e)?this.creativityAnalytics.track(t):this.creativityAnalytics.track(r))},p);function p(e,t,r){r=n.call(this,t,r)||this;return r.bidAnalytics=e,r.creativityAnalytics=e.getCreativityAnalytics(),r}t.ViralizePlaybackTracker=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViralizeTracker=void 0;var n=(i.prototype.track=function(e){this.sendQueue.push(e),1===this.sendQueue.length&&window.setTimeout(this.flush.bind(this),this.flushTimeout)},i.prototype.flush=function(){var t=this;if(0===this.sendQueue.length)return Promise.resolve();var r=0,n=[];this.sendQueue.forEach(function(e){e=window.encodeURIComponent(JSON.stringify(e));n.push(e),r=Math.max(r,e.length)});var e=Math.ceil(this.eventsLengthLimit/r),e=this.partition(n,e);return this.sendQueue=[],Promise.all(e.map(function(e){return t.tracker.track(e)})).then(function(){})},i.prototype.partition=function(e,t){for(var r=[];0<e.length;){var n=this.openedSquareBracket+e.splice(0,t).join(this.eventsSeparator)+this.closedSquareBracket,n=i.FIXED_QS_PARAMS+n,n=""+this.trackUrl+n;r.push(n)}return r},i.FIXED_QS_PARAMS="multi=true&serialization=json&events=",i);function i(e,t,r,n){this.baseUrl=""+e,this.trackUrl=e+"/track/?",this.tracker=t,this.flushTimeout=r,this.eventsLengthLimit=n-this.trackUrl.length-i.FIXED_QS_PARAMS.length,this.sendQueue=[],this.eventsSeparator=window.encodeURIComponent(","),this.openedSquareBracket=window.encodeURIComponent("["),this.closedSquareBracket=window.encodeURIComponent("]")}t.ViralizeTracker=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormatControllerFactory=void 0;var u=r(1),n=r(124),i=r(3),l=r(125),p=r(126),f=r(127),h=r(128),v=r(129),m=r(130),y=r(131),g=r(132),b=r(133),A=r(134),E=r(135),o=r(136),_=r(137),S=r(138),w=r(139),a=r(141),I=r(143),s=r(35),C=r(145),T=r(148),P=r(149),O=r(150),R=r(152);function k(e){return{loaderSpinner:new o.LoaderSpinnerView,closePlayerButton:e}}function B(e,t,r){return new a.AdPlaybackControllerFactory({iabViewabilityEvaluator:e,adSkinConfigFactory:r,deviceType:t.environment.client.device.type,dp1:t.settings.dp1,dp1Repository:new n.DP1CookieRepository,dp2:t.settings.dp2,dp3:t.settings.dp3,dP4Factory:new s.DP4Factory(t.environment.client.browser.family,i.Utils.toIDp4Config(t.settings.dp4)),fullViewability:t.settings.enable_full_viewability})}(t.FormatControllerFactory||(t.FormatControllerFactory={})).build=function(e,t,r,n,i,o){var a,s=new A.ClosePlayerButtonView,i=new R.WaterfallManager(e.waterfalls,i,new I.BidObserverFactory(o)),c=new O.AdFinder(i,o),d=function(e,t){var r;t=t===u.Constants.ParentNetwork.SHOW_HEROES?(r=l.AdLogoView.buildShowHeroesView(),h.AdProgressBarView.buildShowHeroesView()):(r=l.AdLogoView.buildViralizeView(),h.AdProgressBarView.buildViralizeView());return{closePlayerButton:e,clickCover:new b.ClickCoverView,adProgressBar:t,logo:r,adPlayButton:new f.AdPlayButtonView,adMuteButton:new p.AdMuteButtonView,social:new v.SocialView,playerBackground:new E.PlayerBackgroundView}}(s,e.environment.publisher.parent_network);switch(e.environment.zone.controller){case u.Constants.ControllerType.INTEXT:return a=new w.PlayerSkinPresenterFactory(k(s),S.IntextPlayerSkinConfigFactory.build(e)),new T.IntextFormatController({observer:t,analyticsFactory:o,viewabilityEvaluator:r,adPlaybackControllerFactory:B(n,e,new y.IntextAdSkinConfigFactory(e)),adFinder:c,playerSkinPresenterFactory:a,adView:d});case u.Constants.ControllerType.INSTREAM:return a=new w.PlayerSkinPresenterFactory(k(s),_.DefaultPlayerSkinConfigFactory.build(e)),new C.InstreamFormatController({observer:t,analyticsFactory:o,viewabilityEvaluator:r,adPlaybackControllerFactory:B(n,e,new m.InstreamAdSkinConfigFactory(e)),adFinder:c,playerSkinPresenterFactory:a,adView:d});case u.Constants.ControllerType.OVERLAY:return a=new w.PlayerSkinPresenterFactory(k(s),_.DefaultPlayerSkinConfigFactory.build(e)),new P.OverlayFormatController({observer:t,analyticsFactory:o,viewabilityEvaluator:r,adPlaybackControllerFactory:B(n,e,new g.OverlayAdSkinConfigFactory(e)),adFinder:c,playerSkinPresenterFactory:a,adView:d});default:throw new Error("Unknown controller: "+e.environment.zone.controller)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DP1CookieRepository=void 0;var n=r(3),r=(i.prototype.setAlreadyApplied=function(){n.Utils.setCookieExpiringTomorrow(i.DP1_COOKIE_NAME,"1")},i.prototype.isAlreadyApplied=function(){return null!=n.Utils.getCookie(i.DP1_COOKIE_NAME)},i.DP1_COOKIE_NAME="click",i);function i(){}t.DP1CookieRepository=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdLogoView=void 0;var n,i=r(0),r=r(11),i=(n=r.DisplayableComponent,i.__extends(o,n),o.buildViralizeView=function(){return new o(o.VIRALIZE_BLOCK_MODIFIER_CLASS,o.VIRALIZE_HOMEPAGE_URL)},o.buildShowHeroesView=function(){return new o(o.SHOW_HEROES_BLOCK_MODIFIER_CLASS,o.SHOW_HEROES_HOMEPAGE_URL)},o.prototype.getComponentElement=function(){return document.getElementById(o.LOGO_ID)},o.LOGO_ID="js-vr-ad-logo",o.LOGO_CLASS="vr-ad-logo",o.SHOW_HEROES_BLOCK_MODIFIER_CLASS="vr-ad-logo--showheroes",o.VIRALIZE_BLOCK_MODIFIER_CLASS="vr-ad-logo--viralize",o.SHOW_HEROES_HOMEPAGE_URL="https://showheroes.com/",o.VIRALIZE_HOMEPAGE_URL="https://viralize.com/",o);function o(e,t){var r=n.call(this,o.LOGO_CLASS)||this;return r.logoLink=r.getComponentElement(),r.element.classList.add(e),r.logoLink.href=t,r}t.AdLogoView=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdMuteButtonView=void 0;var n,i=r(0),o=r(12),r=r(11),i=(n=r.DisplayableComponent,i.__extends(a,n),a.prototype.setObserver=function(e){this.observer=e},a.prototype.setMutedState=function(){this.muted=!0,this.button.classList.add(a.MUTED_CLASS),this.button.classList.remove(a.UNMUTED_CLASS)},a.prototype.setUnmutedState=function(){this.muted=!1,this.button.classList.add(a.UNMUTED_CLASS),this.button.classList.remove(a.MUTED_CLASS)},a.prototype.show=function(){this.listenToClick(),n.prototype.show.call(this)},a.prototype.hide=function(){n.prototype.hide.call(this),this.stateEventManager.off()},a.prototype.getComponentElement=function(){return document.getElementById(a.BUTTON_ID)},a.prototype.listenToClick=function(){var t=this;this.stateEventManager.off(),this.stateEventManager.on("click",function(){var e;t.muted?null!==(e=t.observer)&&void 0!==e&&e.onUnmuteClicked():null!==(e=t.observer)&&void 0!==e&&e.onMuteClicked()})},a.BUTTON_ID="js-vr-ad-controls__mute",a.BUTTON_CLASS="vr-ad-controls__mute",a.MUTED_SUFFIX="--muted",a.UNMUTED_SUFFIX="--unmuted",a.MUTED_CLASS=a.BUTTON_CLASS+a.MUTED_SUFFIX,a.UNMUTED_CLASS=a.BUTTON_CLASS+a.UNMUTED_SUFFIX,a);function a(){var e=n.call(this,a.BUTTON_CLASS)||this;return e.button=e.getComponentElement(),e.stateEventManager=new o.DomEventManager(e.button),e.setMutedState(),e}t.AdMuteButtonView=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdPlayButtonView=void 0;var n,i=r(0),o=r(12),a=r(11),s=r(21),i=(n=a.DisplayableComponent,i.__extends(c,n),c.prototype.setObserver=function(e){this.observer=e},c.prototype.setPlayingState=function(){this.playing=!0,this.button.classList.remove(c.PAUSED_CLASS),this.button.classList.add(c.PLAYING_CLASS)},c.prototype.setPausedState=function(){this.playing=!1,this.button.classList.remove(c.PLAYING_CLASS),this.button.classList.add(c.PAUSED_CLASS)},c.prototype.show=function(){this.listenToClick(),n.prototype.show.call(this)},c.prototype.hide=function(){n.prototype.hide.call(this),this.buttonEventManager.off()},c.prototype.enableShowOnHover=function(){var e=this;this.hide(),this.playerEventManager.off(),this.playerEventManager.on("mouseenter",function(){e.show()}),this.playerEventManager.on("mouseleave",function(){e.hide()})},c.prototype.disableShowOnHover=function(){this.playerEventManager.off()},c.prototype.getComponentElement=function(){return document.getElementById(c.BUTTON_ID)},c.prototype.listenToClick=function(){var t=this;this.buttonEventManager.off(),this.buttonEventManager.on("click",function(){var e;t.playing?null!==(e=t.observer)&&void 0!==e&&e.onPauseClicked():null!==(e=t.observer)&&void 0!==e&&e.onPlayClicked()})},c.prototype.getPlayerElement=function(){return document.getElementById(s.ViewConstants.PLAYER_ID)},c.BUTTON_ID="js-vr-ad-controls__play",c.BUTTON_CLASS="vr-ad-controls__play",c.PLAYING_SUFFIX="--playing",c.PAUSED_SUFFIX="--paused",c.PLAYING_CLASS=c.BUTTON_CLASS+c.PLAYING_SUFFIX,c.PAUSED_CLASS=c.BUTTON_CLASS+c.PAUSED_SUFFIX,c);function c(){var e=n.call(this,c.BUTTON_CLASS)||this;return e.button=e.getComponentElement(),e.playerEventManager=new o.DomEventManager(e.getPlayerElement()),e.buttonEventManager=new o.DomEventManager(e.button),e.setPausedState(),e}t.AdPlayButtonView=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdProgressBarView=void 0;var n,i=r(0),r=r(11),i=(n=r.DisplayableComponent,i.__extends(o,n),o.buildViralizeView=function(){return new o(o.VIRALIZE_START_COLOR,o.VIRALIZE_END_COLOR)},o.buildShowHeroesView=function(){return new o(o.SHOW_HEROES_START_COLOR,o.SHOW_HEROES_END_COLOR)},o.prototype.setProgress=function(e){var t;e<0?this.setProgress(0):100<e?this.setProgress(100):(t=this.evaluateCurrentColor(e),this.progressBarValueElement.style.width=e+"%",this.progressBarValueElement.style.background="linear-gradient(to right, "+this.startColor+", "+t+")")},o.prototype.getComponentElement=function(){return document.getElementById(o.AD_PROGRESS_BAR_ID)},o.prototype.getAdProgressBarValue=function(){return document.getElementById(o.AD_PROGRESS_BAR_VALUE_ID)},o.prototype.evaluateCurrentColor=function(e){return"#"+this.getHexBetween(this.startColor.substr(1,2),this.endColor.substr(1,2),e)+this.getHexBetween(this.startColor.substr(3,2),this.endColor.substr(3,2),e)+this.getHexBetween(this.startColor.substr(5,2),this.endColor.substr(5,2),e)},o.prototype.getHexBetween=function(e,t,r){e=this.hexToByte(e),t=this.hexToByte(t)-e,r=Math.floor(t*r/100);return this.byteToHex(e+r).padStart(2,"0")},o.prototype.hexToByte=function(e){return parseInt(e,16)},o.prototype.byteToHex=function(e){return e.toString(16)},o.AD_PROGRESS_BAR_CLASS="vr-ad-progressbar",o.AD_PROGRESS_BAR_ID="js-vr-ad-progressbar",o.AD_PROGRESS_BAR_VALUE_ID="js-vr-ad-progressbar__value",o.VIRALIZE_START_COLOR="#ff0066",o.VIRALIZE_END_COLOR="#7f0066",o.SHOW_HEROES_START_COLOR="#4dd6a3",o.SHOW_HEROES_END_COLOR="#28363d",o);function o(e,t){var r=n.call(this,o.AD_PROGRESS_BAR_CLASS)||this;return r.progressBarValueElement=r.getAdProgressBarValue(),r.startColor=e,r.endColor=t,r}t.AdProgressBarView=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocialView=void 0;var n,i=r(0),o=r(12),r=r(11),i=(n=r.DisplayableComponent,i.__extends(a,n),a.prototype.setObserver=function(e){this.observer=e},a.prototype.setUrls=function(e){var r=this,n=a.FB_PREFIX+e;this.fbBtn.href=n,this.fbEventManager.off(),this.fbEventManager.on("click",function(e){var t;window.open(n,a.FB_WINDOW_TITLE,r.getWindowOptions()),null!==(t=r.observer)&&void 0!==t&&t.onSocialButtonClicked("facebook"),e.preventDefault()});var i=a.TWITTER_PREFIX+e;this.twitterBtn.href=i,this.twitterEventManager.off(),this.twitterEventManager.on("click",function(e){var t;window.open(i,a.TWITTER_WINDOW_TITLE,r.getWindowOptions()),null!==(t=r.observer)&&void 0!==t&&t.onSocialButtonClicked("twitter"),e.preventDefault()})},a.prototype.unsetUrls=function(){this.fbBtn.href=a.EMPTY_URL,this.fbEventManager.off(),this.twitterBtn.href=a.EMPTY_URL,this.twitterEventManager.off()},a.prototype.getComponentElement=function(){return document.getElementById(a.SOCIAL_ID)},a.prototype.getWindowOptions=function(){var e=(window.innerWidth-a.POPUP_WIDTH)/2,t=(window.innerHeight-a.POPUP_HEIGHT)/2;return"status=1,width="+a.POPUP_WIDTH+",height="+a.POPUP_HEIGHT+",top="+t+",left="+e},a.POPUP_WIDTH=575,a.POPUP_HEIGHT=400,a.FB_WINDOW_TITLE="facebook",a.TWITTER_WINDOW_TITLE="twitter",a.SOCIAL_ID="js-vr-social",a.SOCIAL_CLASS="vr-social",a.FB_LINK_ID="js-vr-fb-share",a.TWITTER_LINK_ID="js-vr-tw-share",a.EMPTY_URL="#",a.FB_PREFIX="http://www.facebook.com/share.php?u=",a.TWITTER_PREFIX="http://twitter.com/share?url=",a);function a(){var e=n.call(this,a.SOCIAL_CLASS)||this;return e.fbBtn=document.getElementById(a.FB_LINK_ID),e.fbEventManager=new o.DomEventManager(e.fbBtn),e.twitterBtn=document.getElementById(a.TWITTER_LINK_ID),e.twitterEventManager=new o.DomEventManager(e.twitterBtn),e}t.SocialView=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstreamAdSkinConfigFactory=void 0;var n,i=r(0),r=r(26),i=(n=r.DefaultAdSkinConfigFactory,i.__extends(o,n),o.prototype.build=function(e,t,r){return{closePlayerButtonPosition:this.config.settings.skip_position,closePlayerButtonText:this.config.settings.skip_text,showClosePlayerButton:2,closePlayerButtonDelay:-1,showProgressBar:!1,showLogo:!1,showMuteButton:!1,showPlayButton:2,enableClickCover:e,shareUrl:r,backgroundColor:"transparent",enableClosePhantomClick:!1}},o);function o(e){return n.call(this,e)||this}t.InstreamAdSkinConfigFactory=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntextAdSkinConfigFactory=void 0;var n,i=r(0),r=r(26),i=(n=r.DefaultAdSkinConfigFactory,i.__extends(o,n),o.prototype.evalShowClosePlayerButton=function(){return 1<this.config.extra.session_counter?0:-1===this.config.settings.skip_delay?2:1},o);function o(e){return n.call(this,e)||this}t.IntextAdSkinConfigFactory=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayAdSkinConfigFactory=void 0;var n,i=r(0),r=r(26),i=(n=r.DefaultAdSkinConfigFactory,i.__extends(o,n),o.prototype.evalShowProgressBar=function(){return this.config.settings.enable_ad_progressbar&&this.config.settings.enable_inplayer_branding},o.prototype.evalShowLogo=function(){return this.config.settings.enable_branding&&this.config.settings.enable_inplayer_branding},o.prototype.evalShowClosePlayerButton=function(){if(this.config.settings.enable_inplayer_skip){if(1<this.config.extra.session_counter)return 0;if(0<=this.config.settings.skip_delay)return 1}return 2},o);function o(e){return n.call(this,e)||this}t.OverlayAdSkinConfigFactory=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClickCoverView=void 0;var n=r(12),r=(i.prototype.init=function(e){this.coverClickManager.off(),this.coverClickManager.on("click",function(){e.onCoverClicked()}),this.enable()},i.prototype.clean=function(){this.disable(),this.coverClickManager.off()},i.prototype.enable=function(){this.coverElement.classList.add(i.ENABLED_CLASS)},i.prototype.disable=function(){this.coverElement.classList.remove(i.ENABLED_CLASS)},i.prototype.getCover=function(){return document.getElementById(i.COVER_ID)},i.COVER_ID="js-vr-click-cover",i.ENABLED_CLASS="vr-click-cover--enable",i);function i(){this.coverElement=this.getCover(),this.coverClickManager=new n.DomEventManager(this.coverElement)}t.ClickCoverView=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClosePlayerButtonView=void 0;var n,i=r(0),o=r(1),a=r(12),r=r(11),i=(n=r.DisplayableComponent,i.__extends(s,n),s.prototype.show=function(){this.listenToClick(),n.prototype.show.call(this)},s.prototype.hide=function(){n.prototype.hide.call(this),this.closeEventManager.off()},s.prototype.setObserver=function(e){this.observer=e},s.prototype.setText=function(e){null==e||""===e?(this.textContainer.textContent="",this.closeButtonContainer.classList.remove(s.WITH_TEXT_CLASS)):(this.textContainer.textContent=e,this.closeButtonContainer.classList.add(s.WITH_TEXT_CLASS))},s.prototype.setPosition=function(e){var t=this;Object.values(o.Constants.Position).forEach(function(e){e=t.evaluatePositionClass(e);t.closeButtonContainer.classList.remove(e)}),this.closeButtonContainer.classList.add(this.evaluatePositionClass(e))},s.prototype.enablePhantomClick=function(){this.closeButtonContainer.classList.add(s.PHANTOM_CLICK_CLASS)},s.prototype.disablePhantomClick=function(){this.closeButtonContainer.classList.remove(s.PHANTOM_CLICK_CLASS)},s.prototype.getComponentElement=function(){return document.getElementById(s.CLOSE_BUTTON_ID)},s.prototype.listenToClick=function(){var t=this;this.closeEventManager.off(),this.closeEventManager.on("click",function(){var e;null!==(e=t.observer)&&void 0!==e&&e.onClosePlayerClicked()})},s.prototype.evaluatePositionClass=function(e){return s.CLOSE_BUTTON_CLASS+"--"+e},s.prototype.getTextContainer=function(){return document.getElementById(s.TEXT_CONTAINER_ID)},s.CLOSE_BUTTON_ID="js-vr-close",s.CLOSE_BUTTON_CLASS="vr-close",s.TEXT_CONTAINER_ID="js-vr-close__text",s.WITH_TEXT_CLASS="vr-close--with-text",s.PHANTOM_CLICK_CLASS="vr-close--block",s);function s(){var e=n.call(this,s.CLOSE_BUTTON_CLASS)||this;return e.closeButtonContainer=e.getComponentElement(),e.textContainer=e.getTextContainer(),e.closeEventManager=new a.DomEventManager(e.closeButtonContainer),e.setPosition(o.Constants.Position.TOP_LEFT),e.setText(),e}t.ClosePlayerButtonView=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerBackgroundView=void 0;var n=r(21),r=(i.prototype.setColor=function(e){this.player.style.backgroundColor=e},i.prototype.resetToDefault=function(){this.player.style.backgroundColor=""},i);function i(){this.player=document.getElementById(n.ViewConstants.PLAYER_ID)}t.PlayerBackgroundView=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoaderSpinnerView=void 0;var n,i=r(0),r=r(11),i=(n=r.DisplayableComponent,i.__extends(o,n),o.prototype.getComponentElement=function(){return document.getElementById(o.LOADER_ID)},o.LOADER_ID="js-vr-loader",o.LOADER_CLASS="vr-loader",o);function o(){return n.call(this,o.LOADER_CLASS)||this}t.LoaderSpinnerView=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultPlayerSkinConfigFactory=void 0,t.DefaultPlayerSkinConfigFactory={build:function(e){return{closePlayerButtonPosition:e.settings.skip_position,closePlayerButtonText:e.settings.skip_text,showClosePlayerButton:!1}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntextPlayerSkinConfigFactory=void 0,t.IntextPlayerSkinConfigFactory={build:function(e){return{closePlayerButtonPosition:e.settings.skip_position,closePlayerButtonText:e.settings.skip_text,showClosePlayerButton:1<e.extra.session_counter}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerSkinPresenterFactory=void 0;var n=r(140),r=(i.prototype.buildPlayerSkinPresenter=function(e){e=new n.PlayerSkinPresenter(this.playerView,e);return e.configureSkin(this.skinConfig),e},i);function i(e,t){this.playerView=e,this.skinConfig=t}t.PlayerSkinPresenterFactory=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerSkinPresenter=void 0;var n=(i.prototype.configureSkin=function(e){this.view.loaderSpinner.hide(),this.view.closePlayerButton.setObserver(this),this.view.closePlayerButton.setPosition(e.closePlayerButtonPosition),this.view.closePlayerButton.setText(e.closePlayerButtonText),e.showClosePlayerButton?this.view.closePlayerButton.show():this.view.closePlayerButton.hide()},i.prototype.disableSkin=function(){this.view.loaderSpinner.hide(),this.view.closePlayerButton.hide()},i.prototype.notifyPlayerLoading=function(){this.view.loaderSpinner.show()},i.prototype.notifyPlayerRunning=function(){this.view.loaderSpinner.hide()},i.prototype.onClosePlayerClicked=function(){this.model.closePlayerRequested()},i);function i(e,t){this.view=e,this.model=t}t.PlayerSkinPresenter=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdPlaybackControllerFactory=void 0;var n=r(0),i=r(142),r=(o.prototype.newInstance=function(e){return new i.AdPlaybackController(n.__assign(n.__assign({},this.config),{controllerObserver:e}))},o);function o(e){this.config=e}t.AdPlaybackControllerFactory=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdPlaybackController=void 0;var n=r(4),i=r(1),n=(new n.Console("AdPlaybackController"),o.prototype.abort=function(){var e;this.playerStarted||(null!==(e=this.player)&&void 0!==e&&e.abort(),this.controllerObserver.notifyAdStartAborted())},o.prototype.start=function(e,t){var r=this;return this.playerStarted=!1,(this.player=e).addObserver(this),this.player.runAd().then(function(e){return r.initAdSkin(e,t),r.playerStarted=!0,r.adInfo=e})},o.prototype.shown=function(){this.playerStarted&&(this.mustCheckForFullViewability=this.isFullViewabilityEnabled())},o.prototype.hidden=function(){this.playerStarted&&(this.currentDP4PlaybackRate=this.dp4.playbackRateOnHidden,this.checkAndToggleDP4(),this.mustCheckForFullViewability=!1)},o.prototype.notifyImpression=function(e,t){this.iabViewabilityEvaluator.start(),this.dp4=this.dP4Factory.get(t.getDp4()),this.currentDP4PlaybackRate=this.dp4.playbackRateOnMuted,this.checkAndToggleDP4(),this.controllerObserver.notifyImpression()},o.prototype.notifyComplete=function(e){this.phantomCloseOccurred||(this.iabViewabilityEvaluator.stop(),this.controllerObserver.notifyComplete())},o.prototype.notifySkip=function(e){this.iabViewabilityEvaluator.stop(),this.controllerObserver.notifySkip()},o.prototype.notifyEnded=function(){this.controllerObserver.notifyAdPlayerEnded(),this.controllerObserver.notifyAdPlayerRemovable()},o.prototype.notifyClick=function(e){this.isDp1Enabled()&&this.dp1Repository.setAlreadyApplied(),this.controllerObserver.notifyClick()},o.prototype.notifyMuted=function(e){this.checkAndToggleDP4(),this.controllerObserver.notifyMuted()},o.prototype.notifyUnmuted=function(e){this.checkAndToggleDP4(),this.controllerObserver.notifyUnmuted()},o.prototype.notifyPaused=function(e){this.controllerObserver.notifyPaused()},o.prototype.notifyResumed=function(e){this.controllerObserver.notifyResumed()},o.prototype.notifyProgress=function(e){this.controllerObserver.notifyProgress(e)},o.prototype.notifyDurationChange=function(e,t){this.controllerObserver.notifyDurationChange(t)},o.prototype.notifyFirstQuartile=function(e){this.controllerObserver.notifyFirstQuartile()},o.prototype.notifyMidPoint=function(e){this.controllerObserver.notifyMidPoint()},o.prototype.notifyThirdQuartile=function(e){this.controllerObserver.notifyThirdQuartile()},o.prototype.notifyError=function(e,t){this.controllerObserver.notifyError(t)},o.prototype.openLandingPage=function(){var e;null!==(e=this.player)&&void 0!==e&&e.openLandingPage()},o.prototype.mute=function(){var e;null!==(e=this.player)&&void 0!==e&&e.mute()},o.prototype.unmute=function(){var e;null!==(e=this.player)&&void 0!==e&&e.unmute()},o.prototype.play=function(){var e;this.pausedByUser=!1,null!==(e=this.player)&&void 0!==e&&e.play()},o.prototype.pause=function(){var e;this.pausedByUser=!0,null!==(e=this.player)&&void 0!==e&&e.pause()},o.prototype.closePlayerRequested=function(){var e;this.isPhantomCloseEnabled()?(this.phantomCloseOccurred=!0,null!==(e=this.player)&&void 0!==e&&e.mute(),this.iabViewabilityEvaluator.stop()):null!==(e=this.player)&&void 0!==e&&e.skipAd(),this.controllerObserver.notifySkip(),this.controllerObserver.notifyAdPlayerEnded()},o.prototype.notifySocialButtonClicked=function(e){var t;null!==(t=this.player)&&void 0!==t&&t.notifyShareOnSocial(e)},o.prototype.notifyViewability=function(e){var t,r;this.mustCheckForFullViewability&&(this.pausedByUser||(e.focus&&50<=e.perc?null!==(t=this.player)&&void 0!==t&&t.play():(!e.focus||e.perc<50)&&null!==(r=this.player)&&void 0!==r&&r.pause()))},o.prototype.initAdSkin=function(e,t){this.adSkinConfigFactory.setClosePhantomClick(this.isDp1Enabled());e=e.getAdCustomSkinConfig();t.configureSkin(this.adSkinConfigFactory.build(e.enableClickCover,e.uiExt,e.shareUrl))},o.prototype.isDp1Enabled=function(){return this.dp1EnabledIfPossible&&!this.dp1Repository.isAlreadyApplied()},o.prototype.isPhantomCloseEnabled=function(){return!this.isFullViewabilityEnabled()&&this.phantomCloseEnabledInConfig},o.prototype.isPhantomCloseEnabledInConfig=function(e,t,r){return t&&e!==i.Constants.DeviceType.DESKTOP||r&&e===i.Constants.DeviceType.DESKTOP},o.prototype.isFullViewabilityEnabled=function(){var e;return Boolean(null===(e=this.adInfo)||void 0===e?void 0:e.requiresFullViewability()).valueOf()||this.unitRequiresFullViewability},o.prototype.checkAndToggleDP4=function(){null!=this.player&&this.dp4.isActive&&(!this.player.isMuted()?this.player.setPlaybackRate(1):(this.player.setPlaybackRate(this.currentDP4PlaybackRate),this.currentDP4PlaybackRate))},o);function o(e){this.controllerObserver=e.controllerObserver,this.iabViewabilityEvaluator=e.iabViewabilityEvaluator,this.adSkinConfigFactory=e.adSkinConfigFactory,this.dp1EnabledIfPossible=Math.random()<e.dp1,this.dp1Repository=e.dp1Repository,this.phantomCloseEnabledInConfig=this.isPhantomCloseEnabledInConfig(e.deviceType,e.dp2,e.dp3),this.dP4Factory=e.dP4Factory,this.unitRequiresFullViewability=e.fullViewability,this.playerStarted=!1,this.phantomCloseOccurred=!1,this.dp4=this.dP4Factory.get(),this.currentDP4PlaybackRate=this.dp4.playbackRateOnMuted,this.pausedByUser=!1,this.mustCheckForFullViewability=!1}t.AdPlaybackController=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BidObserverFactory=void 0;var n=r(144),r=(i.prototype.getBidObservers=function(e,t){var r=[this.analyticsFactory.buildVastBidTracker(),new n.VPTBidObserver];return"dvast"!==e.origin&&null!=e.gcid&&r.push(this.analyticsFactory.buildViralizeBidTracker(e.gcid,t)),r},i);function i(e){this.analyticsFactory=e}t.BidObserverFactory=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VPTBidObserver=void 0;var n=(i.prototype.notifyBidError=function(e){null!=window.vpt&&window.vptEmitter(window.vpt.EVENTS.ERROR,{error:{code:e.code}})},i);function i(){}t.VPTBidObserver=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstreamFormatController=void 0;var n,i=r(0),r=r(27),i=(n=r.StandaloneFormatController,i.__extends(o,n),o);function o(e){return n.call(this,e)||this}t.InstreamFormatController=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdSkinPresenter=void 0;var n=(i.prototype.configureSkin=function(e){this.configureClosePlayerButton(e),this.configureClickCover(e),this.configureProgressBar(e),this.configureLogo(e),this.configurePlayButton(e),this.configureMuteButton(e),this.configureSocial(e),this.configureBackgroundColor(e)},i.prototype.disableSkin=function(){this.view.closePlayerButton.hide(),this.view.closePlayerButton.disablePhantomClick(),this.view.clickCover.clean(),this.view.adProgressBar.hide(),this.view.logo.hide(),this.view.adPlayButton.disableShowOnHover(),this.view.adPlayButton.hide(),this.view.adMuteButton.hide(),this.view.social.hide(),this.view.social.unsetUrls(),this.view.playerBackground.resetToDefault()},i.prototype.onCoverClicked=function(){this.model.openLandingPage()},i.prototype.onPlayClicked=function(){this.model.play()},i.prototype.onPauseClicked=function(){this.model.pause()},i.prototype.onMuteClicked=function(){this.model.mute()},i.prototype.onUnmuteClicked=function(){this.model.unmute()},i.prototype.onSocialButtonClicked=function(e){this.model.notifySocialButtonClicked(e)},i.prototype.onClosePlayerClicked=function(){this.model.closePlayerRequested()},i.prototype.notifyDurationChange=function(e,t){this.adDuration=t,this.updateAdProgressBar()},i.prototype.notifyProgress=function(e){this.adElapsedTime=e,null!=this.closePlayerButtonDelay&&e>=this.closePlayerButtonDelay&&(this.closePlayerButtonDelay=void 0,this.view.closePlayerButton.show()),this.updateAdProgressBar()},i.prototype.notifyPlay=function(){this.view.adPlayButton.setPlayingState()},i.prototype.notifyResumed=function(){this.view.adPlayButton.setPlayingState()},i.prototype.notifyPaused=function(){this.view.adPlayButton.setPausedState()},i.prototype.notifyMuted=function(){this.view.adMuteButton.setMutedState()},i.prototype.notifyUnmuted=function(){this.view.adMuteButton.setUnmutedState()},i.prototype.notifyClick=function(){this.closePhantomClickEnabled&&(this.closePhantomClickEnabled=!1,this.view.closePlayerButton.disablePhantomClick())},i.prototype.notifyEnded=function(){this.disableSkin()},i.prototype.notifySkip=function(){this.disableSkin()},i.prototype.notifyError=function(){this.disableSkin()},i.prototype.configureClosePlayerButton=function(e){this.closePlayerButtonDelay=void 0,this.view.closePlayerButton.setPosition(e.closePlayerButtonPosition),this.view.closePlayerButton.setText(e.closePlayerButtonText),this.view.closePlayerButton.setObserver(this),0===e.showClosePlayerButton?this.view.closePlayerButton.show():(1===e.showClosePlayerButton&&(this.closePlayerButtonDelay=e.closePlayerButtonDelay),this.view.closePlayerButton.hide()),this.closePhantomClickEnabled=e.enableClosePhantomClick,this.closePhantomClickEnabled?this.view.closePlayerButton.enablePhantomClick():this.view.closePlayerButton.disablePhantomClick()},i.prototype.configureClickCover=function(e){e.enableClickCover&&this.view.clickCover.init(this)},i.prototype.configureProgressBar=function(e){e.showProgressBar?(this.view.adProgressBar.setProgress(0),this.view.adProgressBar.show()):this.view.adProgressBar.hide()},i.prototype.configureLogo=function(e){this.view.logo.hide()},i.prototype.configureBackgroundColor=function(e){null!=e.backgroundColor?this.view.playerBackground.setColor(e.backgroundColor):this.view.playerBackground.resetToDefault()},i.prototype.configureSocial=function(e){null!=e.shareUrl&&(this.view.social.setObserver(this),this.view.social.setUrls(e.shareUrl),this.view.social.show())},i.prototype.configureMuteButton=function(e){this.view.adMuteButton.setMutedState(),this.view.adMuteButton.setObserver(this),e.showMuteButton?this.view.adMuteButton.show():this.view.adMuteButton.hide()},i.prototype.configurePlayButton=function(e){this.view.adPlayButton.disableShowOnHover(),this.view.adPlayButton.setPlayingState(),this.view.adPlayButton.setObserver(this),0===e.showPlayButton?this.view.adPlayButton.show():1===e.showPlayButton?this.view.adPlayButton.enableShowOnHover():this.view.adPlayButton.hide()},i.prototype.updateAdProgressBar=function(){var e=null!=this.adDuration?this.adElapsedTime/this.adDuration*100:0;this.view.adProgressBar.setProgress(e)},i);function i(e,t){this.view=e,this.model=t,this.adElapsedTime=0,this.closePhantomClickEnabled=!1}t.AdSkinPresenter=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Activable=void 0;var n=r(14),r=(i.prototype.activate=function(){this.activateDeferred.resolve()},i.prototype.waitForActivation=function(){return this.activateDeferred.promise},i);function i(){this.activateDeferred=new n.Deferred}t.Activable=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntextFormatController=void 0;var n,i=r(0),o=r(36),r=r(27),i=(n=r.StandaloneFormatController,i.__extends(a,n),a);function a(e){var t=n.call(this,e)||this;return t.waitForActivation().then(function(){t.analytics.track(o.PlayerEventName.DROPPABLE)}).catch(),t}t.IntextFormatController=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayFormatController=void 0;var n,i=r(0),r=r(27),i=(n=r.StandaloneFormatController,i.__extends(o,n),o);function o(e){return n.call(this,e)||this}t.OverlayFormatController=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdFinder=void 0;var i=r(151),r=(n.prototype.hasPreroll=function(){return this.waterfallManager.hasPreroll()},n.prototype.getNextPrerollPlayer=function(e){return null==this.activeRunner&&(this.activeRunner=this.waterfallManager.getPrerollRunner(),null==this.activeRunner)?Promise.reject():this.processWaterfall(this.activeRunner,e)},n.prototype.abort=function(){var e;null!==(e=this.activeRunner)&&void 0!==e&&e.abort(),null!==(e=this.activePlayer)&&void 0!==e&&e.abort()},n.prototype.processWaterfall=function(r,n){var i=this;return r.getNextAdPlayer().then(function(e){var t=e.player;return i.activePlayer=t,i.configResultPlayer(e,n),t.load({startMuted:!0}).then(function(){return t}).catch(function(){return t.removeAllObservers(),i.activePlayer=void 0,i.processWaterfall(r,n)})})},n.prototype.configResultPlayer=function(e,t){var r=e.waterfallEntry.originalSource.gcid,n=e.waterfallEntry.waterfallPosition,e=e.player;e.addObserver(t),e.addObserver(this.analyticsFactory.buildCustomCallbacksTracker()),e.addObserver(new i.VPTPlayerObserver(r)),null!=r&&e.addObserver(this.analyticsFactory.buildViralizePlaybackTracker(r,n))},n);function n(e,t){this.waterfallManager=e,this.analyticsFactory=t}t.AdFinder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VPTPlayerObserver=void 0;var n=(i.prototype.notifyImpression=function(e,t){var r,n;null!=window.vpt&&(t={creativity:{id:null!=(n=t.getCreativityId())?n:"unknown",itemId:null!==(n=null!==(r=this.gcid)&&void 0!==r?r:n)&&void 0!==n?n:"direct"},unit:{width:t.getDimensions().width,height:t.getDimensions().height}},window.vptEmitter(window.vpt.EVENTS.AD_IMPRESSION,t))},i.prototype.notifyPlay=function(e){null!=window.vpt&&window.vptEmitter(window.vpt.EVENTS.START)},i.prototype.notifyFirstQuartile=function(e){null!=window.vpt&&window.vptEmitter(window.vpt.EVENTS.FIRST_QUARTILE)},i.prototype.notifyMidPoint=function(e){null!=window.vpt&&window.vptEmitter(window.vpt.EVENTS.MID_POINT)},i.prototype.notifyThirdQuartile=function(e){null!=window.vpt&&window.vptEmitter(window.vpt.EVENTS.THIRD_QUARTILE)},i.prototype.notifyComplete=function(e){null!=window.vpt&&window.vptEmitter(window.vpt.EVENTS.COMPLETE)},i.prototype.notifyClick=function(e){null!=window.vpt&&window.vptEmitter(window.vpt.EVENTS.CLICK)},i.prototype.notifySkip=function(e){null!=window.vpt&&window.vptEmitter(window.vpt.EVENTS.SKIP)},i.prototype.notifyError=function(e,t){null!=window.vpt&&window.vptEmitter(window.vpt.EVENTS.ERROR,{error:{code:t.code}})},i);function i(e){this.gcid=e}t.VPTPlayerObserver=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WaterfallManager=void 0;var n=r(153),r=(i.prototype.hasPreroll=function(){return null!=this.waterfalls.preroll},i.prototype.hasMidroll=function(){return null!=this.waterfalls.midrolls&&0<this.waterfalls.midrolls.length},i.prototype.getPrerollRunner=function(){if(this.hasPreroll()){var e=new n.WaterfallRunner(this.waterfalls.preroll,this.loaderFactory,this.bidObserverFactory);return this.waterfalls.preroll=void 0,e}},i.prototype.getMidrollRunner=function(){throw new Error("Method not implemented.")},i);function i(e,t,r){var n=this;this.loaderFactory=t,this.bidObserverFactory=r,this.waterfalls={preroll:void 0,midrolls:[]},e.forEach(function(e){null===e.type||"preroll"===e.type?n.waterfalls.preroll=e:"midroll"===e.type&&n.waterfalls.midrolls.push(e)})}t.WaterfallManager=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WaterfallRunner=void 0;var n=r(4),d=r(37),u=r(154),l=r(155),p=r(156),f=r(40),n=(new n.Console("WaterfallRunner"),i.prototype.getNextAdPlayer=function(){return this.executor.getNextResult()},i.prototype.abort=function(){this.executor.abort()},i);function i(e,r,n){for(var i=new u.OnDemandExecutor.Builder,o=1,t=0,a=e.sources;t<a.length;t++){var s=a[t];try{for(var c=0;c<s.max_request_attempts;c+=1)!function(){var e=r.fromSource(s,o),t=f.LoaderUtils.isPrebid(s)?new p.PrebidBidJob(s,o,e,r.getPrebidClient()):new l.BidJob(e);n.getBidObservers(s,o).forEach(function(e){t.addObserver(e)}),i.addJob(t),o+=1}()}catch(e){if(!(e instanceof d.SourceNotSupported))throw e;s.gcid}}this.executor=i.build(),this.executor.start()}t.WaterfallRunner=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnDemandExecutor=void 0;var n,i=r(83);function o(e){this.running=!1,this.jobs=e}function a(){this.jobs=new i.Queue}r=t.OnDemandExecutor||(t.OnDemandExecutor={}),o.prototype.start=function(){this.running=!0},o.prototype.pause=function(){this.running=!1},o.prototype.abort=function(){this.pause(),null!=this.currentRunningJob&&this.currentRunningJob.abort()},o.prototype.getNextResult=function(){var e=this;return this.running?(this.currentRunningJob=this.jobs.consumeNext(),null==this.currentRunningJob?Promise.reject(new Error("No more jobs to be consumed")):this.currentRunningJob.run().then(function(e){return e.get()}).catch(function(){return e.currentRunningJob=void 0,e.running?e.getNextResult():Promise.reject(new Error("Executor has been paused"))})):Promise.reject(new Error("Start need to be invoked before invoking getNextResult()"))},o.prototype.getNumberOfNotStartedJob=function(){return this.jobs.size()},n=o,a.prototype.addJob=function(e){this.jobs.add(e)},a.prototype.build=function(){var e=new n(this.jobs);return this.jobs=new i.Queue,e},t=a,r.Builder=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BidJob=void 0;var n,i=r(0),o=r(1),a=r(8),s=r(3),c=r(38),d=r(39),i=(n=c.BaseBidJob,i.__extends(u,n),u.prototype.run=function(){var r=this;return this.observers.forEach(function(e){var t;null!==(t=e.notifyInitBidOpportunity)&&void 0!==t&&t.call(e)}),this.loader.run().then(function(n){r.observers.forEach(function(e){var t,r={adSystem:n.adSystem,loader:n.loader,contentType:n.contentType,cpm:n.cpm};null!==(t=e.notifyBidDone)&&void 0!==t&&t.call(e,r)});var t=new d.BidJobResult(n);return r.observers.forEach(function(e){t.addObserver(e)}),t}).catch(function(e){return Promise.reject(r.handleError(e))})},u.prototype.abort=function(){this.loader.abort()},u.prototype.handleError=function(e){var r=s.Utils.toCodedError({error:e,defaultCode:2e4});return this.observers.forEach(function(e){var t;r instanceof a.VastError&&r.code===o.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE?null!==(t=e.notifyBidRejected)&&void 0!==t&&t.call(e,new a.BidRejectedError(r.errorUrls)):null!==(t=e.notifyBidError)&&void 0!==t&&t.call(e,r)}),r},u);function u(e){var t=n.call(this)||this;return t.loader=e,t}t.BidJob=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrebidBidJob=void 0;var o,n=r(0),i=r(4),a=r(1),s=r(9),c=r(8),d=r(3),u=r(38),l=r(39),p=r(157),n=(new i.Console("PrebidBidJob"),o=u.BaseBidJob,n.__extends(f,o),f.prototype.run=function(){var r=this;return this.prebidClient.hasWon(this.source,this.waterfallPosition).then(function(e){if(r.source,r.waterfallPosition,r.aborted)throw r.source,r.waterfallPosition,r.handleError(new s.CodedError(4e4));if(r.hasTimeout)throw r.source,r.waterfallPosition,new p.PrebidSourceError("Prebid source cannot be run, timed out");if(r.hasNoBid)throw r.source,r.waterfallPosition,new p.PrebidSourceError("Prebid source cannot be run, no bid made");if(r.lowCpm)throw r.source,r.waterfallPosition,new p.PrebidSourceError("Prebid source cannot be run, cpm too low");if(!r.bidRequested)throw r.source,r.waterfallPosition,r.handleError(new s.CodedError(90009));if(!e)throw r.source,r.waterfallPosition,r.handleError(new s.CodedError(90008));return r.loader.run().then(function(e){var t=new l.BidJobResult(e);return r.observers.forEach(function(e){t.addObserver(e)}),t}).catch(function(e){return Promise.reject(r.handleError(e))})})},f.prototype.abort=function(){this.aborted=!0,this.loader.abort()},f.prototype.handleError=function(e){this.source,this.waterfallPosition;var r=d.Utils.toCodedError({error:e,defaultCode:2e4});return this.observers.forEach(function(e){var t;r instanceof c.VastError&&r.code===a.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE?null!==(t=e.notifyBidRejected)&&void 0!==t&&t.call(e,new c.BidRejectedError(r.errorUrls)):null!==(t=e.notifyBidError)&&void 0!==t&&t.call(e,r)}),r},f.prototype.handleBidRequested=function(e){this.bidRequested=!0,this.source,this.waterfallPosition,this.observers.forEach(function(e){var t;null!==(t=e.notifyInitBidOpportunity)&&void 0!==t&&t.call(e)})},f.prototype.handleBidResponse=function(n){var i=this;this.source,this.waterfallPosition,this.observers.forEach(function(e){var t,r;null==i.source.min_cpm||n.cpm>=i.source.min_cpm?(r={adSystem:null===(t=i.source.prebid)||void 0===t?void 0:t.bidder,loader:"prebid-video",contentType:"",cpm:{value:n.cpm}},null!==(t=e.notifyBidDone)&&void 0!==t&&t.call(e,r)):(i.lowCpm=!0,null!==(r=e.notifyBidRejected)&&void 0!==r&&r.call(e,new c.BidRejectedError))})},f.prototype.handleBidTimeout=function(e){e&&(this.source,this.waterfallPosition,this.hasTimeout=!0,this.observers.forEach(function(e){var t;null!==(t=e.notifyBidError)&&void 0!==t&&t.call(e,new s.CodedError(a.Constants.TIMEOUTS.ERROR_CODES.REQUEST))}))},f.prototype.handleNoBid=function(e){e&&(this.hasNoBid=!0,this.observers.forEach(function(e){var t;null!==(t=e.notifyBidRejected)&&void 0!==t&&t.call(e,new c.BidRejectedError)}))},f);function f(e,t,r,n){var i=o.call(this)||this;return i.aborted=!1,i.hasNoBid=!1,i.hasTimeout=!1,i.lowCpm=!1,i.bidRequested=!1,i.loader=r,i.prebidClient=n,i.source=e,i.waterfallPosition=t,i.prebidClient.bidRequested(i.source,i.waterfallPosition).then(i.handleBidRequested.bind(i)).catch(),i.prebidClient.bidResponse(i.source,i.waterfallPosition).then(i.handleBidResponse.bind(i)).catch(),i.prebidClient.hasBidTimeout(i.source,i.waterfallPosition).then(i.handleBidTimeout.bind(i)).catch(),i.prebidClient.hasNoBid(i.source,i.waterfallPosition).then(i.handleNoBid.bind(i)).catch(),i}t.PrebidBidJob=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrebidSourceError=void 0;var n,i=r(0),r=r(10),i=(n=r.CustomError,i.__extends(o,n),o);function o(e){return void 0===e&&(e=""),n.call(this,e)||this}t.PrebidSourceError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViralizeMediaVideoPlayer=void 0;var a,n=r(0),i=r(4),o=r(1),s=r(17),c=r(32),d=r(7),u=r(3),l=r(84),p=r(31),f=r(42),h=r(161),v=r(85),m=r(29),n=(new i.Console("ViralizeMediaVideoPlayer"),a=m.AdPlayer,n.__extends(y,a),y.prototype.skipAd=function(){var r=this;this.mediaElementAdapter.pause(),this.cleanUp(),this.observers.forEach(function(e){var t;null!==(t=e.notifySkip)&&void 0!==t&&t.call(e,r.mediaElementAdapter.currentTime)}),this.observers.forEach(function(e){var t;null!==(t=e.notifyEnded)&&void 0!==t&&t.call(e)})},y.prototype.isMuted=function(){return this.mediaElementAdapter.muted},y.prototype.mute=function(){var r=this;this.isAdStarted()&&(this.mediaElementAdapter.muted=!0,this.observers.forEach(function(e){var t;null!==(t=e.notifyMuted)&&void 0!==t&&t.call(e,r.mediaElementAdapter.currentTime)}))},y.prototype.unmute=function(){var r=this;this.isAdStarted()&&(this.mediaElementAdapter.muted=!1,this.observers.forEach(function(e){var t;null!==(t=e.notifyUnmuted)&&void 0!==t&&t.call(e,r.mediaElementAdapter.currentTime)}))},y.prototype.play=function(){var r=this,e=this.mediaElementAdapter.paused;this.mediaElementAdapter.play().then(function(){e&&r.observers.forEach(function(e){var t;null!==(t=e.notifyResumed)&&void 0!==t&&t.call(e,r.mediaElementAdapter.currentTime)})}).catch(function(e){d.Sentry.reportError(new Error("Unable to resume playing: "+e))})},y.prototype.pause=function(){var r=this;this.mediaElementAdapter.paused||(this.mediaElementAdapter.pause(),this.observers.forEach(function(e){var t;null!==(t=e.notifyPaused)&&void 0!==t&&t.call(e,r.mediaElementAdapter.currentTime)}))},y.prototype.setPlaybackRate=function(e){this.mediaElementAdapter.playbackRate=e},y.prototype.openLandingPage=function(){var r=this,e=null===(e=null===(e=this.selectedAd.creative.linear.videoClicks)||void 0===e?void 0:e.clickThrough)||void 0===e?void 0:e.url;null!=e&&window.open(e,"_blank"),this.observers.forEach(function(e){var t;null!==(t=e.notifyClick)&&void 0!==t&&t.call(e,r.mediaElementAdapter.currentTime)}),this.mute()},y.prototype.getDimensions=function(){return{width:this.selectedAd.mediaFile.width,height:this.selectedAd.mediaFile.height}},y.prototype.internalLoad=function(e){var t=this;this.mediaElementAdapter.muted=e.startMuted,this.mediaElementAdapter.onTimeUpdate(function(e){t.notifyTimeUpdate(e)}),this.mediaElementAdapter.onLoadedData(function(){t.observers.forEach(function(e){var t;null!==(t=e.notifyLoadedData)&&void 0!==t&&t.call(e)})}),this.mediaElementAdapter.onDurationChange(function(r){var n=t.mediaElementAdapter.currentTime;t.observers.forEach(function(e){var t;null!==(t=e.notifyDurationChange)&&void 0!==t&&t.call(e,n,r)})});var r=this.loadPlugins();this.loadVerifications();e=this.mediaElementAdapter.loadMedia(this.selectedAd);return Promise.all([r,e]).then(function(){return t.continueIfNotAborted()}).catch(function(e){e=t.onError(e);return Promise.reject(e)})},y.prototype.internalRunAd=function(){var t=this;return this.isAborted()?Promise.reject(new Error(m.AdPlayer.PLAYER_ABORTED_ERROR_MESSAGE)):(this.evaluateEventTimings(),this.startAd().catch(function(e){e=t.onError(e);return Promise.reject(e)}))},y.prototype.cleanUp=function(){this.mediaElementAdapter.removeListeners(),this.mediaElementAdapter.unloadMedia()},y.prototype.startAd=function(){var n=this;return this.mediaElementAdapter.play().then(function(){if(n.isAborted())return d.Sentry.reportError(new Error("Play promise resolves after abort")),Promise.reject(new Error(m.AdPlayer.PLAYER_ABORTED_ERROR_MESSAGE));var r=new v.AdInfoViralize(n.selectedAd,y.ENABLE_CLICK_COVER,n.fullViewability,n.dp4);return n.observers.forEach(function(e){var t;null!==(t=e.notifyStart)&&void 0!==t&&t.call(e,0),null!==(t=e.notifyImpression)&&void 0!==t&&t.call(e,0,r),null!==(t=e.notifyPlay)&&void 0!==t&&t.call(e,0),null!==(t=e.notifyDurationChange)&&void 0!==t&&t.call(e,0,n.mediaElementAdapter.duration)}),r})},y.prototype.getDuration=function(){return this.mediaElementAdapter.duration},y.prototype.notifyTimeUpdate=function(r){var n=this;if(this.observers.forEach(function(e){var t;null!==(t=e.notifyProgress)&&void 0!==t&&t.call(e,r)}),0!==this.timingEventsToBeNotified.length){var e=this.timingEventsToBeNotified[0];if(!(r<e.value)){switch(e.key){case"firstQuartile":this.observers.forEach(function(e){var t;null!==(t=e.notifyFirstQuartile)&&void 0!==t&&t.call(e,r)});break;case"midPoint":this.observers.forEach(function(e){var t;null!==(t=e.notifyMidPoint)&&void 0!==t&&t.call(e,r)});break;case"thirdQuartile":this.observers.forEach(function(e){var t;null!==(t=e.notifyThirdQuartile)&&void 0!==t&&t.call(e,r)});break;case"complete":this.cleanUp(),this.observers.forEach(function(e){var t;null!==(t=e.notifyComplete)&&void 0!==t&&t.call(e,n.mediaElementAdapter.duration)}),this.observers.forEach(function(e){var t;null!==(t=e.notifyEnded)&&void 0!==t&&t.call(e)})}this.timingEventsToBeNotified.shift()}}},y.prototype.evaluateEventTimings=function(){this.getDuration();var e=this.getDuration()/4;this.timingEventsToBeNotified=[],this.timingEventsToBeNotified.push({key:"firstQuartile",value:e}),this.timingEventsToBeNotified.push({key:"midPoint",value:2*e}),this.timingEventsToBeNotified.push({key:"thirdQuartile",value:3*e}),this.timingEventsToBeNotified.push({key:"complete",value:this.getDuration()})},y.prototype.continueIfNotAborted=function(){return this.isAborted()?Promise.reject(new Error(m.AdPlayer.PLAYER_ABORTED_ERROR_MESSAGE)):Promise.resolve()},y.prototype.onError=function(e){if(this.isAborted())return new Error(m.AdPlayer.PLAYER_ABORTED_ERROR_MESSAGE);var r=u.Utils.toCodedError({error:e});return this.cleanUp(),this.observers.forEach(function(e){var t;null!==(t=e.notifyError)&&void 0!==t&&t.call(e,0,r)}),r},y.prototype.loadPlugins=function(){var t=this;if(null==this.selectedAd.ad.inline.extensions)return Promise.resolve();var e=this.selectedAd.ad.inline.extensions.plugins;if(0===e.length)return Promise.resolve();e=e.map(function(e){return t.loadPlugin(e).then(function(){}).catch(function(){})});return u.Utils.promiseWithTimeout(Promise.all(e),o.Constants.PLUGINS_LOADING_TIMEOUT).then(function(){}).catch(function(e){c.TimeoutError})},y.prototype.loadPlugin=function(e){return f.MoatClient.isViralizeMoatPlugin(e)?(this.addObserver(new h.MoatPlaybackTracker(e,this.mediaElementAdapter,this.isMuted()?0:1)),Promise.resolve()):s.DomUtils.injectScript(e)},y.prototype.loadVerifications=function(){var e,t,r;0!==this.selectedAd.ad.inline.adVerifications.length&&void 0!==this.adVerificationBuilder&&(0<(e=u.Utils.sortVerifications(this.selectedAd.ad.inline.adVerifications)).othersVerifications.length&&(r=u.Utils.mergeTrackingEvents(e.othersVerifications),0<Object.keys(r).length&&new p.VerificationEventsObserver(r).notifyVerificationNotExecuted("1")),void 0!==(t=this.adVerificationBuilder.getOmidConfig())&&0!==e.omidVerifications.length&&(r=u.Utils.mergeTrackingEvents(e.omidVerifications),this.addObserver(new l.OmidPlaybackTracker(e.omidVerifications,this.mediaElementAdapter.getContainer(),this.isMuted()?0:1,t,r))))},y.ENABLE_CLICK_COVER=!0,y);function y(e,t,r,n,i){var o=a.call(this)||this;return o.selectedAd=e,o.mediaElementAdapter=t,o.fullViewability=r,o.dp4=n,o.adVerificationBuilder=i,o.timingEventsToBeNotified=[],o}t.ViralizeMediaVideoPlayer=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OmidManager=void 0;var a=r(16),s=r(1),n=r(14),o=r(17),i=r(7),r=(c.prototype.init=function(e,t,r){var n=this,i=o.DomUtils.injectScript(e.omWeb),e=o.DomUtils.injectScriptInFrame(e.omClient);return Promise.all([i,e]).then(function(e){n.omidSessionFrame=e[1],n.createContext(t,r)})},c.prototype.track=function(t,r,n){var i=this;return this.loadedDeferred.promise.then(function(){switch(t){case"AdVideoStart":i.adEventsManager.impressionOccurred(),i.mediaEventManager.start(n,r);break;case"AdVideoFirstQuartile":i.mediaEventManager.firstQuartile();break;case"AdVideoMidpoint":i.mediaEventManager.midpoint();break;case"AdVideoThirdQuartile":i.mediaEventManager.thirdQuartile();break;case"AdVideoComplete":i.mediaEventManager.complete(),setTimeout(function(){return i.adSession.finish()},3e3);break;case"AdPaused":i.mediaEventManager.pause();break;case"AdVolumeChange":i.mediaEventManager.volumeChange(r);break;case"AdSkipped":i.mediaEventManager.skipped();break;case"AdResume":i.mediaEventManager.resume();break;case"AdClick":i.mediaEventManager.adUserInteraction();break;case"AdLoaded":var e=new i.omidSessionClient.VastProperties(i.adSettings.isSkippable,0<i.adSettings.skipOffset?i.adSettings.skipOffset:0,!0);i.adEventsManager.loaded(e)}})},c.prototype.createContext=function(e,t){if(void 0===window.OmidSessionClient||void 0===window.OmidSessionClient.default)throw new Error("Omid Global object is undefined");this.omidSessionClient=window.OmidSessionClient.default;var r=this.omidSessionClient.Partner,n=this.omidSessionClient.VerificationScriptResource,i=this.omidSessionClient.Context,o=new r(s.Constants.PARTNER_NAME,s.Constants.PARTNER_VERSION),r=this.omidSessionFrame.contentWindow,e=e.map(function(e){var t={};t[s.Constants.AD_VERIFICATION_MACROS.OMIDPARTNER]=s.Constants.PARTNER_NAME,t[s.Constants.AD_VERIFICATION_MACROS.APIFRAMEWORKS]=s.Constants.ApiFramework.OMID;t=a.VastTrackerUtils.resolveMacros(e.javaScriptResources[0].url,t);return new n(t,e.vendor,e.verificationParameters,"full")});this.context=new i(o,e,t),this.context.underEvaluation=!0,this.context.setVideoElement(this.adContainer),this.context.setServiceWindow(r),this.startAdSession()},c.prototype.startAdSession=function(){var e=this.omidSessionClient.AdSession,t=this.omidSessionClient.AdEvents,r=this.omidSessionClient.MediaEvents;if(this.adSession=new e(this.context),!this.adSession.isSupported())return this.loadedDeferred.reject(new Error("Omid SDK is not supported")),this.omidEventObserver.notifyVerificationNotExecuted("2"),void i.Sentry.reportError(new Error("Omid SDK is not supported"));this.adSession.setCreativeType("video"),this.adSession.start(),this.adEventsManager=new t(this.adSession),this.mediaEventManager=new r(this.adSession),this.loadedDeferred.resolve()},c);function c(e,t,r){this.loadedDeferred=new n.Deferred,this.adContainer=e,this.adSettings=t,this.omidEventObserver=r}t.OmidManager=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initMoatTracking=void 0,t.initMoatTracking=function(e,t,r,n){return function(e,t,r,n,i){var o,a,s=document.createElement("script"),c=[];t={adData:{ids:t,duration:r,url:i},dispatchEvent:function(e){this.sendEvent?(c&&(c.push(e),e=c,c=!1),this.sendEvent(e)):c.push(e)}},r="_moatApi"+Math.floor(1e8*Math.random());try{a=(o=e.ownerDocument).defaultView||o.parentWindow}catch(e){o=document,a=window}return a[r]=t,s.type="text/javascript",e&&e.insertBefore(s,e.childNodes[0]||null),s.src="https://z.moatads.com/"+n+"/moatvideo.js#"+r,t}(e,t,r,n)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MoatPlaybackTracker=void 0;var n=r(42),r=(i.prototype.notifyDurationChange=function(e,t){this.moatClient.load(this.mediaElementAdapter.getContainer(),t/1e3)},i.prototype.notifyImpression=function(e,t){this.notify("AdVideoStart")},i.prototype.notifyPlay=function(e){this.notify("AdPlaying")},i.prototype.notifySkip=function(e){this.notify("AdStopped")},i.prototype.notifyFirstQuartile=function(e){this.notify("AdVideoFirstQuartile")},i.prototype.notifyMidPoint=function(e){this.notify("AdVideoMidpoint")},i.prototype.notifyThirdQuartile=function(e){this.notify("AdVideoThirdQuartile")},i.prototype.notifyComplete=function(e){this.notify("AdVideoComplete")},i.prototype.notifyResumed=function(e){this.notify("AdPlaying")},i.prototype.notifyPaused=function(e){this.notify("AdPaused")},i.prototype.notifyMuted=function(e){this.volume=0,this.notify("AdVolumeChange")},i.prototype.notifyUnmuted=function(e){this.volume=1,this.notify("AdVolumeChange")},i.prototype.notifyEnded=function(){this.notify("AdStopped")},i.prototype.notify=function(e){this.moatClient.track(e,this.volume).then(function(){}).catch(function(){})},i);function i(e,t,r){this.moatClient=new n.MoatClient(e),this.mediaElementAdapter=t,this.volume=r}t.MoatPlaybackTracker=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VastParser=void 0;var a=r(86),n=r(43),s=r(1),c=r(8),i=r(3),d=r(164),u=r(179),r=(o.fromString=function(e){return new o(Promise.resolve(e))},o.fromUrl=function(e){return new o(a.Ajax.get(e))},o.prototype.run=function(){var t=this;return this.isAborted?Promise.reject(this.toVastError()):(null==this.result&&(this.result=this.vastPromise.then(function(e){return t.parse(e)}).catch(function(e){return Promise.reject(t.toVastError(e))})),this.result)},o.prototype.abort=function(){this.isAborted=!0,null!=this.rejectFn&&this.rejectFn(this.toVastError())},o.prototype.parse=function(i){var o=this;return this.isAborted?Promise.reject(this.toVastError()):new Promise(function(e,t){null!=o.rejectFn&&(o.rejectFn=t);var r=o.xmlParse(i);if(o.isNotAWrapper(r)){var n=o.intermediateResults.length+1;e({vast:o.mergeResults(new d.Vast(r)),additionalData:{wrappersCount:n}})}else{if(!(o.intermediateResults.length>=s.Constants.WRAPPER_LIMIT)){r=new u.VastWrapper(r);o.intermediateResults.push(r);r=r.ad.wrapper.VASTAdTagURI;return a.Ajax.get(r).then(function(e){return o.parse(e)}).then(e).catch(t)}t(new c.VastError(s.Constants.VastErrorCodes.WRAPPER_LIMIT_REACHED))}})},o.prototype.xmlParse=function(e){if(""===e.trim())throw new c.VastError(s.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE);var t;try{t=i.Utils.parseXMl(e)}catch(e){throw new c.VastError(s.Constants.VastErrorCodes.XML_PARSING_ERROR)}if(null==t||"VAST"!==t.nodeName)throw new c.VastError(s.Constants.VastErrorCodes.VAST_SCHEMA_VALIDATION_ERROR);return t},o.prototype.isNotAWrapper=function(e){return 0<e.querySelectorAll("Ad > InLine").length},o.prototype.mergeResults=function(e){e=this.intermediateResults.reduceRight(function(e,t){return e.merge(t),e},e);return this.intermediateResults=[],e},o.prototype.toVastError=function(e){var t,e=null==e?(t=s.Constants.VastErrorCodes.UNDEFINED_ERROR,[]):e instanceof c.VastError?(t=e.code,e.errorUrls):(t=e instanceof n.ResponseNotAcceptedError?s.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE:s.Constants.VastErrorCodes.UNDEFINED_ERROR,[]);return e=t===s.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE?e.concat(this.getNoAdsVastResponseErrorUrls()):e.concat(this.getAdErrorUrls()),this.intermediateResults=[],new c.VastError(t,e)},o.prototype.getNoAdsVastResponseErrorUrls=function(){return this.intermediateResults.reduceRight(function(e,t){return e.concat(t.errors)},[])},o.prototype.getAdErrorUrls=function(){return this.intermediateResults.reduceRight(function(e,t){return e.concat(t.ad.wrapper.errors)},[])},o);function o(e){this.vastPromise=e,this.intermediateResults=[],this.isAborted=!1}t.VastParser=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedAjaxError=void 0;var n,i=r(0),r=r(10),i=(n=r.CustomError,i.__extends(o,n),o);function o(e){return void 0===e&&(e=""),n.call(this,e)||this}t.UnsupportedAjaxError=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vast=void 0;var n,i=r(0),o=r(1),a=r(8),s=r(87),c=r(44),d=r(165),i=(n=c.AbstractVast,i.__extends(u,n),u.prototype.merge=function(t){var e;null!=t.errors&&(null!=this.errors?(e=this.errors).push.apply(e,t.errors):this.errors=t.errors),this.ad.forEach(function(e){e.merge(t.ad)}),null==t.version||null!=this.version&&""!==this.version||(this.version=t.version)},u.prototype.toXML=function(){var t=new s.VastBuilder;return null!=this.errors&&0<this.errors.length&&this.errors.forEach(function(e){t.addError(e)}),null!=this.ad&&0<this.ad.length&&this.ad.forEach(function(e){t.addAd(e.toXML())}),t.build()},u);function u(e){var t=n.call(this,e)||this,r=e.getElementsByTagName("Ad");if(0===r.length)throw new a.VastError(o.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE,t.errors);t.ad=[];try{[].forEach.call(r,function(e){t.ad.push(new d.Ad(e))})}catch(e){if(e instanceof a.VastError&&e.code===o.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE)throw new a.VastError(e.code,t.errors);throw e}return t}t.Vast=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ad=void 0;var n=r(1),i=r(8),o=r(88),a=r(6),s=r(166),r=(c.prototype.merge=function(e){this.inline.merge(e.wrapper)},c.prototype.toXML=function(){var e=new o.AdBuilder(this.inline.toXML());return null!=this.id&&e.withId(this.id),null!=this.sequence&&e.withSequence(this.sequence),e.build()},c);function c(e){var t=a.VastParserUtils.parseNodeAttribute("id",e);null!=t&&(this.id=t);t=a.VastParserUtils.parseSequence(e);null!=t&&(this.sequence=t);e=e.getElementsByTagName("InLine");if(0===e.length)throw new i.VastError(n.Constants.VastErrorCodes.VAST_SCHEMA_VALIDATION_ERROR);this.inline=new s.Inline(e[0])}t.Ad=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Inline=void 0;var i=r(1),o=r(8),n=r(89),a=r(167),s=r(90),c=r(168),d=r(6),u=r(169),l=r(170),p=r(47),f=r(178),h=r(48),v=r(49),r=(m.prototype.merge=function(e){var t,r;null!=e.errors&&(null!=this.errors?(t=this.errors).push.apply(t,e.errors):this.errors=e.errors),(t=this.impressions).push.apply(t,e.impressions),null!=e.creativeLinearWrapper&&(r=e.creativeLinearWrapper,this.creativesLinear.forEach(function(e){e.merge(r)})),null!=e.extensions&&(null==this.extensions?this.extensions=e.extensions:this.extensions.merge(e.extensions)),0<e.adVerifications.length&&(t=this.adVerifications).push.apply(t,e.adVerifications),null!=e.viewableImpression&&this.viewableImpression.merge(e.viewableImpression)},m.prototype.toXML=function(){var e=new n.AdSystemBuilder(this.adSystem.value);null!=this.adSystem.version&&e.withVersion(this.adSystem.version);var t=new a.CreativesBuilder;this.creativesLinear.forEach(function(e){t.addCreative(e.toXML())});var r=new s.InLineBuilder(e.build(),this.adTitle,t.build());return this.impressions.forEach(function(e){r.addImpression(e)}),null!=this.advertiser&&r.withAdvertiser(this.advertiser),null!=this.description&&r.withDescription(this.description),null!=this.errors&&this.errors.forEach(function(e){r.addError(e)}),null!=this.pricing&&r.withPricing(null!=this.pricing.value?this.pricing.value:0,null!=this.pricing.model?this.pricing.model:"",null!=this.pricing.currency?this.pricing.currency:""),null!=this.survey&&r.withSurvey(this.survey),this.buildExtensions(r),r.build()},m.prototype.parseAdTitle=function(e){e=e.getElementsByTagName("AdTitle")[0],e=d.VastParserUtils.parseNodeText(e);return null!=e?e:""},m.prototype.parseAdSystem=function(e){e=e.getElementsByTagName("AdSystem")[0],e=null!=e?new u.AdSystem(e):{value:""};return e},m.prototype.parseImpressions=function(e){var e=e.getElementsByTagName("Impression"),t=[];return[].forEach.call(e,function(e){e=d.VastParserUtils.parseNodeText(e);null!=e&&""!==e&&t.push(e)}),t},m.prototype.parseCreativeLinear=function(e){var t=[];return[].forEach.call(e,function(e){e=e.parentNode;t.push(new l.CreativeLinear(e))}),t},m.prototype.parseDescription=function(e){e=e.getElementsByTagName("Description")[0];return d.VastParserUtils.parseNodeText(e)},m.prototype.parseAdvertiser=function(e){e=e.getElementsByTagName("Advertiser")[0];return d.VastParserUtils.parseNodeText(e)},m.prototype.parseSurvey=function(e){e=e.getElementsByTagName("Survey")[0];return d.VastParserUtils.parseNodeText(e)},m.prototype.parsePricing=function(e){e=e.getElementsByTagName("Pricing")[0];if(null!=e)return new f.Pricing(e)},m.prototype.parseExtensions=function(e){e=e.getElementsByTagName("Extensions");if(0<e.length)return new p.Extensions(e[0])},m.prototype.parseViewableImpression=function(e){return new v.ViewableImpression(e)},m.prototype.buildExtensions=function(t){null!=this.extensions&&(null!=this.extensions.unknownExtensions&&0<this.extensions.unknownExtensions.length&&this.extensions.unknownExtensions.forEach(function(e){t.addExtension(e)}),null!=this.extensions.dp4&&t.addExtension((new c.ViralizeExtensionBuilder).buildDp4(this.extensions.dp4)),null!=this.extensions.extraTracking&&t.addExtension((new c.ViralizeExtensionBuilder).buildExtraTracking(this.extensions.extraTracking)),null!=this.extensions.viewabilityTracking&&t.addExtension((new c.ViralizeExtensionBuilder).buildViewability(this.extensions.viewabilityTracking)),null!=this.extensions.mobi&&t.addExtension((new c.ViralizeExtensionBuilder).buildMobi(this.extensions.mobi)),null!=this.extensions.plugins&&t.addExtension((new c.ViralizeExtensionBuilder).buildPlugins(this.extensions.plugins)),null!=this.extensions.shareUrl&&t.addExtension((new c.ViralizeExtensionBuilder).buildShareUrl(this.extensions.shareUrl)),null!=this.extensions.ui&&t.addExtension((new c.ViralizeExtensionBuilder).buildUi(this.extensions.ui)))},m.prototype.parseAdVerifications=function(e){var e=e.getElementsByTagName("Verification"),t=[];return[].forEach.call(e,function(e){t.push(new h.Verification(e))}),t},m);function m(e){this.errors=[];var t=d.VastParserUtils.parseErrors(e,"Error");if(null!=t&&(this.errors=t),0===e.getElementsByTagName("Creative").length)throw new o.VastError(i.Constants.VastErrorCodes.VAST_SCHEMA_VALIDATION_ERROR,this.errors);var r=e.getElementsByTagName("Linear");if(0===r.length)throw new o.VastError(i.Constants.VastErrorCodes.EXPECTING_DIFFERENT_LINEARITY_ERROR,this.errors);try{this.adSystem=this.parseAdSystem(e),this.adTitle=this.parseAdTitle(e),this.impressions=this.parseImpressions(e),this.creativesLinear=this.parseCreativeLinear(r);var n=this.parseDescription(e);null!=n&&(this.description=n);n=this.parseAdvertiser(e);null!=n&&(this.advertiser=n);n=this.parseSurvey(e);null!=n&&(this.survey=n);n=this.parsePricing(e);null!=n&&(this.pricing=n);n=this.parseExtensions(e);null!=n&&(this.extensions=n),this.adVerifications=this.parseAdVerifications(e),this.viewableImpression=this.parseViewableImpression(e)}catch(e){if(e instanceof o.VastError&&e.code!==i.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE)throw new o.VastError(e.code,this.errors);throw e}}t.Inline=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreativesBuilder=void 0;var n=r(5),r=(i.prototype.addCreative=function(e){return this.creatives.push(e),this},i.prototype.build=function(){if(0===this.creatives.length)throw new Error("At least one creative should be present");var t=new n.XMLNodeBuilder("Creatives");return this.creatives.forEach(function(e){t.addChild(e)}),t.build()},i);function i(){this.creatives=[]}t.CreativesBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViralizeExtensionBuilder=void 0;var n=r(5),r=(i.prototype.buildDp4=function(e){return this.builder.addAttribute("type","vr-dp4").addChild(new n.XMLNodeBuilder("sampling").withCDATAContent(""+e.sampling).build()).addChild(new n.XMLNodeBuilder("value").withCDATAContent(""+e.value).build()).addChild(new n.XMLNodeBuilder("valueOnHidden").withCDATAContent(""+e.valueOnHidden).build()).build()},i.prototype.buildExtraTracking=function(e){return this.builder.addAttribute("type","vr-extra-tracking"),this.buildTrackingExt(e),this.builder.build()},i.prototype.buildViewability=function(e){return this.builder.addAttribute("type","vr-viewability"),this.buildTrackingExt(e),this.builder.build()},i.prototype.buildMobi=function(e){this.builder.addAttribute("type","vr-mobi");e={framesets:e.framesets,num_framesets:e.numFramesets,videolq:e.videolq,frame_width:e.frameWidth,frame_height:e.frameHeight,fps:e.fps,audio:e.audio,encode_failed:!1,encoding:!1,encoded:!0};return this.builder.addChild(new n.XMLNodeBuilder("MobiResource").withCDATAContent(JSON.stringify(e)).build()),this.builder.build()},i.prototype.buildPlugins=function(e){return this.builder.addAttribute("type","vr-plugins"),this.builder.addChild(new n.XMLNodeBuilder("Plugins").withCDATAContent(JSON.stringify(e)).build()),this.builder.build()},i.prototype.buildShareUrl=function(e){return this.builder.addAttribute("type","vr-social"),this.builder.addChild(new n.XMLNodeBuilder("ShareUrl").withCDATAContent(JSON.stringify(e)).build()),this.builder.build()},i.prototype.buildUi=function(e){e={controls:e.controls?1:0,progressbar:e.progressbar?1:0,logo:e.logo?1:0,backgroundColor:e.backgroundColor};return this.builder.addAttribute("type","vr-player-ui").addChild(new n.XMLNodeBuilder("Parameters").withCDATAContent(JSON.stringify(e)).build()).build()},i.prototype.buildTrackingExt=function(e){var r=this;Object.entries(e).forEach(function(t){var e=t[1];null!=e&&e.forEach(function(e){r.builder.addChild(new n.XMLNodeBuilder("Tracking").addAttribute("event",t[0]).withCDATAContent(e.url).build())})})},i);function i(){this.builder=new n.XMLNodeBuilder("Extension")}t.ViralizeExtensionBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdSystem=void 0;var n=r(6),r=function(e){var t=n.VastParserUtils.parseNodeAttribute("version",e);null!=t&&(this.version=t),e=n.VastParserUtils.parseNodeText(e),this.value=null!=e?e:""};t.AdSystem=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreativeLinear=void 0;var n,i=r(0),o=r(91),a=r(171),s=r(92),i=(n=a.Creative,i.__extends(c,n),c.prototype.merge=function(e){this.linear.merge(e.linear)},c.prototype.toXML=function(){var e=new o.CreativeBuilder(this.linear.toXML());return null!=this.creativeExtension&&e.withCreativeExtensions(this.creativeExtension),null!=this.adID&&e.withAdID(this.adID),null!=this.apiFramework&&e.withApiFramework(this.apiFramework),null!=this.id&&e.withId(this.id),null!=this.sequence&&e.withSequence(this.sequence),e.build()},c);function c(e){var t=n.call(this,e)||this;return t.linear=new s.Linear(e.getElementsByTagName("Linear")[0]),t}t.CreativeLinear=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Creative=void 0;var i=r(6),r=(n.prototype.parseAdId=function(e){return i.VastParserUtils.parseNodeAttribute("AdID",e)||i.VastParserUtils.parseNodeAttribute("adID",e)||i.VastParserUtils.parseNodeAttribute("adId",e)||void 0},n.prototype.parseUniversalAdIds=function(e){var e=e.getElementsByTagName("UniversalAdId"),n=[];return[].forEach.call(e,function(e){var t=i.VastParserUtils.parseNodeAttribute("idRegistry",e),r=i.VastParserUtils.parseNodeText(e);void 0===r&&(r=i.VastParserUtils.parseNodeAttribute("idValue",e)),void 0!==t&&void 0!==r&&n.push({idRegistry:t,value:r})}),n},n);function n(e){var t=this.parseAdId(e);null!=t&&(this.adID=t);t=i.VastParserUtils.parseNodeAttribute("id",e);null!=t&&(this.id=t);t=i.VastParserUtils.parseSequence(e);null!=t&&(this.sequence=t);t=e.getElementsByTagName("CreativeExtensions");0<t.length&&(this.creativeExtension=t[0]),this.universalAdIds=this.parseUniversalAdIds(e)}t.Creative=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconsBuilder=void 0;var n=r(5),r=(i.prototype.addIcon=function(e){return this.icons.push(e),this},i.prototype.build=function(){if(0===this.icons.length)throw new Error("At least one icon should be present");var t=new n.XMLNodeBuilder("Icons");return this.icons.forEach(function(e){t.addChild(e)}),t.build()},i);function i(){this.icons=[]}t.IconsBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrackingBuilder=void 0;var n=r(5),r=(i.prototype.withOffset=function(e){return this.nodeBuilder.addAttribute("offset",e),this},i.prototype.build=function(){return this.nodeBuilder.build()},i);function i(e,t){this.nodeBuilder=new n.XMLNodeBuilder("Tracking"),this.nodeBuilder.withCDATAContent(t).addAttribute("event",e)}t.TrackingBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrackingEventsBuilder=void 0;var n=r(5),r=(i.prototype.addTracking=function(e){return this.trackings.push(e),this},i.prototype.build=function(){var t=new n.XMLNodeBuilder("TrackingEvents");return this.trackings.forEach(function(e){t.addChild(e)}),t.build()},i);function i(){this.trackings=[]}t.TrackingEventsBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaFile=void 0;var n=r(1),i=r(8),o=r(96),a=r(6),r=(s.prototype.toXML=function(){var e=new o.MediaFileBuilder(this.url,this.mimeType,this.delivery,this.width,this.height);return null!=this.apiFramework&&"VPAID"===this.apiFramework&&e.withApiFramework("VPAID"),null!=this.bitrate&&e.withBitrate(this.bitrate),null!=this.maxBitrate&&e.withMaxBitrate(this.maxBitrate),null!=this.minBitrate&&e.withMinBitrate(this.minBitrate),null!=this.codec&&e.withCodec(this.codec),null!=this.id&&e.withId(this.id),null!=this.maintainAspectRatio&&e.withMaintainAspectRatio(this.maintainAspectRatio),null!=this.scalable&&e.withScalable(this.scalable),e.build()},s.prototype.parseDelivery=function(e){e=a.VastParserUtils.parseNodeAttribute("delivery",e);return null!=e?e:""},s.prototype.parseWidth=function(e){e=a.VastParserUtils.parseNodeAttribute("width",e);return null!=e?parseInt(e,10):0},s.prototype.parseHeight=function(e){e=a.VastParserUtils.parseNodeAttribute("height",e);return null!=e?parseInt(e,10):0},s.prototype.parseCodec=function(e){return a.VastParserUtils.parseNodeAttribute("codec",e)},s.prototype.parseId=function(e){return a.VastParserUtils.parseNodeAttribute("id",e)},s.prototype.parseBitRate=function(e){e=a.VastParserUtils.parseNodeAttribute("bitrate",e);if(null!=e)return parseInt(e,10)},s.prototype.parseMinBitrate=function(e){e=a.VastParserUtils.parseNodeAttribute("minBitrate",e);if(null!=e)return parseInt(e,10)},s.prototype.parseMaxBitrate=function(e){e=a.VastParserUtils.parseNodeAttribute("maxBitrate",e);if(null!=e)return parseInt(e,10)},s.prototype.parseScalable=function(e){e=a.VastParserUtils.parseNodeAttribute("scalable",e);if(null!=e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}},s.prototype.parseMaintainAspectRatio=function(e){e=a.VastParserUtils.parseNodeAttribute("maintainAspectRatio",e);if(null!=e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}},s.prototype.parseApiFramework=function(e){return a.VastParserUtils.parseNodeAttribute("apiFramework",e)},s);function s(e){var t=a.VastParserUtils.parseNodeAttribute("type",e);if(this.mimeType=null!=t?t.trim():"",this.url="",null!=e.textContent&&(this.url=e.textContent.trim()),""===this.mimeType||""===this.url)throw new i.VastError(n.Constants.VastErrorCodes.VAST_SCHEMA_VALIDATION_ERROR);this.delivery=this.parseDelivery(e),this.width=this.parseWidth(e),this.height=this.parseHeight(e),this.codec=this.parseCodec(e),this.id=this.parseId(e),this.bitrate=this.parseBitRate(e),this.minBitrate=this.parseMinBitrate(e),this.maxBitrate=this.parseMaxBitrate(e),this.scalable=this.parseScalable(e),this.maintainAspectRatio=this.parseMaintainAspectRatio(e),this.apiFramework=this.parseApiFramework(e)}t.MediaFile=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClickBuilder=void 0;var n=r(5),r=(i.prototype.withId=function(e){return this.nodeBuilder.addAttribute("id",e),this},i.prototype.build=function(){return this.nodeBuilder.build()},i);function i(e,t){this.nodeBuilder=new n.XMLNodeBuilder(t).withCDATAContent(e)}t.ClickBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoClicksBuilder=void 0;var n=r(5),r=(i.prototype.addClickTracking=function(e){return this.clickTrackings.push(e),this},i.prototype.addCustomClick=function(e){return this.customClicks.push(e),this},i.prototype.build=function(){var t=this;return this.clickTrackings.forEach(function(e){t.videoClicksNodeBuilder.addChild(e)}),this.customClicks.forEach(function(e){t.videoClicksNodeBuilder.addChild(e)}),this.videoClicksNodeBuilder.build()},i);function i(e){this.clickTrackings=[],this.customClicks=[],this.videoClicksNodeBuilder=new n.XMLNodeBuilder("VideoClicks"),this.videoClicksNodeBuilder.addChild(e)}t.VideoClicksBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pricing=void 0;var n=r(6),r=function(e){var t=n.VastParserUtils.parseNodeAttribute("model",e);null!=t&&(this.model=t),null!=(t=n.VastParserUtils.parseNodeAttribute("currency",e))&&(this.currency=t),null!=(e=n.VastParserUtils.parseNodeText(e))&&(e=parseFloat(e),isNaN(e)||(this.value=e))};t.Pricing=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VastWrapper=void 0;var n,i=r(0),o=r(1),a=r(8),s=r(44),c=r(180),i=(n=s.AbstractVast,i.__extends(d,n),d);function d(e){var t=n.call(this,e)||this,r=e.getElementsByTagName("Ad");if(0===r.length)throw new a.VastError(o.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE,t.errors);try{t.ad=new c.AdWrapper(r[0])}catch(e){if(e instanceof a.VastError&&e.code===o.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE)throw new a.VastError(e.code,t.errors);throw e}return t}t.VastWrapper=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdWrapper=void 0;var n=r(1),i=r(8),o=r(181),r=function(e){if(0===(e=e.getElementsByTagName("Wrapper")).length)throw new i.VastError(n.Constants.VastErrorCodes.VAST_SCHEMA_VALIDATION_ERROR);this.wrapper=new o.Wrapper(e[0])};t.AdWrapper=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=void 0;var n=r(1),i=r(8),o=r(6),a=r(47),s=r(48),c=r(49),d=r(182),r=(u.prototype.parseVastTagUri=function(e){e=e.getElementsByTagName("VASTAdTagURI")[0],e=o.VastParserUtils.parseNodeText(e);if(null==e||""===e)throw new i.VastError(n.Constants.VastErrorCodes.VAST_SCHEMA_VALIDATION_ERROR);return e},u.prototype.parseImpression=function(e){var e=e.getElementsByTagName("Impression"),t=[];return[].forEach.call(e,function(e){e=o.VastParserUtils.parseNodeText(e);null!=e&&""!==e&&t.push(e)}),t},u.prototype.parseLinear=function(e){var t,e=e.getElementsByTagName("Linear");if(0!==e.length)return[].forEach.call(e,function(e){e=e.parentNode,e=new d.CreativeLinearWrapper(e);null!=t?t.merge(e):t=e}),t},u.prototype.parseExtensions=function(e){e=e.getElementsByTagName("Extensions");if(null!=e&&0!==e.length)return new a.Extensions(e[0])},u.prototype.parseAdVerifications=function(e){var e=e.getElementsByTagName("Verification"),t=[];return[].forEach.call(e,function(e){t.push(new s.Verification(e))}),t},u.prototype.parseViewableImpression=function(e){return new c.ViewableImpression(e)},u);function u(e){this.errors=[];var t=o.VastParserUtils.parseErrors(e,"Error");null!=t&&(this.errors=t);try{this.VASTAdTagURI=this.parseVastTagUri(e),this.impressions=this.parseImpression(e),this.creativeLinearWrapper=this.parseLinear(e),this.viewableImpression=this.parseViewableImpression(e);var r=this.parseExtensions(e);null!=r&&(this.extensions=r),this.adVerifications=this.parseAdVerifications(e)}catch(e){if(e instanceof i.VastError&&e.code!==n.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE)throw new i.VastError(e.code,this.errors);throw e}}t.Wrapper=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreativeLinearWrapper=void 0;var n=r(183),r=(i.prototype.merge=function(e){this.linear.merge(e.linear)},i);function i(e){e=e.getElementsByTagName("Linear");this.linear=new n.LinearWrapper(e[0])}t.CreativeLinearWrapper=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinearWrapper=void 0;var n,i=r(0),o=r(45),a=r(46),i=(n=o.AbstractLinear,i.__extends(s,n),s.prototype.merge=function(e){n.prototype.merge.call(this,e),null!=e.videoClicks&&(null==this.videoClicks?this.videoClicks=e.videoClicks:this.videoClicks.merge(e.videoClicks))},s);function s(e){var t=n.call(this,e)||this,e=e.getElementsByTagName("VideoClicks");return 0<e.length&&(t.videoClicks=new a.VideoClicks(e[0])),t}t.LinearWrapper=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerLoaderWithTimeout=void 0;var n=r(1),i=r(9),o=r(185),a=r(186),r=(s.prototype.run=function(){var r=this,e=this.getTimeoutPromise(),t=this.loader.run();return Promise.race([e,t]).then(function(e){return r.timeoutHandler.pause(),new a.PlayerLoaderWithTimeoutResult(e,r.timeoutHandler)}).catch(function(e){var t;return r.timeoutHandler.pause(),e instanceof i.CodedError?(t=e).code===n.Constants.TIMEOUTS.ERROR_CODES.REQUEST&&r.loader.abort():t=new i.CodedError(2e4),Promise.reject(t)})},s.prototype.abort=function(){this.loader.abort()},s.prototype.getTimeoutHandler=function(){var e={totalTimeout:this.totalTimeout,timeouts:((e={}).request=7e3,e.load=1e4,e.start=1e4,e)};return new o.TimeoutHandler(e)},s.prototype.getTimeoutPromise=function(){return this.timeoutHandler.setStatus("request").then(function(e){return Promise.reject(new i.CodedError(n.Constants.TIMEOUTS.ERROR_CODES.REQUEST,"timeout occurs during request"))})},s);function s(e,t){this.loader=e,this.totalTimeout=t,this.timeoutHandler=this.getTimeoutHandler()}t.PlayerLoaderWithTimeout=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeoutHandler=void 0;var n=r(0),r=(new(r(4).Console)("TimeoutHandler"),i.prototype.setStatus=function(r){var n=this;return new Promise(function(e){null!=n.currentTimeoutId&&clearTimeout(n.currentTimeoutId),n.currentStatus=r,n.updateTimes();var t=Math.min(n.config.timeouts[r],n.totalTimeoutRemainingTime);n.currentTimeoutId=setTimeout(function(){e(r)},t)})},i.prototype.pause=function(){null!=this.currentTimeoutId&&(this.currentStatus,clearTimeout(this.currentTimeoutId),this.updateTimes(),this.previousTime=void 0)},i.prototype.updateTimes=function(){var e=Date.now(),t=e-(null!=this.previousTime?this.previousTime:e);this.totalTimeoutRemainingTime=Math.max(0,this.totalTimeoutRemainingTime-t),this.totalTimeoutRemainingTime,this.previousTime=e,null!=this.currentStatus&&(this.config.timeouts[this.currentStatus]=Math.max(0,this.config.timeouts[this.currentStatus]-t),this.currentStatus,this.config.timeouts[this.currentStatus])},i);function i(e){this.config={totalTimeout:e.totalTimeout,timeouts:n.__assign({},e.timeouts)},this.totalTimeoutRemainingTime=e.totalTimeout}t.TimeoutHandler=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerLoaderWithTimeoutResult=void 0;var n=r(0),i=r(187),o=r(1),a=r(9),r=(s.prototype.get=function(){var t=this,e=this.timeoutHandler.setStatus("request").then(function(e){return Promise.reject(new a.CodedError(o.Constants.TIMEOUTS.ERROR_CODES.REQUEST,"timeout occurs during request"))}),r=this.loaderResult.get();return Promise.race([e,r]).then(function(e){return t.timeoutHandler.pause(),n.__assign(n.__assign({},e),{player:new i.AdPlayerWithTimeout(e.player,t.timeoutHandler)})}).catch(function(e){return t.timeoutHandler.pause(),Promise.reject(e)})},s);function s(e,t){this.adSystem=e.adSystem,this.contentType=e.contentType,this.loader=e.loader,this.cpm=e.cpm,this.loaderResult=e,this.timeoutHandler=t}t.PlayerLoaderWithTimeoutResult=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdPlayerWithTimeout=void 0;var n,i=r(0),o=r(1),a=r(9),s=r(3),r=r(29),i=(n=r.AdPlayer,i.__extends(c,n),c.prototype.abort=function(){this.player.abort()},c.prototype.skipAd=function(){this.player.skipAd()},c.prototype.play=function(){this.player.play()},c.prototype.pause=function(){this.player.pause()},c.prototype.isMuted=function(){return this.player.isMuted()},c.prototype.mute=function(){this.player.mute()},c.prototype.unmute=function(){this.player.unmute()},c.prototype.openLandingPage=function(){this.player.openLandingPage()},c.prototype.addObserver=function(e){this.player.addObserver(e)},c.prototype.removeObserver=function(e){this.player.removeObserver(e)},c.prototype.removeAllObservers=function(){this.player.removeAllObservers()},c.prototype.setPlaybackRate=function(e){this.player.setPlaybackRate(e)},c.prototype.getDimensions=function(){return this.player.getDimensions()},c.prototype.internalLoad=function(e){return this.raceWithTimeout(this.player.load(e),"load",o.Constants.TIMEOUTS.ERROR_CODES.LOAD)},c.prototype.internalRunAd=function(){return this.raceWithTimeout(this.player.runAd(),"start",o.Constants.TIMEOUTS.ERROR_CODES.START)},c.prototype.cleanUp=function(){},c.prototype.raceWithTimeout=function(e,t,n){var i=this,t=this.timeoutHandler.setStatus(t).then(function(){i.player.abort();var r=new a.CodedError(n);return i.player.getObservers().forEach(function(e){var t;null!==(t=e.notifyError)&&void 0!==t&&t.call(e,0,r)}),Promise.reject(r)});return s.Utils.raceWithNeverResolvingPromise(e,t).then(function(e){return i.timeoutHandler.pause(),e}).catch(function(e){return i.timeoutHandler.pause(),Promise.reject(e)})},c);function c(e,t){var r=n.call(this)||this;return r.player=e,r.timeoutHandler=t,r}t.AdPlayerWithTimeout=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Player=void 0;var a=r(189),s=r(41),n=r(190),i=r(7),c=r(191),d=r(192),o=r(195),u=r(200),r=(new(r(4).Console)("Player"),l.prototype.init=function(){this.initVPT(this.getVPTId(this.config),this.config.environment.zone.format_family),this.adapter.init(this.format),this.format.run()},l.prototype.buildFormat=function(e,t){var r=new(e.environment.session.is_preview?a.NoOpTracker:s.PixelTracker),n=d.ViewabilityFactory.build(e.environment.zone.controller),i=new c.InjectorIABViewabilityEvaluator,o=new u.ExternalResourcesBundle(e.extra.resources);return this.getFormatController(e,t,r,n,i,o)},l.prototype.initVPT=function(r,n){window.vptEmitter=function(e,t){if(null!=window.vpt)try{window.vpt.emit(e,r,n,t)}catch(e){i.Sentry.reportError(new Error("Unable to emit vpt event: "+e))}}},l.prototype.getVPTId=function(e){return null!=e.extra.alias?e.extra.alias:e.environment.zone.zid},l.prototype.initDOM=function(){if(null==document.body)throw new Error("Unable to create player DOM, the body was not yet created");document.body.insertAdjacentHTML("afterbegin",this.getHTML())},l);function l(e,t){null!=t&&i.Sentry.init(t,e),this.initDOM(),this.config=n.ConfigBuilder.build(e),this.adapter=o.CommunicationAdapterFactory.build(this.config),this.format=this.buildFormat(this.config,this.adapter)}t.Player=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoOpTracker=void 0;new(r(4).Console)("NoOpTracker");n.prototype.track=function(e){return new Promise(function(e){e()})},r=n;function n(){}t.NoOpTracker=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigBuilder=void 0;var o=r(0),n=r(1),a=r(3);(t.ConfigBuilder||(t.ConfigBuilder={})).build=function(e){var t,r;return null!=e.environment.params.dp4&&(t=e.environment.params.dp4),{waterfalls:e.waterfalls,settings:{skip_delay:0<e.impression.format.skip_delay?1e3*e.impression.format.skip_delay:e.impression.format.skip_delay,skip_text:e.environment.params.skip_text,skip_position:(r=e.environment.params.skip_position,Object.values(n.Constants.Position).includes(r)?r:n.Constants.Position.TOP_LEFT),enable_ad_progressbar:e.environment.params.enable_ad_progressbar,enable_branding:e.environment.params.enable_branding,pauseable_ads:e.environment.zone.pausable_ads,dp1:e.environment.params.dp1,dp2:!0===e.environment.params.dp2,dp3:!0===e.environment.params.dp3,dp4:t,enable_full_viewability:e.impression.format.full_viewability,enable_inplayer_branding:e.impression.format.enable_inplayer_branding,enable_inplayer_skip:e.impression.format.enable_inplayer_skip},environment:{zone:{format:e.impression.format.code,format_family:function(e){if(Object.values(n.Constants.FormatFamily).includes(e))return e;throw new Error("Unknown family: "+e)}(e.environment.zone.format_family),zid:e.environment.zone.zid,controller:function(e){if(Object.values(n.Constants.ControllerType).includes(e))return e;throw new Error("Unknown controller: "+e)}(e.impression.format.controller)},client:{os:e.environment.client.os,browser:e.environment.client.browser,is_ssl:e.environment.client.ssl,endpoint_host:e.environment.client.endpoint_host,page_url:e.environment.client.page_url,device:{type:(t=e.environment.client.device.type,Object.values(n.Constants.DeviceType).includes(t)?t:n.Constants.DeviceType.DESKTOP)}},session:{id:e.environment.session.sid,is_preview:e.environment.client.is_preview},site:{url:e.environment.site.url},publisher:{parent_network:(t=e.environment.publisher.parent_network,Object.values(n.Constants.ParentNetwork).includes(t)?t:n.Constants.ParentNetwork.VIRALIZE),schain:e.environment.publisher.schain},user:{cmpStatus:function(e){if(Object.values(n.Constants.CmpStatus).includes(e))return e;throw new Error("Unknown cmp status: "+e)}(e.environment.user.cmp),consentString:e.environment.user.cs,gdprApplies:e.environment.user.gdpr}},extra_tracking:function(r){var e,n=o.__assign({page_url:r.environment.client.page_url,domain:r.environment.client.domain,ip_address:r.environment.client.ip_address,random:a.Utils.generateCacheBusting()},r.environment.params.callbacks_vars),i={};Object.keys(r.environment.site.callbacks).forEach(function(t){var e;i[t]=null!==(e=i[t])&&void 0!==e?e:[],r.environment.site.callbacks[t].forEach(function(e){e=a.Utils.resolveMacros(e,n);i[t].push(e)})}),""!==r.environment.params.it_url&&(i.impression=null!==(e=i.impression)&&void 0!==e?e:[],i.impression.push(a.Utils.resolveMacros(r.environment.params.it_url,n)));""!==r.environment.params.click_url&&(i.clickthrough=null!==(e=i.clickthrough)&&void 0!==e?e:[],i.clickthrough.push(a.Utils.resolveMacros(r.environment.params.click_url,n)));return i}(e),extra:{session_counter:null!==(t=e.extra.session_counter)&&void 0!==t?t:1,vpaid_url:e.vpaid_url,experiment:e.environment.params.experiment,alias:e.extra.alias,resources:e.extra.resources},contents:[{id:e.content._id,title:e.content.name,creator:e.content.creator,pub_date:e.content.pub_date,duration:null!=e.impression.creativity?e.impression.creativity.duration:0,categories:null!=e.content.metadata?e.content.metadata.categories:[],videos:null!=e.impression.creativity?e.impression.creativity.videos:[],thumbnails:null!=e.impression.creativity?e.impression.creativity.thumnails:[]}]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InjectorIABViewabilityEvaluator=void 0;var n,i=r(0),o=r(13);(r=n=n||{}).START_IAB_VIEWABILITY="cmd::startIABViewability",r.STOP_IAB_VIEWABILITY="cmd::stopIABViewability",r.VIEWABLE="inj::viewable",r.VIEWABILITY_AVAILABLE="inj::viewabilityAvailable",r.VIEWABILITY_NOT_AVAILABLE="inj::viewabilityNotAvailable";var a,i=(a=o.Observable,i.__extends(s,a),s.prototype.start=function(){var e=this;this.started||(this.injectorPlayerEmitter.on(n.VIEWABLE,function(){e.trackedIabViewability=!0,e.observers.forEach(function(e){var t;null!==(t=e.notifyIABViewable)&&void 0!==t&&t.call(e)})}),this.started=!0,this.injectorPlayerEmitter.emit(n.START_IAB_VIEWABILITY))},s.prototype.stop=function(){this.started&&(this.started=!1,this.injectorPlayerEmitter.emit(n.STOP_IAB_VIEWABILITY),this.injectorPlayerEmitter.off(n.VIEWABLE),this.injectorPlayerEmitter.off(n.VIEWABILITY_AVAILABLE),this.injectorPlayerEmitter.off(n.VIEWABILITY_NOT_AVAILABLE),this.trackedIabViewability||(this.viewabilityAvailable?this.observers.forEach(function(e){var t;null!==(t=e.notifyIABNotViewable)&&void 0!==t&&t.call(e)}):this.observers.forEach(function(e){var t;null!==(t=e.notifyIABViewUndetermined)&&void 0!==t&&t.call(e)})))},s.prototype.availabilityReceived=function(e){this.viewabilityAvailable=e},s);function s(){var e=a.call(this)||this;return e.injectorPlayerEmitter=window.injectorPlayerEmitter,e.started=!1,e.trackedIabViewability=!1,e.viewabilityAvailable=!1,e.injectorPlayerEmitter.on(n.VIEWABILITY_AVAILABLE,function(){e.availabilityReceived(!0)}),e.injectorPlayerEmitter.on(n.VIEWABILITY_NOT_AVAILABLE,function(){e.availabilityReceived(!1)}),e}t.InjectorIABViewabilityEvaluator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewabilityFactory=void 0;var n=r(1),i=r(193),o=r(194);(t.ViewabilityFactory||(t.ViewabilityFactory={})).build=function(e){switch(e){case n.Constants.ControllerType.INTEXT:return new o.StartingFixedViewabilityEvaluator(new i.InjectorViewabilityEvaluator,"inj::droppeddown");case n.Constants.ControllerType.OVERLAY:return new o.StartingFixedViewabilityEvaluator(new i.InjectorViewabilityEvaluator,"inj::modalshown");default:return new i.InjectorViewabilityEvaluator}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InjectorViewabilityEvaluator=void 0;var n,i=r(0),o=r(13);(r=n=n||{}).START_VIEWABILITY="cmd::startViewability",r.STOP_VIEWABILITY="cmd::stopViewability",r.VIEWABILITY="inj::viewability",r.VIEWABILITY_AVAILABLE="inj::viewabilityAvailable",r.VIEWABILITY_NOT_AVAILABLE="inj::viewabilityNotAvailable";var a,i=(a=o.Observable,i.__extends(s,a),s.prototype.start=function(){var e=this;this.executing||(this.injectorPlayerEmitter.on(n.VIEWABILITY,function(r){null!=r&&(e.currentValue=r,e.observers.forEach(function(e){var t;null!==(t=e.notifyViewability)&&void 0!==t&&t.call(e,r)}))}),this.injectorPlayerEmitter.on(n.VIEWABILITY_AVAILABLE,function(){e.availabilityReceived(!0)}),this.injectorPlayerEmitter.on(n.VIEWABILITY_NOT_AVAILABLE,function(){e.availabilityReceived(!1)}),this.injectorPlayerEmitter.emitSync(n.START_VIEWABILITY),this.executing=!0)},s.prototype.stop=function(){this.executing&&(this.injectorPlayerEmitter.emit(n.STOP_VIEWABILITY),this.executing=!1,this.cleanState())},s.prototype.getCurrentValue=function(){if(!this.executing)throw new Error("Evaluator must be started first");return this.currentValue},s.prototype.isViewabilityAvailable=function(){var t=this;return this.executing?null!=this.viewabilityAvailable?Promise.resolve(this.viewabilityAvailable):(null==this.firstAvailablePromise&&(this.firstAvailablePromise=new Promise(function(e){t.firstAvailablePromiseResolve=e})),this.firstAvailablePromise):Promise.reject("Evaluator must be started first")},s.prototype.availabilityReceived=function(e){this.viewabilityAvailable=e,null!=this.firstAvailablePromiseResolve&&(this.firstAvailablePromiseResolve(e),this.firstAvailablePromiseResolve=void 0)},s.prototype.cleanState=function(){this.injectorPlayerEmitter.off(n.VIEWABILITY),this.injectorPlayerEmitter.off(n.VIEWABILITY_AVAILABLE),this.injectorPlayerEmitter.off(n.VIEWABILITY_NOT_AVAILABLE),this.currentValue=void 0,this.viewabilityAvailable=void 0},s);function s(){var e=a.call(this)||this;return e.injectorPlayerEmitter=window.injectorPlayerEmitter,e.executing=!1,e}t.InjectorViewabilityEvaluator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StartingFixedViewabilityEvaluator=void 0;var n,i=r(0),o=r(1),r=r(13),o=(n=r.Observable,i.__extends(a,n),a.prototype.start=function(){var e=this;this.started||(window.injectorPlayerEmitter.once(this.event,function(){e.sendFixedViewability=!1}),this.viewabilityEvaluator.start(),this.started=!0)},a.prototype.stop=function(){this.started&&(this.viewabilityEvaluator.stop(),this.started=!1)},a.prototype.getCurrentValue=function(){if(!this.started)throw new Error("Evaluator must be started first");return this.sendFixedViewability?a.FIXED_VIEWABILITY:this.viewabilityEvaluator.getCurrentValue()},a.prototype.isViewabilityAvailable=function(){return this.started?this.viewabilityEvaluator.isViewabilityAvailable():Promise.reject("Evaluator must be started first")},a.prototype.notifyViewability=function(e){var r=this.sendFixedViewability?a.FIXED_VIEWABILITY:e;this.observers.forEach(function(e){var t;null!==(t=e.notifyViewability)&&void 0!==t&&t.call(e,r)})},a.FIXED_VIEWABILITY={focus:!0,perc:100,reason:o.Constants.ViewabilityReason.FIXED_VIEWABILITY},a);function a(e,t){var r=n.call(this)||this;return r.viewabilityEvaluator=e,r.viewabilityEvaluator.addObserver(r),r.event=t,r.sendFixedViewability=!0,r.started=!1,r}t.StartingFixedViewabilityEvaluator=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommunicationAdapterFactory=void 0;var n=r(1),i=r(196),o=r(197),a=r(198),s=r(199);(t.CommunicationAdapterFactory||(t.CommunicationAdapterFactory={})).build=function(e){if(e.environment.zone.controller===n.Constants.ControllerType.INTEXT)return new a.IntextCommunicationAdapter;if(e.environment.zone.controller===n.Constants.ControllerType.INSTREAM)return new o.InstreamCommunicationAdapter(e.settings.skip_delay);if(e.environment.zone.controller===n.Constants.ControllerType.OVERLAY)return new s.OverlayCommunicationAdapter(e.settings.enable_inplayer_skip?-1:e.settings.skip_delay,!e.settings.enable_inplayer_skip||!e.settings.enable_inplayer_branding,!e.settings.enable_inplayer_branding);if(e.environment.zone.controller===n.Constants.ControllerType.CONTENTS)return new i.ContentCommunicationAdapter;throw new Error("Adapter of type "+e.environment.zone.controller+" is not yet supported")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentCommunicationAdapter=t.CONTENT_INJECTOR_EVENTS=void 0;var n,i=r(0),o=r(4),r=r(22);new o.Console("ContentCommunicationAdapter");(n=t.CONTENT_INJECTOR_EVENTS||(t.CONTENT_INJECTOR_EVENTS={})).PLAYER_READY="pl::playerReady";var a,i=(a=r.CommunicationAdapter,i.__extends(s,a),s.prototype.init=function(e){this.injectorPlayerEmitter.emit(n.PLAYER_READY),e.activate()},s.prototype.deactivate=function(){},s);function s(){return a.call(this)||this}t.ContentCommunicationAdapter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstreamCommunicationAdapter=t.INSTREAM_INJECTOR_EVENTS=void 0;var n,i=r(0),o=r(22);(r=n=t.INSTREAM_INJECTOR_EVENTS||(t.INSTREAM_INJECTOR_EVENTS={})).PLAYER_READY="pl::playerReady",r.CONTROLLER_LOADED="event::controllerLoaded",r.AD_LOADED="event::adLoaded",r.DURATION_CHANGE="event::durationchange",r.IMPRESSION="event::impression",r.SKIP="event::skip",r.COMPLETED="event::complete",r.TIME_UPDATE="event::timeupdate",r.START="event::start",r.FIRST_QUARTILE="event::firstQuartile",r.MIDPOINT="event::midpoint",r.THIRD_QUARTILE="event::thirdQuartile",r.CLICK_THROUGH="event::clickthrough",r.PAUSE="event::pause",r.RESUME="event::resume",r.ERROR="event::error",r.MUTE="event::mute",r.UNMUTE="event::unmute",r.SET_INTERACTION_MODE="event::setInteractionMode",r.REMOVE="cmd::remove",r.SHOW_SKIP="cmd::showskip",r.START_AD="cmd::startAd",r.STOP_AD="cmd::stopAd",r.SKIP_AD="cmd::skipAd",r.COMPLETE="cmd::complete",r.RESUME_AD="cmd::resumeAd",r.PAUSE_AD="cmd::pauseAd",r.SET_AD_VOLUME="cmd::setAdVolume";var a,i=(a=o.CommunicationAdapter,i.__extends(s,a),s.prototype.init=function(t){this.active=!0,this.injectorPlayerEmitter.on(n.START_AD,function(){t.activate()}),this.injectorPlayerEmitter.on(n.STOP_AD,function(){t.closePlayerRequested()}),this.injectorPlayerEmitter.on(n.SKIP_AD,function(){t.closePlayerRequested()}),this.injectorPlayerEmitter.on(n.COMPLETE,function(){t.closePlayerRequested()}),this.injectorPlayerEmitter.on(n.RESUME_AD,function(){t.resume()}),this.injectorPlayerEmitter.on(n.PAUSE_AD,function(){t.pause()}),this.injectorPlayerEmitter.on(n.SET_AD_VOLUME,function(e){null!=e&&t.setVolume(e.volume)}),this.injectorPlayerEmitter.emit(n.CONTROLLER_LOADED),this.injectorPlayerEmitter.emit(n.PLAYER_READY),0===this.skipDelay&&(this.skipDelay=void 0,this.injectorPlayerEmitter.emit(n.SHOW_SKIP))},s.prototype.deactivate=function(){this.active=!1,this.injectorPlayerEmitter.off(n.START_AD),this.injectorPlayerEmitter.off(n.STOP_AD),this.injectorPlayerEmitter.off(n.SKIP_AD),this.injectorPlayerEmitter.off(n.COMPLETE),this.injectorPlayerEmitter.off(n.RESUME_AD),this.injectorPlayerEmitter.off(n.PAUSE_AD),this.injectorPlayerEmitter.off(n.SET_AD_VOLUME)},s.prototype.notifyStarted=function(){this.active&&this.injectorPlayerEmitter.emit(n.START)},s.prototype.notifyImpression=function(){this.active&&(this.impression=!0,this.injectorPlayerEmitter.emit(n.IMPRESSION))},s.prototype.notifyAdLoaded=function(e){this.active&&this.injectorPlayerEmitter.emit(n.AD_LOADED)},s.prototype.notifyFailed=function(){this.active&&!this.skipped&&this.injectorPlayerEmitter.emit(n.ERROR)},s.prototype.notifySkip=function(){this.skipped=!0,this.injectorPlayerEmitter.emit(n.SKIP)},s.prototype.notifyProgress=function(e){null!=this.skipDelay&&e>=this.skipDelay&&(this.skipDelay=void 0,this.injectorPlayerEmitter.emit(n.SHOW_SKIP));e={data:e/1e3};this.injectorPlayerEmitter.emit(n.TIME_UPDATE,e)},s.prototype.notifyDurationChange=function(e){e={data:e/1e3};this.injectorPlayerEmitter.emit(n.DURATION_CHANGE,e)},s.prototype.notifyFirstQuartile=function(){this.injectorPlayerEmitter.emit(n.FIRST_QUARTILE)},s.prototype.notifyMidPoint=function(){this.injectorPlayerEmitter.emit(n.MIDPOINT)},s.prototype.notifyThirdQuartile=function(){this.injectorPlayerEmitter.emit(n.THIRD_QUARTILE)},s.prototype.notifyComplete=function(){this.injectorPlayerEmitter.emit(n.COMPLETED)},s.prototype.notifyRemove=function(){this.active&&this.cleanUp()},s.prototype.notifyMuted=function(){this.injectorPlayerEmitter.emit(n.MUTE)},s.prototype.notifyUnmuted=function(){this.injectorPlayerEmitter.emit(n.UNMUTE)},s.prototype.notifyPaused=function(){this.injectorPlayerEmitter.emit(n.PAUSE)},s.prototype.notifyResumed=function(){this.injectorPlayerEmitter.emit(n.RESUME)},s.prototype.notifyClick=function(){this.injectorPlayerEmitter.emit(n.CLICK_THROUGH)},s.prototype.notifyError=function(e){this.injectorPlayerEmitter.emit(n.ERROR)},s.prototype.notifySetInteractionMode=function(){this.injectorPlayerEmitter.emit(n.SET_INTERACTION_MODE)},s.prototype.cleanUp=function(){this.deactivate();var e={impression:this.impression,skipped:this.skipped};this.injectorPlayerEmitter.emit(n.REMOVE,e)},s);function s(e){var t=a.call(this)||this;return t.active=!1,t.skipDelay=0<=e?e:void 0,t.impression=!1,t.skipped=!1,t}t.InstreamCommunicationAdapter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntextCommunicationAdapter=t.INTEXT_INJECTOR_EVENTS=void 0;var n,i=r(0),o=r(3),a=r(22);(r=n=t.INTEXT_INJECTOR_EVENTS||(t.INTEXT_INJECTOR_EVENTS={})).PLAYER_READY="pl::playerReady",r.DROPPABLE="inj::droppable",r.DROP_DOWN="cmd::dropdown",r.DROPPED_DOWN="inj::droppeddown",r.PULLUP="cmd::pullup",r.PULLEDUP="inj::pulledup",r.REMOVE="cmd::remove";var s,i=(s=a.CommunicationAdapter,i.__extends(c,s),c.prototype.init=function(e){this.active=!0,this.injectorPlayerEmitter.on(n.DROPPABLE,function(){e.activate()}),this.injectorPlayerEmitter.on(n.DROPPED_DOWN,function(){e.shown()}),this.injectorPlayerEmitter.on(n.PULLEDUP,function(){e.hidden()}),this.injectorPlayerEmitter.emit(n.PLAYER_READY)},c.prototype.deactivate=function(){this.active=!1,this.injectorPlayerEmitter.off(n.DROPPABLE),this.injectorPlayerEmitter.off(n.DROPPED_DOWN),this.injectorPlayerEmitter.off(n.PULLEDUP)},c.prototype.notifyAdLoaded=function(e){this.dimensions=e},c.prototype.notifyStarted=function(){var e;this.active&&null!=this.dimensions&&(s.prototype.notifyStarted.call(this),e=o.Utils.getAspectRatio(this.dimensions),this.injectorPlayerEmitter.emit(n.DROP_DOWN,{value:e.value,category:e.category,width:this.dimensions.width,height:this.dimensions.height}))},c.prototype.notifyEnded=function(){var e;this.active&&(e={adFilled:!0,skipped:this.skipped,eventsFlushed:!1},this.injectorPlayerEmitter.emitSync(n.PULLUP,e))},c.prototype.notifyFailed=function(){var e;this.active&&(e={adFilled:!1,skipped:this.skipped,eventsFlushed:!1},this.injectorPlayerEmitter.emitSync(n.PULLUP,e))},c.prototype.notifySkip=function(){this.skipped=!0},c.prototype.notifyRemove=function(){this.active&&this.cleanUp()},c.prototype.cleanUp=function(){this.deactivate(),this.injectorPlayerEmitter.emit(n.REMOVE)},c);function c(){var e=s.call(this)||this;return e.active=!1,e.skipped=!1,e}t.IntextCommunicationAdapter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayCommunicationAdapter=t.OVERLAY_INJECTOR_EVENTS=void 0;var n,i=r(0),o=r(3),a=r(22);(r=n=t.OVERLAY_INJECTOR_EVENTS||(t.OVERLAY_INJECTOR_EVENTS={})).PLAYER_READY="pl::playerReady",r.SHOW_BRANDING="cmd::showbranding",r.SHOW_TOP_BAR="cmd::showtopbar",r.SHOW_SKIP="cmd::showskip",r.SHOW_MODAL="cmd::showmodal",r.HIDE_MODAL="cmd::hidemodal",r.REMOVE="cmd::remove",r.MODAL_SHOWN="inj::modalshown",r.MODAL_HIDDEN="inj::modalhidden",r.CLOSE="inj::close";var s,i=(s=a.CommunicationAdapter,i.__extends(c,s),c.prototype.init=function(e){this.active=!0,this.injectorPlayerEmitter.on(n.MODAL_SHOWN,function(){e.shown()}),this.injectorPlayerEmitter.on(n.CLOSE,function(){e.closePlayerRequested()}),this.injectorPlayerEmitter.on(n.MODAL_HIDDEN,function(){e.hidden()}),this.showBranding&&this.injectorPlayerEmitter.emit(n.SHOW_BRANDING),this.showTopBar&&this.injectorPlayerEmitter.emit(n.SHOW_TOP_BAR),this.injectorPlayerEmitter.emit(n.PLAYER_READY),0===this.skipDelay&&(this.skipDelay=void 0,this.injectorPlayerEmitter.emit(n.SHOW_SKIP)),e.activate()},c.prototype.deactivate=function(){this.active=!1,this.injectorPlayerEmitter.off(n.MODAL_SHOWN),this.injectorPlayerEmitter.off(n.CLOSE),this.injectorPlayerEmitter.off(n.HIDE_MODAL)},c.prototype.notifyAdLoaded=function(e){e=o.Utils.getAspectRatio(e);this.injectorPlayerEmitter.emit(n.SHOW_MODAL,e)},c.prototype.notifyStarted=function(){this.active&&(this.started=!0,s.prototype.notifyStarted.call(this))},c.prototype.notifyEnded=function(){this.active&&this.injectorPlayerEmitter.emit(n.HIDE_MODAL)},c.prototype.notifyFailed=function(){this.active&&this.injectorPlayerEmitter.emit(n.HIDE_MODAL)},c.prototype.notifySkip=function(){this.skipped=!0},c.prototype.notifyProgress=function(e){null!=this.skipDelay&&e>=this.skipDelay&&(this.skipDelay=void 0,this.injectorPlayerEmitter.emit(n.SHOW_SKIP))},c.prototype.notifyRemove=function(){this.active&&this.cleanUp()},c.prototype.cleanUp=function(){this.deactivate();var e={impression:this.started,skipped:this.skipped};this.injectorPlayerEmitter.emit(n.REMOVE,e)},c);function c(e,t,r){var n=s.call(this)||this;return n.active=!1,n.skipDelay=0<=e?e:void 0,n.showTopBar=t,n.showBranding=r,n.started=!1,n.skipped=!1,n}t.OverlayCommunicationAdapter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalResourcesBundle=void 0;var n=(i.prototype.getOmidServiceScripts=function(){if(void 0!==this.omClient&&void 0!==this.omWeb)return{omWeb:this.omWeb,omClient:this.omClient}},i);function i(e){this.omClient=e["omweb.min.js"],this.omWeb=e["omid-session-client.min.js"]}t.ExternalResourcesBundle=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APSLibManager=void 0;new(r(4).Console)("APSLibManager");n.prototype.fetchBids=function(){var t=this;null==this.bidPromise&&(this.bidPromise=new Promise(function(e){t.apstag.fetchBids(t.getBidsConfig(),e)}))},n.prototype.getBids=function(){return null==this.bidPromise&&this.fetchBids(),this.bidPromise},n.prototype.load=function(e){function t(e,t){n[r]._Q.push([e,t])}var r,n,i,o;return r="apstag",n=window,o=document,n[r]||(n[r]={init:function(){t("i",arguments)},fetchBids:function(){t("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(i=o.createElement("script")).async=!0,i.src="//c.amazon-adsystem.com/aax2/apstag.js",(o=o.getElementsByTagName("script")[0]).parentNode.insertBefore(i,o)),apstag.init(e),apstag},n.DEFAULT_PUB_ID="3854",r=n;function n(e){this.apstag=this.load(e)}t.APSLibManager=r},function(e,t,r){"use strict";var o=r(222),i=r(223),a=o.checkVPAIDInterface,c=r(203),s=(o.METHODS,"AdClickThru"),d=o.EVENTS.filter(function(e){return e!=s});function u(e,t,r,n){this._isValid=a(e),this._isValid&&(this._creative=e,this._el=t,this._videoEl=r,this._iframe=n,this._subscribers=new i,c.setFullSizeStyle(t),function(){{var t,r;d.forEach(function(e){this._creative.subscribe(function(e){this._subscribers.trigger(e,Array.prototype.slice(arguments,1))}.bind(this,e),e)}.bind(this)),this._creative.subscribe(function(e,t,r){this._subscribers.triggerSync(s,[e,t,r])}.bind(this),s),this._videoEl&&(t=this._iframe.contentDocument.documentElement,r=this._videoEl,t.addEventListener("click",function(e){e.target===t&&r.click()}))}}.call(this))}function l(e,t,r,n){e?e(r,n):r&&t.trigger("AdError",[r])}(u.prototype=Object.create(o.prototype)).isValidVPAIDAd=function(){return this._isValid},o.METHODS.forEach(function(i){-1===["subscribe","unsubscribe","initAd"].indexOf(i)&&(u.prototype[i]=function(){var e=o.prototype[i].length,r=Array.prototype.slice.call(arguments),n=e===r.length?r.pop():void 0;setTimeout(function(){var e,t=null;try{e=this._creative[i].apply(this._creative,r)}catch(e){t=e}l(n,this._subscribers,t,e)}.bind(this),0)})}),u.prototype.initAd=function(e,r,n,i,o,a,s){o=o||{},a=c.extend({slot:this._el,videoSlot:this._videoEl},a||{}),setTimeout(function(){var t;try{this._creative.initAd(e,r,n,i,o,a)}catch(e){t=e}l(s,this._subscribers,t)}.bind(this),0)},u.prototype.subscribe=function(e,t,r){this._subscribers.subscribe(t,e,r)},u.prototype.unsubscribe=function(e,t){this._subscribers.unsubscribe(t,e)},u.prototype.on=u.prototype.subscribe,u.prototype.off=u.prototype.unsubscribe,o.GETTERS.forEach(function(n){u.prototype[n]=function(r){setTimeout(function(){var e,t=null;try{e=this._creative[n]()}catch(e){t=e}l(r,this._subscribers,t,e)}.bind(this),0)}}),u.prototype.setAdVolume=function(r,n){setTimeout(function(){var e,t=null;try{this._creative.setAdVolume(r),e=this._creative.getAdVolume()}catch(e){t=e}t=t||c.validate(e===r,"failed to apply volume: "+r),l(n,this._subscribers,t,e)}.bind(this),0)},u.prototype._destroy=function(){this.stopAd(),this._subscribers.unsubscribeAll()},e.exports=u},function(e,t,r){"use strict";function i(){}function n(e,t,r){var n=document.createElement("iframe");return n.src=t||"about:blank",n.marginWidth="0",n.marginHeight="0",n.frameBorder="0",n.width="100%",n.height="100%",n.allow="autoplay; fullscreen",o(n),r&&(n.style.zIndex=r),n.setAttribute("SCROLLING","NO"),e.innerHTML="",e.appendChild(n),n}function o(e){e&&(e.style.position="absolute",e.style.left="0",e.style.top="0",e.style.margin="0px",e.style.padding="0px",e.style.border="none",e.style.width="100%",e.style.height="100%")}function a(r,n){return Object.keys(n).forEach(function(e){var t=n[e];r=r.replace(new RegExp("{{"+e+"}}","g"),t)}),r}function s(e,t){var r=e.contentDocument;return null==r&&(r=e.contentWindow&&e.contentWindow.document),!!r&&(r.open("text/html","replace"),r.write(t),r.close(),!0)}e.exports={noop:i,validate:function(e,t){return e?null:new Error(t)},callbackTimeout:function(e,t,r){var n=setTimeout(function(){t=i,r()},e);return function(){t.apply(this,arguments)&&clearTimeout(n)}},createElementInEl:function(e,t,r){if(void 0!==e){t=document.createElement(t);return r&&(t.id=r),e.appendChild(t),t}},createIframeWithContent:function(e,t,r){return s(e=n(e,null,r.zIndex),a(t,r)),e},createIframe:n,setFullSizeStyle:o,simpleTemplate:a,setIframeContent:s,extend:function(t,r){return Object.keys(r).forEach(function(e){t[e]=r[e]}),t},unique:function(e){var t=-1;return function(){return e+"_"+ ++t}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMAPlayer=void 0;var n,i=r(0),o=r(4),a=r(3),s=r(229),c=r(29),d=r(205),i=(new o.Console("IMAPlayer"),n=c.AdPlayer,i.__extends(u,n),u.prototype.skipAd=function(){this.adsManager.getAdSkippableState()?this.adsManager.skip():(this.handleSkipped(),this.handleAllAdsCompleted())},u.prototype.play=function(){this.adsManager.resume()},u.prototype.pause=function(){this.adsManager.pause()},u.prototype.setPlaybackRate=function(e){},u.prototype.isMuted=function(){return 0===this.adsManager.getVolume()},u.prototype.mute=function(){this.adsManager.setVolume(0)},u.prototype.unmute=function(){this.adsManager.setVolume(1)},u.prototype.openLandingPage=function(){},u.prototype.notifyResize=function(e){var t;null!==(t=this.adsManager)&&void 0!==t&&t.resize(e.width,e.height,google.ima.ViewMode.NORMAL)},u.prototype.getDimensions=function(){return null!=this.imaAdUnit?{width:this.imaAdUnit.getVastMediaWidth(),height:this.imaAdUnit.getVastMediaHeight()}:this.adSlot.getCurrentDimensions()},u.prototype.internalLoad=function(n){var i=this;return this.adSlot.showSlot(),new Promise(function(e,t){i.adsManager.setVolume(!0===n.startMuted?0:1),i.lastVolume=i.adsManager.getVolume(),i.adsManagerEventManager.once(google.ima.AdEvent.Type.LOADED,function(){i.adsManagerEventManager.off(),i.adSlot.addObserver(i),e()}),i.adsManagerEventManager.once(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){i.adSlot.resetSlot(),t(i.handleError(e))});var r=i.adSlot.getCurrentDimensions();i.adsManager.init(r.width,r.height,google.ima.ViewMode.NORMAL)})},u.prototype.internalRunAd=function(){var n=this;if(this.isAborted())return Promise.reject(new Error(c.AdPlayer.PLAYER_ABORTED_ERROR_MESSAGE));this.setupManagerListeners();var e=new Promise(function(e){n.adsManagerEventManager.once(google.ima.AdEvent.Type.STARTED,function(){n.observers.forEach(function(e){var t;null!==(t=e.notifyStart)&&void 0!==t&&t.call(e,0)}),e()})}),t=new Promise(function(t,r){n.adsManagerEventManager.once(google.ima.AdEvent.Type.IMPRESSION,function(e){n.adsManagerEventManager.off(google.ima.AdErrorEvent.Type.AD_ERROR),n.setupErrorListener(),n.imaAdUnit=e.getAd();var r=new s.AdInfoIMAAdapter({imaAdUnit:n.imaAdUnit,uiExt:n.uiExt,shareUrl:n.shareUrl,fullViewability:n.fullViewability,loader:n.loader,dp4:n.dp4});n.observers.forEach(function(e){var t;null!==(t=e.notifyImpression)&&void 0!==t&&t.call(e,0,r),null!==(t=e.notifyDurationChange)&&void 0!==t&&t.call(e,n.getCurrentTime(),n.getDuration())}),n.notifyResize(n.adSlot.getCurrentDimensions()),t(r)}),n.adsManagerEventManager.once(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){n.adSlot.removeObserver(n),n.adSlot.resetSlot(),r(n.handleError(e))})});return Promise.all([e,t]).then(function(){n.observers.forEach(function(e){var t;null!==(t=e.notifyPlay)&&void 0!==t&&t.call(e,0)})}).catch(function(){}),this.adsManager.start(),t},u.prototype.cleanUp=function(){this.adSlot.removeObserver(this),this.adsManagerEventManager.off(),this.adsManager.destroy(),this.adSlot.resetSlot()},u.prototype.setupErrorListener=function(){var t=this;this.adsManagerEventManager.on(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){t.handleError(e)})},u.prototype.setupManagerListeners=function(){var r=this;this.adsManagerEventManager.on(google.ima.AdEvent.Type.FIRST_QUARTILE,function(){r.observers.forEach(function(e){var t;null!==(t=e.notifyFirstQuartile)&&void 0!==t&&t.call(e,r.getCurrentTime())})}),this.adsManagerEventManager.on(google.ima.AdEvent.Type.MIDPOINT,function(){r.observers.forEach(function(e){var t;null!==(t=e.notifyMidPoint)&&void 0!==t&&t.call(e,r.getCurrentTime())})}),this.adsManagerEventManager.on(google.ima.AdEvent.Type.THIRD_QUARTILE,function(){r.observers.forEach(function(e){var t;null!==(t=e.notifyThirdQuartile)&&void 0!==t&&t.call(e,r.getCurrentTime())})}),this.adsManagerEventManager.on(google.ima.AdEvent.Type.COMPLETE,function(){r.observers.forEach(function(e){var t;null!==(t=e.notifyComplete)&&void 0!==t&&t.call(e,r.getDuration())})}),this.adsManagerEventManager.on(google.ima.AdEvent.Type.RESUMED,function(){r.isPausedState&&(r.isPausedState=!1,r.observers.forEach(function(e){var t;null!==(t=e.notifyResumed)&&void 0!==t&&t.call(e,r.getCurrentTime())}))}),this.adsManagerEventManager.on(google.ima.AdEvent.Type.PAUSED,function(){r.isPausedState||(r.isPausedState=!0,r.observers.forEach(function(e){var t;null!==(t=e.notifyPaused)&&void 0!==t&&t.call(e,r.getCurrentTime())}))}),this.adsManagerEventManager.on(google.ima.AdEvent.Type.CLICK,function(){r.observers.forEach(function(e){var t;null!==(t=e.notifyClick)&&void 0!==t&&t.call(e,r.getCurrentTime())}),r.mute()}),this.adsManagerEventManager.on(google.ima.AdEvent.Type.SKIPPED,function(){r.handleSkipped()}),this.adsManagerEventManager.on(google.ima.AdEvent.Type.VOLUME_MUTED,function(){r.lastVolume=0,r.observers.forEach(function(e){var t;null!==(t=e.notifyMuted)&&void 0!==t&&t.call(e,r.getCurrentTime())})}),this.adsManagerEventManager.on(google.ima.AdEvent.Type.VOLUME_CHANGED,function(){var e=r.adsManager.getVolume();0===r.lastVolume&&0<e&&r.observers.forEach(function(e){var t;null!==(t=e.notifyUnmuted)&&void 0!==t&&t.call(e,r.getCurrentTime())}),r.lastVolume=e}),this.adsManagerEventManager.on(google.ima.AdEvent.Type.DURATION_CHANGE,function(){r.observers.forEach(function(e){var t;null!==(t=e.notifyDurationChange)&&void 0!==t&&t.call(e,r.getCurrentTime(),r.getDuration())})}),this.adsManagerEventManager.on(google.ima.AdEvent.Type.AD_PROGRESS,function(){r.observers.forEach(function(e){var t;null!==(t=e.notifyProgress)&&void 0!==t&&t.call(e,r.getCurrentTime())})}),this.adsManagerEventManager.on(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(){r.handleAllAdsCompleted()})},u.prototype.getCurrentTime=function(){if(null!=this.imaAdUnit){var e=this.getDuration(),t=a.Utils.toMs(this.adsManager.getRemainingTime());if(0<e&&0<t)return e-t}return-1},u.prototype.getDuration=function(){return null!=this.imaAdUnit?a.Utils.toMs(this.imaAdUnit.getDuration()):-1},u.prototype.handleError=function(e){var r=this;google.ima.AdErrorEvent.Type.AD_ERROR,this.adsManagerEventManager.off();var n=a.Utils.toCodedError({error:e});return this.observers.forEach(function(e){var t;null!==(t=e.notifyError)&&void 0!==t&&t.call(e,r.getCurrentTime(),n)}),n},u.prototype.handleSkipped=function(){var r=this;this.observers.forEach(function(e){var t;null!==(t=e.notifySkip)&&void 0!==t&&t.call(e,r.getCurrentTime())})},u.prototype.handleAllAdsCompleted=function(){this.cleanUp(),this.observers.forEach(function(e){var t;null!==(t=e.notifyEnded)&&void 0!==t&&t.call(e)})},u);function u(e){var t,r=n.call(this)||this;return r.adsManager=e.adsManager,r.adSlot=e.adSlot,r.uiExt=null===(t=null===(t=e.parsedVast)||void 0===t?void 0:t.ad[0].inline.extensions)||void 0===t?void 0:t.ui,r.shareUrl=null===(t=null===(t=e.parsedVast)||void 0===t?void 0:t.ad[0].inline.extensions)||void 0===t?void 0:t.shareUrl,r.adsManagerEventManager=new d.IMAEventManager(r.adsManager),r.fullViewability=e.fullViewability,r.dp4=e.dp4,r.imaAdUnit=null,r.lastVolume=-1,r.isPausedState=!1,r.loader=e.loader,r}t.IMAPlayer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMAEventManager=void 0;var n,i=r(0),r=r(82),i=(n=r.EventManager,i.__extends(o,n),o.prototype.addEventListener=function(e,t){this.eventTarget.addEventListener(e,t,!1)},o.prototype.removeEventListener=function(e,t){this.eventTarget.removeEventListener(e,t,!1)},o);function o(e){var t=n.call(this)||this;return t.eventTarget=e,t}t.IMAEventManager=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrebidConstants=void 0,(t=t.PrebidConstants||(t.PrebidConstants={})).DEBUG=!1,t.UNIT_CODE="prebid-video-unit",t.DEFAULT_ADUNIT_SIZE=[640,480],t.TIMEOUT=3e3,t.MAX_DURATION=60,t.WINNERS_CPM_CUTOFF_RATIO=0},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLVideoElementUtils=void 0;var n=r(7),i=r(3);function o(e){e=e.play();return i.Utils.isThenable(e)?e:Promise.resolve()}(t=t.HTMLVideoElementUtils||(t.HTMLVideoElementUtils={})).alwaysThenablePlay=o,t.safeSetPlaybackRate=function(e,t,r){t!==e.playbackRate&&(r&&!e.paused?(e.pause(),e.playbackRate=t,o(e).catch(function(e){n.Sentry.reportError(new Error("Unable to resume after changing playback rate: "+e))})):e.playbackRate=t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdSlot=void 0;var n,i=r(0),o=r(12),r=r(13),i=(n=r.Observable,i.__extends(a,n),a.prototype.addObserver=function(e){n.prototype.addObserver.call(this,e),1===this.observers.length&&this.startListeningSlotEvents()},a.prototype.removeObserver=function(e){n.prototype.removeObserver.call(this,e),0===this.observers.length&&this.stopListeningSlotEvents()},a.prototype.startListeningSlotEvents=function(){var e=this;this.windowEventManager.on("resize",function(){var t=e.getCurrentDimensions();e.observers.forEach(function(e){e.notifyResize(t)})})},a.prototype.stopListeningSlotEvents=function(){this.windowEventManager.off()},a);function a(){var e=n.call(this)||this;return e.windowEventManager=new o.DomEventManager(window),e}t.AdSlot=i},function(e,t,r){r(97),r(99),r(210),e.exports=r(247)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t=r(102),r=r(211);window.Player=r.PlayerDefault,window.Ecg=t.Ecg,window.ecg=t.ecg},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerDefault=void 0;var n,i=r(0),a=r(103),s=r(212),c=r(3),d=r(35),u=r(123),l=r(213),p=r(240),f=r(242),r=r(188),i=(n=r.Player,i.__extends(o,n),o.prototype.getFormatController=function(e,t,r,n,i,o){r=new a.AnalyticsFactory(e,r,n,i,e.contents[0].id);return u.FormatControllerFactory.build(e,t,n,i,new l.LoaderFactoryDefault({slotManager:new f.AdSlotManager(c.Utils.isIOS(e.environment.client.os.family)),analyticsFactory:r,analyticsEndpoint:e.environment.client.endpoint_host,formatFamily:e.environment.zone.format_family,dp4Factory:new d.DP4Factory(e.environment.client.browser.family,c.Utils.toIDp4Config(e.settings.dp4)),dp4VastBuilder:new p.IMADP4VastBuilder(e.environment.client.os.family,e.extra.vpaid_url),adVerificationBuilder:new s.AdVerificationBuilder(e,o),schain:e.environment.publisher.schain,gdprApplies:e.environment.user.gdprApplies,consentString:e.environment.user.consentString,pageUrl:e.environment.client.page_url}),r)},o.prototype.getHTML=function(){return'<div id="js-vr-player" class="vr-player">\n    <div id="js-vr-responsive-container" class="vr-responsive-container">\n            <video id="js-vr-video" class="vr-video" preload="metadata" playsinline webkit-playsinline muted></video>\n            <div id="js-vr-vpaid-container" class="vr-vpaid-container"></div>\n            <div id="js-vr-ima-container" class="vr-ima-container"></div>\n        <div id="js-vr-click-cover" class="vr-click-cover"></div>\n        <div id="js-vr-ad-progressbar" class="vr-ad-progressbar">\n            <div class="vr-ad-progressbar__background">\n                <div id="js-vr-ad-progressbar__value" class="vr-ad-progressbar__value"></div>\n            </div>\n        </div>\n        <a id="js-vr-ad-logo" class="vr-ad-logo" target="_blank" rel="nofollow">\n            <div class="vr-ad-logo__text">ads by</div>\n            <div class="vr-ad-logo__img"></div>\n            <div class="vr-ad-logo__img-hover"></div>\n        </a>\n        <div class="vr-ad-controls">\n            <span id="js-vr-ad-controls__play" class="vr-ad-controls__play vr-ad-controls__play--paused"></span>\n            <span id="js-vr-ad-controls__mute" class="vr-ad-controls__mute vr-ad-controls__mute--muted"></span>\n        </div>\n        <div id="js-vr-social" class="vr-social">\n            <a id="js-vr-fb-share" class="vr-fb-share vr-social-ico" href="#"></a>\n            <a id="js-vr-tw-share" class="vr-tw-share vr-social-ico" href="#"></a>\n        </div>\n        \x3c!-- player UI --\x3e\n        <div id="js-vr-loader" class="vr-loader"></div>\n        <div id="js-vr-close" class="vr-close">\n            <div class="vr-close__icon-wrapper">\n                <span class="vr-close__icon"></span>\n            </div>\n            <div id="js-vr-close__text" class="vr-close__text"></div>\n        </div>\n    </div>\n</div>\n'},o);function o(){return null!==n&&n.apply(this,arguments)||this}t.PlayerDefault=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdVerificationBuilder=void 0;var n=(i.prototype.getOmidConfig=function(){if(void 0!==this.omidServiceScripts)return{pageUrl:this.pageUrl,adSettings:this.adSettings,omidServiceScripts:this.omidServiceScripts}},i);function i(e,t){this.pageUrl=e.environment.client.page_url,this.adSettings={isSkippable:e.settings.enable_inplayer_skip,skipOffset:e.settings.skip_delay},this.omidServiceScripts=t.getOmidServiceScripts()}t.AdVerificationBuilder=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoaderFactoryDefault=void 0;var n=r(214),i=r(37),o=r(201),a=r(215),s=r(218),c=r(219),d=r(231),u=r(40),l=r(233),p=r(184),f=r(235),h=r(206),v=r(238),r=(m.prototype.fromSource=function(e,t){t=this.getLoader(e,t);return null==e.total_timeout?t:new p.PlayerLoaderWithTimeout(t,e.total_timeout)},m.prototype.getIMALoader=function(e,t){return new d.IMALoader(e,t,this.slotManager.getIMASlot(),this.imaApiLoader,this.endpointHost)},m.prototype.getAutoLoader=function(e,t){return new c.AutoLoader({source:e,waterfallPosition:t,adSlotManager:this.slotManager,loaderFactory:this,analyticsFactory:this.analyticsFactory,dp4Factory:this.dp4Factory,dp4VastBuilder:this.dp4VastBuilder,adVerificationBuilder:this.adVerificationBuilder})},m.prototype.getPrebidClient=function(){return null==this.prebidClient&&(this.prebidClient=new f.PrebidClient(f.getPrebidJs(),{code:h.PrebidConstants.UNIT_CODE,dimensions:this.slotManager.getVPAIDSlot().getCurrentDimensions(),schain:this.schain,gdprApplies:this.gdprApplies,consentString:this.consentString,pageUrl:this.pageUrl})),this.prebidClient},m.prototype.getLoader=function(e,t){switch(e.tech){case"auto":return u.LoaderUtils.isOneTag(e.url)?this.getOneTagLoader(e,t):u.LoaderUtils.isAps(e.url)?this.getApsLoader(e,t):u.LoaderUtils.isPrebid(e)?this.getPrebidLoader(e,t):this.getAutoLoader(e,t);case"html5":return this.getIMALoader(e,t);default:return this.getAutoLoader(e,t)}},m.prototype.getApsLoader=function(e,t){if(u.LoaderUtils.hasPositiveMinCpm(e))throw new i.SourceNotSupported;return null==this.apsManager&&(this.apsManager=new s.APSVideoLibManager({pubID:o.APSLibManager.DEFAULT_PUB_ID,videoAdServer:"DFP"}),this.apsManager.fetchBids()),new a.APSLoader(e,t,this.apsManager,this)},m.prototype.getOneTagLoader=function(e,t){return new l.OneTagLoader(e,t,this,this.slotManager,this.formatFamily)},m.prototype.getPrebidLoader=function(e,t){return new v.PrebidLoader(e,t,this,this.getPrebidClient())},m);function m(e){this.slotManager=e.slotManager,this.imaApiLoader=new n.IMAApiLoader(this.slotManager.getIMASlot().getSlot(),this.slotManager.getIMASlot().getVideoElement()),this.analyticsFactory=e.analyticsFactory,this.endpointHost=e.analyticsEndpoint,this.formatFamily=e.formatFamily,this.dp4Factory=e.dp4Factory,this.dp4VastBuilder=e.dp4VastBuilder,this.adVerificationBuilder=e.adVerificationBuilder,this.schain=e.schain,this.gdprApplies=e.gdprApplies,this.consentString=e.consentString,this.pageUrl=e.pageUrl}t.LoaderFactoryDefault=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMAApiLoader=void 0;var n=r(1),r=(i.prototype.getGoogleAdsLoader=function(){return null==this.googleAdsLoader&&(this.googleAdsLoader=this.load()),this.googleAdsLoader},i.prototype.load=function(){var e=new google.ima.AdDisplayContainer(this.containerElement,this.videoElement);e.initialize();e=new google.ima.AdsLoader(e);return e.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),e.getSettings().setPlayerType(n.Constants.IMA_PLAYER_TYPE),e.getSettings().setDisableCustomPlaybackForIOS10Plus(!0),e},i);function i(e,t){this.containerElement=e,this.videoElement=t}t.IMAApiLoader=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APSLoader=void 0;var i,n=r(0),o=r(4),a=r(1),s=r(9),c=r(3),d=r(28),u=r(216),l=r(217),n=(new o.Console("APSLoader"),i=d.PlayerLoader,n.__extends(p,i),p.prototype.internalLoad=function(){var r=this;return null==this.source.url?Promise.reject(new Error("APSLoader require url to be defined")):this.apsManager.getBids().then(function(e){if(r.isAborted())return Promise.reject(new s.CodedError(4e4));if(0===e.length)return Promise.reject(new s.CodedError(a.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE));var t,e=e[0];if(r.isAmazonDebugMode())t={value:0};else{if(!l.isApsIdValid(e.amznbid))return e.amznbid,Promise.reject(new s.CodedError(20001));t={value:e.amznbid,encode:"apsvideo"}}return new u.APSLoaderResult(t,r.source,r.waterfallPosition,e,r.loaderFactory)})},p.prototype.isAmazonDebugMode=function(){return c.Utils.canAccessTopWindow()&&-1<window.top.location.href.indexOf("amzn_debug_mode")},p);function p(e,t,r,n){t=i.call(this,e,t)||this;return t.apsManager=r,t.loaderFactory=n,t}t.APSLoader=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APSLoaderResult=void 0;var n=r(0),i=r(3),r=(o.prototype.get=function(){var e={amzniid:this.winner.amzniid,amznbid:this.winner.amznbid},e=""+i.Utils.resolveMacros(this.source.url,e)+this.winner.qsParams,e=n.__assign(n.__assign({},this.source),{url:e});return this.loaderFactory.getAutoLoader(e,this.waterfallPosition).run().then(function(e){return e.get()})},o);function o(e,t,r,n,i){this.cpm=e,this.source=t,this.waterfallPosition=r,this.winner=n,this.loaderFactory=i}t.APSLoaderResult=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isApsIdValid=void 0;var n=r(0).__importDefault(r(81)),i=new Set;[23492603,36453181,149158052,154948194,173602770,204593688,240109178,262319339,275032225,278459897,365760210,386460120,391334348,395393394,401324456,414437825,441553230,454853534,456782506,469709393,479225288,489762192,521644059,533006021,551713179,563962191,596720911,601779333,603973084,622623420,631956457,643194300,656628837,678651896,693096910,732336713,745146911,772718931,782060773,809500299,825811129,862452394,881653158,905206091,935366989,956634688,959607099,1153372642,1190150287,1193494557,1207708598,1232684747,1248091295,1265395762,1300663864,1315583970,1323872252,1357639711,1360992741,1393726215,1401856501,1410644587,1412842612,1419894263,1441741899,1446289547,1459044783,1471196821,1473706187,1473930208,1479216921,1501901843,1506897106,1517244012,1531536925,1541044473,1550654035,1551822036,1584002788,1587821754,1914116126,1988503142,2110894023,2140466053,2173783666,2198923318,2230780525,2239155315,2261771174,2284525449,2429383460,3600151056,3643756478,3695942084,3733761330,3801143935,3808365474,3820468378,3840115952,3857979734,3876844844,3895314004,3907769740,3948572120,3957536030,3970961836,3972689283,4019972946,4033009267,4060721084,4069488651,4123613364,4137370790,4145190757,4162196570,4165176021,4175940261,4182658497,4198592607,4211183889].forEach(function(e){i.add(e)}),t.isApsIdValid=function(e){e=n.default(e);return i.has(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APSVideoLibManager=void 0;var n,i=r(0),r=r(201),i=(n=r.APSLibManager,i.__extends(o,n),o.prototype.getBidsConfig=function(){return{slots:[{slotID:"videoSlot",mediaType:"video"}]}},o);function o(){return null!==n&&n.apply(this,arguments)||this}t.APSVideoLibManager=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoLoader=void 0;var n,i=r(0),o=r(4),a=r(158),s=r(220),d=r(1),u=r(9),c=r(7),l=r(3),p=r(162),f=r(28),h=r(226),v=r(227),m=r(228),y=r(230),f=(new o.Console("AutoLoader"),n=f.PlayerLoader,i.__extends(g,n),g.isNotFlashMediaFile=function(e){return!d.Constants.FLASH_MIME_TYPES.has(e.mimeType)},g.compareMediaFiles=function(e,t){return g.evalMediaFilePriority(t)-g.evalMediaFilePriority(e)},g.evalMediaFilePriority=function(e){return g.isVPAID(e)?2:g.isMP4(e)?1:0},g.isVPAID=function(e){return d.Constants.VPAID_MIME_TYPES.has(e.mimeType)},g.isMP4=function(e){return d.Constants.MP4_MIME_TYPES.has(e.mimeType)},g.prototype.abort=function(){n.prototype.abort.call(this),null!=this.loader&&this.loader.abort()},g.prototype.internalLoad=function(){var r=this;return this.parseVAST().then(function(e){var t=r.getDP4Config(e.vast);if(t.isActive&&r.wasGoogleAdParametersVast)return r.handleIMADP4(e.vast,t);t=y.ImaSelectionUtils.getGoogleWrapperAdParametersVAST(e.vast);if(null!=t)return r.wasGoogleAdParametersVast=!0,r.handleGoogleAdParametersVast(t,e);t=y.ImaSelectionUtils.getAdTagUrlParameter(e);return null!=t?r.handleGoogleAdTagUrl(t):r.selectAndBuildPlayer(e)})},g.prototype.parseVAST=function(){return null!=this.parsedVast?Promise.resolve({vast:this.parsedVast,additionalData:{wrappersCount:this.previousWrappersCount}}):null!=this.source.xml?p.VastParser.fromString(this.source.xml).run():null!=this.source.url?p.VastParser.fromUrl(this.source.url).run():Promise.reject(new u.CodedError(2e4))},g.prototype.handleGoogleAdParametersVast=function(e,n){var i=this;return p.VastParser.fromString(e).run().then(function(e){var t=e.vast,r=n.vast.ad[0];return y.ImaSelectionUtils.enhanceInnerVast(t,r),i.parsedVast=t,i.previousWrappersCount=n.additionalData.wrappersCount+e.additionalData.wrappersCount,i.run()})},g.prototype.handleGoogleAdTagUrl=function(t){var r=this,e=i.__assign(i.__assign({},this.source),{url:this.removeChannelQueryParam(t),xml:void 0});return this.loader=this.loaderFactory.getIMALoader(e,this.waterfallPosition),this.loader.run().then(function(e){return new h.AdTagUrlResultDecorator(e,t.selectedAd,r.analyticsFactory)})},g.prototype.removeChannelQueryParam=function(e){return e.adTagUrl.replace(/\?channel=vastadp$/gi,"").replace(/\?channel=vastadp[&|;]/gi,"?").replace(/([&|;])channel=vastadp[&|;]/,function(e,t){return t}).replace(/[&|;]channel=vastadp$/gi,"")},g.prototype.handleIMADP4=function(e,t){var r=this;this.dp4VastBuilder.build(e,t);e=this.vastToString(e);return null==e?Promise.reject(new u.CodedError(2e4)):p.VastParser.fromString(e).run().then(function(e){e=i.__assign(i.__assign({},r.source),{vast:e.vast});return r.loader=r.loaderFactory.getIMALoader(e,r.waterfallPosition),r.loader.run().then(function(e){return new m.IMADP4ResultDecorator(e)})})},g.prototype.selectAndBuildPlayer=function(e){return this.isAborted()?Promise.reject(new u.CodedError(4e4)):!this.isViralize(e.vast)&&this.wasGoogleAdParametersVast?this.buildIMAPlayer(e.vast):this.buildViralizePlayer(e)},g.prototype.isViralize=function(e){return 0<e.ad.length&&null!=e.ad[0].inline.adSystem&&e.ad[0].inline.adSystem.value===d.Constants.VIRALIZE_AD_SYSTEM_NAME},g.prototype.buildViralizePlayer=function(e){var t,r;try{t=this.selectMediaFile(e)}catch(e){return Promise.reject(e)}return r=g.isVPAID(t.mediaFile)?new s.ViralizeVPAIDPlayer(t,this.adSlotManager.getVPAIDSlot(),this.source.enable_force_fullview,this.adVerificationBuilder,l.Utils.toIDp4Config(this.source.dp4)):new a.ViralizeMediaVideoPlayer(t,this.adSlotManager.getMediaElementAdapter(),this.source.enable_force_fullview,l.Utils.toIDp4Config(this.source.dp4),this.adVerificationBuilder),Promise.resolve(new v.AutoLoaderResult(t,this.source,this.waterfallPosition,r,this.analyticsFactory))},g.prototype.buildIMAPlayer=function(e){e=i.__assign(i.__assign({},this.source),{vast:e});return this.loader=this.loaderFactory.getIMALoader(e,this.waterfallPosition),this.loader.run()},g.prototype.selectMediaFile=function(e){var t=e.vast;if(0===t.ad.length)throw new u.CodedError(2e4);for(var r=0,n=t.ad[0].inline.creativesLinear;r<n.length;r++){var i=n[r],o=i.linear.mediaFiles.filter(g.isNotFlashMediaFile);o.sort(g.compareMediaFiles);for(var a=0,s=o;a<s.length;a++){var c=s[a];if(g.isVPAID(c))return{ad:t.ad[0],creative:i,mediaFile:c,additionalData:{loader:"vpaid",wrappersCount:e.additionalData.wrappersCount}};if(this.mediaFileCanBePlayed(c)&&(!this.shouldFilterBySize()||this.isAcceptableSize(c,i.linear.duration)))return{ad:t.ad[0],creative:i,mediaFile:c,additionalData:{loader:"vast",wrappersCount:e.additionalData.wrappersCount}}}}throw new u.CodedError(d.Constants.VastErrorCodes.UNSUPPORTED_MEDIA_FILE)},g.prototype.mediaFileCanBePlayed=function(e){e=null!=g.MEDIA_TYPES_CONVERSION_MAP[e.mimeType]?g.MEDIA_TYPES_CONVERSION_MAP[e.mimeType]:e.mimeType;return this.adSlotManager.getMediaElementAdapter().canPlay(e)},g.prototype.estimateMediaFileSize=function(e,t){return null!=e.bitrate&&0<e.bitrate?e.bitrate*t/8:null!=e.maxBitrate&&0<e.maxBitrate&&null!=e.minBitrate&&0<e.minBitrate?(.7*e.maxBitrate+.3*e.minBitrate)*t/8:!(null!=e.height&&0<e.height)||e.height<=360?g.DEFAULT_360P_BITRATE*t/8:e.height<=480?g.DEFAULT_480P_BITRATE*t/8:e.height<=720?g.DEFAULT_720P_BITRATE*t/8:g.DEFAULT_1080P_BITRATE*t/8},g.prototype.isAcceptableSize=function(e,t){return null==t||!(this.estimateMediaFileSize(e,t)>g.LIMIT_SIZE)},g.prototype.shouldFilterBySize=function(){return!1},g.prototype.getDP4Config=function(e){var t=l.Utils.toIDp4Config(this.source.dp4);return null==t&&(t=null===(e=null===(e=e.ad[0])||void 0===e?void 0:e.inline.extensions)||void 0===e?void 0:e.dp4),this.dp4Factory.get(t)},g.prototype.vastToString=function(e){try{return l.Utils.serializeXML(e.toXML())}catch(e){return void c.Sentry.reportError(new Error("Unable to convert vast to XML: "+e))}},g.LIMIT_SIZE=4096,g.DEFAULT_360P_BITRATE=1024,g.DEFAULT_480P_BITRATE=2560,g.DEFAULT_720P_BITRATE=5120,g.DEFAULT_1080P_BITRATE=8192,g.MEDIA_TYPES_CONVERSION_MAP={"video/x-mp4":"video/mp4","video/x-webm":"video/webm","application/x-javascript":"application/javascript"},g);function g(e){var t=n.call(this,e.source,e.waterfallPosition)||this;return t.adSlotManager=e.adSlotManager,t.loaderFactory=e.loaderFactory,t.analyticsFactory=e.analyticsFactory,t.dp4Factory=e.dp4Factory,t.dp4VastBuilder=e.dp4VastBuilder,t.wasGoogleAdParametersVast=!1,t.previousWrappersCount=0,t.adVerificationBuilder=e.adVerificationBuilder,t}t.AutoLoader=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViralizeVPAIDPlayer=void 0;function n(){}var a,i=r(0),o=r(221),s=r(4),c=r(1),d=r(14),u=r(225),l=r(3),p=r(84),f=r(31),h=r(85),v=r(29),i=(new s.Console("ViralizeVPAIDPlayer"),a=v.AdPlayer,i.__extends(m,a),m.prototype.skipAd=function(){var e,t=this;null==this.vpaidAdUnit||this.skipped||(e=this.vpaidAdUnit,this.forceSkipCallbackId=window.setTimeout(function(){t.onSkipped(e)},m.FORCE_SKIP_TIME),e.skipAd(n))},m.prototype.play=function(){var e;null!==(e=this.vpaidAdUnit)&&void 0!==e&&e.resumeAd(n)},m.prototype.pause=function(){var e;null!==(e=this.vpaidAdUnit)&&void 0!==e&&e.pauseAd(n)},m.prototype.setPlaybackRate=function(e){this.vpaidAdSlot.setPlaybackRate(e)},m.prototype.isMuted=function(){return this.isMutedState},m.prototype.mute=function(){var e;null!=this.vpaidAdUnit&&(null!==(e=this.muteForcerVpaid)&&void 0!==e&&e.stop(),null!==(e=this.muteForcerVast)&&void 0!==e&&e.stop(),this.updateMutedState(this.vpaidAdUnit,!0).then().catch(),this.sendTimedEvent(this.vpaidAdUnit,"notifyMuted"))},m.prototype.unmute=function(){var e;null!=this.vpaidAdUnit&&(null!==(e=this.muteForcerVpaid)&&void 0!==e&&e.stop(),null!==(e=this.muteForcerVast)&&void 0!==e&&e.stop(),this.updateMutedState(this.vpaidAdUnit,!1).then().catch(),this.sendTimedEvent(this.vpaidAdUnit,"notifyUnmuted"))},m.prototype.openLandingPage=function(){},m.prototype.notifyResize=function(e){var t;null!==(t=this.vpaidAdUnit)&&void 0!==t&&t.resizeAd(e.width,e.height,m.AD_DEFAULT_VIEW_MODE,n)},m.prototype.getDimensions=function(){return{width:this.selectedAd.mediaFile.width,height:this.selectedAd.mediaFile.height}},m.prototype.internalLoad=function(t){var r=this;return this.vpaidAdSlot.showSlot(),this.loadVerifications(),this.raceWithErrors(function(e){return r.getLoadPromise(t.startMuted,e)})},m.prototype.internalRunAd=function(){var t=this;return this.raceWithErrors(function(e){return t.getRunPromise(e)})},m.prototype.cleanUp=function(){var e;this.vpaidAdSlot.removeObserver(this),this.stopProgress(),null!==(e=this.client)&&void 0!==e&&e.unloadAdUnit(),null!==(e=this.muteForcerVpaid)&&void 0!==e&&e.stop(),null!==(e=this.muteForcerVast)&&void 0!==e&&e.stop(),this.vpaidAdSlot.resetSlot()},m.prototype.raceWithErrors=function(e){var t=new d.Deferred,e=e(this.getAdErrorListener(t));return l.Utils.raceWithNeverResolvingPromise(e,t.promise)},m.prototype.getLoadPromise=function(t,r){var n=this;return this.loadAdUnit().then(this.abortable(function(e){return n.prepareForLoading(e,t,r)})).then(this.abortable(this.handshakeVersion)).then(this.abortable(this.initAd)).then(function(e){e.unsubscribe("AdError",r)}).catch(this.abortable(function(e){return r(e).then(function(e){return Promise.reject(e)})}))},m.prototype.prepareForLoading=function(t,e,r){this.setupVPAIDSubscriptions(t),t.subscribe("AdError",r);r=this.updateMutedState(t,e);return this.muteForcerVpaid=new u.MuteForcer(this.vpaidAdSlot.getVPAIDSlot(),e),this.muteForcerVast=new u.MuteForcer(this.vpaidAdSlot.getVideoElement(),e),this.muteForcerVpaid.start(),this.muteForcerVast.start(),r.then(function(){return t}).catch(function(e){return t})},m.prototype.getRunPromise=function(t){var r=this,n=this.vpaidAdUnit;return n.subscribe("AdError",t),this.getDuration(n).catch(function(){return Promise.resolve(m.UNKNOWN_TIME)}).then(this.abortable(function(e){return r.lastDuration=e,r.startAd(n)})).then(this.abortable(function(e){return n.unsubscribe("AdError",t),r.setupVPAIDErrorSubscriptionAfterStart(n),e})).catch(this.abortable(function(e){return t(e).then(function(e){return Promise.reject(e)})}))},m.prototype.updateMutedState=function(e,n){return this.isMutedState=n,this.vpaidAdSlot.getVideoElement().muted=n,new Promise(function(t,r){e.setAdVolume(n?0:1,function(e){null!=e?r(new Error("Failed setting volume: "+e)):t()})})},m.prototype.loadAdUnit=function(){var i=this;return new Promise(function(r,n){i.client=new o.VPAIDHTML5Client(i.vpaidAdSlot.getVPAIDSlot(),i.vpaidAdSlot.getVideoElement(),{}),i.client.loadAdUnit(i.selectedMediaFile.url,function(e,t){i.returnedSuccess(e,t)?(i.vpaidAdUnit=t,r(t)):n(e)})})},m.prototype.handshakeVersion=function(i){return new Promise(function(r,n){i.handshakeVersion(m.VPAID_VERSION,function(e,t){null==e?r(i):n(e)})})},m.prototype.setupVPAIDSubscriptions=function(n){var i=this;n.subscribe("AdSkipped",function(){i.skipped||i.onSkipped(n)}),n.subscribe("AdStopped",function(){i.skipped||i.errorOccurred||(i.completed?(i.cleanUp(),i.observers.forEach(function(e){var t;null!==(t=e.notifyEnded)&&void 0!==t&&t.call(e)})):i.onSkipped(n))}),n.subscribe("AdDurationChange",function(){i.onAdDurationChangEvent(n)}),n.subscribe("AdVideoFirstQuartile",function(){i.sendTimedEvent(n,"notifyFirstQuartile")}),n.subscribe("AdVideoMidpoint",function(){i.sendTimedEvent(n,"notifyMidPoint")}),n.subscribe("AdVideoThirdQuartile",function(){i.sendTimedEvent(n,"notifyThirdQuartile")}),n.subscribe("AdVideoComplete",function(){i.completed=!0,i.onAdVideoCompleteEvent(n)}),n.subscribe("AdClickThru",function(e,t,r){i.onAdClickThruEvent(n,r,e)}),n.subscribe("AdPaused",function(){i.completed||i.isPausedState||(i.sendTimedEvent(n,"notifyPaused"),i.isPausedState=!0)}),n.subscribe("AdPlaying",function(){i.isPausedState&&(i.sendTimedEvent(n,"notifyResumed"),i.isPausedState=!1)}),n.subscribe("AdInteraction",function(){i.observers.forEach(function(e){var t;null!==(t=e.notifySetInteractionMode)&&void 0!==t&&t.call(e)})})},m.prototype.setupVPAIDErrorSubscriptionAfterStart=function(t){var r=this;t.subscribe("AdError",function(e){r.errorOccurred=!0,r.notifyAdErrorEvent({adUnit:t,error:e}).then(function(){var e;null!==(e=r.vpaidAdUnit)&&void 0!==e&&e.stopAd(n),r.cleanUp(),r.observers.forEach(function(e){var t;null!==(t=e.notifyEnded)&&void 0!==t&&t.call(e)})}).catch(function(){})})},m.prototype.onAdDurationChangEvent=function(t){var n=this;this.getDuration(t).then(function(e){return n.lastDuration=e,n.getCurrentTime(t)}).then(function(r){n.observers.forEach(function(e){var t;null!==(t=e.notifyDurationChange)&&void 0!==t&&t.call(e,r,n.lastDuration)})}).catch(function(e){0<n.lastDuration&&n.observers.forEach(function(e){var t;null!==(t=e.notifyDurationChange)&&void 0!==t&&t.call(e,m.UNKNOWN_TIME,n.lastDuration)})})},m.prototype.onAdVideoCompleteEvent=function(e){var r=this;0<this.lastDuration?this.observers.forEach(function(e){var t;null!==(t=e.notifyComplete)&&void 0!==t&&t.call(e,r.lastDuration)}):this.sendTimedEvent(e,"notifyComplete")},m.prototype.onAdClickThruEvent=function(e,t,r){t&&(null!=(t=r)&&""!==t||(t=null===(r=null===(r=this.selectedAd.creative.linear.videoClicks)||void 0===r?void 0:r.clickThrough)||void 0===r?void 0:r.url),null!=t&&window.open(t,"_blank")),this.sendTimedEvent(e,"notifyClick"),this.mute()},m.prototype.notifyAdErrorEvent=function(e){var t=this,n=l.Utils.toCodedError({error:e.error,defaultCode:c.Constants.VastErrorCodes.GENERAL_VPAID_ERROR}),e=null!=e.adUnit?this.getCurrentTime(e.adUnit).catch(function(e){return Promise.resolve(m.UNKNOWN_TIME)}):Promise.resolve(m.UNKNOWN_TIME);return e.then(function(r){return t.observers.forEach(function(e){var t;null!==(t=e.notifyError)&&void 0!==t&&t.call(e,r,n)}),n})},m.prototype.initAd=function(r){var n=this;return new Promise(function(e){r.subscribe("AdLoaded",function(){n.vpaidAdSlot.addObserver(n),e(r)});var t=n.vpaidAdSlot.getCurrentDimensions();r.initAd(t.width,t.height,m.AD_DEFAULT_VIEW_MODE,m.DESIRED_BITRATE,{AdParameters:n.adParameters},{videoSlotCanAutoPlay:!0})})},m.prototype.startAd=function(t){var n=this,e=new Promise(function(e){t.subscribe("AdImpression",function(){var r=new h.AdInfoViralize(n.selectedAd,m.ENABLE_CLICK_COVER,n.fullViewability,n.dp4);n.observers.forEach(function(e){var t;null!==(t=e.notifyImpression)&&void 0!==t&&t.call(e,0,r)}),0<n.lastDuration&&n.observers.forEach(function(e){var t;null!==(t=e.notifyDurationChange)&&void 0!==t&&t.call(e,0,n.lastDuration)}),n.startProgressUpdates(t),e(r)})}),r=new Promise(function(e){t.subscribe("AdStarted",function(){n.observers.forEach(function(e){var t;null!==(t=e.notifyStart)&&void 0!==t&&t.call(e,0)}),e()})});return Promise.all([r,e]).then(function(){n.observers.forEach(function(e){var t;null!==(t=e.notifyPlay)&&void 0!==t&&t.call(e,0)})}).catch(function(){}),t.startAd(),e},m.prototype.getDuration=function(e){return new Promise(function(r,n){e.getAdDuration(function(e,t){t=l.Utils.toMs(t);0<t?r(t):n(e)})})},m.prototype.getCurrentTime=function(e){var i=this;return this.lastDuration<=0?Promise.reject(new Error("Current duration not set")):new Promise(function(r,n){e.getAdRemainingTime(function(e,t){null==e?(t=l.Utils.toMs(t))<0?n(new Error("unable to retrieve remaining time")):(t=i.lastDuration-t)<i.lastDuration?r(t):r(i.lastDuration):n(e)})})},m.prototype.startProgressUpdates=function(e){var t=this,n=m.UNKNOWN_TIME;this.progressIntervalId=window.setInterval(function(){t.getCurrentTime(e).then(function(r){r>=t.lastDuration?t.stopProgress():r<=0||r===n||(n=r,t.observers.forEach(function(e){var t;null!==(t=e.notifyProgress)&&void 0!==t&&t.call(e,r)}))}).catch(function(e){})},m.PROGRESS_CHECK_INTERVAL)},m.prototype.stopProgress=function(){clearInterval(this.progressIntervalId)},m.prototype.onSkipped=function(e){var t=this;null!=this.forceSkipCallbackId&&(clearTimeout(this.forceSkipCallbackId),this.forceSkipCallbackId=void 0),this.skipped=!0,this.cleanUp(),this.sendTimedEventPromise(e,"notifySkip").then(function(){t.observers.forEach(function(e){var t;null!==(t=e.notifyEnded)&&void 0!==t&&t.call(e)})}).catch(function(){})},m.prototype.sendTimedEventPromise=function(e,n){var t=this;return this.getCurrentTime(e).then(function(r){t.observers.forEach(function(e){var t;null!==(t=e[n])&&void 0!==t&&t.call(e,r)})}).catch(function(e){t.observers.forEach(function(e){var t;null!==(t=e[n])&&void 0!==t&&t.call(e,m.UNKNOWN_TIME)})})},m.prototype.sendTimedEvent=function(e,t){this.sendTimedEventPromise(e,t).catch(function(){})},m.prototype.abortable=function(t){var r=this;return function(e){if(r.isAborted())throw new Error(v.AdPlayer.PLAYER_ABORTED_ERROR_MESSAGE);return t.bind(r)(e)}},m.prototype.getAdErrorListener=function(t){var r=this;return function(e){return r.notifyAdErrorEvent({error:e}).then(function(e){return r.cleanUp(),t.reject(e),e})}},m.prototype.returnedSuccess=function(e,t){return null==e},m.prototype.loadVerifications=function(){var e,t,r;0!==this.selectedAd.ad.inline.adVerifications.length&&void 0!==this.adVerificationBuilder&&(0<(e=l.Utils.sortVerifications(this.selectedAd.ad.inline.adVerifications)).othersVerifications.length&&(r=l.Utils.mergeTrackingEvents(e.othersVerifications),0<Object.keys(r).length&&new f.VerificationEventsObserver(r).notifyVerificationNotExecuted("1")),void 0!==(t=this.adVerificationBuilder.getOmidConfig())&&0!==e.omidVerifications.length&&(r=l.Utils.mergeTrackingEvents(e.omidVerifications),this.addObserver(new p.OmidPlaybackTracker(e.omidVerifications,this.vpaidAdSlot.getVideoElement(),this.isMuted()?0:1,t,r))))},m.VPAID_VERSION="2.0",m.AD_DEFAULT_VIEW_MODE="normal",m.DESIRED_BITRATE=-1,m.UNKNOWN_TIME=-1,m.PROGRESS_CHECK_INTERVAL=250,m.FORCE_SKIP_TIME=1e3,m.ENABLE_CLICK_COVER=!1,m);function m(e,t,r,n,i){var o=a.call(this)||this;return o.vpaidAdSlot=t,o.selectedMediaFile=e.mediaFile,o.selectedAd=e,o.adParameters=e.creative.linear.adParameter,o.fullViewability=r,o.dp4=i,o.lastDuration=-1,o.skipped=!1,o.errorOccurred=!1,o.completed=!1,o.isMutedState=!0,o.isPausedState=!1,o.adVerificationBuilder=n,o}t.ViralizeVPAIDPlayer=i},function(e,t,r){e.exports={VPAIDAdUnit:r(202),VPAIDHTML5Client:r(224)}},function(e,t,r){"use strict";var n=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"];function i(e,t,r){}i.prototype.handshakeVersion=function(e,t){},i.prototype.initAd=function(e,t,r,n,i,o,a){},i.prototype.startAd=function(e){},i.prototype.stopAd=function(e){},i.prototype.skipAd=function(e){},i.prototype.resizeAd=function(e,t,r,n){},i.prototype.pauseAd=function(e){},i.prototype.resumeAd=function(e){},i.prototype.expandAd=function(e){},i.prototype.collapseAd=function(e){},i.prototype.subscribe=function(e,t,r){},i.prototype.unsubscribe=function(e,t){},i.prototype.getAdLinear=function(e){},i.prototype.getAdWidth=function(e){},i.prototype.getAdHeight=function(e){},i.prototype.getAdExpanded=function(e){},i.prototype.getAdSkippableState=function(e){},i.prototype.getAdRemainingTime=function(e){},i.prototype.getAdDuration=function(e){},i.prototype.getAdVolume=function(e){},i.prototype.getAdCompanions=function(e){},i.prototype.getAdIcons=function(e){},i.prototype.setAdVolume=function(e,t){},a(i,"METHODS",n),a(i,"GETTERS",["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"]),a(i,"SETTERS",["setAdVolume"]),a(i,"EVENTS",["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"]);var o=n.filter(function(e){return-1===["skipAd"].indexOf(e)});function a(e,t,r){Object.defineProperty(e,t,{writable:!1,configurable:!1,value:r})}a(i,"checkVPAIDInterface",function(t){return o.every(function(e){return"function"==typeof t[e]})}),e.exports=i},function(e,t,r){"use strict";function n(){this._subscribers={}}n.prototype.subscribe=function(e,t,r){this.isHandlerAttached(e,t)||this.get(t).push({handler:e,context:r,eventName:t})},n.prototype.unsubscribe=function(t,e){this._subscribers[e]=this.get(e).filter(function(e){return t!==e.handler})},n.prototype.unsubscribeAll=function(){this._subscribers={}},n.prototype.trigger=function(e,t){var r=this;this.get(e).concat(this.get("*")).forEach(function(e){setTimeout(function(){r.isHandlerAttached(e.handler,e.eventName)&&e.handler.apply(e.context,t)},0)})},n.prototype.triggerSync=function(e,t){this.get(e).concat(this.get("*")).forEach(function(e){e.handler.apply(e.context,t)})},n.prototype.get=function(e){return this._subscribers[e]||(this._subscribers[e]=[]),this._subscribers[e]},n.prototype.isHandlerAttached=function(t,e){return this.get(e).some(function(e){return t===e.handler})},e.exports=n},function(e,t,r){"use strict";var s=r(203),i=s.unique("vpaidIframe"),c=r(202);function n(e,t,r,n){r=r||{},this._id=i(),this._destroyed=!1,this._frameContainer=s.createElementInEl(e,"div"),this._videoEl=t,this._vpaidOptions=n||{timeout:1e4},this._templateConfig={template:r.template||'<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><div class="ad-element"></div><script type="text/javascript" src="{{iframeURL_JS}}"><\/script><script type="text/javascript">window.parent.postMessage(\'{"issuer": "VPAIDHTML5Client", "event": "ready", "id": "{{iframeID}}"}\', \'{{origin}}\');<\/script></body></html>',extraOptions:r.extraOptions||{}}}function d(){u.call(this),function(){this._adUnit&&(this._adUnit._destroy(),delete this._adUnit)}.call(this)}function u(){(function(e){var t=this[e];t&&t.parentNode&&(t.parentNode.removeChild(t),delete this[e])}).call(this,"_frame"),l.call(this)}function l(){this._onLoad&&window.removeEventListener("message",this._onLoad)}n.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,d.call(this))},n.prototype.isDestroyed=function(){return this._destroyed},n.prototype.loadAdUnit=function(e,o){(function(){if(this._destroyed)throw new Error("VPAIDHTML5Client already destroyed!")}).call(this),d.call(this);var a=this,e=s.createIframeWithContent(this._frameContainer,this._templateConfig.template,s.extend({iframeURL_JS:e,iframeID:this.getID(),origin:"*"},this._templateConfig.extraOptions));this._frame=e,this._onLoad=s.callbackTimeout(this._vpaidOptions.timeout,function(e){try{var t=JSON.parse(e.data)}catch(e){return}if(t.id!==a.getID())return;var r,n;r=a._frame.contentWindow?(n=a._frame.contentWindow.getVPAIDAd,s.validate("function"==typeof n,"the ad didn't return a function to create an ad")):new Error("the iframe is not anymore in the DOM tree");{var i;r||(i=a._frame.contentWindow.document.querySelector(".ad-element"),(i=new c(n(),i,a._videoEl,a._frame)).subscribe("AdStopped",function(){u.call(this),delete this._adUnit}.bind(a)),r=s.validate(i.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification"))}return a._adUnit=i,l.call(a),o(r,r?null:i),!0}.bind(this),function(){o("timeout",null)}.bind(this)),this._frame.contentWindow.parent.addEventListener("message",function(e){try{var t=JSON.parse(e.data);null!=t.issuer&&"VPAIDHTML5Client"===t.issuer&&this._onLoad(e)}catch(e){}}.bind(this))},n.prototype.unloadAdUnit=function(){d.call(this)},n.prototype.getID=function(){return this._id},e.exports=n,window.VPAIDHTML5Client=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MuteForcer=void 0;var n=r(4),i=r(17),n=(new n.Console("MuteForcer"),o.prototype.start=function(){var t=this;this.started||(i.DomUtils.findVideoTags(this.containerElement).forEach(function(e){t.elements.push(e),t.startForVideo(e)}),this.started=!0)},o.prototype.stop=function(){var t=this;this.started&&(this.elements.forEach(function(e){t.stopForVideo(e)}),this.elements=[],this.started=!1)},o.prototype.startForVideo=function(e){var t=this;Object.defineProperty(e,"muted",{configurable:!0,get:function(){return t.muted},set:function(e){t.muted}})},o.prototype.stopForVideo=function(e){null!=e.muted&&delete e.muted,e.muted=this.muted},o);function o(e,t){this.containerElement=e,this.muted=t,this.started=!1,this.elements=[]}t.MuteForcer=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdTagUrlResultDecorator=void 0;var n=(i.prototype.get=function(){var t=this;return this.innerResult.get().then(function(e){return e.player.addObserver(t.analyticsFactory.buildVastPlaybackTracker(t.externalSelectedAd,e.waterfallEntry.originalSource)),e})},i);function i(e,t,r){this.innerResult=e,this.externalSelectedAd=t,this.analyticsFactory=r,this.adSystem=e.adSystem,this.loader=e.loader,this.contentType=e.contentType,this.cpm=e.cpm}t.AdTagUrlResultDecorator=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoLoaderResult=void 0;var n=(i.prototype.get=function(){return Promise.resolve({player:this.player,waterfallEntry:{originalSource:this.source,waterfallPosition:this.waterfallPosition}})},i);function i(e,t,r,n,i){this.adSystem=e.ad.inline.adSystem.value,this.contentType=e.mediaFile.mimeType,this.loader=e.additionalData.loader,this.source=t,this.waterfallPosition=r,this.player=n,this.player.addObserver(i.buildVastPlaybackTracker(e,t))}t.AutoLoaderResult=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMADP4ResultDecorator=void 0;var n=r(204),i=r(3),r=(Object.defineProperty(o.prototype,"loader",{get:function(){return"ima-dp4"},enumerable:!1,configurable:!0}),o.prototype.get=function(){return Promise.resolve({player:new n.IMAPlayer({adsManager:this.decoratedResult.adsManager,adSlot:this.decoratedResult.adSlot,parsedVast:this.decoratedResult.parsedVast,fullViewability:this.decoratedResult.source.enable_force_fullview,loader:"ima-dp4",dp4:i.Utils.toIDp4Config(this.decoratedResult.source.dp4)}),waterfallEntry:{originalSource:this.decoratedResult.source,waterfallPosition:this.decoratedResult.waterfallPosition}})},o);function o(e){this.decoratedResult=e}t.IMADP4ResultDecorator=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdInfoIMAAdapter=void 0;var n=(i.prototype.getAdSystem=function(){return this.imaAdUnit.getAdSystem()},i.prototype.getContentType=function(){return this.imaAdUnit.getContentType()},i.prototype.getDimensions=function(){return{width:this.imaAdUnit.getVastMediaWidth(),height:this.imaAdUnit.getVastMediaHeight()}},i.prototype.getCreativityId=function(){return this.imaAdUnit.getAdId()},i.prototype.getCreativityWidth=function(){return this.imaAdUnit.getVastMediaWidth()},i.prototype.getDuration=function(){return this.imaAdUnit.getDuration()},i.prototype.isLinear=function(){return this.imaAdUnit.isLinear()},i.prototype.getWrappersCount=function(){return this.imaAdUnit.getWrapperAdIds().length},i.prototype.getLoader=function(){return this.loader},i.prototype.getDp4=function(){return this.dp4},i.prototype.getAdCustomSkinConfig=function(){return{enableClickCover:i.ENABLE_CLICK_COVER,uiExt:this.uiExt,shareUrl:this.shareUrl}},i.prototype.requiresFullViewability=function(){return this.fullViewability},i.ENABLE_CLICK_COVER=!1,i);function i(e){this.imaAdUnit=e.imaAdUnit,this.uiExt=e.uiExt,this.shareUrl=e.shareUrl,this.fullViewability=e.fullViewability,this.loader=e.loader,this.dp4=e.dp4}t.AdInfoIMAAdapter=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImaSelectionUtils=void 0;var s,c=r(3);t=t.ImaSelectionUtils||(t.ImaSelectionUtils={}),s="imasdk.googleapis.com/js/sdkloader/vpaid_adapter.js",t.getAdTagUrlParameter=function(e){var t=e.vast,r=null===(r=null===(r=t.ad[0])||void 0===r?void 0:r.inline.creativesLinear[0])||void 0===r?void 0:r.linear;if(null!=r)for(var n=0,i=r.mediaFiles;n<i.length;n++){var o=i[n];if(0<=o.url.indexOf(s)){var a=c.Utils.getQueryParameterFromUrl(o.url,"adTagUrl");if(null!=a)return{adTagUrl:a,selectedAd:{ad:t.ad[0],creative:null===(a=t.ad[0])||void 0===a?void 0:a.inline.creativesLinear[0],mediaFile:o,additionalData:{loader:"ima",wrappersCount:e.additionalData.wrappersCount}}}}}},t.getGoogleWrapperAdParametersVAST=function(e){if(null!=(e=null===(e=null===(e=e.ad[0])||void 0===e?void 0:e.inline.creativesLinear[0])||void 0===e?void 0:e.linear)){var t=e.adParameter;if(null!=t&&!(t.indexOf("&lt;VAST")<0))for(var r=0,n=e.mediaFiles;r<n.length;r++)if(0<=n[r].url.indexOf(s))return c.Utils.unescapeXMLChars(t)}},t.enhanceInnerVast=function(e,n){e.ad.forEach(function(e){var t,r=e.inline;(t=r.errors).push.apply(t,n.inline.errors),(e=r.impressions).push.apply(e,n.inline.impressions),t=r,null==(e=n.inline).extensions||null==e.extensions.unknownExtensions||(null==t.extensions?t.extensions=e.extensions:null==t.extensions.unknownExtensions?t.extensions.unknownExtensions=e.extensions.unknownExtensions:(t=t.extensions.unknownExtensions).push.apply(t,e.extensions.unknownExtensions));var c=n.inline.creativesLinear[0],d=c.linear;r.creativesLinear.forEach(function(e){var r,n,t,i,o,a,s=e.linear;r=s,n=d,Object.keys(n.trackingEvents).forEach(function(e){var t=n.trackingEvents[e];null!=t&&(null==r.trackingEvents[e]&&(r.trackingEvents[e]=[]),(e=r.trackingEvents[e]).push.apply(e,t))}),t=s,null!=(o=d).videoClicks&&(null==t.videoClicks?t.videoClicks=o.videoClicks:(null!=o.videoClicks.clickTrackings&&(null==t.videoClicks.clickTrackings&&(t.videoClicks.clickTrackings=[]),(i=t.videoClicks.clickTrackings).push.apply(i,o.videoClicks.clickTrackings)),null!=o.videoClicks.customClicks&&(null==t.videoClicks.customClicks&&(t.videoClicks.customClicks=[]),(t=t.videoClicks.customClicks).push.apply(t,o.videoClicks.customClicks)))),o=e,null!=(e=c).creativeExtension&&(null==o.creativeExtension?o.creativeExtension=e.creativeExtension:(a=o.creativeExtension,e=e.creativeExtension.getElementsByTagName("CreativeExtension"),[].forEach.call(e,function(e){a.appendChild(e)}))),e=d,null==(s=s).icons?s.icons=e.icons:(s=s.icons).push.apply(s,null!==(e=e.icons)&&void 0!==e?e:[])})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMALoader=void 0;var o,n=r(0),i=r(4),a=r(205),s=r(1),c=r(9),d=r(7),u=r(3),l=r(28),p=r(232),n=(new i.Console("IMALoader"),o=l.PlayerLoader,n.__extends(f,o),f.prototype.internalLoad=function(){var o=this;return null==this.source.xml&&null==this.source.url?Promise.reject(new c.CodedError(2e4)):new Promise(function(t,r){var e;try{e=o.imaApiLoader.getGoogleAdsLoader()}catch(e){return d.Sentry.reportError(e),void r(u.Utils.toCodedError({error:e}))}var n=new a.IMAEventManager(e);n.once(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){n.off(),o.isAborted()?r(new c.CodedError(4e4)):(e=e.getAdsManager(o.adSlot.getVideoElement(),o.createRenderingSettings()),t(new p.IMALoaderResult(o.source,o.waterfallPosition,e,o.adSlot,o.parsedVast)))}),n.once(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){n.off(),r(u.Utils.toCodedError({error:e}))});var i=o.createAdsRequest(o.source);e.requestAds(i)})},f.prototype.replaceDvastMacros=function(e,n){var i={adsystem:s.Constants.VIRALIZE_AD_SYSTEM_NAME,aspect_ratio:"",content_type:"",creativity_id:"",creativity_width:"",duration:"",linear:"",loader:"ima",wrappers_count:""};e.vast.ad.forEach(function(e){for(var t=e.inline.impressions,r=0;r<t.length;r+=1)-1<t[r].indexOf(n)&&(t[r]=u.Utils.resolveMacros(t[r],i))})},f.prototype.createAdsRequest=function(e){var t=new google.ima.AdsRequest,r=7e3;null==e.total_timeout&&(r=this.defaultMaxValue),t.vastLoadTimeout=r;r=this.adSlot.getCurrentDimensions();return t.linearAdSlotHeight=r.height,t.linearAdSlotWidth=r.width,t.setAdWillAutoPlay(!0),null!=this.parsedVast?t.adsResponse=(new XMLSerializer).serializeToString(this.parsedVast.toXML()):null!=e.url?t.adTagUrl=e.url:null!=e.xml&&(t.adsResponse=e.xml),t},f.prototype.createRenderingSettings=function(){var e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.enablePreloading=!0;var t=1e4;return null==this.source.total_timeout&&(t=this.defaultMaxValue),e.loadVideoTimeout=t,e},f.prototype.isIParsedSource=function(e){return null!=e.vast},f);function f(e,t,r,n,i){t=o.call(this,e,t)||this;return t.imaApiLoader=n,t.adSlot=r,t.defaultMaxValue=Math.pow(2,31)-1,t.isIParsedSource(e)&&("dvast"===e.origin&&t.replaceDvastMacros(e,i),t.parsedVast=e.vast),t}t.IMALoader=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMALoaderResult=void 0;var n=r(204),i=r(3),r=(o.prototype.get=function(){return Promise.resolve({player:new n.IMAPlayer({adsManager:this.adsManager,adSlot:this.adSlot,parsedVast:this.parsedVast,fullViewability:this.source.enable_force_fullview,loader:"ima",dp4:i.Utils.toIDp4Config(this.source.dp4)}),waterfallEntry:{originalSource:this.source,waterfallPosition:this.waterfallPosition}})},o);function o(e,t,r,n,i){this.loader="ima",this.adsManager=r,this.source=e,this.waterfallPosition=t,this.adSlot=n,this.parsedVast=i}t.IMALoaderResult=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OneTagLoader=void 0;var o,n=r(0),i=r(4),a=r(1),s=r(3),c=r(28),d=r(234),c=(new i.Console("OneTagLoader"),o=c.PlayerLoader,n.__extends(u,o),u.prototype.abort=function(){o.prototype.abort.call(this),null!=this.loader&&this.loader.abort()},u.prototype.internalLoad=function(){if(null==this.source.url)return Promise.reject(new Error("OneTagLoader require url to be defined"));var e=n.__assign(n.__assign({},this.source),{url:this.getNewSourceUrl(this.source.url)});return this.loader=this.loaderFactory.getAutoLoader(e,this.waterfallPosition),this.loader.run()},u.prototype.getNewSourceUrl=function(e){var t=e.match(/(onetag-sys\.\w+)\/(\w+)\/(\w+)/);return null!=t?d.OneTagScript.getVastUrl(this.evaluateParams(t[3],e)):e},u.prototype.evaluateParams=function(e,t){var r=this.slotManager.getVPAIDSlot().getCurrentDimensions(),n={},e={pubId:e,gdprConsent:n};return this.setParam(n,t,"consentString"),this.setParam(n,t,"gdprApplies"),this.setParam(e,t,"uspConsent"),this.setParam(e,t,"screenWidth",""+Math.round(window.screen.width)),this.setParam(e,t,"screenHeight",""+Math.round(window.screen.height)),this.setParam(e,t,"playerWidth",""+Math.round(r.width)),this.setParam(e,t,"playerHeight",""+Math.round(r.height)),this.setParam(e,t,"placementType",this.getDefaultPlacementType()),this.setParam(e,t,"topFrame","false"),this.setParam(e,t,"encodedLocationUrl",null===(r=document.location)||void 0===r?void 0:r.href),this.setParam(e,t,"encodedReferrerUrl",document.referrer),this.setParam(e,t,"vast4supported","false"),this.setParam(e,t,"vpaidSupported","true"),this.setParam(e,t,"appBundleId"),this.setParam(e,t,"appDeviceId"),this.setParam(e,t,"auctionCpmFloor"),e},u.prototype.setParam=function(e,t,r,n){e[r]=s.Utils.getQueryParameterFromUrl(t,r),null==e[r]&&(e[r]=n),null!=e[r]&&(e[r]=encodeURIComponent(e[r]))},u.prototype.getDefaultPlacementType=function(){return this.formatFamily===a.Constants.FormatFamily.GALLERY||this.formatFamily===a.Constants.FormatFamily.STRIP_HOVER||this.formatFamily===a.Constants.FormatFamily.INSTREAM?"1":this.formatFamily===a.Constants.FormatFamily.NATIVE?"3":"5"},u);function u(e,t,r,n,i){t=o.call(this,e,t)||this;return t.loaderFactory=r,t.slotManager=n,t.formatFamily=i,t}t.OneTagLoader=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OneTagScript=void 0;new(r(4).Console)("OneTagScript");function n(e){return!isNaN(parseFloat(e))&&isFinite(e)}(t.OneTagScript||(t.OneTagScript={})).getVastUrl=function(e){try{!function(e,t,r){var n=document.createElement("iframe");n.frameBorder="0",n.scrolling="no",n.marginWidth="0",n.marginHeight="0",n.hspace=0,n.vspace=0,n.style.border="0px none",n.style.verticalAlign="bottom",n.style.display="none",n.style.width="0px",n.style.height="0px";var i="?cb="+(new Date).getTime(),o=t&&null!=t.gdprApplies?t.gdprApplies:null,t=t&&t.consentString?t.consentString:null;null!=e&&(i+="&pub_id="+e),null!=o&&(i+="&gdpr="+(o?1:0)),null!=t&&0<t.length&&(i+="&gdpr_consent="+t),null!=r&&0<r.length&&(i+="&us_privacy="+r),n.src="https://onetag-sys.com/usync/"+i,document.body.appendChild(n)}(e.pubId,e.gdprConsent,e.uspConsent)}catch(e){}try{return"https://onetag-sys.com/vast/".concat(e.pubId).concat("/?").concat([null!=e.screenWidth&&n(e.screenWidth)?"screen_width="+parseInt(e.screenWidth):"",null!=e.screenHeight&&n(e.screenHeight)?"screen_height="+parseInt(e.screenHeight):"",null!=e.playerWidth&&n(e.playerWidth)?"player_width="+parseInt(e.playerWidth):"",null!=e.playerHeight&&n(e.playerHeight)?"player_height="+parseInt(e.playerHeight):"",null!=e.placementType?"placement_type="+e.placementType:"",null!=e.topFrame?"topframe="+e.topFrame:"",null!=e.encodedLocationUrl&&0<e.encodedLocationUrl.length?"encoded_location_url="+e.encodedLocationUrl:"",null!=e.encodedReferrerUrl&&0<e.encodedReferrerUrl.length?"encoded_referrer_url="+e.encodedReferrerUrl:"",null!=e.vast4supported?"vast4_supported="+e.vast4supported:"",null!=e.vpaidSupported?"vpaid_supported="+e.vpaidSupported:"",null!=e.gdprConsent&&null!=e.gdprConsent.consentString&&0<e.gdprConsent.consentString.length?"gdpr_consent_string="+e.gdprConsent.consentString:"",null!=e.uspConsent&&0<e.uspConsent.length?"usprivacy_consent_string="+e.uspConsent:"",null!=e.appBundleId?"app_bundle_id="+e.appBundleId:"",null!=e.appDeviceId?"app_device_id="+e.appDeviceId:"",null!=e.auctionCpmFloor&&n(e.auctionCpmFloor)?"auction_cpm_floor="+parseFloat(e.auctionCpmFloor):""].filter(function(e){return 0<e.length}).join("&"))}catch(e){}return""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrebidClient=t.getPrebidJs=void 0;var n=r(0),i=r(236),o=r(4),c=r(237),a=r(7),s=r(3),d=r(206);new o.Console("PrebidClient");t.getPrebidJs=function(){return null==window.shpbjs?window.shpbjs={que:[]}:null==window.shpbjs.que&&(window.shpbjs.que=[]),window.shpbjs};u.prototype.addBid=function(e,t){if(null==e.prebid)throw new Error("Must provide a prebid source");t=this.getAliasForSource(e,t);this.aliasBidder(e.prebid.bidder,t);var e=n.__assign({},e.prebid.params),r=e.bidCpmAdjustment;null!=r&&(delete e.bidCpmAdjustment,this.pbjs.bidderSettings[t]={bidCpmAdjustment:function(e,t){return r*e}}),this.bids.push({bidder:t,params:e})},u.prototype.getBidForSource=function(e,t){null==this.requestBidsPromise&&(this.requestBidsPromise=this.requestBids());var r=this.getAliasForSource(e,t);return this.requestBidsPromise.then(function(e){return e.find(function(e){return e.bidder===r})})},u.prototype.hasWon=function(e,t){return this.getBidForSource(e,t).then(function(e){return null!=e})},u.prototype.bidRequested=function(n,i){var o=this;return new Promise(function(t,e){var r=function(e){e.bidderCode===o.getAliasForSource(n,i)&&(o.pbjs.offEvent(c.PrebidEventName.BID_REQUESTED,r),t(e))};o.onEvent(c.PrebidEventName.BID_REQUESTED,r)})},u.prototype.bidResponse=function(n,i){var o=this;return new Promise(function(t,e){var r=function(e){e.bidderCode===o.getAliasForSource(n,i)&&(o.pbjs.offEvent(c.PrebidEventName.BID_RESPONSE,r),t(e))};o.onEvent(c.PrebidEventName.BID_RESPONSE,r)})},u.prototype.hasBidTimeout=function(o,a){var s=this;return new Promise(function(n,e){var i=function(e){for(var t=0,r=e;t<r.length;t++)r[t].bidder===s.getAliasForSource(o,a)&&(s.pbjs.offEvent(c.PrebidEventName.BID_TIMEOUT,i),n(!0))};s.onEvent(c.PrebidEventName.BID_TIMEOUT,i)})},u.prototype.hasNoBid=function(e,t){var r=this,n=this.getAliasForSource(e,t);return this.auctionEnd().then(function(){for(var e=0,t=r.pbjs.getNoBidsForAdUnitCode(r.code).bids;e<t.length;e++)if(t[e].bidder===n)return!0;return!1})},u.prototype.auctionEnd=function(){var n=this;return new Promise(function(t,e){var r=function(e){n.pbjs.offEvent(c.PrebidEventName.AUCTION_END,r),t()};n.onEvent(c.PrebidEventName.AUCTION_END,r)})},u.prototype.setup=function(t,r){var n=this;this.pbjs.que.push(function(){var e={debug:t,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},userSync:{filterSettings:{all:{bidders:"*",filter:"include"}}},consentManagement:{cmpApi:"static",allowAuctionWithoutConsent:!0,consentData:{getConsentData:{gdprApplies:r.gdprApplies,hasGlobalScope:!1,consentData:r.consentString},getVendorConsents:{metadata:"",meta:""},getTCData:{tcString:r.consentString,gdprApplies:r.gdprApplies}}},priceGranularity:"high",schain:{validation:"strict",config:function(e){try{return i.deserialize(e)}catch(e){return a.Sentry.reportError(new Error("Unable to deserialize schain string: "+e)),null}}(r.schain)},pageUrl:r.pageUrl};n.pbjs.setConfig(e)})},u.prototype.getAliasForSource=function(e,t){var r,n,i=null!==(r=e.gcid)&&void 0!==r?r:"";try{n=s.Utils.decodeAdServerSignedString(i)}catch(e){a.Sentry.reportError(new Error("Unable to decode gcid: "+e)),n=i}return[null===(e=e.prebid)||void 0===e?void 0:e.bidder,n,t].join("-")},u.prototype.onEvent=function(e,t){var r=this;this.pbjs.que.push(function(){r.pbjs.onEvent(e,t)})},u.prototype.requestBids=function(){var r=this;return new Promise(function(t){r.pbjs.que.push(function(){r.pbjs.requestBids({adUnits:[r.getAdunit()],timeout:d.PrebidConstants.TIMEOUT,bidsBackHandler:function(e){null!=e&&r.code in e?t(r.getAuctionWinners(e[r.code].bids)):t([])}})})})},u.prototype.aliasBidder=function(e,t){var r=this;this.pbjs.que.push(function(){r.pbjs.aliasBidder(e,t)})},u.prototype.getAdunit=function(){if(0===this.bids.length)throw new Error("No bidders configured, must call .addBid()");var e=d.PrebidConstants.DEFAULT_ADUNIT_SIZE;return 0<this.dimensions.width&&0<this.dimensions.height&&(e=[this.dimensions.width,this.dimensions.height]),{code:this.code,bids:this.bids,mediaTypes:{video:{playerSize:[e],context:"instream",mimes:["video/mp4","application/javascript","video/webm","video/ogg"],protocols:[2,3,5,6,7,8],maxduration:d.PrebidConstants.MAX_DURATION,linearity:c.PrebidLinearity.LINEAR,api:[2]}}}},u.prototype.getAuctionWinners=function(e){var t=Math.max.apply(null,e.map(function(e){return e.cpm}))*this.winnersCpmCutoffRatio;return e.filter(function(e){return e.cpm>=t})},o=u;function u(e,t){this.pbjs=e,this.bids=[],this.code=t.code,this.dimensions=t.dimensions,this.winnersCpmCutoffRatio=null!==(e=t.winnersCpmCutoffRatio)&&void 0!==e?e:d.PrebidConstants.WINNERS_CPM_CUTOFF_RATIO,this.setup(d.PrebidConstants.DEBUG,t)}t.PrebidClient=o},function(e,t,r){var n;n=function(){return n={},i.m=r={"./src/SChainDeserializer.ts":function(e,t,r){var d=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},t=function(e,t){"use strict";function s(e){return"1"===e?1:0}function c(e){return decodeURIComponent(e).replace(/%21/g,"!")}Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=void 0,t.deserialize=function(e){if(null==e||""===e)throw new Error("Cannot deserialize an empty string");var e=(t=e.split("!"))[0],t=t.splice(1);return(e=function(e){e=e.split(",");return{ver:e[0],complete:s(e[1]),nodes:[]}}(e)).nodes=function(e){var t,r,n=[];try{for(var i=d(e),o=i.next();!o.done;o=i.next()){var a=o.value;n.push(function(e){var t=e.split(","),e={asi:c(t[0]),sid:c(t[1]),hp:s(t[2])};null!=t[3]&&""!==t[3]&&(e.rid=c(t[3]));null!=t[4]&&""!==t[4]&&(e.name=c(t[4]));null!=t[5]&&""!==t[5]&&(e.domain=c(t[5]));return e}(a))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}(t),e}}.apply(t,[r,t]);void 0===t||(e.exports=t)}},i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="./src/SChainDeserializer.ts");function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var r,n},e.exports=n()},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.PrebidPlaybackMethod=t.PrebidLinearity=t.PrebidEventName=void 0,(n=t.PrebidEventName||(t.PrebidEventName={})).BID_RESPONSE="bidResponse",n.BIDDER_DONE="bidderDone",n.BID_REQUESTED="bidRequested",n.BID_TIMEOUT="bidTimeout",n.AUCTION_END="auctionEnd",(n=t.PrebidLinearity||(t.PrebidLinearity={}))[n.LINEAR=1]="LINEAR",n[n.NON_LINEAR=2]="NON_LINEAR",(t=t.PrebidPlaybackMethod||(t.PrebidPlaybackMethod={}))[t.ON_PAGE_LOAD_SOUND_ON=1]="ON_PAGE_LOAD_SOUND_ON",t[t.ON_PAGE_LOAD_SOUND_OFF=2]="ON_PAGE_LOAD_SOUND_OFF"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrebidLoader=void 0;var o,n=r(0),i=r(1),a=r(9),s=r(28),c=r(239),n=(o=s.PlayerLoader,n.__extends(d,o),d.prototype.internalLoad=function(){var r=this;return this.prebidClient.getBidForSource(this.source,this.waterfallPosition).then(function(e){if(r.isAborted())throw new a.CodedError(4e4);if(null==e)throw new a.CodedError(i.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE);var t={value:e.cpm};return new c.PrebidLoaderResult(t,r.source,r.waterfallPosition,e,r.loaderFactory)})},d);function d(e,t,r,n){var i=o.call(this,e,t)||this;return i.loaderFactory=r,i.prebidClient=n,i.prebidClient.addBid(e,t),i}t.PrebidLoader=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrebidLoaderResult=void 0;var n=r(0),i=r(4),o=r(1),a=r(9),i=(new i.Console("PrebidLoaderResult"),s.prototype.get=function(){var e;if(null!=this.winner.vastXml)e=n.__assign(n.__assign({},this.source),{xml:this.winner.vastXml});else{if(null==this.winner.vastUrl)return this.source,this.waterfallPosition,this.winner,Promise.reject(new a.CodedError(o.Constants.VastErrorCodes.NO_ADS_VAST_RESPONSE));e=n.__assign(n.__assign({},this.source),{url:this.winner.vastUrl})}return this.loaderFactory.getAutoLoader(e,this.waterfallPosition).run().then(function(e){return e.get()})},s);function s(e,t,r,n,i){this.cpm=e,this.source=t,this.waterfallPosition=r,this.winner=n,this.loaderFactory=i}t.PrebidLoaderResult=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMADP4VastBuilder=void 0;var s=r(1),n=r(7),i=r(3),c=r(88),d=r(93),u=r(89),l=r(91),p=r(90),f=r(94),h=r(95),v=r(87),o=r(30),a=r(241),m=r(92),y=r(35),r=(g.prototype.build=function(e,t){t=this.buildWrappedLinear(e,t);e.ad[0].inline.creativesLinear[0].linear=t},g.prototype.buildWrappedLinear=function(e,t){var r=e.ad[0].inline.creativesLinear[0].linear,n=new a.VPAIDMediaFileBuilder(this.vpaidUrl,0,0).build(),i=new h.MediaFilesBuilder;i.addMediaFile(n);i=new f.LinearBuilder(this.getDuration(r.duration),i.build()),i=new m.Linear(i.build());return i.icons=r.icons,i.duration=r.duration,i.skipOffset=r.skipOffset,i.trackingEvents=r.trackingEvents,i.videoClicks=r.videoClicks,i.adParameter=this.buildAdParameters(e,t),i},g.prototype.buildAdParameters=function(e,t){e=this.buildInnerVast(e),e=this.htmlElementToString(e),t={vast:this.encodeSpecialChars(e,!1),dp4:y.DP4Factory.convertToAdServerConfig(t),os:{family:this.osFamily}};return JSON.stringify(t)},g.prototype.buildInnerVast=function(e){for(var t=e.ad[0].inline.creativesLinear[0],e=t.linear.mediaFiles,r=new h.MediaFilesBuilder,n=0,i=e;n<i.length;n++){var o=i[n];r.addMediaFile(o.toXML())}e=new f.LinearBuilder(this.getDuration(t.linear.duration),r.build());null!=t.linear.adParameter&&(a=new d.AdParametersBuilder(t.linear.adParameter),e.withAdParameters(a.build()));var a=new l.CreativeBuilder(e.build()),e=new p.InLineBuilder(new u.AdSystemBuilder(s.Constants.VIRALIZE_AD_SYSTEM_NAME).build(),s.Constants.VIRALIZE_AD_SYSTEM_NAME,a.build()),a=new c.AdBuilder(e.build()),e=new v.VastBuilder;return e.addAd(a.build()),e.build()},g.prototype.getDuration=function(e){return null==e?g.UNKNOWN_DURATION:o.VastBuilderUtils.toFormattedTime(e)},g.prototype.htmlElementToString=function(e){try{return i.Utils.serializeXML(e)}catch(e){return n.Sentry.reportError(new Error("Unable to serialize VAST in IMADP4VastBuilder: "+e)),""}},g.prototype.encodeSpecialChars=function(e,t){t=t?"&#13;":"\n";return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,t).replace(/[\r\n]/g,t)},g.UNKNOWN_DURATION="00:00:00.000",g);function g(e,t){this.osFamily=e,this.vpaidUrl=t}t.IMADP4VastBuilder=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VPAIDMediaFileBuilder=void 0;var n,i=r(0),o=r(4),r=r(96),i=(new o.Console("VPAIDMediaFileBuilder"),n=r.MediaFileBuilder,i.__extends(a,n),a.prototype.withApiFramework=function(e){return this},a.prototype.build=function(){return n.prototype.withApiFramework.call(this,"VPAID"),n.prototype.build.call(this)},a);function a(e,t,r){return n.call(this,e,"application/javascript","progressive",t,r)||this}t.VPAIDMediaFileBuilder=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdSlotManager=void 0;var n=r(243),i=r(21),o=r(245),a=r(246),r=(s.prototype.getMediaElementAdapter=function(){return null==this.videoAdapter&&(this.videoAdapter=new n.HTML5AdVideoAdapter(document.getElementById(i.ViewConstants.VIDEO_ID),this.isIOS)),this.videoAdapter},s.prototype.getVPAIDSlot=function(){return null==this.vpaidSlot&&(this.vpaidSlot=new a.VPAIDAdSlot(this.isIOS)),this.vpaidSlot},s.prototype.getIMASlot=function(){return null==this.imaSlot&&(this.imaSlot=new o.IMAAdSlot),this.imaSlot},s);function s(e){this.isIOS=e}t.AdSlotManager=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTML5AdVideoAdapter=void 0;var n,i=r(0),r=r(244),i=(n=r.HTML5VideoAdapter,i.__extends(o,n),o.prototype.getUrlFromMedia=function(e){return e.mediaFile.url},o);function o(e,t){return n.call(this,e,t)||this}t.HTML5AdVideoAdapter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTML5VideoAdapter=void 0;var n=r(4),i=r(1),o=r(12),a=r(9),s=r(207),c=r(7),d=r(3),n=(new n.Console("HTML5VideoAdapter"),u.prototype.loadMedia=function(r){var n=this;return new Promise(function(e,t){n.eventManager.once("loadedmetadata",function(){n.eventManager.off("error"),e()}),n.eventManager.once("error",function(){n.eventManager.off("loadedmetadata"),t(new a.CodedError(i.Constants.VastErrorCodes.DISPLAYING_MEDIAFILE_ERROR))}),n.videoTag.src=n.getUrlFromMedia(r),n.videoTag.src,n.videoTag.load()})},u.prototype.unloadMedia=function(){try{this.pause()}catch(e){c.Sentry.reportError(new Error("Unable to pause video: "+e))}this.videoTag.removeAttribute("src")},u.prototype.canPlay=function(e){return""!==this.videoTag.canPlayType(e)},u.prototype.play=function(){return s.HTMLVideoElementUtils.alwaysThenablePlay(this.videoTag)},u.prototype.pause=function(){this.videoTag.pause()},Object.defineProperty(u.prototype,"muted",{get:function(){return this.videoTag.muted},set:function(e){this.videoTag.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"currentTime",{get:function(){return d.Utils.toMs(this.videoTag.currentTime)},set:function(e){this.videoTag.currentTime=e/1e3},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"duration",{get:function(){return d.Utils.toMs(this.videoTag.duration)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"paused",{get:function(){return this.videoTag.paused},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"poster",{get:function(){return this.videoTag.poster},set:function(e){this.videoTag.poster=e},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"playbackRate",{get:function(){return this.videoTag.playbackRate},set:function(e){s.HTMLVideoElementUtils.safeSetPlaybackRate(this.videoTag,e,this.isIOS)},enumerable:!1,configurable:!0}),u.prototype.onTimeUpdate=function(e){var t=this;this.eventManager.on("timeupdate",function(){e(t.currentTime)})},u.prototype.onLoadedData=function(e){this.eventManager.once("loadeddata",function(){e()})},u.prototype.onDurationChange=function(e){var t=this;this.eventManager.on("durationchange",function(){e(t.duration)})},u.prototype.onPlaylistEnded=function(e){var t=this;this.eventManager.on("ended",function(){e(t.currentTime)})},u.prototype.removeListeners=function(){this.eventManager.off("timeupdate"),this.eventManager.off("durationchange")},u.prototype.getContainer=function(){return this.videoTag},u);function u(e,t){this.videoTag=e,this.isIOS=t,this.muted=!0,this.eventManager=new o.DomEventManager(this.videoTag)}t.HTML5VideoAdapter=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMAAdSlot=void 0;var n,i=r(0),o=r(21),r=r(208),i=(n=r.AdSlot,i.__extends(a,n),a.prototype.getSlot=function(){return null==a.imaSlot&&(a.imaSlot=document.getElementById(a.IMA_CONTAINER_ID)),a.imaSlot},a.prototype.getVideoElement=function(){return null==a.videoElement&&(a.videoElement=document.getElementById(o.ViewConstants.VIDEO_ID)),a.videoElement},a.prototype.showSlot=function(){this.getSlot().classList.add(a.SHOW_SLOT_CLASS)},a.prototype.resetSlot=function(){this.getSlot().classList.remove(a.SHOW_SLOT_CLASS),this.getVideoElement().muted=!0,this.getVideoElement().removeAttribute("src")},a.prototype.getCurrentDimensions=function(){var e=this.getSlot().getBoundingClientRect();return{width:e.width,height:e.height}},a.IMA_CONTAINER_ID="js-vr-ima-container",a.SHOW_SLOT_CLASS="vr-ima-container--show",a);function a(){return n.call(this)||this}t.IMAAdSlot=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VPAIDAdSlot=void 0;var n,i=r(0),o=r(17),a=r(207),s=r(21),r=r(208),i=(n=r.AdSlot,i.__extends(c,n),c.prototype.getVideoElement=function(){return null==c.videoElement&&(c.videoElement=document.getElementById(s.ViewConstants.VIDEO_ID)),c.videoElement},c.prototype.getVPAIDSlot=function(){return null==c.vpaidSlot&&(c.vpaidSlot=document.getElementById(c.VPAID_CONTAINER_ID)),c.vpaidSlot},c.prototype.setPlaybackRate=function(t){var r=this,e=[this.getVideoElement()];e.push.apply(e,o.DomUtils.findVideoTags(this.getVPAIDSlot())),e.forEach(function(e){a.HTMLVideoElementUtils.safeSetPlaybackRate(e,t,r.isIOS)})},c.prototype.showSlot=function(){this.getVPAIDSlot().classList.add(c.SHOW_SLOT_CLASS)},c.prototype.resetSlot=function(){this.getVPAIDSlot().classList.remove(c.SHOW_SLOT_CLASS),this.getVideoElement().muted=!0,this.getVideoElement().removeAttribute("src")},c.prototype.getCurrentDimensions=function(){var e=this.getVPAIDSlot().getBoundingClientRect();return{width:e.width,height:e.height}},c.VPAID_CONTAINER_ID="js-vr-vpaid-container",c.SHOW_SLOT_CLASS="vr-vpaid-container--show",c);function c(e){var t=n.call(this)||this;return t.isIOS=e,t}t.VPAIDAdSlot=i},function(module,exports){!function(c){var d=window.shpbjsChunk;window.shpbjsChunk=function(e,t,r){for(var n,i,o,a=0,s=[];a<e.length;a++)i=e[a],u[i]&&s.push(u[i][0]),u[i]=0;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(c[n]=t[n]);for(d&&d(e,t,r);s.length;)s.shift()();if(r)for(a=0;a<r.length;a++)o=l(l.s=r[a]);return o};var r={},u={374:0};function l(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=c,l.c=r,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw e},l(l.s=932)}({0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"internal",function(){return T}),r.d(t,"bind",function(){return P}),t.getUniqueIdentifierStr=R,t.generateUUID=function e(t){return t?(t^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},t.getBidIdParameter=function(e,t){return t&&t[e]?t[e]:""},t.tryAppendQueryString=function(e,t,r){return r?e+t+"="+encodeURIComponent(r)+"&":e},t.parseQueryStringParameters=function(e){var t,r="";for(t in e)e.hasOwnProperty(t)&&(r+=t+"="+encodeURIComponent(e[t])+"&");return r.replace(/&$/,"")},t.transformAdServerTargetingObj=function(t){return t&&0<Object.getOwnPropertyNames(t).length?ne(t).map(function(e){return"".concat(e,"=").concat(encodeURIComponent(t[e]))}).join("&"):""},t.getAdUnitSizes=function(e){if(e){var t,r=[];return e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)?(t=e.mediaTypes.banner.sizes,Array.isArray(t[0])?r=t:r.push(t)):Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?r=e.sizes:r.push(e.sizes)),r}},t.parseSizesInput=function(e){var t=[];if("string"==typeof e){var r=e.split(","),n=/^(\d)+x(\d)+$/i;if(r)for(var i in r)Q(r,i)&&r[i].match(n)&&t.push(r[i])}else if("object"===v(e)){var o=e.length;if(0<o)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(k(e));else for(var a=0;a<o;a++)t.push(k(e[a]))}return t},t.parseGPTSingleSizeArray=k,t.parseGPTSingleSizeArrayToRtbSize=function(e){if(B(e))return{w:e[0],h:e[1]}},t.getWindowTop=D,t.getWindowSelf=x,t.getWindowLocation=M,t.logMessage=U,t.logInfo=N,t.logWarn=j,t.logError=V,t.hasConsoleLogger=function(){return I},t.debugTurnedOn=L,t.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=R(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e},t.getParameterByName=function(e){return he(M().search)[e]||""},t.isA=F,t.isFn=z,t.isStr=W,t.isArray=q,t.isNumber=G,t.isPlainObject=H,t.isBoolean=function(e){return F(e,S)},t.isEmpty=Y,t.isEmptyStr=function(e){return W(e)&&(!e||0===e.length)},t._each=K,t.contains=function(e,t){if(Y(e))return!1;if(z(e.indexOf))return-1!==e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return!0;return!1},t._map=function(r,n){if(Y(r))return[];if(z(r.map))return r.map(n);var i=[];return K(r,function(e,t){i.push(n(e,t,r))}),i},t.hasOwn=Q,t.insertElement=X,t.triggerPixel=J,t.callBurl=function(e){var t=e.source,e=e.burl;t===y.S2S.SRC&&e&&T.triggerPixel(e)},t.insertHtmlIntoIframe=function(e){var t;e&&((t=document.createElement("iframe")).id=R(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",T.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close())},t.insertUserSyncIframe=Z,t.createTrackPixelHtml=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+'<img src="'+encodeURI(e)+'"></div>':""},t.createTrackPixelIframeHtml=$,t.getValueString=ee,t.uniques=te,t.flatten=re,t.getBidRequest=function(r,e){return r?(e.some(function(e){e=a()(e.bids,function(t){return["bidId","adId","bid_id"].some(function(e){return t[e]===r})});return e&&(t=e),e}),t):void 0;var t},t.getKeys=ne,t.getValue=function(e,t){return e[t]},t.getKeyByValue=function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t)return r},t.getBidderCodes=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:shpbjs.adUnits).map(function(e){return e.bids.map(function(e){return e.bidder}).reduce(re,[])}).reduce(re).filter(te)},t.isGptPubadsDefined=ie,r.d(t,"getHighestCpm",function(){return oe}),r.d(t,"getOldestHighestCpmBid",function(){return ae}),r.d(t,"getLatestHighestCpmBid",function(){return se}),t.shuffle=function(e){for(var t=e.length;0<t;){var r=Math.floor(Math.random()*t),n=e[--t];e[t]=e[r],e[r]=n}return e},t.adUnitsFilter=function(e,t){return s()(e,t&&t.adUnitCode)},t.deepClone=de,t.inIframe=function(){try{return T.getWindowSelf()!==T.getWindowTop()}catch(e){return!0}},t.isSafariBrowser=function(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)},t.replaceAuctionPrice=function(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)},t.replaceClickThrough=function(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)},t.timestamp=function(){return(new Date).getTime()},t.getPerformanceNow=function(){return window.performance&&window.performance.now&&window.performance.now()||0},t.hasDeviceAccess=function(){return!1!==n.b.getConfig("deviceAccess")},t.checkCookieSupport=ue,t.delayExecution=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var r=0;return function(){++r===t&&e.apply(this,arguments)}},t.groupBy=function(e,r){return e.reduce(function(e,t){return(e[t[r]]=e[t[r]]||[]).push(t),e},{})},t.getDefinedParams=function(r,e){return e.filter(function(e){return r[e]}).reduce(function(e,t){return h(e,f({},t,r[t]))},{})},t.isValidMediaTypes=function(e){var t=["banner","native","video"];return!!Object.keys(e).every(function(e){return s()(t,e)})&&(!e.video||!e.video.context||s()(["instream","outstream","adpod"],e.video.context))},t.getBidderRequest=function(e,t,r){return a()(e,function(e){return 0<e.bids.filter(function(e){return e.bidder===t&&e.adUnitCode===r}).length})||{start:null,auctionId:null}},t.getUserConfiguredParams=function(e,t,r){return e.filter(function(e){return e.code===t}).map(function(e){return e.bids}).reduce(re,[]).filter(function(e){return e.bidder===r}).map(function(e){return e.params||{}})},t.getOrigin=function(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},t.getDNT=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},t.isAdUnitCodeMatchingSlot=function(t){return function(e){return le(t,e)}},t.isSlotMatchingAdUnitCode=pe,t.getGptSlotInfoForAdUnitCode=function(e){var t;return ie()&&(t=a()(window.googletag.pubads().getSlots(),pe(e))),t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}},t.unsupportedBidderMessage=function(e,t){var r=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(r," ad unit\n    containing bidders that don't support ").concat(r,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")},t.isInteger=fe,t.convertCamelToUnderscore=function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},t.cleanObj=function(r){return Object.keys(r).reduce(function(e,t){return void 0!==r[t]&&(e[t]=r[t]),e},{})},t.pick=function(o,a){return"object"===v(o)?a.reduce(function(e,t,r){if("function"==typeof t)return e;var n=t,i=t.match(/^(.+?)\sas\s(.+?)$/i);i&&(t=i[1],n=i[2]);t=o[t];return"function"==typeof a[r+1]&&(t=a[r+1](t,e)),void 0!==t&&(e[n]=t),e},{}):{}},t.transformBidderParamKeywords=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"keywords",i=[];return K(e,function(e,t){if(q(e)){var r=[];K(e,function(e){!(e=ee(n+"."+t,e))&&""!==e||r.push(e)}),e=r}else{if(!W(e=ee(n+"."+t,e)))return;e=[e]}i.push({key:t,value:e})}),i},t.convertTypes=function(n,i){return Object.keys(n).forEach(function(e){var t,r;i[e]&&(z(n[e])?i[e]=n[e](i[e]):i[e]=(t=n[e],r=i[e],"string"===t?r&&r.toString():"number"===t?Number(r):r),isNaN(i[e])&&delete i.key)}),i},t.isArrayOfNums=function(e,t){return q(e)&&(!t||e.length===t)&&e.every(fe)},t.fill=function(e,t){for(var r=[],n=0;n<t;n++){var i=H(e)?de(e):e;r.push(i)}return r},t.chunk=function(e,t){for(var r=[],n=0;n<Math.ceil(e.length/t);n++){var i=n*t,o=i+t;r.push(e.slice(i,o))}return r},t.getMinValueFromArray=function(e){return Math.min.apply(Math,u(e))},t.getMaxValueFromArray=function(e){return Math.max.apply(Math,u(e))},t.compareOn=function(r){return function(e,t){return e[r]<t[r]?1:e[r]>t[r]?-1:0}},t.parseQS=he,t.formatQS=ve,t.parseUrl=function(e,t){var r=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?r.href=e:r.href=decodeURIComponent(e);t=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:t?r.search:T.parseQS(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}},t.buildUrl=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(T.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")},t.deepEqual=me,t.mergeDeep=ye,t.cyrb53Hash=function(e){for(var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=function(e,t){if(z(Math.imul))return Math.imul(e,t);var r=(4194303&e)*(t|=0);return 4290772992&e&&(r+=(4290772992&e)*t|0),0|r},i=3735928559^r,o=1103547991^r,a=0;a<e.length;a++)i=n(i^(t=e.charCodeAt(a)),2654435761),o=n(o^t,1597334677);return i=n(i^i>>>16,2246822507)^n(o^o>>>13,3266489909),(4294967296*(2097151&(o=n(o^o>>>16,2246822507)^n(i^i>>>13,3266489909)))+(i>>>0)).toString()};var n=r(3),i=r(160),o=r.n(i),i=r(10),a=r.n(i),i=r(12),s=r.n(i),c=r(161);r.d(t,"deepAccess",function(){return c.a});var d=r(162);function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,"deepSetValue",function(){return d.a});var m,y=r(5),g="Array",b="String",A="Function",E="Number",_="Object",S="Boolean",w=Object.prototype.toString,t=Boolean(window.console),I=Boolean(t&&window.console.log),C=(Boolean(t&&window.console.info),Boolean(t&&window.console.warn),Boolean(t&&window.console.error),r(9)),T={checkCookieSupport:ue,createTrackPixelIframeHtml:$,getWindowSelf:x,getWindowTop:D,getWindowLocation:M,insertUserSyncIframe:Z,insertElement:X,isFn:z,triggerPixel:J,logError:V,logWarn:j,logMessage:U,logInfo:N,parseQS:he,formatQS:ve,deepEqual:me},r={},P=function(e,t){return t}.bind(null,1,r)()===r?Function.prototype.bind:function(e){var t=this,r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,r.concat(Array.prototype.slice.call(arguments)))}},O=(m=0,function(){return++m});function R(){return O()+Math.random().toString(16).substr(2)}function k(e){if(B(e))return e[0]+"x"+e[1]}function B(e){return q(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function D(){return window.top}function x(){return window.self}function M(){return window.location}function U(){L()}function N(){L()}function j(){L()}function V(){L(),C.emit(y.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function L(){return!!n.b.getConfig("debug")}function F(e,t){return w.call(e)==="[object "+t+"]"}function z(e){return F(e,A)}function W(e){return F(e,b)}function q(e){return F(e,g)}function G(e){return F(e,E)}function H(e){return F(e,_)}function Y(e){if(!e)return!0;if(q(e)||W(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function K(e,t){if(!Y(e)){if(z(e.forEach))return e.forEach(t,this);var r=0,n=e.length;if(0<n)for(;r<n;r++)t(e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(this,e[r],r)}}function Q(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function X(e,t,r,n){var i;t=t||document,i=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var o=n?null:i.firstChild;return i.insertBefore(e,o)}}catch(e){}}function J(e,t){var r=new Image;t&&T.isFn(t)&&(r.addEventListener("load",t),r.addEventListener("error",t)),r.src=e}function Z(e,t){var r=T.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),e=document.createElement("div");e.innerHTML=r;e=e.firstChild;t&&T.isFn(t)&&(e.addEventListener("load",t),e.addEventListener("error",t)),T.insertElement(e,document,"html",!0)}function $(e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return e?(1<arguments.length&&void 0!==arguments[1]&&!arguments[1]||(e=encodeURI(e)),t=t&&'sandbox="'.concat(t,'"'),"<iframe ".concat(t,' id="').concat(R(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function ee(e,t,r){return null==t?r:W(t)?t:G(t)?t.toString():void T.logWarn("Unsuported type for param: "+e+" required type: String")}function te(e,t,r){return r.indexOf(e)===t}function re(e,t){return e.concat(t)}function ne(e){return Object.keys(e)}function ie(){if(window.googletag&&z(window.googletag.pubads)&&z(window.googletag.pubads().getSlots))return!0}var oe=ce("timeToRespond",function(e,t){return t<e}),ae=ce("responseTimestamp",function(e,t){return t<e}),se=ce("responseTimestamp",function(e,t){return e<t});function ce(r,n){return function(e,t){return e.cpm===t.cpm?n(e[r],t[r])?t:e:e.cpm<t.cpm?t:e}}function de(e){return o()(e)}function ue(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}var le=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function pe(t){return function(e){return le(e,t)}}function fe(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function he(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var r,r=(r=t.split("="),t=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(r,t)||l(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=r[0],r=r[1];return/\[\]$/.test(t)?(e[t=t.replace("[]","")]=e[t]||[],e[t].push(r)):e[t]=r||"",e},{}):{}}function ve(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return"".concat(t,"[]=").concat(e)}).join("&"):"".concat(t,"=").concat(e[t])}).join("&")}function me(e,t){if(e===t)return!0;if("object"!==v(e)||null===e||"object"!==v(t)||null===t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e){if(!t.hasOwnProperty(r))return!1;if(!me(e[r],t[r]))return!1}return!0}function ye(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!r.length)return e;var i=r.shift();if(H(e)&&H(i))for(var o in i)H(i[o])?(e[o]||h(e,f({},o,{})),ye(e[o],i[o])):q(i[o])&&e[o]?q(e[o])&&(e[o]=e[o].concat(i[o])):h(e,f({},o,i[o]));return ye.apply(void 0,[e].concat(r))}},1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"storage",function(){return f}),t.registerBidder=function(n){var r=Array.isArray(n.supportedMediaTypes)?{supportedMediaTypes:n.supportedMediaTypes}:void 0;function i(e){var t=_(e);a.default.registerBidAdapter(t,e.code,r)}i(n),Array.isArray(n.aliases)&&n.aliases.forEach(function(e){var t,r=e;Object(g.isPlainObject)(e)&&(r=e.code,t=e.gvlid),a.default.aliasRegistry[r]=n.code,i(A({},n,{code:r,gvlid:t}))})},t.newBidder=_,r.d(t,"registerSyncInner",function(){return S}),t.preloadBidderMappingFile=w,t.getIabSubCategory=function(e,t){var r=a.default.getBidAdapter(e);if(r.getSpec().getMappingFileInfo){var n=r.getSpec().getMappingFileInfo(),r=n.localStorageKey||r.getBidderCode(),i=f.getDataFromLocalStorage(r);if(i){try{i=JSON.parse(i)}catch(t){Object(g.logError)("Failed to parse ".concat(e," mapping data stored in local storage"))}return i.mapping[t]||null}}},t.isValid=I;var n=r(92),a=r(8),o=r(3),v=r(33),s=r(43),c=r(37),d=r(25),t=r(5),m=r.n(t),t=r(9),y=r.n(t),t=r(12),u=r.n(t),l=r(4),g=r(0),i=r(2),t=r(13),r=r(7);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=Object(r.a)("bidderFactory"),h=["requestId","cpm","ttl","creativeId","netRevenue","currency"],E=1;function _(f){return A(new n.a(f.code),{getSpec:function(){return Object.freeze(f)},registerSyncs:i,callBids:function(o,a,t,n,s,c){var d,u,l,e,p;function r(e){t(),y.a.emit(m.a.EVENTS.BIDDER_DONE,o,!!e&&Boolean(e.length)),i(u,o.gdprConsent,o.uspConsent)}Array.isArray(o.bids)&&(d={},u=[],0!==(e=o.bids.filter(h)).length?(l={},e.forEach(function(e){(l[e.bidId]=e).adUnitCode||(e.adUnitCode=e.placementCode)}),(e=f.buildRequests(e,o))&&0!==e.length?(Array.isArray(e)||(e=[e]),p=Object(g.delayExecution)(c(r),e.length),e.forEach(function(i){switch(i.method){case"GET":n("".concat(i.url).concat((e=i.data)?"?".concat("object"===b(e)?Object(g.parseQueryStringParameters)(e):e):""),{success:c(t),error:r},void 0,A({method:"GET",withCredentials:!0},i.options));break;case"POST":n(i.url,{success:c(t),error:r},"string"==typeof i.data?i.data:JSON.stringify(i.data),A({method:"POST",contentType:"text/plain",withCredentials:!0},i.options));break;case"NOT_AJAX":setTimeout(function(){t(i.bidderRequest.bids[0])},100);break;default:Object(g.logWarn)("Skipping invalid request from ".concat(f.code,". Request type ").concat(i.type," must be GET or POST")),p()}var e;function t(e,t){s(f.code);try{e=JSON.parse(e)}catch(e){}var r;e={body:e,headers:t?{get:t.getResponseHeader.bind(t)}:{}},u.push(e);try{r=f.interpretResponse(e,i)}catch(e){return Object(g.logError)("Bidder ".concat(f.code," failed to interpret the server's response. Continuing without bids"),null,e),void p()}function n(e){var t,r=l[e.requestId];r?(e.originalCpm=e.cpm,e.originalCurrency=e.currency,e.meta=e.meta||A({},e[r.bidder]),t=A(Object(v.a)(m.a.STATUS.GOOD,r),e),r=r.adUnitCode,t=t,d[r]=!0,I(r,t,[o])&&a(r,t)):Object(g.logWarn)("Bidder ".concat(f.code," made bid for unknown request ID: ").concat(e.requestId,". Ignoring."))}r&&(Object(g.isArray)(r)?r.forEach(n):n(r)),p(r)}function r(e){s(f.code),Object(g.logError)("Server call for ".concat(f.code," failed: ").concat(e,". Continuing without bids.")),p()}})):r()):r())}});function i(e,t,r){S(f,e,t,r)}function h(e){return!!f.isBidRequestValid(e)||(Object(g.logWarn)("Invalid bid sent to bidder ".concat(f.code,": ").concat(JSON.stringify(e))),!1)}}var S=Object(t.b)("async",function(t,e,r,n){var i=o.b.getConfig("userSync.aliasSyncEnabled");!t.getUserSyncs||!i&&a.default.aliasRegistry[t.code]||(i=o.b.getConfig("userSync.filterSettings"),(n=t.getUserSyncs({iframeEnabled:!(!i||!i.iframe&&!i.all),pixelEnabled:!(!i||!i.image&&!i.all)},e,r,n))&&(Array.isArray(n)||(n=[n]),n.forEach(function(e){s.a.registerSync(e.type,t.code,e.url)})))},"registerSyncs");function w(e,t){if(!o.b.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter(function(e){return Object(g.deepAccess)(e,"mediaTypes.video.context")===i.a}).map(function(e){return e.bids.map(function(e){return e.bidder})}).reduce(g.flatten,[]).filter(g.uniques).forEach(function(r){var e=a.default.getBidAdapter(r);if(e.getSpec().getMappingFileInfo){var t=e.getSpec().getMappingFileInfo(),n=t.refreshInDays||E,i=t.localStorageKey||e.getSpec().code,o=f.getDataFromLocalStorage(i);try{(!(o=o?JSON.parse(o):void 0)||Object(g.timestamp)()>o.lastUpdated+24*n*60*60*1e3)&&Object(l.a)(t.url,{success:function(e){try{e=JSON.parse(e);var t={lastUpdated:Object(g.timestamp)(),mapping:e.mapping};f.setDataInLocalStorage(i,JSON.stringify(t))}catch(e){Object(g.logError)("Failed to parse ".concat(r," bidder translation mapping file"))}},error:function(){Object(g.logError)("Failed to load ".concat(r," bidder translation file"))}})}catch(e){Object(g.logError)("Failed to parse ".concat(r," bidder translation mapping file"))}}}),e.call(this,t)}function I(e,t,r){function n(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?(i=Object.keys(t),h.every(function(e){return u()(i,e)&&!u()([void 0,null],t[e])})?"native"!==t.mediaType||Object(c.g)(t,r)?"video"!==t.mediaType||Object(d.d)(t,r)?!("banner"===t.mediaType&&!function(e,t,r){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),1;r=Object(g.getBidderRequest)(r,t.bidderCode,e),e=r&&r.bids&&r.bids[0]&&r.bids[0].sizes,r=Object(g.parseSizesInput)(e);if(1===r.length){e=(e=r[0].split("x"),r=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,r)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=e[0],e=e[1];return t.width=parseInt(r,10),t.height=parseInt(e,10),1}}(e,t,r)&&(Object(g.logError)(n("Banner bids require a width and height")),1)):(Object(g.logError)(n("Video bid does not have required vastUrl or renderer property")),!1):(Object(g.logError)(n("Native bid missing some required properties.")),!1):(Object(g.logError)(n("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1)):(Object(g.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):(Object(g.logWarn)("No adUnitCode was supplied to addBidResponse."),!1);var i}Object(t.a)("checkAdUnitSetup").before(w)},10:function(e,t,r){r=r(98);e.exports=r},100:function(e,t,r){var n=r(30),i=r(101),o=r(46),a=r(47),s=r(55),c=r(28),d=r(73),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=a(e),t=s(t,!0),d)try{return u(e,t)}catch(e){}if(c(e,t))return o(!i.f.call(e,t),e[t])}},101:function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);t.f=o?function(e){e=i(this,e);return!!e&&e.enumerable}:n},102:function(e,t,r){function n(e,t){e=s[a(e)];return e==d||e!=c&&("function"==typeof t?i(t):!!t)}var i=r(31),o=/#|\.prototype\./,a=n.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=n.data={},c=n.NATIVE="N",d=n.POLYFILL="P";e.exports=n},103:function(e,t,r){var n=r(27),i=r(104),o=r(21)("species");e.exports=function(e,t){var r;return i(e)&&("function"==typeof(r=e.constructor)&&(r===Array||i(r.prototype))||n(r)&&null===(r=r[o]))&&(r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},104:function(e,t,r){var n=r(48);e.exports=Array.isArray||function(e){return"Array"==n(e)}},105:function(e,t,r){var n=r(26),i=r(32);e.exports=function(t,r){try{i(n,t,r)}catch(e){n[t]=r}return r}},106:function(e,t,r){r=r(77);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},107:function(e,t,r){r(108);r=r(52);e.exports=r("Array","includes")},108:function(e,t,r){"use strict";var n=r(14),i=r(78).includes,o=r(51);n({target:"Array",proto:!0,forced:!r(60)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),o("includes")},109:function(e,t,r){var n=r(58),i=Math.max,o=Math.min;e.exports=function(e,t){e=n(e);return e<0?i(e+t,0):o(e,t)}},11:function(e,t,r){"use strict";t.a=n,t.c=function(e){return!(!e||!e.url)},t.b=function(e,t){e.render(t)};var c=r(40),d=r(0),t=r(10),u=r.n(t),l="outstream";function n(e){var t=this,r=e.url,n=e.config,i=e.id,o=e.callback,a=e.loaded,s=e.adUnitCode;this.url=r,this.config=n,this.handlers={},this.id=i,this.loaded=a,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):d.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||function(){t.loaded=!0,t.process()},this.render=function(){!function(t){var e=shpbjs.adUnits,r=u()(e,function(e){return e.code===t});if(r){var n=d.deepAccess(r,"renderer"),i=!!(n&&n.url&&n.render),e=d.deepAccess(r,"mediaTypes.video.renderer"),r=!!(e&&e.url&&e.render);return i&&!0!==n.backupOnly||r&&!0!==e.backupOnly}}(s)?Object(c.a)(r,l,this.callback):d.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(s)),this._render?this._render.apply(this,arguments):d.logWarn("No render function was provided, please use .setRender on the renderer")}.bind(this)}n.install=function(e){return new n({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},n.prototype.getConfig=function(){return this.config},n.prototype.setRender=function(e){this._render=e},n.prototype.setEventHandlers=function(e){this.handlers=e},n.prototype.handleVideoEvent=function(e){var t=e.id,e=e.eventName;"function"==typeof this.handlers[e]&&this.handlers[e](),d.logMessage("Prebid Renderer event for id ".concat(t," type ").concat(e))},n.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){d.logError("Error processing Renderer command: ",e)}}},110:function(e,t,r){r(111),r(128),r(89),r(130);r=r(42);e.exports=r.Set},111:function(e,t,r){"use strict";var n=r(112),r=r(117);e.exports=n("Set",function(t){return function(e){return t(this,arguments.length?e:void 0)}},r)},112:function(e,t,r){"use strict";var l=r(14),p=r(26),f=r(80),h=r(31),v=r(32),m=r(17),y=r(83),g=r(27),b=r(64),A=r(34).f,E=r(56).forEach,_=r(30),r=r(54),S=r.set,w=r.getterFor;e.exports=function(r,e,t){var o,a,n=-1!==r.indexOf("Map"),s=-1!==r.indexOf("Weak"),i=n?"set":"add",c=p[r],d=c&&c.prototype,u={};return _&&"function"==typeof c&&(s||d.forEach&&!h(function(){(new c).entries().next()}))?(o=e(function(e,t){S(y(e,o,r),{type:r,collection:new c}),null!=t&&m(t,e[i],e,n)}),a=w(r),E(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(n){var i="add"==n||"set"==n;n in d&&(!s||"clear"!=n)&&v(o.prototype,n,function(e,t){var r=a(this).collection;if(!i&&s&&!g(e))return"get"==n&&void 0;t=r[n](0===e?0:e,t);return i?this:t})}),s||A(o.prototype,"size",{configurable:!0,get:function(){return a(this).collection.size}})):(o=t.getConstructor(e,r,n,i),f.REQUIRED=!0),b(o,r,!1,!0),u[r]=o,l({global:!0,forced:!0},u),s||t.setStrong(o,r,n),o}},113:function(e,t,r){r=r(31);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},114:function(e,t,r){"use strict";var n=r(63),i=r(62);e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},115:function(e,t,r){var n=r(26),r=r(116),n=n.WeakMap;e.exports="function"==typeof n&&/native code/.test(r(n))},116:function(e,t,r){var r=r(76),n=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return n.call(e)}),e.exports=r.inspectSource},117:function(e,t,r){"use strict";var d=r(34).f,u=r(84),l=r(122),p=r(24),f=r(83),h=r(17),a=r(66),s=r(127),v=r(30),m=r(80).fastKey,r=r(54),y=r.set,g=r.getterFor;e.exports={getConstructor:function(e,r,n,i){function o(e,t,r){var n,i=c(e),o=a(e,t);return o?o.value=r:(i.last=o={index:n=m(t,!0),key:t,value:r,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=o),r&&(r.next=o),v?i.size++:e.size++,"F"!==n&&(i.index[n]=o)),e}function a(e,t){var r,n=c(e);if("F"!==(e=m(t)))return n.index[e];for(r=n.first;r;r=r.next)if(r.key==t)return r}var s=e(function(e,t){f(e,s,r),y(e,{type:r,index:u(null),first:void 0,last:void 0,size:0}),v||(e.size=0),null!=t&&h(t,e[i],e,n)}),c=g(r);return l(s.prototype,{clear:function(){for(var e=c(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,v?e.size=0:this.size=0},delete:function(e){var t,r=c(this),n=a(this,e);return n&&(t=n.next,e=n.previous,delete r.index[n.index],n.removed=!0,e&&(e.next=t),t&&(t.previous=e),r.first==n&&(r.first=t),r.last==n&&(r.last=e),v?r.size--:this.size--),!!n},forEach:function(e,t){for(var r,n=c(this),i=p(e,1<arguments.length?t:void 0,3);r=r?r.next:n.first;)for(i(r.value,r.key,this);r&&r.removed;)r=r.previous},has:function(e){return!!a(this,e)}}),l(s.prototype,n?{get:function(e){e=a(this,e);return e&&e.value},set:function(e,t){return o(this,0===e?0:e,t)}}:{add:function(e){return o(this,e=0===e?0:e,e)}}),v&&d(s.prototype,"size",{get:function(){return c(this).size}}),s},setStrong:function(e,t,r){var n=t+" Iterator",i=g(t),o=g(n);a(e,t,function(e,t){y(this,{type:n,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:{value:e.target=void 0,done:!0}},r?"entries":"values",!r,!0),s(t)}}},118:function(e,t,r){var n=r(30),a=r(34),s=r(15),c=r(119);e.exports=n?Object.defineProperties:function(e,t){s(e);for(var r,n=c(t),i=n.length,o=0;o<i;)a.f(e,r=n[o++],t[r]);return e}},119:function(e,t,r){var n=r(120),i=r(85);e.exports=Object.keys||function(e){return n(e,i)}},12:function(e,t,r){r=r(107);e.exports=r},120:function(e,t,r){var a=r(28),s=r(47),c=r(78).indexOf,d=r(53);e.exports=function(e,t){var r,n=s(e),i=0,o=[];for(r in n)!a(d,r)&&a(n,r)&&o.push(r);for(;t.length>i;)a(n,r=t[i++])&&(~c(o,r)||o.push(r));return o}},121:function(e,t,r){r=r(29);e.exports=r("document","documentElement")},122:function(e,t,r){var i=r(86);e.exports=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:i(e,n,t[n],r);return e}},123:function(e,t,r){"use strict";function n(){return this}var i=r(87).IteratorPrototype,o=r(84),a=r(46),s=r(64),c=r(38);e.exports=function(e,t,r){t+=" Iterator";return e.prototype=o(i,{next:a(1,r)}),s(e,t,!1,!0),c[t]=n,e}},124:function(e,t,r){r=r(31);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},125:function(e,t,r){var i=r(15),o=r(126);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,n=!1,e={};try{(r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),n=e instanceof Array}catch(e){}return function(e,t){return i(e),o(t),n?r.call(e,t):e.__proto__=t,e}}():void 0)},126:function(e,t,r){var n=r(27);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},127:function(e,t,r){"use strict";var n=r(29),i=r(34),o=r(21),a=r(30),s=o("species");e.exports=function(e){var t=n(e),e=i.f;a&&t&&!t[s]&&e(t,s,{configurable:!0,get:function(){return this}})}},128:function(e,t){},129:function(e,t,r){function n(o){return function(e,t){var r,n=String(s(e)),i=a(t),e=n.length;return i<0||e<=i?o?"":void 0:(t=n.charCodeAt(i))<55296||56319<t||i+1===e||(r=n.charCodeAt(i+1))<56320||57343<r?o?n.charAt(i):t:o?n.slice(i,i+2):r-56320+(t-55296<<10)+65536}}var a=r(58),s=r(49);e.exports={codeAt:n(!1),charAt:n(!0)}},13:function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"a",function(){return o}),t.d=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:15;0===e.getHooks({hook:t}).length&&e.before(t,r)},t.c=function(e,t){i("async",function(e){e.forEach(function(e){return t.apply(void 0,function(e){if(Array.isArray(e))return n(e)}(e=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return n(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})},e)([])},t.e=function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];o(e).before(function(e,t){t.push(r),e(t)})};t=r(163),t=r.n(t);function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=t()({ready:t.a.SYNC|t.a.ASYNC|t.a.QUEUE}),o=i.get},130:function(e,t,r){r(131);var n,i=r(132),o=r(26),a=r(62),s=r(32),c=r(38),d=r(21)("toStringTag");for(n in i){var u=o[n],u=u&&u.prototype;u&&a(u)!==d&&s(u,d,n),c[n]=c.Array}},131:function(e,t,r){"use strict";var n=r(47),i=r(51),o=r(38),a=r(54),r=r(66),s="Array Iterator",c=a.set,d=a.getterFor(s);e.exports=r(Array,"Array",function(e,t){c(this,{type:s,target:n(e),index:0,kind:t})},function(){var e=d(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?{value:e.target=void 0,done:!0}:"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},132:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},133:function(e,t,r){r(14)({target:"Set",stat:!0},{from:r(134)})},134:function(e,t,r){"use strict";var c=r(18),d=r(24),u=r(17);e.exports=function(e,t,r){var n,i,o,a=arguments.length,s=1<a?t:void 0;return c(this),(t=void 0!==s)&&c(s),null==e?new this:(n=[],t?(i=0,o=d(s,2<a?r:void 0,2),u(e,function(e){n.push(o(e,i++))})):u(e,n.push,n),new this(n))}},135:function(e,t,r){r(14)({target:"Set",stat:!0},{of:r(136)})},136:function(e,t,r){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},137:function(e,t,r){"use strict";var n=r(14),i=r(16),o=r(138);n({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},138:function(e,t,r){"use strict";var i=r(15),o=r(18);e.exports=function(){for(var e=i(this),t=o(e.add),r=0,n=arguments.length;r<n;r++)t.call(e,arguments[r]);return e}},139:function(e,t,r){"use strict";var n=r(14),i=r(16),o=r(140);n({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},14:function(e,t,r){"use strict";var h=r(26),v=r(100).f,m=r(102),y=r(42),g=r(24),b=r(32),A=r(28);e.exports=function(e,t){var r,n,i,o,a,s=e.target,c=e.global,d=e.stat,u=e.proto,l=c?h:d?h[s]:(h[s]||{}).prototype,p=c?y:y[s]||(y[s]={}),f=p.prototype;for(r in t)o=!m(c?r:s+(d?".":"#")+r,e.forced)&&l&&A(l,r),n=p[r],o&&(i=e.noTargetGet?(a=v(l,r))&&a.value:l[r]),a=o&&i?i:t[r],o&&typeof n==typeof a||(o=e.bind&&o?g(a,h):e.wrap&&o?function(n){function e(e,t,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,r)}return n.apply(this,arguments)}return e.prototype=n.prototype,e}(a):u&&"function"==typeof a?g(Function.call,a):a,(e.sham||a&&a.sham||n&&n.sham)&&b(o,"sham",!0),p[r]=o,u&&(A(y,o=s+"Prototype")||b(y,o,{}),y[o][r]=a,e.real&&f&&!f[r]&&b(f,r,a)))}},140:function(e,t,r){"use strict";var a=r(15),s=r(18);e.exports=function(){for(var e,t=a(this),r=s(t.delete),n=!0,i=0,o=arguments.length;i<o;i++)e=r.call(t,arguments[i]),n=n&&e;return!!n}},141:function(e,t,r){"use strict";var n=r(14),i=r(16),o=r(15),a=r(24),s=r(36),c=r(17);n({target:"Set",proto:!0,real:!0,forced:i},{every:function(e,t){var r=o(this),n=s(r),i=a(e,1<arguments.length?t:void 0,3);return!c(n,function(e){if(!i(e,e,r))return c.stop()},void 0,!1,!0).stopped}})},142:function(e,t,r){"use strict";var n=r(14),i=r(16),o=r(29),a=r(15),s=r(18),c=r(39),d=r(17);n({target:"Set",proto:!0,real:!0,forced:i},{difference:function(e){var t=a(this),r=new(c(t,o("Set")))(t),n=s(r.delete);return d(e,function(e){n.call(r,e)}),r}})},143:function(e,t,r){"use strict";var n=r(14),i=r(16),s=r(29),c=r(15),d=r(18),u=r(24),l=r(39),p=r(36),f=r(17);n({target:"Set",proto:!0,real:!0,forced:i},{filter:function(e,t){var r=c(this),n=p(r),i=u(e,1<arguments.length?t:void 0,3),o=new(l(r,s("Set"))),a=d(o.add);return f(n,function(e){i(e,e,r)&&a.call(o,e)},void 0,!1,!0),o}})},144:function(e,t,r){"use strict";var n=r(14),i=r(16),o=r(15),a=r(24),s=r(36),c=r(17);n({target:"Set",proto:!0,real:!0,forced:i},{find:function(e,t){var r=o(this),n=s(r),i=a(e,1<arguments.length?t:void 0,3);return c(n,function(e){if(i(e,e,r))return c.stop(e)},void 0,!1,!0).result}})},145:function(e,t,r){"use strict";var n=r(14),i=r(16),o=r(29),a=r(15),s=r(18),c=r(39),d=r(17);n({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(e){var t=a(this),r=new(c(t,o("Set"))),n=s(t.has),i=s(r.add);return d(e,function(e){n.call(t,e)&&i.call(r,e)}),r}})},146:function(e,t,r){"use strict";var n=r(14),i=r(16),o=r(15),a=r(18),s=r(17);n({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var t=o(this),r=a(t.has);return!s(e,function(e){if(!0===r.call(t,e))return s.stop()}).stopped}})},147:function(e,t,r){"use strict";var n=r(14),i=r(16),o=r(29),a=r(15),s=r(18),c=r(90),d=r(17);n({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(e){var t=c(this),r=a(e),n=r.has;return"function"!=typeof n&&(r=new(o("Set"))(e),n=s(r.has)),!d(t,function(e){if(!1===n.call(r,e))return d.stop()},void 0,!1,!0).stopped}})},148:function(e,t,r){"use strict";var n=r(14),i=r(16),o=r(15),a=r(18),s=r(17);n({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(e){var t=o(this),r=a(t.has);return!s(e,function(e){if(!1===r.call(t,e))return s.stop()}).stopped}})},149:function(e,t,r){"use strict";var n=r(14),i=r(16),o=r(15),a=r(36),s=r(17);n({target:"Set",proto:!0,real:!0,forced:i},{join:function(e){var t=o(this),r=a(t),t=void 0===e?",":String(e),e=[];return s(r,e.push,e,!1,!0),e.join(t)}})},15:function(e,t,r){var n=r(27);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},150:function(e,t,r){"use strict";var n=r(14),i=r(16),s=r(29),c=r(15),d=r(18),u=r(24),l=r(39),p=r(36),f=r(17);n({target:"Set",proto:!0,real:!0,forced:i},{map:function(e,t){var r=c(this),n=p(r),i=u(e,1<arguments.length?t:void 0,3),o=new(l(r,s("Set"))),a=d(o.add);return f(n,function(e){a.call(o,i(e,e,r))},void 0,!1,!0),o}})},151:function(e,t,r){"use strict";var n=r(14),i=r(16),a=r(15),s=r(18),c=r(36),d=r(17);n({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(t,e){var r=a(this),n=c(r),i=arguments.length<2,o=i?void 0:e;if(s(t),d(n,function(e){o=i?(i=!1,e):t(o,e,e,r)},void 0,!1,!0),i)throw TypeError("Reduce of empty set with no initial value");return o}})},152:function(e,t,r){"use strict";var n=r(14),i=r(16),o=r(15),a=r(24),s=r(36),c=r(17);n({target:"Set",proto:!0,real:!0,forced:i},{some:function(e,t){var r=o(this),n=s(r),i=a(e,1<arguments.length?t:void 0,3);return c(n,function(e){if(i(e,e,r))return c.stop()},void 0,!1,!0).stopped}})},153:function(e,t,r){"use strict";var n=r(14),i=r(16),o=r(29),a=r(15),s=r(18),c=r(39),d=r(17);n({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(e){var t=a(this),r=new(c(t,o("Set")))(t),n=s(r.delete),i=s(r.add);return d(e,function(e){n.call(r,e)||i.call(r,e)}),r}})},154:function(e,t,r){"use strict";var n=r(14),i=r(16),o=r(29),a=r(15),s=r(18),c=r(39),d=r(17);n({target:"Set",proto:!0,real:!0,forced:i},{union:function(e){var t=a(this),t=new(c(t,o("Set")))(t);return d(e,s(t.add),t),t}})},155:function(e,t,r){r(89),r(156);r=r(42);e.exports=r.Array.from},156:function(e,t,r){var n=r(14),i=r(157);n({target:"Array",stat:!0,forced:!r(159)(function(e){Array.from(e)})},{from:i})},157:function(e,t,r){"use strict";var h=r(24),v=r(57),m=r(82),y=r(81),g=r(50),b=r(158),A=r(61);e.exports=function(e,t,r){var n,i,o,a,s,c,d=v(e),u="function"==typeof this?this:Array,e=arguments.length,l=1<e?t:void 0,p=void 0!==l,t=A(d),f=0;if(p&&(l=h(l,2<e?r:void 0,2)),null==t||u==Array&&y(t))for(i=new u(n=g(d.length));f<n;f++)c=p?l(d[f],f):d[f],b(i,f,c);else for(s=(a=t.call(d)).next,i=new u;!(o=s.call(a)).done;f++)c=p?m(a,l,[o.value,f],!0):o.value,b(i,f,c);return i.length=f,i}},158:function(e,t,r){"use strict";var n=r(55),i=r(34),o=r(46);e.exports=function(e,t,r){t=n(t);t in e?i.f(e,t,o(0,r)):e[t]=r}},159:function(e,t,r){var i=r(21)("iterator"),o=!1;try{var n=0,a={next:function(){return{done:!!n++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var n={};n[i]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r}},16:function(e,t){e.exports=!0},160:function(e,t){e.exports=function e(t){var r,n=Array.isArray(t)?[]:{};for(r in t){var i=t[r];n[r]=i&&"object"==typeof i?e(i):i}return n}},161:function(e,t,r){"use strict";t.a=function(e,t,r,n,i){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:i;return e===i?r:e}},162:function(e,t,r){"use strict";t.a=function(e,t,r){t.split&&(t=t.split("."));for(var n,i=0,o=t.length,a=e;i<o;++i)n=a[t[i]],a=a[t[i]]=i===o-1?r:null!=n?n:!~t[i+1].indexOf(".")&&-1<+t[i+1]?[]:{}}},163:function(e,t){g.SYNC=1,g.ASYNC=2,g.QUEUE=4;var h="fun-hooks",r=Object.freeze({useProxy:!0,ready:0}),v=new WeakMap,n="2,1,0"===[1].reduce(function(e,t,r){return[e,t,r]},2).toString()?Array.prototype.reduce:function(e,t){var r,n=Object(this),i=n.length>>>0,o=0;if(t)r=t;else{for(;o<i&&!(o in n);)o++;r=n[o++]}for(;o<i;)o in n&&(r=e(r,n[o],o,n)),o++;return r};function m(e,t){return Array.prototype.slice.call(e,t)}var y=Object.assign||function(e){return n.call(m(arguments,1),function(t,r){return r&&Object.keys(r).forEach(function(e){t[e]=r[e]}),t},e)};function g(c){var d,t={},l=[];function e(e,t){return"function"==typeof e?a.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?a.apply(null,arguments):"object"==typeof e?function(n,e,i){var t=!0;void 0===e&&(e=Object.getOwnPropertyNames(n),t=!1);for(var o={},r=["constructor"];(e=e.filter(function(e){return!("function"!=typeof n[e]||-1!==r.indexOf(e)||e.match(/^_/))})).forEach(function(e){var t=e.split(":"),r=t[0],e=t[1]||"sync";o[r]||(t=n[r],o[r]=n[r]=a(e,t,i?[i,r]:void 0))}),n=Object.getPrototypeOf(n),t&&n;);return o}.apply(null,arguments):void 0}function p(e){var i=Array.isArray(e)?e:e.split(".");return n.call(i,function(t,r,e){var n=t[r];return n||(e===i.length-1?(d||l.push(function(){}),t[r]=f(function(e){t[r]=e,0})):t[r]={})},t)}function f(n){var o=[],a=[],s=function(){},e={before:function(e,t){return r.call(this,o,"before",e,t)},after:function(e,t){return r.call(this,a,"after",e,t)},getHooks:function(r){var e=o.concat(a);"object"==typeof r&&(e=e.filter(function(t){return Object.keys(r).every(function(e){return t[e]===r[e]})}));try{y(e,{remove:function(){return e.forEach(function(e){e.remove()}),this}})}catch(e){}return e},removeAll:function(){return this.getHooks().remove()}},t={install:function(e,t,r){this.type=e,(s=r)(o,a),n&&n(t)}};return v.set(e.after,t),e;function r(t,e,r,n){var i={hook:r,type:e,priority:n||10,remove:function(){var e=t.indexOf(i);-1!==e&&(t.splice(e,1),s(o,a))}};return t.push(i),t.sort(function(e,t){return t.priority-e.priority}),s(o,a),this}}function a(u,e,t){var r=e.after&&v.get(e.after);if(r){if(r.type!==u)throw h+": recreated hookable with different type";return e}var n,i,o=t?p(t):f(),a={get:function(e,t){return o[t]||Reflect.get.apply(Reflect,arguments)}};return d||l.push(s),c.useProxy&&"function"==typeof Proxy&&Proxy.revocable?i=new Proxy(e,a):y(i=function(){return a.apply?a.apply(e,this,m(arguments)):e.apply(this,arguments)},o),v.get(i.after).install(u,i,function(e,t){var c,d=[];function r(e){d.push(e.hook)}n=e.length||t.length?(e.forEach(r),c=d.push(void 0)-1,t.forEach(r),function(t,r,e){var n,i=0,o="async"===u&&"function"==typeof e[e.length-1]&&e.pop();function a(e){"sync"===u?n=e:o&&o.apply(null,arguments)}function s(e){if(d[i]){var t=m(arguments);return s.bail=a,t.unshift(s),d[i++].apply(r,t)}"sync"===u?n=e:o&&o.apply(null,arguments)}return d[c]=function(){var e=m(arguments,1);"async"===u&&o&&(delete s.bail,e.push(s));e=t.apply(r,e);"sync"===u&&s(e)},s.apply(null,e),n}):void 0,s()}),i;function s(){!d&&("sync"!==u||c.ready&g.SYNC)&&("async"!==u||c.ready&g.ASYNC)?"sync"!==u&&c.ready&g.QUEUE?a.apply=function(){var e=arguments;l.push(function(){i.apply(e[1],e[2])})}:a.apply=function(){throw h+": hooked function not ready"}:a.apply=n}}return(c=y({},r,c)).ready?e.ready=function(){d=!0,function(e){for(var t;t=e.shift();)t()}(l)}:d=!0,e.get=p,e}e.exports=g},17:function(e,t,r){function p(e,t){this.stopped=e,this.result=t}var f=r(15),h=r(81),v=r(50),m=r(24),y=r(61),g=r(82);(e.exports=function(e,t,r,n,i){var o,a,s,c,d,u,l=m(t,r,n?2:1);if(i)o=e;else{if("function"!=typeof(i=y(e)))throw TypeError("Target is not iterable");if(h(i)){for(a=0,s=v(e.length);a<s;a++)if((c=n?l(f(u=e[a])[0],u[1]):l(e[a]))&&c instanceof p)return c;return new p(!1)}o=i.call(e)}for(d=o.next;!(u=d.call(o)).done;)if("object"==typeof(c=g(o,l,u.value,n))&&c&&c instanceof p)return c;return new p(!1)}).stop=function(e){return new p(!0,e)}},18:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},2:function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"d",function(){return i}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return a});var n="native",i="video",o="banner",a="adpod"},20:function(e,t,r){"use strict";t.a=function(){return window.shpbjs},window.shpbjs=window.shpbjs||{},window.shpbjs.cmd=window.shpbjs.cmd||[],window.shpbjs.que=window.shpbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("shpbjs")},21:function(e,t,r){var n=r(26),i=r(75),o=r(28),a=r(59),s=r(77),r=r(106),c=i("wks"),d=n.Symbol,u=r?d:d&&d.withoutSetter||a;e.exports=function(e){return o(c,e)||(s&&o(d,e)?c[e]=d[e]:c[e]=u("Symbol."+e)),c[e]}},22:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var m,y=r(0),n=(m=window,function(){var e,t=[],r=function(e){try{return e.location.ancestorOrigins?e.location.ancestorOrigins:void 0}catch(e){}}(m),n=!1,i=0,o=!1,a=!1;do{var s,c=f,d=a,u=void 0,l=!1,p=null,a=!1,f=f?f.parent:m;try{u=f.location.href||null}catch(e){l=!0}if(l)if(d){var h=c.context;try{s=p=h.sourceUrl,o=!0,f===m.top&&(n=!0),h.canonicalUrl&&(e=h.canonicalUrl)}catch(e){}}else{Object(y.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var v=c.document.referrer;v&&(p=v,f===m.top&&(n=!0))}catch(e){}!p&&r&&r[i-1]&&(p=r[i-1]),p&&!o&&(s=p)}else u&&(s=p=u,o=!1,f===m.top&&(n=!0,(d=function(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}(f.document))&&(e=d))),f.context&&f.context.sourceUrl&&(a=!0)}while(t.push(p),i++,f!==m.top);return t.reverse(),{referer:s||null,reachedTop:n,isAmp:o,numIframes:i-1,stack:t,canonicalUrl:e||null}})},222:function(e,t,r){r(223);r=r(52);e.exports=r("Array","findIndex")},223:function(e,t,r){"use strict";var n=r(14),i=r(56).findIndex,o=r(51),a=r(60),r="findIndex",s=!0,a=a(r);r in[]&&Array(1)[r](function(){s=!1}),n({target:"Array",proto:!0,forced:s||!a},{findIndex:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),o(r)},23:function(e,t,r){"use strict";r.d(t,"a",function(){return d});var a,n,i=r(0),s=r(41),t=r(10),o=r.n(t),c=r(5),d=(a=[],(n={}).addWinningBid=function(t){var e=o()(a,function(e){return e.getAuctionId()===t.auctionId});e?(t.status=c.BID_STATUS.RENDERED,e.addWinningBid(t)):Object(i.logWarn)("Auction not found when adding winning bid")},n.getAllWinningBids=function(){return a.map(function(e){return e.getWinningBids()}).reduce(i.flatten,[])},n.getBidsRequested=function(){return a.map(function(e){return e.getBidRequests()}).reduce(i.flatten,[])},n.getNoBids=function(){return a.map(function(e){return e.getNoBids()}).reduce(i.flatten,[])},n.getBidsReceived=function(){return a.map(function(e){if(e.getAuctionStatus()===s.a)return e.getBidsReceived()}).reduce(i.flatten,[]).filter(function(e){return e})},n.getAdUnits=function(){return a.map(function(e){return e.getAdUnits()}).reduce(i.flatten,[])},n.getAdUnitCodes=function(){return a.map(function(e){return e.getAdUnitCodes()}).reduce(i.flatten,[]).filter(i.uniques)},n.createAuction=function(e){var t=e.adUnits,r=e.adUnitCodes,n=e.callback,i=e.cbTimeout,o=e.labels,e=e.auctionId,e=Object(s.k)({adUnits:t,adUnitCodes:r,callback:n,cbTimeout:i,labels:o,auctionId:e});return a.push(e),e},n.findBidByAdId=function(t){return o()(a.map(function(e){return e.getBidsReceived()}).reduce(i.flatten,[]),function(e){return e.adId===t})},n.getStandardBidderAdServerTargeting=function(){return Object(s.j)()[c.JSON_MAPPING.ADSERVER_TARGETING]},n.setStatusForBids=function(e,t){var r=n.findBidByAdId(e);r&&(r.status=t),!r||t!==c.BID_STATUS.BID_TARGETING_SET||(t=o()(a,function(e){return e.getAuctionId()===r.auctionId}))&&t.setBidTargeting(r)},n.getLastAuctionId=function(){return a.length&&a[a.length-1].getAuctionId()},n)},230:function(e,t,r){"use strict";t.a=function(){window.addEventListener("message",i,!1)};var n=r(9),f=r.n(n),h=r(37),t=r(5),n=r.n(t),v=r(0),m=r(23),t=r(10),y=r.n(t),g=r(11),t=r(12),c=r.n(t),b=n.a.EVENTS.BID_WON;function i(e){var t,r,n,i,o,a,s,c,d,u,l=e.message?"message":"data",p={};try{p=JSON.parse(e[l])}catch(e){return}p&&p.adId&&((u=y()(m.a.getBidsReceived(),function(e){return e.adId===p.adId}))&&"Prebid Request"===p.message&&(d=e,r=(t=u).adId,n=t.ad,i=t.adUrl,o=t.width,a=t.height,s=t.renderer,c=t.cpm,Object(g.c)(s)?Object(g.b)(s,t):r&&(A(t),d.source.postMessage(JSON.stringify({message:"Prebid Response",ad:Object(v.replaceAuctionPrice)(n,c),adUrl:Object(v.replaceAuctionPrice)(i,c),adId:r,width:o,height:a}),d.origin)),m.a.addWinningBid(u),f.a.emit(b,u)),u&&"Prebid Native"===p.message&&("assetRequest"!==p.action?("allAssetRequest"===p.action?(d=Object(h.c)(p,u),e.source.postMessage(JSON.stringify(d),e.origin)):"resizeNativeHeight"===p.action&&(u.height=p.height,u.width=p.width,A(u)),"click"!==Object(h.b)(p,u)&&(m.a.addWinningBid(u),f.a.emit(b,u))):(u=Object(h.d)(p,u),e.source.postMessage(JSON.stringify(u),e.origin))))}function A(e){var i=e.adId,o=e.adUnitCode,a=e.width,s=e.height;["div","iframe"].forEach(function(e){var t,r,n=(n=e+':not([style*="display: none"])',t=o,t=window.googletag?(r=i,y()(window.googletag.pubads().getSlots(),function(t){return y()(t.getTargetingKeys(),function(e){return c()(t.getTargeting(e),r)})}).getSlotElementId()):window.apntag?(e=window.apntag.getTag(t))&&e.targetId:t,(t=document.getElementById(t))&&t.querySelector(n));n?((n=n.style).width=a+"px",n.height=s+"px"):Object(v.logWarn)("Unable to locate matching page element for adUnitCode ".concat(o,".  Can't resize it to ad's dimensions.  Please review setup."))})}},231:function(e,t,r){"use strict";t.a=function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem(c))}catch(e){}t&&p(t,!0)};var n,i,o=r(3),a=r(0),s=r(41),c="shpbjs:debugging";function d(e){Object(a.logMessage)("DEBUG: "+e)}function u(e){Object(a.logWarn)("DEBUG: "+e)}function l(){s.c.getHooks({hook:n}).remove(),s.e.getHooks({hook:i}).remove()}function p(e,t){t=1<arguments.length&&void 0!==t&&t;o.b.setConfig({debug:!0}),l(),n=function(e,t,r){h(this.bidders,r.bidderCode)?u("bidder '".concat(r.bidderCode,"' excluded from auction by bidder overrides")):(Array.isArray(this.bids)&&this.bids.forEach(function(e){f(e,r.bidderCode,t)||v(e,r,"bidder")}),e(t,r))}.bind(e=e),s.c.before(n,5),i=function(e,t){var n=this,t=t.filter(function(e){return!h(n.bidders,e.bidderCode)||(u("bidRequest '".concat(e.bidderCode,"' excluded from auction by bidder overrides")),!1)});Array.isArray(n.bidRequests)&&t.forEach(function(r){n.bidRequests.forEach(function(t){r.bids.forEach(function(e){f(t,r.bidderCode,e.adUnitCode)||v(t,e,"bidRequest")})})}),e(t)}.bind(e),s.e.before(i,5),d("bidder overrides enabled".concat(t?" from session":""))}function f(e,t,r){return e.bidder&&e.bidder!==t||e.adUnitCode&&e.adUnitCode!==r}function h(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function v(r,e,n){return Object.keys(r).filter(function(e){return-1===["adUnitCode","bidder"].indexOf(e)}).reduce(function(e,t){return d("bidder overrides changed '".concat(e.adUnitCode,"/").concat(e.bidderCode,"' ").concat(n,".").concat(t," from '").concat(e[t],".js' to '").concat(r[t],"'")),e[t]=r[t],e},e)}o.b.getConfig("debugging",function(e){return function(e){if(e.enabled){try{window.sessionStorage.setItem(c,JSON.stringify(e))}catch(e){}p(e)}else{l(),d("bidder overrides disabled");try{window.sessionStorage.removeItem(c)}catch(e){}}}(e.debugging)})},24:function(e,t,r){var o=r(18);e.exports=function(n,i,e){if(o(n),void 0===i)return n;switch(e){case 0:return function(){return n.call(i)};case 1:return function(e){return n.call(i,e)};case 2:return function(e,t){return n.call(i,e,t)};case 3:return function(e,t,r){return n.call(i,e,t,r)}}return function(){return n.apply(i,arguments)}}},25:function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return n}),t.d=function(e,t){var r=Object(i.getBidRequest)(e.requestId,t),n=r&&Object(i.deepAccess)(r,"mediaTypes.video"),t=n&&Object(i.deepAccess)(n,"context");return s(e,r,n,t)},r.d(t,"c",function(){return s}),r(8);var i=r(0),o=r(3),t=r(12),r=(r.n(t),r(13)),a="outstream",n="instream",s=Object(r.b)("sync",function(e,t,r,n){return!t||r&&n!==a?o.b.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(Object(i.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with shpbjs.setConfig({ cache: {url: "..."} });\n      '),!1):n!==a||!!(e.renderer||t.renderer||r.renderer)},"checkVideoBidSetup")},26:function(r,e,t){(function(e){function t(e){return e&&e.Math==Math&&e}r.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof e&&e)||Function("return this")()}).call(e,t(35))},27:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},28:function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},29:function(e,t,r){function n(e){return"function"==typeof e?e:void 0}var i=r(42),o=r(26);e.exports=function(e,t){return arguments.length<2?n(i[e])||n(o[e]):i[e]&&i[e][t]||o[e]&&o[e][t]}},3:function(e,t,r){"use strict";r.d(t,"a",function(){return f}),r.d(t,"b",function(){return _});var n=r(45),t=r(10),a=r.n(t),t=r(12),i=r.n(t),t=r(79),o=r.n(t),s=r(0);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=r(91),u=r(0),r=r(5),l="TRUE"===u.getParameterByName(r.DEBUG_MODE).toUpperCase(),p=window.location.origin,f="random",h={};h[f]=!0,h.fixed=!0;var v,m,y,g,b,A=f,E={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},_=(g=[],b=null,S(),{getCurrentBidder:function(){return b},getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?u.deepAccess(w(),e):w()}return function(e,t){if("string"!=typeof e&&(t=e,e="*"),"function"==typeof t){var r={topic:e,callback:t};return g.push(r),function(){g.splice(g.indexOf(r),1)}}u.logError("listener must be a function")}.apply(void 0,arguments)},setConfig:function(r){var e,n;u.isPlainObject(r)?(e=Object.keys(r),n={},e.forEach(function(e){var t=r[e];u.isPlainObject(v[e])&&u.isPlainObject(t)&&(t=c({},v[e],t)),n[e]=m[e]=t}),I(n)):u.logError("setConfig options must be an object")},setDefaults:function(e){u.isPlainObject(v)?(c(v,e),c(m,e)):u.logError("defaults must be an object")},resetConfig:S,runWithBidder:C,callbackWithBidder:function(o){return function(i){return function(){if("function"==typeof i){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return C(o,(e=u.bind).call.apply(e,[i,this].concat(r)))}u.logWarn("config.callbackWithBidder callback is not a function")}}},setBidderConfig:function(n){try{!function(e){if(!u.isPlainObject(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!u.isPlainObject(e.config))throw"setBidderConfig bidder options must contain a config object"}(n),n.bidders.forEach(function(r){y[r]||(y[r]={}),Object.keys(n.config).forEach(function(e){var t=n.config[e];u.isPlainObject(t)?y[r][e]=c({},y[r][e]||{},t):y[r][e]=t})})}catch(e){u.logError(e)}},getBidderConfig:function(){return y}});function S(){v={};var r={_debug:l,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:p,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:E.MEDIUM,set priceGranularity(e){o(e)&&("string"==typeof e?this._priceGranularity=i(e)?e:E.MEDIUM:u.isPlainObject(e)&&(this._customPriceBucket=e,this._priceGranularity=E.CUSTOM,u.logMessage("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(r){var n=this;this._mediaTypePriceGranularity=Object.keys(r).reduce(function(e,t){return o(r[t])?"string"==typeof r?e[t]=i(r[t])?r[t]:n._priceGranularity:u.isPlainObject(r)&&(e[t]=r[t],u.logMessage("Using custom price granularity for ".concat(t))):u.logWarn("Invalid price granularity for media type: ".concat(t)),e},{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:A,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){h[e]?this._bidderSequence=e:u.logWarn("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(e){!function(e){if(!u.isPlainObject(e))return u.logWarn("Auction Options must be an object"),0;for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];if("secondaryBidders"!==n)return u.logWarn("Auction Options given an incorrect param: ".concat(n)),0;if("secondaryBidders"===n){if(!u.isArray(e[n]))return u.logWarn("Auction Options ".concat(n," must be of type Array")),0;if(!e[n].every(u.isStr))return u.logWarn("Auction Options ".concat(n," must be only string")),0}}return 1}(e)||(this._auctionOptions=e)}};function i(t){return a()(Object.keys(E),function(e){return t===E[e]})}function o(e){if(e){if("string"==typeof e)i(e)||u.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(u.isPlainObject(e)&&!Object(n.b)(e))return u.logError("Invalid custom price value passed to `setPriceGranularity()`"),0;return 1}u.logError("Prebid Error: no value passed to `setPriceGranularity()`")}m&&I(Object.keys(m).reduce(function(e,t){return m[t]!==r[t]&&(e[t]=r[t]||{}),e},{})),m=r,y={}}function w(){if(b&&y&&u.isPlainObject(y[b])){var r=y[b],e=new o.a(Object.keys(m).concat(Object.keys(r)));return d(e).reduce(function(e,t){return void 0===r[t]?e[t]=m[t]:void 0!==m[t]&&u.isPlainObject(r[t])?e[t]=Object(s.mergeDeep)({},m[t],r[t]):e[t]=r[t],e},{})}return c({},m)}function I(n){var t=Object.keys(n);g.filter(function(e){return i()(t,e.topic)}).forEach(function(e){var t,r;e.callback((t={},r=e.topic,e=n[e.topic],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t))}),g.filter(function(e){return"*"===e.topic}).forEach(function(e){return e.callback(n)})}function C(e,t){b=e;try{return t()}finally{b=null}}},30:function(e,t,r){r=r(31);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},31:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},32:function(e,t,r){var n=r(30),i=r(34),o=r(46);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},33:function(e,t,r){"use strict";t.a=function(e,t){return new n(e,t)};var i=r(0);function n(e,t){var r=t&&t.src||"client",n=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=function(){switch(n){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=i.getUniqueIdentifierStr(),this.requestId=t&&t.bidId,this.mediaType="banner",this.source=r,this.getStatusCode=function(){return n},this.getSize=function(){return this.width+"x"+this.height}}},34:function(e,t,r){var n=r(30),i=r(73),o=r(15),a=r(55),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(o(e),t=a(t,!0),o(r),i)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},35:function(e,t){var r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},358:function(e,t,r){r(359);r=r(52);e.exports=r("String","includes")},359:function(e,t,r){"use strict";var n=r(14),i=r(360),o=r(49);n({target:"String",proto:!0,forced:!r(362)("includes")},{includes:function(e,t){return!!~String(o(this)).indexOf(i(e),1<arguments.length?t:void 0)}})},36:function(e,t,r){var n=r(16),r=r(90);e.exports=n?r:function(e){return Set.prototype.values.call(e)}},360:function(e,t,r){var n=r(361);e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},361:function(e,t,r){var n=r(27),i=r(48),o=r(21)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},362:function(e,t,r){var n=r(21)("match");e.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[n]=!1,"/./"[t](r)}catch(e){}}return!1}},37:function(e,t,r){"use strict";r.d(t,"f",function(){return o}),r.d(t,"a",function(){return a}),t.h=function(e){return e&&e.type&&((t=e.type)&&i()(Object.keys(d),t)||(Object(s.logError)("".concat(t," nativeParam is not supported")),0))?d[e.type]:e;var t},t.g=function(t,e){e=Object(s.getBidRequest)(t.requestId,e);if(!e)return!1;if(!Object(s.deepAccess)(t,"native.clickUrl"))return!1;if(Object(s.deepAccess)(t,"native.image")&&(!Object(s.deepAccess)(t,"native.image.height")||!Object(s.deepAccess)(t,"native.image.width")))return!1;if(Object(s.deepAccess)(t,"native.icon")&&(!Object(s.deepAccess)(t,"native.icon.height")||!Object(s.deepAccess)(t,"native.icon.width")))return!1;var r=e.nativeParams;if(!r)return!0;var e=Object.keys(r).filter(function(e){return r[e].required}),n=Object.keys(t.native).filter(function(e){return t.native[e]});return e.every(function(e){return i()(n,e)})},t.b=function(e,t){var r;return"click"===e.action?r=t.native&&t.native.clickTrackers:(r=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&Object(s.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(r||[]).forEach(s.triggerPixel),e.action},t.e=function(n,i){var o={};Object(s.deepAccess)(i,"nativeParams.rendererUrl")?n.native.rendererUrl=u(i.nativeParams.rendererUrl):Object(s.deepAccess)(i,"nativeParams.adTemplate")&&(n.native.adTemplate=u(i.nativeParams.adTemplate));var a=!1!==Object(s.deepAccess)(i,"nativeParams.sendTargetingKeys");return Object.keys(n.native).forEach(function(e){var t,r;"adTemplate"!==e&&(t=c.NATIVE_KEYS[e],r=u(n.native[e]),Object(s.deepAccess)(i,"mediaTypes.native.".concat(e,".sendId"))&&(r="".concat(t,":").concat(n.adId)),e=Object(s.deepAccess)(i,"nativeParams.".concat(e,".sendTargetingKeys")),t&&r&&("boolean"==typeof e?e:a)&&(o[t]=r))}),o},t.d=function(e,r){var n={message:"assetResponse",adId:e.adId,assets:[]};return r.native.hasOwnProperty("adTemplate")&&(n.adTemplate=u(r.native.adTemplate)),r.native.hasOwnProperty("rendererUrl")&&(n.rendererUrl=u(r.native.rendererUrl)),e.assets.forEach(function(e){var t=Object(s.getKeyByValue)(c.NATIVE_KEYS,e),e=u(r.native[t]);n.assets.push({key:t,value:e})}),n},t.c=function(e,n){var i={message:"assetResponse",adId:e.adId,assets:[]};return Object.keys(n.native).forEach(function(e,t){var r;"adTemplate"===e&&n.native[e]?i.adTemplate=u(n.native[e]):"rendererUrl"===e&&n.native[e]?i.rendererUrl=u(n.native[e]):n.native[e]&&c.NATIVE_KEYS.hasOwnProperty(e)&&(r=u(n.native[e]),i.assets.push({key:e,value:r}))}),i};var s=r(0),t=r(12),i=r.n(t);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=r(5),o=[],a=Object.keys(c.NATIVE_KEYS).map(function(e){return c.NATIVE_KEYS[e]}),d={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function u(e){return"object"===n(e)&&e.url?e.url:e}},38:function(e,t){e.exports={}},39:function(e,t,r){var n=r(15),i=r(18),o=r(21)("species");e.exports=function(e,t){var r,e=n(e).constructor;return void 0===e||null==(r=n(e)[o])?t:i(r)}},4:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),t.b=i;var p=r(3);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=r(0),m=4,n=i();function i(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3e3,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},u=e.request,l=e.done;return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var i,o=n.method||(r?"POST":"GET"),a=document.createElement("a");a.href=e;var s,c="object"===h(t)&&null!==t?t:{success:function(){v.logMessage("xhr success")},error:function(e){v.logError("xhr error",null,e)}};"function"==typeof t&&(c.success=t),(i=new window.XMLHttpRequest).onreadystatechange=function(){var e;i.readyState===m&&("function"==typeof l&&l(a.origin),200<=(e=i.status)&&e<300||304===e?c.success(i.responseText,i):c.error(i.statusText,i))},p.b.getConfig("disableAjaxTimeout")||(i.ontimeout=function(){v.logError("  xhr timeout after ",i.timeout,"ms")}),"GET"===o&&r&&(f((s=v.parseUrl(e,n)).search,r),e=v.buildUrl(s)),i.open(o,e,!0),p.b.getConfig("disableAjaxTimeout")||(i.timeout=d),n.withCredentials&&(i.withCredentials=!0),v._each(n.customHeaders,function(e,t){i.setRequestHeader(t,e)}),n.preflight&&i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type",n.contentType||"text/plain"),"function"==typeof u&&u(a.origin),"POST"===o&&r?i.send(r):i.send()}catch(e){v.logError("xhr construction",e)}}}},40:function(e,t,r){"use strict";t.a=function(t,e,r){var n,i;if(e&&t){if(o()(c,e))return s[t]?(r&&"function"==typeof r&&(s[t].loaded?r():s[t].callbacks.push(r)),s[t].tag):(s[t]={loaded:!1,tag:null,callbacks:[]},r&&"function"==typeof r&&s[t].callbacks.push(r),a.logWarn("module ".concat(e," is loading external JavaScript")),r=t,n=function(){s[t].loaded=!0;try{for(var e=0;e<s[t].callbacks.length;e++)s[t].callbacks[e]()}catch(e){a.logError("Error executing callback","adloader.js:loadExternalScript",e)}},(i=document.createElement("script")).type="text/javascript",i.async=!0,(s[t].tag=i).readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,n())}:i.onload=function(){n()},i.src=r,a.insertElement(i),i);a.logError("".concat(e," not whitelisted for loading external JavaScript"))}else a.logError("cannot load external script without url and moduleCode")};var t=r(12),o=r.n(t),a=r(0),s={},c=["criteo","outstream","adagio","browsi"]},41:function(e,t,r){"use strict";r.d(t,"b",function(){return F}),r.d(t,"a",function(){return z}),t.k=function(e){var t,i,h,v,o=e.adUnits,r=e.adUnitCodes,n=e.callback,a=e.cbTimeout,s=e.labels,e=e.auctionId,m=o,c=s,d=r,u=[],l=[],p=[],f=e||U.generateUUID(),y=n,g=a,b=[],A=new Set;function E(){return{auctionId:f,timestamp:t,auctionEnd:i,auctionStatus:h,adUnits:m,adUnitCodes:d,labels:c,bidderRequests:u,noBids:p,bidsReceived:l,winningBids:b,timeout:g}}function _(r,e){var n,t;e&&clearTimeout(v),void 0===i&&(n=[],r&&(U.logMessage("Auction ".concat(f," timedOut")),t=A,(n=u.map(function(e){return(e.bids||[]).filter(function(e){return!t.has(e.bidder)})}).reduce(C.flatten,[]).map(function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}})).length&&j.emit(V.EVENTS.BID_TIMEOUT,n)),h=z,i=Date.now(),j.emit(V.EVENTS.AUCTION_END,E()),Q(m,function(){try{var e;null!=y&&(e=l.filter(U.bind.call(C.adUnitsFilter,this,d)).reduce($,{}),y.apply(shpbjs,[e,r,f]),y=null)}catch(e){U.logError("Error executing bidsBackHandler",null,e)}finally{n.length&&N.callTimedOutBidders(o,n,g);var t=O.b.getConfig("userSync")||{};t.enableOverride||M(t.syncDelay)}}))}function S(){U.logInfo("Bids Received for Auction with id: ".concat(f),l),h=z,_(!1,!0)}function w(e){A.add(e)}function I(t){var r=this;t.forEach(function(e){u=u.concat(e)});var l={},e={bidRequests:t,run:function(){var e=_.bind(null,!0),e=setTimeout(e,g);v=e,h=F,j.emit(V.EVENTS.AUCTION_INIT,E());var n,s,c,i,o,d,a=(n=S,s=r,c=0,i=!1,o=new Set,d={},{addBidResponse:function(e,t){d[t.requestId]=!0,c++;var r,n,i,o,a=function(e){var t=e.adUnitCode,r=e.bid,n=e.bidderRequest,i=e.auctionId,o=n.start,a=x({},r,{auctionId:i,responseTimestamp:Object(C.timestamp)(),requestTimestamp:o,cpm:parseFloat(r.cpm)||0,bidder:r.bidderCode,adUnitCode:t});a.timeToRespond=a.responseTimestamp-a.requestTimestamp,j.emit(V.EVENTS.BID_ADJUSTMENT,a);e=n.bids&&R()(n.bids,function(e){return e.adUnitCode==t}),i=e&&e.renderer,o=a.mediaType,n=e&&e.mediaTypes&&e.mediaTypes[o],o=n&&n.renderer,n=null;!o||!o.url||!0===o.backupOnly&&o.render?!i||!i.url||!0===i.backupOnly&&r.renderer||(n=i):n=o,n&&(a.renderer=P.a.install({url:n.url}),a.renderer.setRender(n.render));e=Z(r.mediaType,e,O.b.getConfig("mediaTypePriceGranularity")),e=Object(T.a)(a.cpm,"object"===D(e)?e:O.b.getConfig("customPriceBucket"),O.b.getConfig("currency.granularityMultiplier"));return a.pbLg=e.low,a.pbMg=e.med,a.pbHg=e.high,a.pbAg=e.auto,a.pbDg=e.dense,a.pbCg=e.custom,a}({adUnitCode:e,bid:t,bidderRequest:this,auctionId:s.getAuctionId()});"video"===a.mediaType?(r=s,n=a,i=this,o=u,e=!0,t=Object(C.getBidRequest)(n.requestId,[i]),i=(i=t&&Object(C.deepAccess)(t,"mediaTypes.video"))&&Object(C.deepAccess)(i,"context"),O.b.getConfig("cache.url")&&i!==B.b&&(n.videoCacheKey?n.vastUrl||(U.logError("videoCacheKey specified but not required vastUrl for video bid"),e=!1):(e=!1,J(r,n,o,t))),e&&(X(r,n),o())):(X(s,a),u())},adapterDone:function(){var t,e=s.getBidRequests(),r=O.b.getConfig("auctionOptions");o.add(this),!r||U.isEmpty(r)||(t=r.secondaryBidders)&&!e.every(function(e){return k()(t,e.bidderCode)})&&(e=e.filter(function(e){return!k()(t,e.bidderCode)})),i=e.every(function(e){return o.has(e)}),this.bids.forEach(function(e){d[e.bidId]||(s.addNoBid(e),j.emit(V.EVENTS.NO_BID,e))}),i&&0===c&&n()}});function u(){c--,i&&0===c&&n()}N.callBids(m,t,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Y.apply({dispatch:a.addBidResponse,bidderRequest:this},t)},a.adapterDone,{request:function(e,t){f(q,t),f(l,e),G[e]||(G[e]={SRA:!0,origin:t}),1<l[e]&&(G[e].SRA=!1)},done:function(e){q[e]--,H[0]&&p(H[0])&&H.shift()}},g,w)}};function p(e){var n=!0,i=O.b.getConfig("maxRequestsPerOrigin")||W;return e.bidRequests.some(function(e){var t=1,r=void 0!==e.src&&e.src===V.S2S.SRC?"s2s":e.bidderCode;return G[r]&&(!1===G[r].SRA&&(t=Math.min(e.bids.length,i)),q[G[r].origin]+t>i&&(n=!1)),!n}),n&&e.run(),n}function f(e,t){void 0===e[t]?e[t]=1:e[t]++}p(e)||(U.logWarn("queueing auction due to limited endpoint capacity"),H.push(e))}return{addBidReceived:function(e){l=l.concat(e)},addNoBid:function(e){p=p.concat(e)},executeCallback:_,callBids:function(){h=L,t=Date.now();var e=N.makeBidRequests(m,t,f,g,c);U.logInfo("Bids Requested for Auction with id: ".concat(f),e),e.length<1?(U.logWarn("No valid bid requests returned for auction"),S()):K.call({dispatch:I,context:this},e)},addWinningBid:function(e){b=b.concat(e),N.callBidWonBidder(e.bidder,e,o)},setBidTargeting:function(e){N.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return b},getTimeout:function(){return g},getAuctionId:function(){return f},getAuctionStatus:function(){return h},getAdUnits:function(){return m},getAdUnitCodes:function(){return d},getBidRequests:function(){return u},getBidsReceived:function(){return l},getNoBids:function(){return p}}},r.d(t,"c",function(){return Y}),r.d(t,"e",function(){return K}),t.g=c,t.d=X,r.d(t,"f",function(){return J}),r.d(t,"i",function(){return d}),r.d(t,"h",function(){return u}),t.j=l;var C=r(0),T=r(45),o=r(37),a=r(95),P=r(11),O=r(3),n=r(43),i=r(13),t=r(10),R=r.n(t),t=r(12),k=r.n(t),B=r(25),s=r(2);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var M=n.a.syncUsers,U=r(0),N=r(8).default,j=r(9),V=r(5),L="started",F="inProgress",z="completed";j.on(V.EVENTS.BID_ADJUSTMENT,function(e){!function(e){var t,r=e.bidderCode,n=e.cpm;if(shpbjs.bidderSettings&&(r&&shpbjs.bidderSettings[r]&&"function"==typeof shpbjs.bidderSettings[r].bidCpmAdjustment?t=shpbjs.bidderSettings[r].bidCpmAdjustment:shpbjs.bidderSettings[V.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof shpbjs.bidderSettings[V.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(t=shpbjs.bidderSettings[V.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),t))try{n=t(e.cpm,x({},e))}catch(e){U.logError("Error during bid adjustment","bidmanager.js",e)}0<=n&&(e.cpm=n)}(e)});var W=4,q={},G={},H=[],Y=Object(i.b)("async",function(e,t){this.dispatch.call(this.bidderRequest,e,t)},"addBidResponse"),K=Object(i.b)("sync",function(e){this.dispatch.call(this.context,e)},"addBidderRequests"),Q=Object(i.b)("async",function(e,t){t&&t()},"bidsBackCallback");function c(e,t){t.timeToRespond>e.getTimeout()+O.b.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function X(e,t){var r,n,i=e.getBidRequests(),i=R()(i,function(e){return e.bidderCode===t.bidderCode});i=i,(r=t).bidderCode&&(0<r.cpm||r.dealId)&&(n=R()(i.bids,function(e){return e.adUnitCode===r.adUnitCode}),n=function(e,t,r){if(!t)return{};var n={},i=shpbjs.bidderSettings;return i&&(p(n,l(t.mediaType,e,r),t),e&&i[e]&&i[e][V.JSON_MAPPING.ADSERVER_TARGETING]&&(p(n,i[e],t),t.sendStandardTargeting=i[e].sendStandardTargeting)),t.native&&(n=x({},n,Object(o.e)(t,r))),n}(r.bidderCode,r,n)),r.adserverTargeting=x(r.adserverTargeting||{},n),j.emit(V.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),c(e,t)}var J=Object(i.b)("async",function(r,n,i,e){Object(a.b)([n],function(e,t){e?(U.logWarn("Failed to save to the video cache: ".concat(e,". Video bid must be discarded.")),c(r,n)):""===t[0].uuid?(U.logWarn("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),c(r,n)):(n.videoCacheKey=t[0].uuid,n.vastUrl||(n.vastUrl=Object(a.a)(n.videoCacheKey)),X(r,n),i())},e)},"callPrebidCache");function Z(e,t,r){if(e&&r){if(e===s.d){t=Object(C.deepAccess)(t,"mediaTypes.".concat(s.d,".context"),"instream");if(r["".concat(s.d,"-").concat(t)])return r["".concat(s.d,"-").concat(t)]}return r[e]}}var d=function(e,t){t=Z(e,t,O.b.getConfig("mediaTypePriceGranularity"));return"string"==typeof e&&t?"string"==typeof t?t:"custom":O.b.getConfig("priceGranularity")},u=function(t){return function(e){return t===V.GRANULARITY_OPTIONS.AUTO?e.pbAg:t===V.GRANULARITY_OPTIONS.DENSE?e.pbDg:t===V.GRANULARITY_OPTIONS.LOW?e.pbLg:t===V.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:t===V.GRANULARITY_OPTIONS.HIGH?e.pbHg:t===V.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0}};function l(e,t,r){function n(e,t){return{key:e,val:"function"==typeof t?function(e){return t(e)}:function(e){return Object(C.getValue)(e,t)}}}var i,o,a=V.TARGETING_KEYS,s=d(e,r),r=shpbjs.bidderSettings;return r[V.JSON_MAPPING.BD_SETTING_STANDARD]||(r[V.JSON_MAPPING.BD_SETTING_STANDARD]={}),r[V.JSON_MAPPING.BD_SETTING_STANDARD][V.JSON_MAPPING.ADSERVER_TARGETING]||(r[V.JSON_MAPPING.BD_SETTING_STANDARD][V.JSON_MAPPING.ADSERVER_TARGETING]=[n(a.BIDDER,"bidderCode"),n(a.AD_ID,"adId"),n(a.PRICE_BUCKET,u(s)),n(a.SIZE,"size"),n(a.DEAL,"dealId"),n(a.SOURCE,"source"),n(a.FORMAT,"mediaType")]),"video"===e&&(i=r[V.JSON_MAPPING.BD_SETTING_STANDARD][V.JSON_MAPPING.ADSERVER_TARGETING],[a.UUID,a.CACHE_ID].forEach(function(t){void 0===R()(i,function(e){return e.key===t})&&i.push(n(t,"videoCacheKey"))}),!O.b.getConfig("cache.url")||t&&!1===U.deepAccess(r,"".concat(t,".sendStandardTargeting"))||(o=Object(C.parseUrl)(O.b.getConfig("cache.url")),void 0===R()(i,function(e){return e.key===a.CACHE_HOST})&&i.push(n(a.CACHE_HOST,function(e){return U.deepAccess(e,"adserverTargeting.".concat(a.CACHE_HOST))?e.adserverTargeting[a.CACHE_HOST]:o.hostname})))),r[V.JSON_MAPPING.BD_SETTING_STANDARD]}function p(n,i,o){var e=i[V.JSON_MAPPING.ADSERVER_TARGETING];return o.size=o.getSize(),U._each(e,function(e){var t=e.key,r=e.val;if(n[t]&&U.logWarn("The key: "+t+" is getting ovewritten"),U.isFn(r))try{r=r(o)}catch(e){U.logError("bidmanager","ERROR",e)}(void 0===i.suppressEmptyKeys||!0!==i.suppressEmptyKeys)&&t!==V.TARGETING_KEYS.DEAL||!U.isEmptyStr(r)&&null!=r?n[t]=r:U.logInfo("suppressing empty key '"+t+"' from adserver targeting")}),n}function $(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}},42:function(e,t){e.exports={}},43:function(e,t,r){"use strict";r.d(t,"a",function(){return m});var i=r(0),n=r(3),t=r(12),o=r.n(t),r=r(7);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.b.setDefaults({userSync:i.deepClone({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var d,u,l,p,f,h,v,r=Object(r.a)("usersync"),r=!i.isSafariBrowser()&&r.cookiesAreEnabled(),m=(d={config:n.b.getConfig("userSync"),browserSupportsCookies:r},u={},l=y(),p=new Set,h={image:!0,iframe:!(f={})},v=d.config,n.b.getConfig("userSync",function(e){var t;e.userSync&&(t=e.userSync.filterSettings,i.isPlainObject(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))),v=c(v,e.userSync)}),u.registerSync=function(e,t,r){return p.has(t)?i.logMessage('already fired syncs for "'.concat(t,'", ignoring registerSync call')):v.syncEnabled&&i.isArray(l[e])?t?0!==v.syncsPerBidder&&Number(f[t])>=v.syncsPerBidder?i.logWarn('Number of user syncs exceeded for "'.concat(t,'"')):u.canBidderRegisterSync(e,t)?(l[e].push([t,r]),(n=f)[r=t]?n[r]+=1:n[r]=1,void(f=n)):i.logWarn('Bidder "'.concat(t,'" not permitted to register their "').concat(e,'" userSync pixels.')):i.logWarn("Bidder is required for registering sync"):i.logWarn('User sync type "'.concat(e,'" not supported'));var n},u.syncUsers=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(g,Number(e));g()},u.triggerUserSyncs=function(){v.enableOverride&&u.syncUsers()},u.canBidderRegisterSync=function(e,t){return!v.filterSettings||!function(e,t){var r=v.filterSettings;if(function(e,t){if(e.all&&e[t])return i.logWarn('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),0;var r=e.all||e[t],e=e.all?"all":t;if(r){t=r.filter,r=r.bidders;return t&&"include"!==t&&"exclude"!==t?(i.logWarn('UserSync "filterSettings.'.concat(e,".filter\" setting '").concat(t,"' is not a valid option; use either 'include' or 'exclude'.")),0):"*"===r||Array.isArray(r)&&0<r.length&&r.every(function(e){return i.isStr(e)&&"*"!==e})||(i.logWarn('Detected an invalid setup in userSync "filterSettings.'.concat(e,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),0)}}(r,e)){h[e]=!0;r=r.all||r[e],e="*"===r.bidders?[t]:r.bidders;return{include:function(e,t){return!o()(e,t)},exclude:function(e,t){return o()(e,t)}}[r.filter||"include"](e,t)}}(e,t)},u);function y(){return{image:[],iframe:[]}}function g(){if(v.syncEnabled&&d.browserSupportsCookies){try{h.image&&b(l.image,function(e){var t=a(e,2),e=t[0],t=t[1];i.logMessage("Invoking image pixel user sync for bidder: ".concat(e)),i.triggerPixel(t)}),h.iframe&&b(l.iframe,function(e){var t=a(e,2),e=t[0],t=t[1];i.logMessage("Invoking iframe user sync for bidder: ".concat(e)),i.insertUserSyncIframe(t)})}catch(e){return i.logError("Error firing user syncs",e)}l=y()}}function b(e,t){i.shuffle(e).forEach(function(e){t(e),p.add(e[0])})}},44:function(e,t,r){"use strict";r.d(t,"a",function(){return u});var f=r(0),h=r(3),v=r(37),n=r(23),i=r(93),o=r(2),t=r(12),m=r.n(t),t=r(10),y=r.n(t);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return a(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return e.responseTimestamp+1e3*e.ttl+1e3>Object(f.timestamp)()}function c(e){return e&&(e.status&&!m()([_.BID_STATUS.RENDERED],e.status)||!e.status)}var E=r(0),_=r(5),S=[],w=Object.keys(_.TARGETING_KEYS).map(function(e){return _.TARGETING_KEYS[e]});function I(e,n,t){var i=2<arguments.length&&void 0!==t?t:0,o=[],a=h.b.getConfig("sendBidsControl.dealPrioritization"),s=Object(f.groupBy)(e,"adUnitCode");return Object.keys(s).forEach(function(e){var t=[],r=Object(f.groupBy)(s[e],"bidderCode");Object.keys(r).forEach(function(e){return t.push(r[e].reduce(n))}),0<i?(t=a?t.sort(C(!0)):t.sort(function(e,t){return t.cpm-e.cpm}),o.push.apply(o,A(t.slice(0,i)))):o.push.apply(o,A(t))}),o}function C(e){var r=0<arguments.length&&void 0!==e&&e;return function(e,t){return void 0!==e.adserverTargeting.hb_deal&&void 0===t.adserverTargeting.hb_deal?-1:void 0===e.adserverTargeting.hb_deal&&void 0!==t.adserverTargeting.hb_deal?1:r?t.cpm-e.cpm:t.adserverTargeting.hb_pb-e.adserverTargeting.hb_pb}}var T,P,d,u=(T=n.a,d={},(P={}).setLatestAuctionForAdUnit=function(e,t){d[e]=t},P.resetPresetTargeting=function(e,t){var r,i;Object(f.isGptPubadsDefined)()&&(r=R(e),i=T.getAdUnits().filter(function(e){return m()(r,e.code)}),window.googletag.pubads().getSlots().forEach(function(r){var n=E.isFn(t)&&t(r);S.forEach(function(t){i.forEach(function(e){(e.code===r.getAdUnitPath()||e.code===r.getSlotElementId()||E.isFn(n)&&n(e.code))&&r.setTargeting(t,null)})})}))},P.resetPresetTargetingAST=function(e){R(e).forEach(function(e){var t,r,n=window.apntag.getTag(e);n&&n.keywords&&(t=Object.keys(n.keywords),r={},t.forEach(function(e){m()(S,e.toLowerCase())||(r[e]=n.keywords[e])}),window.apntag.modifyTag(e,{keywords:r}))})},P.getAllTargeting=function(e){var t,r,n,i,o,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:k(),s=R(e),c=(e=P.getWinningBids(s,a),o=B(),(e=e.map(function(i){return b({},i.adUnitCode,Object.keys(i.adserverTargeting).filter(function(e){return void 0===i.sendStandardTargeting||i.sendStandardTargeting||-1===o.indexOf(e)}).reduce(function(e,t){var r=[i.adserverTargeting[t]],n=b({},t.substring(0,20),r);if(t!==_.TARGETING_KEYS.DEAL)return[].concat(A(e),[n]);r=b({},"".concat(t,"_").concat(i.bidderCode).substring(0,20),r);return[].concat(A(e),[n,r])},[]))})).concat((i=s,a.filter(function(e){return m()(i,e.adUnitCode)}).map(function(e){return g({},e)}).reduce(D,[]).map(x).filter(function(e){return e}))).concat(h.b.getConfig("enableSendAllBids")?(r=s,e=a,n=w.concat(v.a),u=h.b.getConfig("sendBidsControl.bidLimit"),I(e,f.getHighestCpm,u).map(function(t){if(O(t,r))return b({},t.adUnitCode,M(t,n.filter(function(e){return void 0!==t.adserverTargeting[e]})))}).filter(function(e){return e})):function(e,t){if(!0!==h.b.getConfig("targetingControls.alwaysIncludeDeals"))return[];var r=w.concat(v.a);return I(t,f.getHighestCpm).map(function(t){if(t.dealId&&O(t,e))return b({},t.adUnitCode,M(t,r.filter(function(e){return void 0!==t.adserverTargeting[e]})))}).filter(function(e){return e})}(s,a)).concat((t=s,T.getAdUnits().filter(function(e){return m()(t,e.code)&&d(e)}).map(function(e){return b({},e.code,(t=d(e),Object.keys(t).map(function(e){return b({},e,E.isArray(t[e])?t[e]:t[e].split(","))})));var t}))));function d(e){return Object(f.deepAccess)(e,_.JSON_MAPPING.ADSERVER_TARGETING)}c.map(function(t){Object.keys(t).map(function(e){t[e].map(function(e){-1===S.indexOf(Object.keys(e)[0])&&(S=Object.keys(e).concat(S))})})});var u=h.b.getConfig("targetingControls.allowTargetingKeys");Array.isArray(u)&&0<u.length&&(c=function(e,n){var i=g({},_.TARGETING_KEYS,_.NATIVE_KEYS),o=Object.keys(i),a={};Object(f.logInfo)("allowTargetingKeys - allowed keys [ ".concat(n.map(function(e){return i[e]}).join(", ")," ]")),e.map(function(e){var t=Object.keys(e)[0],r=e[t].filter(function(e){var t=Object.keys(e)[0],e=0===o.filter(function(e){return 0===t.indexOf(i[e])}).length||y()(n,function(e){e=i[e];return 0===t.indexOf(e)});return a[t]=!e,e});e[t]=r});var t=Object.keys(a).filter(function(e){return a[e]});return Object(f.logInfo)("allowTargetingKeys - removed keys [ ".concat(t.join(", ")," ]")),e.filter(function(e){return 0<e[Object.keys(e)[0]].length})}(c,u)),c=c.map(function(e){return b({},Object.keys(e)[0],e[Object.keys(e)[0]].map(function(e){return b({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))}).reduce(function(e,t){return g(t,e)},{}))}).reduce(function(e,t){var r=Object.keys(t)[0];return e[r]=g({},e[r],t[r]),e},{});var l,p,a=h.b.getConfig("targetingControls.auctionKeyMaxChars");return a&&(Object(f.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(a," characters.  Running checks on auction keys...")),u=c,l=a,p=Object(f.deepClone)(u),c=Object.keys(p).map(function(e){return{adUnitCode:e,adserverTargeting:p[e]}}).sort(C()).reduce(function(e,t,r,n){var i,o=(i=t.adserverTargeting,Object.keys(i).reduce(function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(i[t]),"%26")},""));r+1===n.length&&(o=o.slice(0,-3));t=t.adUnitCode,o=o.length;return o<=l?(l-=o,Object(f.logInfo)("AdUnit '".concat(t,"' auction keys comprised of ").concat(o," characters.  Deducted from running threshold; new limit is ").concat(l),p[t]),e[t]=p[t]):Object(f.logWarn)("The following keys for adUnitCode '".concat(t,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(o,", the current allotted amount was ").concat(l,".\n"),p[t]),r+1===n.length&&0===Object.keys(e).length&&Object(f.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e},{})),s.forEach(function(e){c[e]||(c[e]={})}),c},P.setTargetingForGPT=function(i,e){window.googletag.pubads().getSlots().forEach(function(n){Object.keys(i).filter((e||Object(f.isAdUnitCodeMatchingSlot))(n)).forEach(function(r){return Object.keys(i[r]).forEach(function(t){var e=i[r][t];"string"==typeof e&&(e=e.split(",")),(e=1<e.length?[e]:e).map(function(e){return E.logMessage("Attempting to set key value for slot: ".concat(n.getSlotElementId()," key: ").concat(t," value: ").concat(e)),e}).forEach(function(e){n.setTargeting(t,e)})})})})},P.getWinningBids=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:k(),t=R(e);return r.filter(function(e){return m()(t,e.adUnitCode)}).filter(function(e){return 0<e.cpm}).map(function(e){return e.adUnitCode}).filter(f.uniques).map(function(t){return r.filter(function(e){return e.adUnitCode===t?e:null}).reduce(f.getHighestCpm)})},P.setTargetingForAst=function(e){var n=P.getAllTargeting(e);try{P.resetPresetTargetingAST(e)}catch(e){E.logError("unable to reset targeting for AST"+e)}Object.keys(n).forEach(function(r){return Object.keys(n[r]).forEach(function(e){var t;E.logMessage("Attempting to set targeting for targetId: ".concat(r," key: ").concat(e," value: ").concat(n[r][e])),(E.isStr(n[r][e])||E.isArray(n[r][e]))&&(t={},e.search(/pt[0-9]/)<0?t[e.toUpperCase()]=n[r][e]:t[e]=n[r][e],window.apntag.setKeywords(r,t,{overrideKeyValue:!0}))})})},P.isApntagDefined=function(){if(window.apntag&&E.isFn(window.apntag.setKeywords))return!0},P);function O(e,t){return e.adserverTargeting&&t&&(E.isArray(t)&&m()(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function R(e){return"string"==typeof e?[e]:E.isArray(e)?e:T.getAdUnitCodes()||[]}function k(){var e=T.getBidsReceived();return h.b.getConfig("useBidCache")||(e=e.filter(function(e){return d[e.adUnitCode]===e.auctionId})),I(e=e.filter(function(e){return Object(f.deepAccess)(e,"video.context")!==o.a}).filter(function(e){return"banner"!==e.mediaType||Object(i.c)([e.width,e.height])}).filter(c).filter(s),f.getOldestHighestCpmBid)}function B(){return T.getStandardBidderAdServerTargeting().map(function(e){return e.key}).concat(w).filter(f.uniques)}function D(n,i,e,t){return Object.keys(i.adserverTargeting).filter(l()).forEach(function(e){var t,r;n.length&&n.filter((r=e,function(e){return e.adUnitCode===i.adUnitCode&&e.adserverTargeting[r]})).forEach((t=e,function(e){E.isArray(e.adserverTargeting[t])||(e.adserverTargeting[t]=[e.adserverTargeting[t]]),e.adserverTargeting[t]=e.adserverTargeting[t].concat(i.adserverTargeting[t]).filter(f.uniques),delete i.adserverTargeting[t]}))}),n.push(i),n}function l(){var t=B().concat(v.a);return function(e){return-1===t.indexOf(e)}}function x(t){return b({},t.adUnitCode,Object.keys(t.adserverTargeting).filter(l()).map(function(e){return b({},e.substring(0,20),[t.adserverTargeting[e]])}))}function M(t,e){return e.map(function(e){return b({},"".concat(e,"_").concat(t.bidderCode).substring(0,20),[t.adserverTargeting[e]])})}},45:function(e,t,r){"use strict";r.d(t,"a",function(){return l}),r.d(t,"b",function(){return f});var t=r(10),d=r.n(t),n=r(0),u=2,i={buckets:[{max:5,increment:.5}]},o={buckets:[{max:20,increment:.1}]},a={buckets:[{max:20,increment:.01}]},s={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},c={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function l(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=parseFloat(e);return isNaN(n)&&(n=""),{low:""===n?"":p(e,i,r),med:""===n?"":p(e,o,r),high:""===n?"":p(e,a,r),auto:""===n?"":p(e,c,r),dense:""===n?"":p(e,s,r),custom:""===n?"":p(e,t,r)}}function p(r,e,n){var i="";if(!f(e))return i;var t,o,a=e.buckets.reduce(function(e,t){return e.max>t.max?e:t},{max:0}),s=0,c=d()(e.buckets,function(e){if(r>a.max*n){var t=e.precision;void 0===t&&(t=u),i=(e.max*n).toFixed(t)}else{if(r<=e.max*n&&s*n<=r)return e.min=s,e;s=e.max}});return c&&(t=void 0!==c.precision?c.precision:u,o=c.increment*n,e=c.min*n,c=(r*(c=Math.pow(10,t+2))-e*c)/(o*c),e=Math.floor(c)*o+e,i=(e=Number(e.toFixed(10))).toFixed(t)),i}function f(e){if(n.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach(function(e){e.max&&e.increment||(t=!1)}),t}},46:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},47:function(e,t,r){var n=r(72),i=r(49);e.exports=function(e){return n(i(e))}},48:function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},49:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},5:function(e,t){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",NO_BID:"noBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",SET_TARGETING:"setTargeting",BEFORE_REQUEST_BIDS:"beforeRequestBids",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed",TCF2_ENFORCEMENT:"tcf2Enforcement",AUCTION_DEBUG:"auctionDebug"},AD_RENDER_FAILED_REASON:{PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocument",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:{BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host"},NATIVE_KEYS:{title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",privacyIcon:"hb_native_privicon",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice",rendererUrl:"hb_renderer_url",adTemplate:"hb_adTemplate"},S2S:{SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"},BID_STATUS:{BID_TARGETING_SET:"targetingSet",RENDERED:"rendered",BID_REJECTED:"bidRejected"}}},50:function(e,t,r){var n=r(58),i=Math.min;e.exports=function(e){return 0<e?i(n(e),9007199254740991):0}},51:function(e,t){e.exports=function(){}},511:function(e,t,r){r=r(512);e.exports=r},512:function(e,t,r){r(513);r=r(42);e.exports=r.Number.isInteger},513:function(e,t,r){r(14)({target:"Number",stat:!0},{isInteger:r(514)})},514:function(e,t,r){var n=r(27),i=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&i(e)===e}},52:function(e,t,r){r=r(29);e.exports=r},53:function(e,t){e.exports={}},54:function(e,t,r){var n,i,o,a,s,c,d,u=r(115),l=r(26),p=r(27),f=r(32),h=r(28),v=r(65),r=r(53),l=l.WeakMap,m=u?(n=new l,i=n.get,o=n.has,a=n.set,s=function(e,t){return a.call(n,e,t),t},c=function(e){return i.call(n,e)||{}},function(e){return o.call(n,e)}):(r[d=v("state")]=!0,s=function(e,t){return f(e,d,t),t},c=function(e){return h(e,d)?e[d]:{}},function(e){return h(e,d)});e.exports={set:s,get:c,has:m,enforce:function(e){return m(e)?c(e):s(e,{})},getterFor:function(r){return function(e){var t;if(!p(e)||(t=c(e)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return t}}}},55:function(e,t,r){var i=r(27);e.exports=function(e,t){if(!i(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!i(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!i(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},56:function(e,t,r){function n(p){var f=1==p,h=2==p,v=3==p,m=4==p,y=6==p,g=5==p||y;return function(e,t,r,n){for(var i,o,a=E(e),s=A(a),c=b(t,r,3),d=_(s.length),u=0,n=n||S,l=f?n(e,d):h?n(e,0):void 0;u<d;u++)if((g||u in s)&&(o=c(i=s[u],u,a),p))if(f)l[u]=o;else if(o)switch(p){case 3:return!0;case 5:return i;case 6:return u;case 2:w.call(l,i)}else if(m)return!1;return y?-1:v||m?m:l}}var b=r(24),A=r(72),E=r(57),_=r(50),S=r(103),w=[].push;e.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6)}},57:function(e,t,r){var n=r(49);e.exports=function(e){return Object(n(e))}},58:function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:r)(e)}},59:function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},60:function(e,t,r){function a(e){throw e}var s=r(30),c=r(31),d=r(28),u=Object.defineProperty,l={};e.exports=function(e,t){if(d(l,e))return l[e];var r=[][e],n=!!d(t=t||{},"ACCESSORS")&&t.ACCESSORS,i=d(t,0)?t[0]:a,o=d(t,1)?t[1]:void 0;return l[e]=!!r&&!c(function(){if(n&&!s)return!0;var e={length:-1};n?u(e,1,{enumerable:!0,get:a}):e[1]=1,r.call(e,i,o)})}},61:function(e,t,r){var n=r(62),i=r(38),o=r(21)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},62:function(e,t,r){var n=r(63),i=r(48),o=r(21)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?e:a?i(t):"Object"==(e=i(t))&&"function"==typeof t.callee?"Arguments":e}},63:function(e,t,r){var n={};n[r(21)("toStringTag")]="z",e.exports="[object z]"===String(n)},64:function(e,t,r){var i=r(63),o=r(34).f,a=r(32),s=r(28),c=r(114),d=r(21)("toStringTag");e.exports=function(e,t,r,n){e&&(e=r?e:e.prototype,s(e,d)||o(e,d,{configurable:!0,value:t}),n&&!i&&a(e,"toString",c))}},65:function(e,t,r){var n=r(75),i=r(59),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},66:function(e,t,r){"use strict";function v(){return this}var m=r(14),y=r(123),g=r(88),b=r(125),A=r(64),E=r(32),_=r(86),n=r(21),S=r(16),w=r(38),r=r(87),I=r.IteratorPrototype,C=r.BUGGY_SAFARI_ITERATORS,T=n("iterator"),P="values";e.exports=function(e,t,r,n,i,o,a){function s(e){if(e===i&&h)return h;if(!C&&e in p)return p[e];switch(e){case"keys":case P:case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}}y(r,t,n);var c,d,u=t+" Iterator",l=!1,p=e.prototype,f=p[T]||p["@@iterator"]||i&&p[i],h=!C&&f||s(i),n="Array"==t&&p.entries||f;if(n&&(e=g(n.call(new e)),I!==Object.prototype&&e.next&&(S||g(e)===I||(b?b(e,I):"function"!=typeof e[T]&&E(e,T,v)),A(e,u,!0,!0),S&&(w[u]=v))),i==P&&f&&f.name!==P&&(l=!0,h=function(){return f.call(this)}),S&&!a||p[T]===h||E(p,T,h),w[t]=h,i)if(c={values:s(P),keys:o?h:s("keys"),entries:s("entries")},a)for(d in c)!C&&!l&&d in p||_(p,d,c[d]);else m({target:t,proto:!0,forced:C||l},c);return c}},67:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),i={};function o(e,t,r){r=r,e=i[e]=i[e]||{bidders:{}},e=r?e.bidders[r]=e.bidders[r]||{}:e;return e[t]=(e[t]||0)+1,e[t]}var a={incrementRequestsCounter:function(e){return o(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return o(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return o(e,"winsCounter",t)},getRequestsCounter:function(e){return Object(n.deepAccess)(i,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return Object(n.deepAccess)(i,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return Object(n.deepAccess)(i,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},69:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"adUnitSetupChecks",function(){return F}),r.d(t,"checkAdUnitSetup",function(){return z}),t.executeCallbacks=G;var n=r(20),i=r(0),o=r(230),a=r(43),c=r(3),f=r(23),d=r(44),s=r(13),u=r(231),l=r(12),p=r.n(l),h=r(67),v=r(11),m=r(33),y=r(7);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=Object(n.a)(),E=r(5),_=r(0),S=r(8).default,w=r(9),r=a.a.triggerUserSyncs,a=E.EVENTS,I=a.ADD_AD_UNITS,C=a.BID_WON,T=a.REQUEST_BIDS,P=a.SET_TARGETING,O=a.AD_RENDER_FAILED,a=E.AD_RENDER_FAILED_REASON,R=a.PREVENT_WRITING_ON_MAIN_DOCUMENT,k=a.NO_AD,B=a.EXCEPTION,D=a.CANNOT_FIND_AD,x=a.MISSING_DOC_OR_ADID,M={bidWon:function(e){var t=f.a.getBidsRequested().map(function(e){return e.bids.map(function(e){return e.adUnitCode})}).reduce(i.flatten).filter(i.uniques);return!!_.contains(t,e)||void _.logError('The "'+e+'" placement is not defined.')}};function U(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function N(e,t){var r=[];return _.isArray(e)&&(t?e.length===t:0<e.length)&&(e.every(function(e){return Object(i.isArrayOfNums)(e,2)})?r=e:Object(i.isArrayOfNums)(e,2)&&r.push(e)),r}function j(e){var t=_.deepClone(e),r=t.mediaTypes.banner,e=N(r.sizes);return 0<e.length?(r.sizes=e,t.sizes=e):(_.logError("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function V(e){var t,r=_.deepClone(e),n=r.mediaTypes.video;return n.playerSize&&(t="number"==typeof n.playerSize[0]?2:1,0<(e=N(n.playerSize,t)).length?(2==t&&_.logInfo("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),n.playerSize=e,r.sizes=e):(_.logError("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete r.mediaTypes.video.playerSize)),r}function L(e){var t=_.deepClone(e),e=t.mediaTypes.native;return e.image&&e.image.sizes&&!Array.isArray(e.image.sizes)&&(_.logError("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),e.image&&e.image.aspect_ratios&&!Array.isArray(e.image.aspect_ratios)&&(_.logError("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),e.icon&&e.icon.sizes&&!Array.isArray(e.icon.sizes)&&(_.logError("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}Object(u.a)(),A.bidderSettings=A.bidderSettings||{},A.libLoaded=!0,A.version="v4.22.0",_.logInfo("Prebid.js v4.22.0 loaded"),A.adUnits=A.adUnits||[],A.triggerUserSyncs=r;var F={validateBannerMediaType:j,validateVideoMediaType:V,validateNativeMediaType:L,validateSizes:N},z=Object(s.b)("sync",function(e){var a=[];return e.forEach(function(e){var t,r,n,i=e.mediaTypes,o=e.bids;o&&_.isArray(o)?i&&0!==Object.keys(i).length?(i.banner&&(t=j(e)),i.video&&(r=V(t||e)),i.native&&(n=L(r||t||e)),n=b({},t,r,n),a.push(n)):_.logError("Detected adUnit.code '".concat(e.code,"' did not have a 'mediaTypes' object defined.  This is a required field for the auction, so this adUnit has been removed.")):_.logError("Detected adUnit.code '".concat(e.code,"' did not have 'adUnit.bids' defined or 'adUnit.bids' is not an array. Removing adUnit from auction."))}),a},"checkAdUnitSetup");function W(e){var r=f.a[e]().filter(_.bind.call(i.adUnitsFilter,this,f.a.getAdUnitCodes())),n=f.a.getLastAuctionId();return r.map(function(e){return e.adUnitCode}).filter(i.uniques).map(function(t){return r.filter(function(e){return e.auctionId===n&&e.adUnitCode===t})}).filter(function(e){return e&&e[0]&&e[0].adUnitCode}).map(function(e){return t={},r={bids:e},(e=e[0].adUnitCode)in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t;var t,r}).reduce(function(e,t){return b(e,t)},{})}function q(e){var t=e.reason,r=e.message,n=e.bid,e=e.id,t={reason:t,message:r};n&&(t.bid=n),e&&(t.adId=e),_.logError(r),w.emit(O,t)}function G(e,t){function r(e){for(var t;t=e.shift();)t()}r(y.c),r(H),e.call(this,t)}A.getAdserverTargetingForAdUnitCodeStr=function(e){if(_.logInfo("Invoking shpbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){e=A.getAdserverTargetingForAdUnitCode(e);return _.transformAdServerTargetingObj(e)}_.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},A.getAdserverTargetingForAdUnitCode=function(e){return A.getAdserverTargeting(e)[e]},A.getAdserverTargeting=function(e){return _.logInfo("Invoking shpbjs.getAdserverTargeting",arguments),d.a.getAllTargeting(e)},A.getNoBids=function(){return _.logInfo("Invoking shpbjs.getNoBids",arguments),W("getNoBids")},A.getNoBidsForAdUnitCode=function(t){return{bids:f.a.getNoBids().filter(function(e){return e.adUnitCode===t})}},A.getBidResponses=function(){return _.logInfo("Invoking shpbjs.getBidResponses",arguments),W("getBidsReceived")},A.getBidResponsesForAdUnitCode=function(t){return{bids:f.a.getBidsReceived().filter(function(e){return e.adUnitCode===t})}},A.setTargetingForGPTAsync=function(e,t){var r;_.logInfo("Invoking shpbjs.setTargetingForGPTAsync",arguments),Object(i.isGptPubadsDefined)()?(r=d.a.getAllTargeting(e),d.a.resetPresetTargeting(e,t),d.a.setTargetingForGPT(r,t),Object.keys(r).forEach(function(t){Object.keys(r[t]).forEach(function(e){"hb_adid"===e&&f.a.setStatusForBids(r[t][e],E.BID_STATUS.BID_TARGETING_SET)})}),w.emit(P,r)):_.logError("window.googletag is not defined on the page")},A.setTargetingForAst=function(e){_.logInfo("Invoking shpbjs.setTargetingForAn",arguments),d.a.isApntagDefined()?(d.a.setTargetingForAst(e),w.emit(P,d.a.getAllTargeting())):_.logError("window.apntag is not defined on the page")},A.renderAd=function(e,t,r){if(_.logInfo("Invoking shpbjs.renderAd",arguments),_.logMessage("Calling renderAd with adId :"+t),e&&t)try{var n,i,o,a,s,c,d,u,l=f.a.findBidByAdId(t);l?(l.ad=_.replaceAuctionPrice(l.ad,l.cpm),l.adUrl=_.replaceAuctionPrice(l.adUrl,l.cpm),r&&r.clickThrough&&(a=r.clickThrough,l.ad=_.replaceClickThrough(l.ad,a),l.adUrl=_.replaceClickThrough(l.adUrl,a)),f.a.addWinningBid(l),w.emit(C,l),u=l.height,n=l.width,d=l.ad,s=l.mediaType,i=l.adUrl,o=l.renderer,a=document.createComment("Creative ".concat(l.creativeId," served by ").concat(l.bidder," Prebid.js Header Bidding")),_.insertElement(a,e,"body"),Object(v.c)(o)?Object(v.b)(o,l):e===document&&!_.inIframe()||"video"===s?(s="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document."),q({reason:R,message:s,bid:l,id:t})):d?(navigator.userAgent&&-1<navigator.userAgent.toLowerCase().indexOf("firefox/")&&(c=navigator.userAgent.toLowerCase().match(/firefox\/([\d\.]+)/)[1])&&parseInt(c,10)<67&&e.open("text/html","replace"),e.write(d),e.close(),U(e,n,u),_.callBurl(l)):i?((d=_.createInvisibleIframe()).height=u,d.width=n,d.style.display="inline",d.style.overflow="hidden",d.src=i,_.insertElement(d,e,"body"),U(e,n,u),_.callBurl(l)):(u="Error trying to write ad. No ad for bid response id: ".concat(t),q({reason:k,message:u,bid:l,id:t}))):(l="Error trying to write ad. Cannot find ad by given id : ".concat(t),q({reason:D,message:l,id:t}))}catch(e){var p="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);q({reason:B,message:p,id:t})}else{p="Error trying to write ad Id :".concat(t," to the page. Missing document or adId");q({reason:x,message:p,id:t})}},A.removeAdUnit=function(e){_.logInfo("Invoking shpbjs.removeAdUnit",arguments),e?(_.isArray(e)?e:[e]).forEach(function(e){for(var t=A.adUnits.length-1;0<=t;t--)A.adUnits[t].code===e&&A.adUnits.splice(t,1)}):A.adUnits=[]},A.requestBids=Object(s.b)("async",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,r=e.timeout,n=e.adUnits,i=e.adUnitCodes,o=e.labels,a=e.auctionId;w.emit(T);r=r||c.b.getConfig("bidderTimeout"),n=n||A.adUnits;if(_.logInfo("Invoking shpbjs.requestBids",arguments),n=z(n),i&&i.length?n=n.filter(function(e){return p()(i,e.code)}):i=n&&n.map(function(e){return e.code}),n.forEach(function(n){var i=Object.keys(n.mediaTypes||{banner:"banner"}),e=n.bids.map(function(e){return e.bidder}),o=S.bidderRegistry,t=c.b.getConfig("s2sConfig"),r=t&&t.bidders,e=r?e.filter(function(e){return!p()(r,e)}):e;n.transactionId=_.generateUUID(),e.forEach(function(t){var e=o[t],e=e&&e.getSpec&&e.getSpec(),r=e&&e.supportedMediaTypes||["banner"];i.some(function(e){return p()(r,e)})?h.a.incrementBidderRequestsCounter(n.code,t):(_.logWarn(_.unsupportedBidderMessage(n,t)),n.bids=n.bids.filter(function(e){return e.bidder!==t}))}),h.a.incrementRequestsCounter(n.code)}),n&&0!==n.length){var s=f.a.createAuction({adUnits:n,adUnitCodes:i,callback:t,cbTimeout:r,labels:o,auctionId:a}),a=n.length;15<a&&_.logInfo("Current auction ".concat(s.getAuctionId()," contains ").concat(a," adUnits."),n),i.forEach(function(e){return d.a.setLatestAuctionForAdUnit(e,s.getAuctionId())}),s.callBids()}else if(_.logMessage("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){_.logError("Error executing bidsBackHandler",null,e)}}),A.requestBids.before(G,49),A.addAdUnits=function(e){_.logInfo("Invoking shpbjs.addAdUnits",arguments),_.isArray(e)?A.adUnits.push.apply(A.adUnits,e):"object"===g(e)&&A.adUnits.push(e),w.emit(I)},A.onEvent=function(e,t,r){_.logInfo("Invoking shpbjs.onEvent",arguments),_.isFn(t)?!r||M[e].call(null,r)?w.on(e,t,r):_.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):_.logError('The event handler provided is not a function and was not set on event "'+e+'".')},A.offEvent=function(e,t,r){_.logInfo("Invoking shpbjs.offEvent",arguments),r&&!M[e].call(null,r)||w.off(e,t,r)},A.getEvents=function(){return _.logInfo("Invoking shpbjs.getEvents"),w.getEvents()},A.registerBidAdapter=function(e,t){_.logInfo("Invoking shpbjs.registerBidAdapter",arguments);try{S.registerBidAdapter(e(),t)}catch(e){_.logError("Error registering bidder adapter : "+e.message)}},A.registerAnalyticsAdapter=function(e){_.logInfo("Invoking shpbjs.registerAnalyticsAdapter",arguments);try{S.registerAnalyticsAdapter(e)}catch(e){_.logError("Error registering analytics adapter : "+e.message)}},A.createBid=function(e){return _.logInfo("Invoking shpbjs.createBid",arguments),Object(m.a)(e)};var H=[],Y=Object(s.b)("async",function(e){e&&!_.isEmpty(e)?(_.logInfo("Invoking shpbjs.enableAnalytics for: ",e),S.enableAnalytics(e)):_.logError("shpbjs.enableAnalytics should be called with option {}")},"enableAnalyticsCb");function K(e){e.forEach(function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){_.logError("Error processing command :","prebid.js",e)}})}A.enableAnalytics=function(e){H.push(Y.bind(this,e))},A.aliasBidder=function(e,t,r){_.logInfo("Invoking shpbjs.aliasBidder",arguments),e&&t?S.aliasBidAdapter(e,t,r):_.logError("bidderCode and alias must be passed as arguments","shpbjs.aliasBidder")},A.getAllWinningBids=function(){return f.a.getAllWinningBids()},A.getAllPrebidWinningBids=function(){return f.a.getBidsReceived().filter(function(e){return e.status===E.BID_STATUS.BID_TARGETING_SET})},A.getHighestCpmBids=function(e){return d.a.getWinningBids(e)},A.markWinningBidAsUsed=function(t){var e=[];t.adUnitCode&&t.adId?e=f.a.getBidsReceived().filter(function(e){return e.adId===t.adId&&e.adUnitCode===t.adUnitCode}):t.adUnitCode?e=d.a.getWinningBids(t.adUnitCode):t.adId?e=f.a.getBidsReceived().filter(function(e){return e.adId===t.adId}):_.logWarn("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),0<e.length&&(e[0].status=E.BID_STATUS.RENDERED)},A.getConfig=c.b.getConfig,A.setConfig=c.b.setConfig,A.setBidderConfig=c.b.setBidderConfig,A.que.push(function(){return Object(o.a)()}),A.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){_.logError("Error processing command :",e.message,e.stack)}else _.logError("Commands written into shpbjs.cmd.push must be wrapped in a function")},A.que.push=A.cmd.push,A.processQueue=function(){s.b.ready(),K(A.que),K(A.cmd)},t.default=A},7:function(e,t,r){"use strict";r.d(t,"c",function(){return l}),r.d(t,"d",function(){return p}),t.a=function(e){return i({moduleName:e,moduleType:"core"})},t.b=function(e,t){return i({gvlid:e,moduleName:t})};var n=r(13),s=r(0),t=r(12),d=r.n(t),u=["core","prebid-module"],l=[];function i(e){var e=0<arguments.length&&void 0!==e?e:{},n=e.gvlid,i=e.moduleName,o=e.moduleType;function c(t){return d()(u,o)?t({valid:!0}):(p(n,i,{hasEnforcementHook:!1},function(e){r=e&&e.hasEnforcementHook?t(e):(e={hasEnforcementHook:!1,valid:s.hasDeviceAccess()},t(e))}),r);var r}function a(t){function r(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){s.logError("Local storage api disabled")}return!1}if(!t||"function"!=typeof t)return c(r);l.push(function(){var e=c(r);t(e)})}return{setCookie:function(n,i,o,a,s,t){function r(e){var t,r;e&&e.valid&&(t=s&&""!==s?" ;domain=".concat(encodeURIComponent(s)):"",r=o&&""!==o?" ;expires=".concat(o):"",e=null!=a&&"none"==a.toLowerCase()?"; Secure":"",document.cookie="".concat(n,"=").concat(encodeURIComponent(i)).concat(r,"; path=/").concat(t).concat(a?"; SameSite=".concat(a):"").concat(e))}if(!t||"function"!=typeof t)return c(r);l.push(function(){var e=c(r);t(e)})},getCookie:function(t,r){function n(e){if(e&&e.valid){e=window.document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]*)\\s*(;|$)");return e?decodeURIComponent(e[2]):null}return null}if(!r||"function"!=typeof r)return c(n);l.push(function(){var e=c(n);r(e)})},localStorageIsEnabled:function(t){function r(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}return!1}if(!t||"function"!=typeof t)return c(r);l.push(function(){var e=c(r);t(e)})},cookiesAreEnabled:function(t){function r(e){return!(!e||!e.valid||!s.checkCookieSupport()&&(window.document.cookie="prebid.cookieTest",-1===window.document.cookie.indexOf("prebid.cookieTest")))}if(!t||"function"!=typeof t)return c(r);l.push(function(){var e=c(r);t(e)})},setDataInLocalStorage:function(t,r,n){function i(e){e&&e.valid&&a()&&window.localStorage.setItem(t,r)}if(!n||"function"!=typeof n)return c(i);l.push(function(){var e=c(i);n(e)})},getDataFromLocalStorage:function(t,r){function n(e){return e&&e.valid&&a()?window.localStorage.getItem(t):null}if(!r||"function"!=typeof r)return c(n);l.push(function(){var e=c(n);r(e)})},removeDataFromLocalStorage:function(t,r){function n(e){e&&e.valid&&a()&&window.localStorage.removeItem(t)}if(!r||"function"!=typeof r)return c(n);l.push(function(){var e=c(n);r(e)})},hasLocalStorage:a,findSimilarCookies:function(o,t){function r(e){if(e&&e.valid){var t=[];if(s.hasDeviceAccess())for(var r=document.cookie.split(";");r.length;){var n=r.pop(),i=(i=n.indexOf("="))<0?n.length:i;0<=decodeURIComponent(n.slice(0,i).replace(/^\s+/,"")).indexOf(o)&&t.push(decodeURIComponent(n.slice(i+1)))}return t}}if(!t||"function"!=typeof t)return c(r);l.push(function(){var e=c(r);t(e)})}}}var p=Object(n.b)("async",function(e,t,r,n){n(r)},"validateStorageEnforcement")},70:function(e,t,r){r=r(358);e.exports=r},71:function(e,t,r){"use strict";t.a=function(t,r){i.adServers=i.adServers||{},i.adServers[t]=i.adServers[t]||{},Object.keys(r).forEach(function(e){i.adServers[t][e]?Object(n.logWarn)("Attempting to add an already registered function property ".concat(e," for AdServer ").concat(t,".")):i.adServers[t][e]=r[e]})};var t=r(20),n=r(0),i=Object(t.a)()},72:function(e,t,r){var n=r(31),i=r(48),o="".split;e.exports=n(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},73:function(e,t,r){var n=r(30),i=r(31),o=r(74);e.exports=!n&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},74:function(e,t,r){var n=r(26),r=r(27),i=n.document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},75:function(e,t,r){var n=r(16),i=r(76);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:n?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},76:function(e,t,r){var n=r(26),i=r(105),r="__core-js_shared__",r=n[r]||i(r,{});e.exports=r},77:function(e,t,r){r=r(31);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},78:function(e,t,r){function n(s){return function(e,t,r){var n,i=c(e),o=d(i.length),a=u(r,o);if(s&&t!=t){for(;a<o;)if((n=i[a++])!=n)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}var c=r(47),d=r(50),u=r(109);e.exports={includes:n(!0),indexOf:n(!1)}},79:function(e,t,r){var n=r(110);r(133),r(135),r(137),r(139),r(141),r(142),r(143),r(144),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),e.exports=n},8:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"gdprDataHandler",function(){return R}),r.d(t,"uspDataHandler",function(){return k}),t.setS2STestingModule=function(e){_=e};var m=r(0),l=r(93),p=r(37),d=r(1),v=r(4),y=r(3),n=r(13),i=r(12),g=r.n(i),i=r(10),b=r.n(i),f=r(67),A=r(22);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _,S=r(0),w=r(5),I=r(9),u={},C=u.bidderRegistry={},T=u.aliasRegistry={},P={};y.b.getConfig("s2sConfig",function(e){P=e.s2sConfig});var o={},O=Object(n.b)("sync",function(e){var n=e.bidderCode,s=e.auctionId,c=e.bidderRequestId,t=e.adUnits,d=e.labels,u=e.src;return t.reduce(function(e,o){var t=Object(l.b)(Object(l.a)(o,d),o.mediaTypes,o.sizes),r=t.active,a=t.mediaTypes,t=t.filterResults;return r?t&&S.logInfo('Size mapping filtered adUnit "'.concat(o.code,'" banner sizes from '),t.before,"to ",t.after):S.logInfo('Size mapping disabled adUnit "'.concat(o.code,'"')),r&&e.push(o.bids.filter(function(e){return e.bidder===n}).reduce(function(e,t){var r=o.nativeParams||S.deepAccess(o,"mediaTypes.native");r&&(t=h({},t,{nativeParams:Object(p.h)(r)})),t=h({},t,Object(m.getDefinedParams)(o,["fpd","mediaType","renderer","storedAuctionResponse"]));var n=Object(l.b)(Object(l.a)(t,d),a),i=n.active,r=n.mediaTypes,n=n.filterResults;return i?n&&S.logInfo('Size mapping filtered adUnit "'.concat(o.code,'" bidder "').concat(t.bidder,'" banner sizes from '),n.before,"to ",n.after):S.logInfo('Size mapping deactivated adUnit "'.concat(o.code,'" bidder "').concat(t.bidder,'"')),S.isValidMediaTypes(r)?t=h({},t,{mediaTypes:r}):S.logError("mediaTypes is not correctly configured for adunit ".concat(o.code)),i&&e.push(h({},t,{adUnitCode:o.code,transactionId:o.transactionId,sizes:S.deepAccess(r,"banner.sizes")||S.deepAccess(r,"video.playerSize")||[],bidId:t.bid_id||S.getUniqueIdentifierStr(),bidderRequestId:c,auctionId:s,src:u,bidRequestsCount:f.a.getRequestsCounter(o.code),bidderRequestsCount:f.a.getBidderRequestsCounter(o.code,t.bidder),bidderWinsCount:f.a.getBidderWinsCounter(o.code,t.bidder)})),e},[])),e},[]).reduce(m.flatten,[]).filter(function(e){return""!==e})},"getBids"),R={consentData:null,setConsentData:function(e){R.consentData=e},getConsentData:function(){return R.consentData}},k={consentData:null,setConsentData:function(e){k.consentData=e},getConsentData:function(){return k.consentData}};function B(){return P&&P.enabled&&P.testing&&_}function a(e,t,r){try{var n=C[e].getSpec();n&&n[t]&&"function"==typeof n[t]&&(S.logInfo("Invoking ".concat(e,".").concat(t)),y.b.runWithBidder(e,m.bind.call(n[t],n,r)))}catch(r){S.logWarn("Error calling ".concat(t," of ").concat(e))}}u.makeBidRequests=Object(n.b)("sync",function(e,n,i,o,a){I.emit(w.EVENTS.BEFORE_REQUEST_BIDS,e);var s=[],t=Object(m.getBidderCodes)(e);y.b.getConfig("bidderSequence")===y.a&&(t=Object(m.shuffle)(t));var r,c,d,u,l,p=Object(A.a)(),f=t,h=[];P.enabled&&(B()&&(h=_.getSourceBidderMap(e)[_.CLIENT]),r=P.bidders,f=t.filter(function(e){return!g()(r,e)||g()(h,e)}),Boolean(B()&&P.testServerOnly)&&(l=e,Boolean(b()(l,function(e){return b()(e.bids,function(e){return(e.bidSource||P.bidderControl&&P.bidderControl[e.bidder])&&e.finalSource===_.SERVER})})))&&(f.length=0),u=P.bidders,(l=S.deepClone(e)).forEach(function(e){e.bids=e.bids.filter(function(e){return g()(u,e.bidder)&&(!B()||e.finalSource!==_.CLIENT)}).map(function(e){return e.bid_id=S.getUniqueIdentifierStr(),e})}),c=l=l.filter(function(e){return 0!==e.bids.length}),d=S.generateUUID(),r.forEach(function(e){var t=S.getUniqueIdentifierStr(),t={bidderCode:e,auctionId:i,bidderRequestId:t,tid:d,bids:O({bidderCode:e,auctionId:i,bidderRequestId:t,adUnits:S.deepClone(c),labels:a,src:w.S2S.SRC}),auctionStart:n,timeout:P.timeout,src:w.S2S.SRC,refererInfo:p};0!==t.bids.length&&s.push(t)}),c.forEach(function(e){var t=e.bids.filter(function(t){return b()(s,function(e){return b()(e.bids,function(e){return e.bidId===t.bid_id})})});e.bids=t}),s.forEach(function(e){e.adUnitsS2SCopy=c.filter(function(e){return 0<e.bids.length})}));var v=((e=S.deepClone(e)).forEach(function(e){e.bids=e.bids.filter(function(e){return!B()||e.finalSource!==_.SERVER})}),e=e.filter(function(e){return 0!==e.bids.length}));return f.forEach(function(e){var t=S.getUniqueIdentifierStr(),r={bidderCode:e,auctionId:i,bidderRequestId:t,bids:O({bidderCode:e,auctionId:i,bidderRequestId:t,adUnits:S.deepClone(v),labels:a,src:"client"}),auctionStart:n,timeout:o,refererInfo:p},t=C[e];t||S.logError("Trying to make a request for bidder that does not exist: ".concat(e)),t&&r.bids&&0!==r.bids.length&&s.push(r)}),R.getConsentData()&&s.forEach(function(e){e.gdprConsent=R.getConsentData()}),k.getConsentData()&&s.forEach(function(e){e.uspConsent=k.getConsentData()}),s},"makeBidRequests"),u.callBids=function(e,t,i,o,a,s,c){var r,n,d,u,l,p,f,h;t.length?(f=t.reduce(function(e,t){return e[Number(void 0!==t.src&&t.src===w.S2S.SRC)].push(t),e},[[],[]]),h=2,r=(u=function(e){if(Array.isArray(e))return e}(f)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(f,h)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(f,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],(n=u[1]).length&&(d=Object(v.b)(s,a?{request:a.request.bind(null,"s2s"),done:a.done}:void 0),t=P.bidders,f=C[P.adapter],h=n[0].tid,u=n[0].adUnitsS2SCopy,f?(u={tid:h,ad_units:u}).ad_units.length&&(l=n.map(function(e){return e.start=Object(m.timestamp)(),o.bind(e)}),p=u.ad_units.reduce(function(e,t){return e.concat((t.bids||[]).reduce(function(e,t){return e.concat(t.bidder)},[]))},[]),S.logMessage("CALLING S2S HEADER BIDDERS ==== ".concat(t.filter(function(e){return g()(p,e)}).join(","))),n.forEach(function(e){I.emit(w.EVENTS.BID_REQUESTED,e)}),f.callBids(u,n,function(e,t){var r=Object(m.getBidderRequest)(n,t.bidderCode,e);r&&i.call(r,e,t)},function(){return l.forEach(function(e){return e()})},d)):S.logError("missing "+P.adapter)),r.forEach(function(e){e.start=Object(m.timestamp)();var t=C[e.bidderCode];S.logMessage("CALLING BIDDER ======= ".concat(e.bidderCode)),I.emit(w.EVENTS.BID_REQUESTED,e);var r=Object(v.b)(s,a?{request:a.request.bind(null,e.bidderCode),done:a.done}:void 0),n=o.bind(e);try{y.b.runWithBidder(e.bidderCode,m.bind.call(t.callBids,t,e,i.bind(e),n,r,c,y.b.callbackWithBidder(e.bidderCode)))}catch(t){S.logError("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),n()}})):S.logWarn("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},u.videoAdapters=[],u.registerBidAdapter=function(e,t){var r=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,r=void 0===r?[]:r;e&&t?"function"==typeof e.callBids?(C[t]=e,g()(r,"video")&&u.videoAdapters.push(t),g()(r,"native")&&p.f.push(t)):S.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):S.logError("bidAdaptor or bidderCode not specified")},u.aliasBidAdapter=function(e,t,r){if(void 0===C[t]){var n=C[e];if(void 0===n){var i=y.b.getConfig("s2sConfig"),i=i&&i.bidders;i&&g()(i,t)?T[t]=e:S.logError('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}else try{var o,a,s,c=(o=e,a=[],g()(u.videoAdapters,o)&&a.push("video"),g()(p.f,o)&&a.push("native"),a);n.constructor.prototype!=Object.prototype?(s=new n.constructor).setBidderCode(t):(o=n.getSpec(),a=r&&r.gvlid,s=Object(d.newBidder)(h({},o,{code:t,gvlid:a})),T[t]=e),u.registerBidAdapter(s,t,{supportedMediaTypes:c})}catch(t){S.logError(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else S.logMessage('alias name "'+t+'" has been already specified.')},u.registerAnalyticsAdapter=function(e){var t=e.adapter,r=e.code,e=e.gvlid;t&&r?"function"==typeof t.enableAnalytics?(t.code=r,o[r]={adapter:t,gvlid:e}):S.logError('Prebid Error: Analytics adaptor error for analytics "'.concat(r,'"\n        analytics adapter must implement an enableAnalytics() function')):S.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},u.enableAnalytics=function(e){S.isArray(e)||(e=[e]),S._each(e,function(e){var t=o[e.provider].adapter;t?t.enableAnalytics(e):S.logError("Prebid Error: no analytics adapter found in registry for\n        ".concat(e.provider,"."))})},u.getBidAdapter=function(e){return C[e]},u.getAnalyticsAdapter=function(e){return o[e]},u.callTimedOutBidders=function(t,r,n){r=r.map(function(e){return e.params=S.getUserConfiguredParams(t,e.adUnitCode,e.bidder),e.timeout=n,e}),r=S.groupBy(r,"bidder"),Object.keys(r).forEach(function(e){a(e,"onTimeout",r[e])})},u.callBidWonBidder=function(e,t,r){t.params=S.getUserConfiguredParams(r,t.adUnitCode,t.bidder),f.a.incrementBidderWinsCounter(t.adUnitCode,t.bidder),a(e,"onBidWon",t)},u.callSetTargetingBidder=function(e,t){a(e,"onSetTargeting",t)},t.default=u},80:function(e,t,r){function n(e){s(e,u,{value:{objectID:"O"+ ++l,weakData:{}}})}var i=r(53),o=r(27),a=r(28),s=r(34).f,c=r(59),d=r(113),u=c("meta"),l=0,p=Object.isExtensible||function(){return!0},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,u)){if(!p(e))return"F";if(!t)return"E";n(e)}return e[u].objectID},getWeakData:function(e,t){if(!a(e,u)){if(!p(e))return!0;if(!t)return!1;n(e)}return e[u].weakData},onFreeze:function(e){return d&&f.REQUIRED&&p(e)&&!a(e,u)&&n(e),e}};i[u]=!0},81:function(e,t,r){var n=r(21),i=r(38),o=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},82:function(e,t,r){var o=r(15);e.exports=function(e,t,r,n){try{return n?t(o(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&o(i.call(e)),t}}},83:function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},84:function(e,t,r){function n(){}function i(e){return"<script>"+e+"<\/script>"}var o,a=r(15),s=r(118),c=r(85),d=r(53),u=r(121),l=r(74),r=r(65),p="prototype",f=r("IE_PROTO"),h=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;h=o?function(e){e.write(i("")),e.close();var t=e.parentWindow.Object;return e=null,t}(o):((t=l("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(i("document.F=Object")),e.close(),e.F);for(var r=c.length;r--;)delete h[p][c[r]];return h()};d[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(n[p]=a(e),r=new n,n[p]=null,r[f]=e):r=h(),void 0===t?r:s(r,t)}},85:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},86:function(e,t,r){var i=r(32);e.exports=function(e,t,r,n){n&&n.enumerable?e[t]=r:i(e,t,r)}},87:function(e,t,r){"use strict";var n,i=r(88),o=r(32),a=r(28),s=r(21),c=r(16),d=s("iterator"),r=!1;[].keys&&("next"in(s=[].keys())?(s=i(i(s)))!==Object.prototype&&(n=s):r=!0),null==n&&(n={}),c||a(n,d)||o(n,d,function(){return this}),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:r}},88:function(e,t,r){var n=r(28),i=r(57),o=r(65),r=r(124),a=o("IE_PROTO"),s=Object.prototype;e.exports=r?Object.getPrototypeOf:function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},89:function(e,t,r){"use strict";var n=r(129).charAt,i=r(54),r=r(66),o="String Iterator",a=i.set,s=i.getterFor(o);r(String,"String",function(e){a(this,{type:o,string:String(e),index:0})},function(){var e=s(this),t=e.string,r=e.index;return r>=t.length?{value:void 0,done:!0}:(r=n(t,r),e.index+=r.length,{value:r,done:!1})})},9:function(e,t,r){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s,c=r(0),r=r(5),i=Array.prototype.slice,d=Array.prototype.push,o=c._map(r.EVENTS,function(e){return e}),u=r.EVENT_ID_PATHS,l=[];e.exports=(s={},(e={}).on=function(e,t,r){var n;c.contains(o,e)?(n=s[e]||{que:[]},r?(n[r]=n[r]||{que:[]},n[r].que.push(t)):n.que.push(t),s[e]=n):c.logError("Wrong event name : "+e+" Valid event names :"+o)},e.emit=function(e){!function(e,t){c.logMessage("Emitting event for: "+e);var r=t[0]||{},n=r[u[e]],i=s[e]||{que:[]},o=c._map(i,function(e,t){return t}),a=[];l.push({eventType:e,args:r,id:n,elapsedTime:c.getPerformanceNow()}),n&&c.contains(o,n)&&d.apply(a,i[n].que),d.apply(a,i.que),c._each(a,function(e){if(e)try{e.apply(null,t)}catch(e){c.logError("Error executing handler:","events.js",e)}})}(e,i.call(arguments,1))},e.off=function(e,r,n){var i=s[e];c.isEmpty(i)||c.isEmpty(i.que)&&c.isEmpty(i[n])||n&&(c.isEmpty(i[n])||c.isEmpty(i[n].que))||(n?c._each(i[n].que,function(e){var t=i[n].que;e===r&&t.splice(t.indexOf(e),1)}):c._each(i.que,function(e){var t=i.que;e===r&&t.splice(t.indexOf(e),1)}),s[e]=i)},e.get=function(){return s},e.getEvents=function(){var t=[];return c._each(l,function(e){e=n({},e);t.push(e)}),t},e)},90:function(e,t,r){var n=r(15),i=r(61);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},91:function(e,t,r){r=r(155);e.exports=r},92:function(e,t,r){"use strict";t.a=function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}},93:function(e,t,r){"use strict";t.a=function(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}},t.c=function(e){var t=u(1<arguments.length&&void 0!==arguments[1]?arguments[1]:d);return!t.shouldFilter||!!t.sizesSupported[e]},t.b=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,r=void 0===t?[]:t,n=e.labelAll,i=void 0!==n&&n,t=e.activeLabels,o=void 0===t?[]:t,n=1<arguments.length?arguments[1]:void 0,e=2<arguments.length?arguments[2]:void 0,a=u(3<arguments.length&&void 0!==arguments[3]?arguments[3]:d),n=Object(s.isPlainObject)(n)?Object(s.deepClone)(n):e?{banner:{sizes:e}}:{},t=Object(s.deepAccess)(n,"banner.sizes");a.shouldFilter&&t&&(n.banner.sizes=t.filter(function(e){return a.sizesSupported[e]}));e=Object.keys(n),r={active:e.every(function(e){return"banner"!==e})||e.some(function(e){return"banner"===e})&&0<Object(s.deepAccess)(n,"banner.sizes.length")&&(0===r.length||!i&&(r.some(function(e){return a.labels[e]})||r.some(function(e){return c()(o,e)}))||i&&r.reduce(function(e,t){return e&&(a.labels[t]||c()(o,t))},!0)),mediaTypes:n};return t&&t.length!==n.banner.sizes.length&&(r.filterResults={before:t,after:n.banner.sizes}),r};var n=r(3),s=r(0),t=r(12),c=r.n(t);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=[];function u(e){return e.reduce(function(r,n){if("object"===i(n)&&"string"==typeof n.mediaQuery){var t=!1;if(""===n.mediaQuery)t=!0;else try{t=Object(s.getWindowTop)().matchMedia(n.mediaQuery).matches}catch(e){Object(s.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),t=matchMedia(n.mediaQuery).matches}t&&(Array.isArray(n.sizesSupported)&&(r.shouldFilter=!0),["labels","sizesSupported"].forEach(function(t){return(n[t]||[]).forEach(function(e){return r[t][e]=!0})}))}else Object(s.logWarn)('sizeConfig rule missing required property "mediaQuery"');return r},{labels:{},sizesSupported:{},shouldFilter:!1})}n.b.getConfig("sizeConfig",function(e){return e=e.sizeConfig,void(d=e)})},932:function(e,t,r){e.exports=r(69)},94:function(e,t,r){r=r(222);e.exports=r},95:function(e,t,r){"use strict";t.b=function(e,t,r){var n,r={puts:e.map(a,r)};Object(i.a)(o.b.getConfig("cache.url"),(n=t,{success:function(e){var t;try{t=JSON.parse(e).responses}catch(e){return void n(e,[])}t?n(null,t):n(new Error("The cache server didn't respond with a responses property."),[])},error:function(e,t){n(new Error("Error storing video ad in the cache: ".concat(e,": ").concat(JSON.stringify(t))),[])}}),JSON.stringify(r),{contentType:"text/plain",withCredentials:!0})},t.a=function(e){return"".concat(o.b.getConfig("cache.url"),"?uuid=").concat(e)};var i=r(4),o=r(3),n=r(0);function a(e){var t,r={type:"xml",value:e.vastXml||(t=e.vastUrl,r=(r=e.vastImpUrl)?"<![CDATA[".concat(r,"]]>"):"",'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(t,"]]></VASTAdTagURI>\n        <Impression>").concat(r,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")),ttlseconds:Number(e.ttl)};return o.b.getConfig("cache.vasttrack")&&(r.bidder=e.bidder,r.bidid=e.requestId,n.isPlainObject(this)&&this.hasOwnProperty("auctionStart")&&(r.timestamp=this.auctionStart)),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(r.key=e.customCacheKey),r}},98:function(e,t,r){r(99);r=r(52);e.exports=r("Array","find")},99:function(e,t,r){"use strict";var n=r(14),i=r(56).find,o=r(51),r=r(60),a=!0,r=r("find");"find"in[]&&Array(1).find(function(){a=!1}),n({target:"Array",proto:!0,forced:a||!r},{find:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),o("find")}}),shpbjsChunk([364],{188:function(e,t,r){e.exports=r(189)},189:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return n});var t=r(1),b=r(3),l=r(2),p=r(11),A=r(0),n={code:"adform",gvlid:50,supportedMediaTypes:[l.b,l.d],isBidRequestValid:function(e){return!!e.params.mid},buildRequests:function(e,t){for(var r,n,i,o,a,s,c,d,u=b.b.getConfig("currency.adServerCurrency"),l=[],p=[["adxDomain","adx.adform.net"],["fd",1],["url",null],["tid",null],["eids",function(e){if(A.isArray(e)&&0<e.length){e=e.reduce(function(r,e){var n=e.source;return r[n]=r[n]||{},e.uids.forEach(function(e){var t=e.id+"";r[n][t]=r[n][t]||[],r[n][t].push(e.atype)}),r},{});return btoa(JSON.stringify(e))}}(A.deepAccess(e,"0.userIdAsEids"))]],f=JSON.parse(JSON.stringify(e)),h=f[0]&&f[0].bidder||"adform",v=0,m=f.length;v<m;v++){for("net"!==(i=f[v]).params.priceType&&"net"!==i.params.pt||(c="net"),r=0,n=p.length;r<n;r++)(a=i[o=p[r][0]]||i.params[o])&&(i[o]=i.params[o]=null,p[r][1]=a);(s=i.params).transactionId=i.transactionId,s.rcur=s.rcur||u,l.push(function(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&e[t]&&r.push(t,"=",e[t],"&");return encodeURIComponent(btoa(r.join("").slice(0,-1)))}(s))}l.unshift("https://"+p[0][1]+"/adx/?rp=4"),c=c||"gross",l.push("pt="+c),l.push("stid="+e[0].auctionId);var y=A.deepAccess(t,"gdprConsent.gdprApplies"),g=A.deepAccess(t,"gdprConsent.consentString");for(void 0!==y&&(d={gdpr:y,gdpr_consent:g},l.push("gdpr="+(1&y)),l.push("gdpr_consent="+g)),t&&t.uspConsent&&l.push("us_privacy="+t.uspConsent),v=1,m=p.length;v<m;v++)o=p[v][0],(a=p[v][1])&&l.push(o+"="+encodeURIComponent(a));return{method:"GET",url:l.join("&"),bids:e,netRevenue:c,bidder:h,gdpr:d}},interpretResponse:function(e,t){for(var r,n,i,o={banner:1,vast_content:1,vast_url:1},a=[],s=t.bids,c=e.body,d=0;d<c.length;d++)i="banner"===(r=c[d]).response?l.b:l.d,n=s[d],o[r.response]&&(function(e,t){for(var r=0,n=t.length;r<n;r++)if(e.width==t[r][0]&&e.height==t[r][1])return 1}(r,A.getAdUnitSizes(n))||i===l.d)&&(r={requestId:n.bidId,cpm:r.win_bid,width:r.width,height:r.height,creativeId:n.bidId,dealId:r.deal_id,currency:r.win_cur,netRevenue:"gross"!==t.netRevenue,ttl:360,ad:r.banner,bidderCode:t.bidder,transactionId:n.transactionId,vastUrl:r.vast_url,vastXml:r.vast_content,mediaType:i},n.renderer||i!==l.d||"outstream"!==A.deepAccess(n,"mediaTypes.video.context")||(r.renderer=p.a.install({id:n.bidId,url:"https://s2.adform.net/banners/scripts/video/outstream/render.js"}),r.renderer.setRender(u)),t.gdpr&&(r.gdpr=t.gdpr.gdpr,r.gdpr_consent=t.gdpr.gdpr_consent),a.push(r));return a;function u(e){e.renderer.push(function(){window.Adform.renderOutstream(e)})}}};Object(t.registerBidder)(n)}},[188]),shpbjsChunk([360],{196:function(e,t,r){e.exports=r(197)},197:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return n});var t=r(1),u=r(2);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function a(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,r=n,e=i[t=e];t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}var n={code:"adhese",gvlid:553,supportedMediaTypes:[u.b,u.d],isBidRequestValid:function(e){return!(!e.params.account||!e.params.location||!e.params.format&&!e.mediaTypes.banner.sizes)},buildRequests:function(e,t){if(0===e.length)return null;var r=t.gdprConsent,n=t.refererInfo,t=e.map(function(e){return e.params.data}).reduce(s,{}),r=r&&r.consentString?{xt:[r.consentString]}:{},n=n&&n.referer?{xf:[(i=n.referer,btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""))]}:{},i=p(e)?{x5:[p(e)]}:{},i={slots:e.map(function(e){return{slotname:c(e)}}),parameters:a(a(a(a({},t),r),n),i)};return{method:"POST",url:"https://ads-"+d(e)+".adhese.com/json",data:JSON.stringify(i),bids:e,options:{contentType:"application/json"}}},interpretResponse:function(e,t){var r=e.body.reduce(function(e,t){return e[t.slotName]=t,e},{});return e.account=d(t.bids),t.bids.map(function(e){return{bid:e,ad:r[c(e)]}}).filter(function(e){return e.ad}).map(function(e){return t=e.bid,r=e.ad,d=r.extension&&r.extension.prebid&&r.extension.prebid.cpm?r.extension.prebid.cpm:{amount:0,currency:"USD"},a={},c=s=o=i="",f(e=r)?(i=e.id,o=e.orderId,a={priority:e.priority,orderProperty:e.orderProperty,adFormat:e.adFormat,adType:e.adType,libId:e.libId,adspaceId:e.adspaceId,viewableImpressionCounter:e.viewableImpressionCounter,slotId:e.slotID,slotName:e.slotName,advertiserId:e.advertiserId,adId:e.id}):(i=e.origin+(e.originInstance?"-"+e.originInstance:""),e.originData&&((a=e.originData).slotId=e.slotID,a.slotName=e.slotName,a.adType=e.adType,e.adFormat&&(a.adFormat=e.adFormat),e.originData.seatbid&&e.originData.seatbid.length&&(n=e.originData.seatbid[0]).bid&&n.bid.length&&(n=n.bid[0],i=String(n.crid||""),o=String(n.dealid||""))),e.originInstance&&(c=e.originInstance),e.origin&&(s=e.origin)),s={creativeId:i,dealId:o,originData:a,origin:s,originInstance:c},c=!f(c=r)||"js"===c.ext&&void 0!==c.body&&""!==c.body&&c.body.match(/<script|<SCRIPT|<html|<HTML|<\?xml/)?c.body:c.tag,(s=l({netRevenue:!0,ttl:360},{requestId:t.bidId,mediaType:function(e){return e.trim().toLowerCase().match(/<\?xml|<vast/)?u.d:u.b}(c),cpm:Number(d.amount),currency:d.currency,width:Number(r.width),height:Number(r.height),creativeId:s.creativeId,dealId:s.dealId,adhese:{originData:s.originData,origin:s.origin,originInstance:s.originInstance}})).mediaType===u.d?s.vastXml=c:(r=r.impressionCounter?"<img src='"+r.impressionCounter+"' style='height:1px; width:1px; margin: -1px -1px; display:none;'/>":"",s.ad=c+r),s;var t,r,n,i,o,a,s,c,d})},getUserSyncs:function(e,t,r){if(e.iframeEnabled&&0<t.length){t=t[0].account;if(t){t="https://user-sync.adhese.com/iframe/user_sync.html?account="+t;return r&&(t+="&gdpr="+(r.gdprApplies?1:0),t+="&consentString="+encodeURIComponent(r.consentString||"")),[{type:"iframe",url:t}]}}return[]}};function s(n,i){return i&&Object.keys(i).forEach(function(t){var e=i[t],r=(Array.isArray(e)?e:[e]).filter(function(e){return 0===e||e});0<r.length&&(n[t]?(e=r.filter(function(e){return n[t].indexOf(e)<0}),n[t].push.apply(n[t],e)):n[t]=r)}),n}function c(e){if(e.params.format)return e.params.location+"-"+e.params.format;var t=e.mediaTypes.banner.sizes;t.sort();t=t.map(function(e){return e[0]+"x"+e[1]}).join("_");return 0<t.length?e.params.location+"-"+t:e.params.location}function d(e){return e[0].params.account}function p(e){if(e[0]&&e[0].userId&&e[0].userId.id5id&&e[0].userId.id5id.uid)return e[0].userId.id5id.uid}function f(e){return!e.origin||"JERLICIA"===e.origin}Object(t.registerBidder)(n)}},[196]),shpbjsChunk([328],{276:function(e,t,r){e.exports=r(277)},277:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return v});var u=r(11),E=r(0),_=r(3),l=r(1),p=r(2),a=r(23),t=r(10),S=r.n(t),t=r(12),w=r.n(t),f=r(25),r=r(7);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return n(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C="https://ib.adnxs.com/ut/v3/prebid",s=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],T=["age","externalUid","segments","gender","dnt","language"],P=["geo","device_id"],O=["enabled","dongle","member_id","debug_timeout"],c={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},d={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},i=/\/\/cdn\.adnxs\.com\/v/,R=Object(r.b)(32,"appnexus"),v={code:"appnexus",gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[p.b,p.d,p.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var l=e.map(k),n=S()(e,B),i={};!0===_.b.getConfig("coppa")&&(i={coppa:!0}),n&&Object.keys(n.params.user).filter(function(e){return w()(T,e)}).forEach(function(e){var t,r=E.convertCamelToUnderscore(e);"segments"===e&&E.isArray(n.params.user[e])?(t=[],n.params.user[e].forEach(function(e){E.isNumber(e)?t.push({id:e}):E.isPlainObject(e)&&t.push(e)}),i[r]=t):"segments"!==e&&(i[r]=n.params.user[e])});var r,o=S()(e,x);o&&o.params&&o.params.app&&(r={},Object.keys(o.params.app).filter(function(e){return w()(P,e)}).forEach(function(e){return r[e]=o.params.app[e]}));var a=S()(e,M);a&&a.params&&o.params.app&&o.params.app.id&&(v={appid:a.params.app.id});var s={},c={},d=R.getCookie("apn_prebid_debug")||null;if(d)try{s=JSON.parse(d)}catch(e){E.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var u=S()(e,U);u&&u.debug&&(s=u.debug)}s&&s.enabled&&Object.keys(s).filter(function(e){return w()(O,e)}).forEach(function(e){c[e]=s[e]});var p=S()(e,D),f=p?parseInt(p.params.member,10):0,u=e[0].schain,p=S()(e,j),h={tags:I(l),user:i,sdk:{source:"pbjs",version:"4.22.0"},schain:u};p&&(h.iab_support={omidpn:"Appnexus",omidpv:"4.22.0"}),0<f&&(h.member_id=f),o&&(h.device=r),a&&(h.app=v),_.b.getConfig("adpod.brandCategoryExclusion")&&(h.brand_category_uniqueness=!0),c.enabled&&(h.debug=c,E.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(c,null,4))),t&&t.gdprConsent&&(h.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(h.us_privacy=t.uspConsent),t&&t.refererInfo&&(m={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")},h.referrer_detection=m),S()(e,N)&&e.filter(N).forEach(function(t){var e,r,n,i,o,a,s,c,d,u,c=(e=l,s=(r=t).mediaTypes.video,c=s.durationRangeSec,d=s.requireExactDuration,o=r.mediaTypes.video,n=o.adPodDurationSec,i=o.durationRangeSec,s=o.requireExactDuration,o=E.getMinValueFromArray(i),o=Math.floor(n/o),o=s?Math.max(o,i.length):o,u=E.getMaxValueFromArray(c),e=e.filter(function(e){return e.uuid===r.bidId}),e=E.fill.apply(E,I(e).concat([o])),d?(o=Math.ceil(o/c.length),a=E.chunk(e,o),c.forEach(function(t,e){a[e].map(function(e){V(e,"minduration",t),V(e,"maxduration",t)})})):e.map(function(e){return V(e,"maxduration",u)}),e),e=h.tags.filter(function(e){return e.uuid!==t.bidId});h.tags=[].concat(I(e),I(c))});var v=E.deepAccess(e[0],"userId.criteoId"),m=[];v&&m.push({source:"criteo.com",id:v});var v=E.deepAccess(e[0],"userId.netId");v&&m.push({source:"netid.de",id:v});var y,g,b,A,v=E.deepAccess(e[0],"userId.tdid");return v&&m.push({source:"adserver.org",id:v,rti_partner:"TDID"}),m.length&&(h.eids=m),l[0].publisher_id&&(h.publisher_id=l[0].publisher_id),v=h,b=[],A={},m=!0,(y=t)&&y.gdprConsent&&y.gdprConsent.gdprApplies&&2===y.gdprConsent.apiVersion&&(m=!(!0!==E.deepAccess(y.gdprConsent,"vendorData.purpose.consents.1"))),m||(A={withCredentials:!1}),"TRUE"!==E.getParameterByName("apn_test").toUpperCase()&&!0!==_.b.getConfig("apn_test")||(A.customHeaders={"X-Is-Test":1}),15<v.tags.length?(g=E.deepClone(v),E.chunk(v.tags,15).forEach(function(e){g.tags=e;e=JSON.stringify(g);b.push({method:"POST",url:C,data:e,bidderRequest:y,options:A})})):(v=JSON.stringify(v),b={method:"POST",url:C,data:v,bidderRequest:y,options:A}),b},interpretResponse:function(e,t){var r=this,n=t.bidderRequest;e=e.body;var i=[];if(e&&!e.error)return e.tags&&e.tags.forEach(function(e){var t=(t=e)&&t.ads&&t.ads.length&&S()(t.ads,function(e){return e.rtb});t&&0!==t.cpm&&w()(r.supportedMediaTypes,t.ad_type)&&((e=function(t,e,r){var n,i=E.getBidRequest(t.uuid,[r]),o={requestId:t.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:i.adUnitCode,appnexus:{buyerMemberId:e.buyer_member_id,dealPriority:e.deal_priority,dealCode:e.deal_code}};if(e.advertiser_id&&(o.meta=h({},o.meta,{advertiserId:e.advertiser_id})),e.rtb.video)switch(h(o,{width:e.rtb.video.player_width,height:e.rtb.video.player_height,vastImpUrl:e.notify_url,ttl:3600}),E.deepAccess(i,"mediaTypes.video.context")){case p.a:var a=Object(l.getIabSubCategory)(i.bidder,e.brand_category_id);o.meta=h({},o.meta,{primaryCatId:a});var a=e.deal_priority;o.video={context:p.a,durationSeconds:Math.floor(e.rtb.video.duration_ms/1e3),dealTier:a},o.vastUrl=e.rtb.video.asset_url;break;case f.b:o.adResponse=t,o.adResponse.ad=o.adResponse.ads[0],o.adResponse.ad.video=o.adResponse.ad.rtb.video,o.vastXml=e.rtb.video.content,e.renderer_url&&(a=S()(r.bids,function(e){return e.bidId===t.uuid}),a=E.deepAccess(a,"renderer.options"),o.renderer=function(e,t,r){var r=2<arguments.length&&void 0!==r?r:{},n=u.a.install({id:t.renderer_id,url:t.renderer_url,config:r,loaded:!1,adUnitCode:e});try{n.setRender(A)}catch(e){E.logWarn("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:function(){return E.logMessage("AppNexus outstream video impression event")},loaded:function(){return E.logMessage("AppNexus outstream video loaded event")},ended:function(){E.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),n}(o.adUnitCode,e,a));break;case f.a:o.vastUrl=e.notify_url+"&redir="+encodeURIComponent(e.rtb.video.asset_url)}else if(e.rtb[p.c]){var s=e.rtb[p.c],c=e.viewability.config.replace("src=","data-src="),d=s.javascript_trackers;null==d?d=c:E.isStr(d)?d=[d,c]:d.push(c),o[p.c]={title:s.title,body:s.desc,body2:s.desc2,cta:s.ctatext,rating:s.rating,sponsoredBy:s.sponsored,privacyLink:s.privacy_link,address:s.address,downloads:s.downloads,likes:s.likes,phone:s.phone,price:s.price,salePrice:s.saleprice,clickUrl:s.link.url,displayUrl:s.displayurl,clickTrackers:s.link.click_trackers,impressionTrackers:s.impression_trackers,javascriptTrackers:d},s.main_img&&(o.native.image={url:s.main_img.url,height:s.main_img.height,width:s.main_img.width}),s.icon&&(o.native.icon={url:s.icon.url,height:s.icon.height,width:s.icon.width})}else{h(o,{width:e.rtb.banner.width,height:e.rtb.banner.height,ad:e.rtb.banner.content});try{e.rtb.trackers&&(n=e.rtb.trackers[0].impression_urls[0],n=E.createTrackPixelHtml(n),o.ad+=n)}catch(e){E.logError("Error appending tracking pixel",e)}}return o}(e,t,n)).mediaType=(t=t.ad_type)===p.d?p.d:t===p.c?p.c:p.b,i.push(e))}),e.debug&&e.debug.debug_info&&(o=(o="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info).replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),E.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),E.logMessage(o)),i;var o="in response for ".concat(n.bidderCode," adapter");return e&&e.error&&(o+=": ".concat(e.error)),E.logError(o),i},getMappingFileInfo:function(){return{url:"https://acdn.adnxs.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(r,e){return r=E.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:E.transformBidderParamKeywords,publisherId:"number"},r),e&&(r.use_pmt_rule="boolean"==typeof r.usePaymentRule&&r.usePaymentRule,r.usePaymentRule&&delete r.usePaymentRule,m(r.keywords)&&r.keywords.forEach(y),Object.keys(r).forEach(function(e){var t=E.convertCamelToUnderscore(e);t!==e&&(r[t]=r[e],delete r[e])})),r},onBidWon:function(e){e.native&&function(e){var t,r,n=function(e){var t;if(E.isStr(e)&&g(e))t=e;else if(E.isArray(e))for(var r=0;r<e.length;r++){var n=e[r];g(n)&&(t=n)}return t}(e.native.javascriptTrackers);if(n)for(var i="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,o=(r=(t=n).indexOf('src="')+5,n=t.indexOf('"',r),t.substring(r,n)),a=o.replace("dom_id=%native_dom_id%",i),s=document.getElementsByTagName("iframe"),c=!1,d=0;d<s.length&&!c;d++){var u=s[d];try{var l=u.contentDocument||u.contentWindow.document;if(l)for(var p=l.getElementsByTagName("script"),f=0;f<p.length&&!c;f++){var h=p[f];h.getAttribute("data-src")==o&&(h.setAttribute("src",a),h.setAttribute("data-src",""),h.removeAttribute&&h.removeAttribute("data-src"),c=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function m(e){return E.isArray(e)&&0<e.length}function y(e){m(e.value)&&""===e.value[0]&&delete e.value}function g(e){var t=e.match(i),r=null!=t&&1<=t.length,t=e.match("trk.js"),t=null!=t&&1<=t.length;return e.startsWith("<script")&&t&&r}function k(r){var n,i,o={};o.sizes=b(r.sizes),o.primary_size=o.sizes[0],o.ad_types=[],o.uuid=r.bidId,r.params.placementId?o.id=parseInt(r.params.placementId,10):o.code=r.params.invCode,o.allow_smaller_sizes=r.params.allowSmallerSizes||!1,o.use_pmt_rule=r.params.usePaymentRule||!1,o.prebid=!0,o.disable_psa=!0,r.params.reserve&&(o.reserve=r.params.reserve),r.params.position&&(o.position={above:1,below:2}[r.params.position]||0),r.params.trafficSourceCode&&(o.traffic_source_code=r.params.trafficSourceCode),r.params.privateSizes&&(o.private_sizes=b(r.params.privateSizes)),r.params.supplyType&&(o.supply_type=r.params.supplyType),r.params.pubClick&&(o.pubclick=r.params.pubClick),r.params.extInvCode&&(o.ext_inv_code=r.params.extInvCode),r.params.publisherId&&(o.publisher_id=parseInt(r.params.publisherId,10)),r.params.externalImpId&&(o.external_imp_id=r.params.externalImpId),E.isEmpty(r.params.keywords)||(0<(t=E.transformBidderParamKeywords(r.params.keywords)).length&&t.forEach(y),o.keywords=t),r.mediaType!==p.c&&!E.deepAccess(r,"mediaTypes.".concat(p.c))||(o.ad_types.push(p.c),0===o.sizes.length&&(o.sizes=b([1,1])),r.nativeParams&&(n=r.nativeParams,i={},Object.keys(n).forEach(function(e){var t=d[e]&&d[e].serverName||d[e]||e,r=d[e]&&d[e].requiredParams;i[t]=h({},r,n[e]),t!==d.image.serverName&&t!==d.icon.serverName||!i[t].sizes||(e=i[t].sizes,(E.isArrayOfNums(e)||E.isArray(e)&&0<e.length&&e.every(function(e){return E.isArrayOfNums(e)}))&&(i[t].sizes=b(i[t].sizes))),t===d.privacyLink&&(i.privacy_supported=!0)}),o[p.c]={layouts:[i]}));var e=E.deepAccess(r,"mediaTypes.".concat(p.d)),t=E.deepAccess(r,"mediaTypes.video.context");o.hb_source=e&&"adpod"===t?7:1,r.mediaType!==p.d&&!e||o.ad_types.push(p.d),(r.mediaType===p.d||e&&"outstream"!==t)&&(o.require_asset_url=!0),r.params.video&&(o.video={},Object.keys(r.params.video).filter(function(e){return w()(s,e)}).forEach(function(e){switch(e){case"context":case"playback_method":var t=r.params.video[e],t=E.isArray(t)?t[0]:t;o.video[e]=c[e][t];break;case"frameworks":break;default:o.video[e]=r.params.video[e]}}),r.params.video.frameworks&&E.isArray(r.params.video.frameworks)&&(o.video_frameworks=r.params.video.frameworks)),r.renderer&&(o.video=h({},o.video,{custom_renderer_present:!0})),r.params.frameworks&&E.isArray(r.params.frameworks)&&(o.banner_frameworks=r.params.frameworks);t=S()(a.a.getAdUnits(),function(e){return r.transactionId===e.transactionId});return t&&t.mediaTypes&&t.mediaTypes.banner&&o.ad_types.push(p.b),0===o.ad_types.length&&delete o.ad_types,o}function b(e){var t=[],r={};if(E.isArray(e)&&2===e.length&&!E.isArray(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"===o(e))for(var n=0;n<e.length;n++){var i=e[n];(r={}).width=parseInt(i[0],10),r.height=parseInt(i[1],10),t.push(r)}return t}function B(e){return!!e.params.user}function D(e){return!!parseInt(e.params.member,10)}function x(e){if(e.params)return!!e.params.app}function M(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function U(e){return!!e.debug}function N(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===p.a}function j(e){var t=!1,r=e.params,n=e.params.video;return r.frameworks&&E.isArray(r.frameworks)&&(t=w()(e.params.frameworks,6)),!t&&n&&n.frameworks&&E.isArray(n.frameworks)&&(t=w()(e.params.video.frameworks,6)),t}function V(e,t,r){E.isEmpty(e.video)&&(e.video={}),e.video[t]=r}function A(e){var t=e.adUnitCode;(t=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&t[0].style.setProperty("display","none"),e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}.bind(null,e))})}Object(l.registerBidder)(v)}},[276]),shpbjsChunk([292],{356:function(e,t,r){e.exports=r(357)},357:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"allowAuction",function(){return g}),r.d(t,"userCMP",function(){return s}),r.d(t,"consentTimeout",function(){return c}),r.d(t,"gdprScope",function(){return d}),r.d(t,"staticConsentData",function(){return u}),t.requestBidsHook=_,t.resetConsentData=function(){s=l=void 0,b=0,i.gdprDataHandler.setConsentData(null)},t.setConsentConfig=T;var p=r(0),n=r(3),i=r(8),t=r(12),o=r.n(t),t=r(70),f=r.n(t);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s,c,d,u,l,v="iab",m=1e4,y=!0,g={value:y,definedInConfig:!1},b=0,A=!1,E={iab:function(r,n,o){function e(e,t){p.logInfo("Received a response from CMP",e),t?!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||r(e,o):n("CMP unable to register callback function.  Please check CMP setup.",o)}var t,i=(t={},{consentDataCallback:function(e){t.getConsentData=e,d()},vendorConsentsCallback:function(e){t.getVendorConsents=e,d()}}),s={},a=function(){for(var e,t,r=window;!e;){try{if("function"==typeof r.__tcfapi||"function"==typeof r.__cmp){t="function"==typeof r.__tcfapi?(b=2,r.__tcfapi):(b=1,r.__cmp),e=r;break}}catch(e){}try{if(r.frames.__tcfapiLocator){b=2,e=r;break}}catch(e){}try{if(r.frames.__cmpLocator){b=1,e=r;break}}catch(e){}if(r===window.top)break;r=r.parent}return{cmpFrame:e,cmpFunction:t}}(),c=a.cmpFrame,a=a.cmpFunction;function d(){t.getConsentData&&t.getVendorConsents&&(p.logInfo("Received all requested responses from CMP",t),r(t,o))}if(!c)return n("CMP not found.",o);function u(r,n){var e=o.adUnits,t=1,i=1;Array.isArray(e)&&0<e.length&&(t=(e=p.getAdUnitSizes(e[0]))[0][0],i=e[0][1]),window.$sf.ext.register(t,i,function(e,t){"cmpReturn"===e&&(t="getConsentData"===r?t.vendorConsentData:t.vendorConsents,n(t))}),window.$sf.ext.cmp(r)}function l(e,i,t){var r=2===b?"__tcfapi":"__cmp",o=Math.random()+"",a="".concat(r,"Call");function n(e){var t="".concat(r,"Return"),e="string"==typeof e.data&&f()(e.data,t)?JSON.parse(e.data):e.data;e[t]&&e[t].callId&&(t=e[t],void 0!==s[t.callId]&&s[t.callId](t.returnValue,t.success))}2===b?(window[r]=function(e,t,r,n){n=h({},a,{command:e,version:t,parameter:n,callId:o});s[o]=r,i.postMessage(n,"*")},window.addEventListener("message",n,!1),window[r](e,b,t)):(window[r]=function(e,t,r){t=h({},a,{command:e,parameter:t,callId:o});s[o]=r,i.postMessage(t,"*")},window.addEventListener("message",n,!1),window[r](e,void 0,t))}p.isFn(a)?(p.logInfo("Detected CMP API is directly accessible, calling it now..."),1===b?(a("getConsentData",null,i.consentDataCallback),a("getVendorConsents",null,i.vendorConsentsCallback)):2===b&&a("addEventListener",b,e)):1===b&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?(p.logInfo("Detected Prebid.js is encased in a SafeFrame and CMP is registered, calling it now..."),u("getConsentData",i.consentDataCallback),u("getVendorConsents",i.vendorConsentsCallback)):(p.logInfo("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),1===b?(l("getConsentData",c,i.consentDataCallback),l("getVendorConsents",c,i.vendorConsentsCallback)):2===b&&l("addEventListener",c,e))},static:function(e,t,r){e(u,r)}};function _(e,t){t={context:this,args:[t],nextFn:e,adUnits:t.adUnits||shpbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};return l?(p.logInfo("User consent information already known.  Pulling internally stored information..."),C(null,t)):o()(Object.keys(E),s)?(E[s].call(this,S,w,t),void(t.haveExited||(0===c?S(void 0,t):t.timer=setTimeout(function(e){w("CMP workflow exceeded timeout threshold.",e)}.bind(null,t),c)))):(p.logWarn("CMP framework (".concat(s,") is not a supported framework.  Aborting consentManagement module and resuming auction.")),t.nextFn.apply(t.context,t.args))}function S(r,e){"static"===s&&2==(b=r.getConsentData?1:r.getTCData?2:0)&&(r=r.getTCData);var t=1===b?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||p.isStr(e.getConsentData.consentData)&&p.isPlainObject(e.getVendorConsents)&&1<Object.keys(e.getVendorConsents).length))}:2===b?function(){var e=r&&"boolean"==typeof r.gdprApplies?r.gdprApplies:d,t=r&&r.tcString;return!("boolean"==typeof e&&(!0!==e||p.isStr(t)))}:null;g.definedInConfig&&2===b?p.logWarn("'allowAuctionWithoutConsent' ignored for TCF 2"):g.definedInConfig||1!==b||p.logInfo("'allowAuctionWithoutConsent' using system default: (".concat(y,").")),p.isFn(t)?t(r)?w("CMP returned unexpected value during lookup process.",e,r):(clearTimeout(e.timer),I(r),C(null,e)):w("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.",e,r)}function w(e,t,r){clearTimeout(t.timer),g.value&&1===b&&I(void 0),C(e,t,r)}function I(e){1===b?l={consentString:e?e.getConsentData.consentData:void 0,vendorData:e?e.getVendorConsents:void 0,gdprApplies:e?e.getConsentData.gdprApplies:d}:(l={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:d},e&&e.addtlConsent&&p.isStr(e.addtlConsent)&&(l.addtlConsent=e.addtlConsent)),l.apiVersion=b,i.gdprDataHandler.setConsentData(l)}function C(e,t,r){var n,i,o;!1===t.haveExited&&(t.haveExited=!0,n=t.context,i=t.args,o=t.nextFn,e?g.value&&1===b?(p.logWarn(e+" 'allowAuctionWithoutConsent' activated.",r),o.apply(n,i)):(p.logError(e+" Canceling auction as per consentManagement config.",r),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():p.logError("Error executing bidsBackHandler")):o.apply(n,i))}function T(e){(e=e&&(e.gdpr||e.usp?e.gdpr:e))&&"object"===a(e)?(p.isStr(e.cmpApi)?s=e.cmpApi:(s=v,p.logInfo("consentManagement config did not specify cmp.  Using system default setting (".concat(v,")."))),p.isNumber(e.timeout)?c=e.timeout:(c=m,p.logInfo("consentManagement config did not specify timeout.  Using system default setting (".concat(m,")."))),"boolean"==typeof e.allowAuctionWithoutConsent&&(g.value=e.allowAuctionWithoutConsent,g.definedInConfig=!0),d=!0===e.defaultGdprScope,p.logInfo("consentManagement module has been activated..."),"static"===s&&(p.isPlainObject(e.consentData)?(u=e.consentData,c=0):p.logError("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),A||shpbjs.requestBids.before(_,50),A=!0):p.logWarn("consentManagement config not defined, exiting consent manager")}n.b.getConfig("consentManagement",function(e){return T(e.consentManagement)})}},[356]),shpbjsChunk([1],{377:function(e,t,r){e.exports=r(378)},378:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__.d(__webpack_exports__,"ADAPTER_VERSION",function(){return ADAPTER_VERSION}),__webpack_require__.d(__webpack_exports__,"PROFILE_ID_PUBLISHERTAG",function(){return PROFILE_ID_PUBLISHERTAG}),__webpack_require__.d(__webpack_exports__,"spec",function(){return spec}),__webpack_exports__.tryGetCriteoFastBid=tryGetCriteoFastBid;var __WEBPACK_IMPORTED_MODULE_0__src_adloader_js__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_1__src_adapters_bidderFactory_js__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_2__src_config_js__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4__src_utils_js__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js__),__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js__=__webpack_require__(379),__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js__),__WEBPACK_IMPORTED_MODULE_7__src_storageManager_js__=__webpack_require__(7);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var GVLID=91,ADAPTER_VERSION=32,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=Object(__WEBPACK_IMPORTED_MODULE_7__src_storageManager_js__.b)(GVLID),LOG_PREFIX="Criteo: ",PUBLISHER_TAG_URL="https://static.criteo.net/js/ld/publishertag.prebid.js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.b,__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.d,__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.c],isBidRequestValid:function(e){return!(!e||!e.params||!e.params.zoneId&&!e.params.networkId||hasVideoMediaType(e)&&!hasValidVideoMediaType(e))},buildRequests:function(e,t){var r,n;if(_extends(t,{publisherExt:__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("fpd.context"),userExt:__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("fpd.user"),ceh:__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("criteo.ceh")}),publisherTagAvailable()||(window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid(),setTimeout(function(){Object(__WEBPACK_IMPORTED_MODULE_0__src_adloader_js__.a)(PUBLISHER_TAG_URL,BIDDER_CODE)},t.timeout)),t=publisherTagAvailable()?(r=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"4.22.0"),n=__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("enableSendAllBids"),r.setEnableSendAllBids&&"function"==typeof r.setEnableSendAllBids&&"boolean"==typeof n&&r.setEnableSendAllBids(n),n=r.buildCdbUrl(),r.buildCdbRequest()):(n=buildCdbUrl(r=buildContext(e,t)),buildCdbRequest(r,e,t)))return{method:"POST",url:n,data:t,bidRequests:e}},interpretResponse:function(e,i){var t=e.body||e;if(publisherTagAvailable()){e=Criteo.PubTag.Adapters.Prebid.GetAdapter(i);if(e)return e.interpretResponse(t,i)}var o=[];return t&&t.slots&&__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.isArray(t.slots)&&t.slots.forEach(function(t){var e=__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js___default()(i.bidRequests,function(e){return e.adUnitCode===t.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===t.zoneid)}),r=e.bidId,n={requestId:r,adId:t.bidId||__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.getUniqueIdentifierStr(),cpm:t.cpm,currency:t.currency,netRevenue:!0,ttl:t.ttl||60,creativeId:r,width:t.width,height:t.height,dealId:t.dealCode};if(t.native)if(e.params.nativeCallback)n.ad=createNativeAd(r,t.native,e.params.nativeCallback);else{if(!0===__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("enableSendAllBids"))return;n.native=createPrebidNativeAd(t.native),n.mediaType=__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.c}else t.video?(n.vastUrl=t.displayurl,n.mediaType=__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.d):n.ad=t.creative;o.push(n)}),o},onTimeout:function(e){var t;publisherTagAvailable()&&Array.isArray(e)&&(t=[],e.forEach(function(e){-1===t.indexOf(e.auctionId)&&(t.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())}))},onBidWon:function(e){publisherTagAvailable()&&e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:function(e){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)}};function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,t){var r="";t&&t.refererInfo&&(r=t.refererInfo.referer);var t=__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.parseUrl(r).search,n={url:r,debug:"1"===t.pbt_debug,noLog:"1"===t.pbt_nolog,amp:!1};return e.forEach(function(e){"amp"===e.params.integrationMode&&(n.amp=!0)}),n}function buildCdbUrl(e){var t=CDB_ENDPOINT;return t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("4.22.0"),t+="&cb="+String(Math.floor(99999999999*Math.random())),e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1"),t}function checkNativeSendId(e){return!e.nativeParams||!(e.nativeParams.image&&!0!==e.nativeParams.image.sendId||e.nativeParams.icon&&!0!==e.nativeParams.icon.sendId||e.nativeParams.clickUrl&&!0!==e.nativeParams.clickUrl.sendId||e.nativeParams.displayUrl&&!0!==e.nativeParams.displayUrl.sendId||e.nativeParams.privacyLink&&!0!==e.nativeParams.privacyLink.sendId||e.nativeParams.privacyIcon&&!0!==e.nativeParams.privacyIcon.sendId)}function buildCdbRequest(e,t,r){var n,t={publisher:{url:e.url,ext:r.publisherExt},slots:t.map(function(e){n=e.params.networkId||n;var t,r={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};return e.params.zoneId&&(r.zoneid=e.params.zoneId),e.fpd&&e.fpd.context&&(r.ext=e.fpd.context),e.params.ext&&(r.ext=_extends({},r.ext,e.params.ext)),e.params.publisherSubId&&(r.publishersubid=e.params.publisherSubId),e.params.nativeCallback||__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"mediaTypes.".concat(__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.c))?(r.native=!0,checkNativeSendId(e)||__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logWarn(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)"),r.sizes=parseSizes(retrieveBannerSizes(e),parseNativeSize)):r.sizes=parseSizes(retrieveBannerSizes(e),parseSize),hasVideoMediaType(e)&&((t={playersizes:parseSizes(__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api}).skip=e.params.video.skip,t.placement=e.params.video.placement,t.minduration=e.params.video.minduration,t.playbackmethod=e.params.video.playbackmethod,t.startdelay=e.params.video.startdelay,r.video=t),r})};return n&&(t.publisher.networkid=n),t.user={ext:r.userExt},r&&r.ceh&&(t.user.ceh=r.ceh),r&&r.gdprConsent&&(t.gdprConsent={},void 0!==r.gdprConsent.gdprApplies&&(t.gdprConsent.gdprApplies=!!r.gdprConsent.gdprApplies),t.gdprConsent.version=r.gdprConsent.apiVersion,void 0!==r.gdprConsent.consentString&&(t.gdprConsent.consentData=r.gdprConsent.consentString)),r&&r.uspConsent&&(t.user.uspIab=r.uspConsent),t}function retrieveBannerSizes(e){return __WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"mediaTypes.banner.sizes")||e.sizes}function parseSizes(e,t){return Array.isArray(e[0])?e.map(function(e){return t(e)}):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function parseNativeSize(e){return void 0===e[0]&&void 0===e[1]?"2x2":e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"params.video")&&void 0!==__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"mediaTypes.video")}function hasValidVideoMediaType(t){var r=!0;return["mimes","playerSize","maxduration","protocols","api"].forEach(function(e){void 0===__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(t,"mediaTypes.video."+e)&&(r=!1,__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logError("Criteo Bid Adapter: mediaTypes.video."+e+" is required"))}),["skip","placement","playbackmethod"].forEach(function(e){void 0===__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(t,"params.video."+e)&&(r=!1,__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logError("Criteo Bid Adapter: params.video."+e+" is required"))}),r?"instream"==t.mediaTypes.video.context&&1===t.params.video.placement||"outstream"==t.mediaTypes.video.context&&1!==t.params.video.placement:void 0}function createPrebidNativeAd(e){return{title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map(function(e){return e.url})}}function createNativeAd(e,t,r){var n="criteo_prebid_native_slots";return window[n]=window[n]||{},window[n][e]={callback:r,payload:t},'\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.'.concat(n,';\n  if(!slots){continue;}\n  var responseSlot = slots["').concat(e,'"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>')}function tryGetCriteoFastBid(){try{var fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey),firstLineEndPosition,firstLine,publisherTagHash,publisherTag;null!==fastBidFromStorage&&(firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim(),firstLine.substr(0,hashPrefix.length)!==hashPrefix?(__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logWarn("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey)):(publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1),Object(__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js__.verify)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?(__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logInfo("Using Criteo FastBid"),eval(publisherTag)):(__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logWarn("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))))}catch(t){}}Object(__WEBPACK_IMPORTED_MODULE_1__src_adapters_bidderFactory_js__.registerBidder)(spec)},379:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(380),o=r(381);t.verify=function(e,t,r,n){t=new i.BigInteger(i.b64toHex(t)),r=new i.BigInteger(i.b64toHex(r)),r=t.modPowInt(n,r);return i.removeExtraSymbols(r.toHexString())===o.Sha256.hash(e)}},380:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(y.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,t=!1,r="",n=this.t,i=this.DB-n*this.DB%4;if(0<n--)for(i<this.DB&&0<(e=this[n]>>i)&&(t=!0,r=d(e));0<=n;)i<4?(e=(this[n]&(1<<i)-1)<<4-i,e|=this[--n]>>(i+=this.DB-4)):(e=this[n]>>(i-=4)&15,i<=0&&(i+=this.DB,--n)),0<e&&(t=!0),t&&(r+=d(e));return t?r:"0"},y.prototype.fromHexString=function(e){if(null!==e){this.t=0,this.s=0;for(var t=e.length,r=!1,n=0;0<=--t;){var i=s(e,t);i<0?"-"==e.charAt(t)&&(r=!0):(r=!1,0==n?this[this.t++]=i:n+4>this.DB?(this[this.t-1]|=(i&(1<<this.DB-n)-1)<<n,this[this.t++]=i>>this.DB-n):this[this.t-1]|=i<<n,(n+=4)>=this.DB&&(n-=this.DB))}this.clamp(),r&&y.ZERO.subTo(this,this)}},y.prototype.negate=function(){var e=g();return y.ZERO.subTo(this,e),e},y.prototype.abs=function(){return this.s<0?this.negate():this},y.prototype.mod=function(e){var t=g();return this.abs().divRemTo(e,null,t),this.s<0&&0<t.compareTo(y.ZERO)&&e.subTo(t,t),t},y.prototype.copyTo=function(e){for(var t=this.t-1;0<=t;--t)e[t]=this[t];e.t=this.t,e.s=this.s},y.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),a=this.s<<r&this.DM,s=this.t-1;0<=s;--s)t[s+o+1]=this[s]>>n|a,a=(this[s]&i)<<r;for(s=o-1;0<=s;--s)t[s]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()},y.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return 0<(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)?this.DV-t:-t},y.prototype.dlShiftTo=function(e,t){for(var r=this.t-1;0<=r;--r)t[r+e]=this[r];for(r=e-1;0<=r;--r)t[r]=0;t.t=this.t+e,t.s=this.s},y.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;0<=--r;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}0<e.t&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},y.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;0<=--i;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&y.ZERO.subTo(t,t)},y.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromHexString("0"),void(null!=r&&this.copyTo(r));null==r&&(r=g());var o=g(),a=this.s,s=e.s,e=this.DB-b(n[n.t-1]);0<e?(n.lShiftTo(e,o),i.lShiftTo(e,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,d=o[c-1];if(0!=d){var i=d*(1<<this.F1)+(1<c?o[c-2]>>this.F2:0),u=this.FV/i,l=(1<<this.F1)/i,p=1<<this.F2,f=r.t,h=f-c,v=null==t?g():t;for(o.dlShiftTo(h,v),0<=r.compareTo(v)&&(r[r.t++]=1,r.subTo(v,r)),y.ONE.dlShiftTo(c,v),v.subTo(o,o);o.t<c;)o[o.t++]=0;for(;0<=--h;){var m=r[--f]==d?this.DM:Math.floor(r[f]*u+(r[f-1]+p)*l);if((r[f]+=o.am(0,m,r,h,0,c))<m)for(o.dlShiftTo(h,v),r.subTo(v,r);r[f]<--m;)r.subTo(v,r)}null!=t&&(r.drShiftTo(c,t),a!=s&&y.ZERO.subTo(t,t)),r.t=c,r.clamp(),0<e&&r.rShiftTo(e,r),a<0&&y.ZERO.subTo(r,r)}}},y.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&o)<<i,t[a-r]=this[a]>>n;0<n&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},y.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},y.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:0<n&&(t[r++]=n),t.t=r,t.clamp()},y.prototype.clamp=function(){for(var e=this.s&this.DM;0<this.t&&this[this.t-1]==e;)--this.t},y.prototype.modPowInt=function(e,t){t=new(e<256||t.isEven()?u:p)(t);return this.exp(e,t)},y.prototype.exp=function(e,t){if(4294967295<e||e<1)return y.ONE;var r,n=g(),i=g(),o=t.convert(this),a=b(e)-1;for(o.copyTo(n);0<=--a;)t.sqrTo(n,i),0<(e&1<<a)?t.mulTo(i,o,n):(r=n,n=i,i=r);return t.revert(n)},y.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s)},y.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;0<=--r;)if(0!=(t=this[r]-e[r]))return t;return 0},y.prototype.am1=function(e,t,r,n,i,o){for(;0<=--o;){var a=t*this[e++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=67108863&a}return i},y.prototype.am2=function(e,t,r,n,i,o){for(var a=32767&t,s=t>>15;0<=--o;){var c=32767&this[e],d=this[e++]>>15,u=s*c+d*a;i=((c=a*c+((32767&u)<<15)+r[n]+(1073741823&i))>>>30)+(u>>>15)+s*d+(i>>>30),r[n++]=1073741823&c}return i},y.prototype.am3=function(e,t,r,n,i,o){for(var a=16383&t,s=t>>14;0<=--o;){var c=16383&this[e],d=this[e++]>>14,u=s*c+d*a;i=((c=a*c+((16383&u)<<14)+r[n]+i)>>28)+(u>>14)+s*d,r[n++]=268435455&c}return i},y);function y(e){null!==e&&this.fromHexString(e)}function g(){return new n(null)}function b(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}t.BigInteger=n,t.nbi=g,t.nbits=b;for(var i=[],o="0".charCodeAt(0),a=0;a<=9;++a)i[o++]=a;for(o="a".charCodeAt(0),a=10;a<36;++a)i[o++]=a;for(o="A".charCodeAt(0),a=10;a<36;++a)i[o++]=a;function s(e,t){t=i[e.charCodeAt(t)];return null==t?-1:t}t.intAt=s;var c="0123456789abcdefghijklmnopqrstuvwxyz";function d(e){return c.charAt(e)}t.int2char=d,t.b64toHex=function(e){for(var t="",r=0,n=0,i=0;i<e.length&&"="!=e.charAt(i);++i){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(i));o<0||(r=0==r?(t+=d(o>>2),n=3&o,1):1==r?(t+=d(n<<2|o>>4),n=15&o,2):2==r?(t+=d(n),t+=d(o>>2),n=3&o,3):(t+=d(n<<2|o>>4),t+=d(15&o),0))}return 1==r&&(t+=d(n<<2)),t},t.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var u=(l.prototype.convert=function(e){return e.s<0||0<=e.compareTo(this.m)?e.mod(this.m):e},l.prototype.revert=function(e){return e},l.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},l.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},l.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},l);function l(e){this.m=e}var p=(f.prototype.convert=function(e){var t=g();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&0<t.compareTo(n.ZERO)&&this.m.subTo(t,t),t},f.prototype.revert=function(e){var t=g();return e.copyTo(t),this.reduce(t),t},f.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),0<=e.compareTo(this.m)&&e.subTo(this.m,e)},f.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},f.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},f);function f(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function h(e){var t=g();return t.fromHexString(e.toString()),t}t.nbv=h,n.ZERO=h(0),n.ONE=h(1),t="Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=n.prototype.am2,30):"Netscape"!=navigator.appName?(n.prototype.am=n.prototype.am1,26):(n.prototype.am=n.prototype.am3,28),n.prototype.DB=t,n.prototype.DM=(1<<t)-1,n.prototype.DV=1<<t,n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-t,n.prototype.F2=2*t-52},381:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(_.hash=function(e){e=_.utf8Encode(e||"");for(var t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],n=(e+=String.fromCharCode(128)).length/4+2,i=Math.ceil(n/16),o=new Array(i),a=0;a<i;a++){o[a]=new Array(16);for(var s=0;s<16;s++)o[a][s]=e.charCodeAt(64*a+4*s)<<24|e.charCodeAt(64*a+4*s+1)<<16|e.charCodeAt(64*a+4*s+2)<<8|e.charCodeAt(64*a+4*s+3)<<0}var c=8*(e.length-1)/Math.pow(2,32),n=8*(e.length-1)>>>0;for(o[i-1][14]=Math.floor(c),o[i-1][15]=n,a=0;a<i;a++){for(var d=new Array(64),u=0;u<16;u++)d[u]=o[a][u];for(u=16;u<64;u++)d[u]=_.q1(d[u-2])+d[u-7]+_.q0(d[u-15])+d[u-16]>>>0;for(var l=r[0],p=r[1],f=r[2],h=r[3],v=r[4],m=r[5],y=r[6],g=r[7],u=0;u<64;u++){var b=g+_.z1(v)+_.Ch(v,m,y)+t[u]+d[u],A=_.z0(l)+_.Maj(l,p,f);g=y,y=m,m=v,v=h+b>>>0,h=f,f=p,p=l,l=b+A>>>0}r[0]=r[0]+l>>>0,r[1]=r[1]+p>>>0,r[2]=r[2]+f>>>0,r[3]=r[3]+h>>>0,r[4]=r[4]+v>>>0,r[5]=r[5]+m>>>0,r[6]=r[6]+y>>>0,r[7]=r[7]+g>>>0}for(var E=new Array(r.length),g=0;g<r.length;g++)E[g]=("00000000"+r[g].toString(16)).slice(-8);return E.join("")},_.utf8Encode=function(t){try{return(new TextEncoder).encode(t).reduce(function(e,t){return e+String.fromCharCode(t)},"")}catch(e){return unescape(encodeURIComponent(t))}},_.ROTR=function(e,t){return t>>>e|t<<32-e},_.z0=function(e){return _.ROTR(2,e)^_.ROTR(13,e)^_.ROTR(22,e)},_.z1=function(e){return _.ROTR(6,e)^_.ROTR(11,e)^_.ROTR(25,e)},_.q0=function(e){return _.ROTR(7,e)^_.ROTR(18,e)^e>>>3},_.q1=function(e){return _.ROTR(17,e)^_.ROTR(19,e)^e>>>10},_.Ch=function(e,t,r){return e&t^~e&r},_.Maj=function(e,t,r){return e&t^e&r^t&r},_);function _(){}t.Sha256=n}},[377]),shpbjsChunk([283],{384:function(e,t,r){e.exports=r(385)},385:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"currencySupportEnabled",function(){return E}),r.d(t,"currencyRates",function(){return _}),t.setConfig=n,t.addBidResponseHook=I;var a=r(20),c=r(33),d=r(5),s=(r.n(d),r(4)),u=r(0),t=r(3),l=r(13);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f,h="https://cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json?date=$$TODAY$$",v=4,m=[],y={},g=!1,b=!0,A="USD",E=!1,_={},S={};function n(e){var t,r,n,i,o=h;"object"===p(e.rates)&&(_.conversions=e.rates,b=!(g=!0)),"object"===p(e.defaultRates)&&(f=e.defaultRates,_.conversions=f,g=!0),"string"==typeof e.adServerCurrency?(u.logInfo("enabling currency support",arguments),A=e.adServerCurrency,e.conversionRateFile&&(u.logInfo("currency using override conversionRateFile:",e.conversionRateFile),o=e.conversionRateFile),-1!==(t=o.indexOf("$$TODAY$$"))&&(r=new Date,n="".concat(r.getMonth()+1),i="".concat(r.getDate()),n.length<2&&(n="0".concat(n)),i.length<2&&(i="0".concat(i)),i="".concat(r.getFullYear()).concat(n).concat(i),o="".concat(o.substring(0,t)).concat(i).concat(o.substring(t+9,o.length))),function(e){y={},E=!0,u.logInfo("Installing addBidResponse decorator for currency module",arguments),Object(a.a)().convertCurrency=function(e,t,r){return parseFloat(e)*T(t,r)},Object(l.a)("addBidResponse").before(I,100),b&&(b=!1,Object(s.a)(e,{success:function(t){try{_=JSON.parse(t),u.logInfo("currencyRates set to "+JSON.stringify(_)),g=!0,C()}catch(e){w("Failed to parse currencyRates response: "+t)}},error:w}))}(o)):(u.logInfo("disabling currency support"),function(){u.logInfo("Uninstalling addBidResponse decorator for currency module",arguments),Object(l.a)("addBidResponse").getHooks({hook:I}).remove(),delete Object(a.a)().convertCurrency,A="USD",g=E=!(y={}),b=!0,_={},S={}}()),"object"===p(e.bidderCurrencyDefault)&&(S=e.bidderCurrencyDefault)}function w(e){f?(u.logWarn(e),u.logWarn("Currency failed loading rates, falling back to currency.defaultRates")):u.logError(e)}function I(e,t,r){if(!r)return e.call(this,t);var n,i,o,a,s=r.bidderCode||r.bidder;if(S[s]&&(n=S[s],r.currency&&n!==r.currency?u.logWarn("Currency default '".concat(s,": ").concat(n,"' ignored. adapter specified '").concat(r.currency,"'")):r.currency=n),r.currency||(u.logWarn('Currency not specified on bid.  Defaulted to "USD"'),r.currency="USD"),r.getCpmInNewCurrency=function(e){return(parseFloat(this.cpm)*T(this.currency,e)).toFixed(3)},r.currency===A)return e.call(this,t,r);m.push((i=e,o=this,a=[t,r],function(){var e=a[1];if(void 0!==e&&"currency"in e&&"cpm"in e){var t=e.currency;try{var r=T(t);1!==r&&(e.cpm=(parseFloat(e.cpm)*r).toFixed(4),e.currency=A)}catch(t){u.logWarn("Returning NO_BID, getCurrencyConversion threw error: ",t),a[1]=Object(c.a)(d.STATUS.NO_BID,{bidder:e.bidderCode||e.bidder,bidId:e.requestId})}}return i.apply(o,a)})),E&&!g||C()}function C(){for(;0<m.length;)m.shift()()}function T(e,t){var r=1<arguments.length&&void 0!==t?t:A,n=null,i="".concat(e,"->").concat(r);if(i in y)n=y[i],u.logMessage("Using conversionCache value "+n+" for "+i);else if(!1===E){if("USD"!==e)throw new Error("Prebid currency support has not been enabled and fromCurrency is not USD");n=1}else if(e===r)n=1;else if(e in _.conversions){if(!(r in(o=_.conversions[e])))throw new Error("Specified adServerCurrency in config '"+r+"' not found in the currency rates file");n=o[r],u.logInfo("getCurrencyConversion using direct "+e+" to "+r+" conversionRate "+n)}else if(r in _.conversions){if(!(e in(o=_.conversions[r])))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");n=P(1/o[e],v),u.logInfo("getCurrencyConversion using reciprocal "+e+" to "+r+" conversionRate "+n)}else{t=Object.keys(_.conversions)[0];if(!(e in _.conversions[t]))throw new Error("Specified fromCurrency '"+e+"' not found in the currency rates file");var o=1/_.conversions[t][e];if(!(r in _.conversions[t]))throw new Error("Specified adServerCurrency in config '"+r+"' not found in the currency rates file");n=P(o*_.conversions[t][r],v),u.logInfo("getCurrencyConversion using intermediate "+e+" thru "+t+" to "+r+" conversionRate "+n)}return i in y||(u.logMessage("Adding conversionCache value "+n+" for "+i),y[i]=n),n}function P(e,t){for(var r=1,n=0;n<t;n++)r+="0";return Math.round(e*r)/r}t.b.getConfig("currency",function(e){return n(e.currency)})}},[384]),shpbjsChunk([259],{438:function(e,t,r){e.exports=r(439)},439:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return n});var p=r(0),t=r(2),r=r(1);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h="freewheel-ssp";function v(e){for(var t=[0,0],r=0;r<e.length;r++)e[r][0]*e[r][1]>t[0]*t[1]&&(t=e[r]);return t}function m(e,t,r){for(var n=t||[0,0],i=r||[Number.MAX_VALUE,Number.MAX_VALUE],o=[],a=0;a<e.length;a++)e[a][0]*e[a][1]>=n[0]*n[1]&&e[a][0]*e[a][1]<=i[0]*i[1]&&o.push(e[a]);return v(o)}function y(e,r){var n="",e=e.querySelectorAll("Impression"),i=!1,o=!1;return Array.prototype.forEach.call(e,function(e){if(i&&o)return n;o=i=!1;var e=e.textContent.substring(e.textContent.indexOf("?")+1).split("&"),t="";Array.prototype.forEach.call(e,function(e){e=e.split("=");e[0]==r&&(t=e[1]),"reqType"==e[0]&&"AdsDisplayStarted"==e[1]&&(o=!0),"rootViewKey"==e[0]&&(i=!0)}),o&&(n=t)}),n}function g(){var e=window;try{for(;top!==e;)e.parent.location.href.length&&(e=e.parent)}catch(e){}return e}function b(e){return e&&"inbanner"!==e?e:"mustang"}var n={code:h,supportedMediaTypes:[t.b,t.d],aliases:["stickyadstv"],isBidRequestValid:function(e){return!!e.params.zoneId},buildRequests:function(e,t){return e.map(function(e){return function(e,t){var r=e.params.zoneId,n=(new Date).getTime(),i=function(e){var t=0;if(0==e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}(r+""+n),o={reqType:"AdsSetup",protocolVersion:"2.0",zoneId:r,componentId:"prebid",componentSubId:b(e.params.format),timestamp:n,pKey:i};t&&t.gdprConsent&&(o._fw_gdpr_consent=t.gdprConsent.consentString,"boolean"==typeof t.gdprConsent.gdprApplies&&(o._fw_gdpr=t.gdprConsent.gdprApplies)),e.params.gdpr_consented_providers&&(o._fw_gdpr_consented_providers=e.params.gdpr_consented_providers),t&&t.uspConsent&&(o._fw_us_privacy=t.uspConsent);var a=e.params.vastUrlParams;if("object"===f(a))for(var s in a)a.hasOwnProperty(s)&&(o[s]=a[s]);return(t=t&&t.refererInfo?t.refererInfo.referer:g().location.href)&&/^(https?|ftp|file):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(t)&&(o.loc=t),t=[],(0<(t=e.mediaTypes.video&&e.mediaTypes.video.playerSize?p.isArray(e.mediaTypes.video.playerSize[0])?e.mediaTypes.video.playerSize[0]:e.mediaTypes.video.playerSize:e.mediaTypes.banner.sizes?m(e.mediaTypes.banner.sizes,e.mediaTypes.banner.minSizeLimit,e.mediaTypes.banner.maxSizeLimit):v(e.sizes))[0]||0<t[1])&&(o.playerSize=t[0]+"x"+t[1]),{method:"GET",url:"https://ads.stickyadstv.com/www/delivery/swfIndex.php",data:o,bidRequest:e}}(e,t)})},interpretResponse:function(e,t){var r=t.bidRequest,n=[],n=r.mediaTypes.video&&r.mediaTypes.video.playerSize?p.isArray(r.mediaTypes.video.playerSize[0])?r.mediaTypes.video.playerSize[0]:r.mediaTypes.video.playerSize:r.mediaTypes.banner.sizes?m(r.mediaTypes.banner.sizes,r.mediaTypes.banner.minSizeLimit,r.mediaTypes.banner.maxSizeLimit):v(r.sizes);"object"==f(e)&&"string"==typeof e.body&&(e=e.body);try{var i=(new DOMParser).parseFromString(e,"application/xml")}catch(e){return void p.logWarn("Prebid.js - "+h+" : "+e)}var o,a,s=(u={},c=i.querySelectorAll("Extension"),Array.prototype.forEach.call(c,function(e){"StickyPricing"===e.getAttribute("type")&&(o=e)}),o?u={currency:(d=o.querySelector("Price")).getAttribute("currency"),price:d.textContent||d.innerText}:p.logWarn("PREBID - "+h+": No bid received or missing pricing extension."),u),t=(a="",l=i.querySelectorAll("Ad"),Array.prototype.forEach.call(l,function(e){a+="["+e.getAttribute("id")+"]"}),a),c=y(i,"dealId"),d=y(i,"campaignId"),u=y(i,"adId"),l=g();l.freewheelssp_cache||(l.freewheelssp_cache={}),l.freewheelssp_cache[r.adUnitCode]=e;l=[];return s.price&&(s={requestId:r.bidId,cpm:s.price,width:n[0],height:n[1],creativeId:t,currency:s.currency,netRevenue:!0,ttl:360,dealId:c,campaignId:d,bannerId:u},r.mediaTypes.video&&(s.vastXml=e,s.mediaType="video"),s.ad=(c=n,u=(d=r).params.format,n='<div id="freewheelssp_prebid_target" style="width:'+c[0]+"px;height:"+c[1]+'px;"></div>',r="",c=u&&"inbanner"!==u?(r="https://cdn.stickyadstv.com/prime-time/"+b(d.params.format)+".min.js",function(e){var t=e.params;t.hasOwnProperty("domId")||t.hasOwnProperty("auto")||t.hasOwnProperty("p")||t.hasOwnProperty("article")||("intext-roll"===t.format?t.iframeMode="dfp":t.domId="freewheelssp_prebid_target");var r,n="var config = {  preloadedVast:vast,  ASLoader:new window.com.stickyadstv.tools.ASLoader("+e.params.zoneId+", '"+b(e.params.format)+"')";for(r in t)t.hasOwnProperty(r)&&"format"!==r&&"zone"!==r&&"zoneId"!==r&&"vastUrlParams"!==r&&(n+=","+r+':"'+t[r]+'"');return n+("};window.com.stickyadstv."+(e.params.format||"").replace("-",""))+".start(config);"}(d)):(r="https://cdn.stickyadstv.com/mustang/mustang.min.js",'var config = {      preloadedVast:vast,      autoPlay:true    };    var ad = new window.com.stickyadstv.vpaid.Ad(document.getElementById("freewheelssp_prebid_target"),config);    (new window.com.stickyadstv.tools.ASLoader('+d.params.zoneId+", '"+b(d.params.format)+"')).registerEvents(ad);    ad.initAd("+c[0]+","+c[1]+',"",0,"","");'),n+"<script type='text/javascript'>(function() {  var st = document.createElement('script'); st.type = 'text/javascript'; st.async = true;  st.src = '"+r+"';  st.onload = function(){    var vastLoader = new window.com.stickyadstv.vast.VastLoader();    var vast = vastLoader.getVast();    var topWindow = (function(){var res=window; try{while(top != res){if(res.parent.location.href.length)res=res.parent;}}catch(e){}return res;})();    vast.setXmlString(topWindow.freewheelssp_cache[\""+d.adUnitCode+'"]);    vastLoader.parseAds(vast, {      onSuccess: function() {'+c+" }    });  };  document.head.appendChild(st);})();<\/script>"),l.push(s)),l},getUserSyncs:function(e,t,r){var n="";return r&&(n=("boolean"==typeof r.gdprApplies?"?gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent="):"?gdpr_consent=").concat(r.consentString)),e&&e.pixelEnabled?[{type:"image",url:"https://ads.stickyadstv.com/auto-user-sync"+n}]:[]}};Object(r.registerBidder)(n)}},[438]),shpbjsChunk([248],{460:function(e,t,r){e.exports=r(461)},461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return n}),t.resetUserSync=function(){o=!1},t.getSyncUrl=function(){return i};var b=r(0),t=r(1),s=r(11),A=r(2),c=r(3);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i="https://x.bidswitch.net/sync?ssp=themediagrid",o=!1,n={code:"grid",supportedMediaTypes:[A.b,A.d],isBidRequestValid:function(e){return!!e.params.uid},buildRequests:function(e,t){if(!e.length)return null;var d=null,u=null,l=null,p=null,f=null,h=null,r=null,n=null,i=t||{},v=i.bidderRequestId,m=i.auctionId,o=i.gdprConsent,a=i.uspConsent,s=i.timeout,t=i.refererInfo,i=t?encodeURIComponent(t.referer):"",y=[],g={};e.forEach(function(n){v=v||n.bidderRequestId,m=m||n.auctionId,p=p||n.schain,f=f||n.userId,h=h||n.userIdAsEids;var e=n.params,t=e.uid,r=e.keywords,i=n.mediaTypes,o=n.bidId,a=n.adUnitCode,s=n.rtd;g[o]=n,d||b.isEmpty(r)||(d=b.transformBidderParamKeywords(r));e=(i||{}).video?"video":"banner",r=n.params.bidFloor||0,"function"==typeof n.getFloor&&("object"!==E(e=n.getFloor({currency:"USD",mediaType:e,size:n.sizes.map(function(e){var t,t=(t=2,function(e){if(Array.isArray(e))return e}(e=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{w:t[0],h:t[1]}})}))||"USD"!==e.currency||isNaN(parseFloat(e.floor))||(r=Math.max(r,parseFloat(e.floor)))),s=s&&s.jwplayer&&s.jwplayer.targeting;s&&(!u&&s.segments&&(u=s.segments),!l&&s.content&&(l=s.content));var c,a={id:o,tagid:t.toString(),ext:{divid:a}};r&&(a.bidfloor=r),i&&!i[A.b]||(r=function(){var e=(i?i[A.b]:{}).sizes||n.sizes;if(e&&e.length){var t=e.map(function(e){return b.parseGPTSingleSizeArrayToRtbSize(e)}),e=b.parseGPTSingleSizeArrayToRtbSize(e[0]);return t.length&&(e.format=t),e}}())&&(a.banner=r),i&&i[A.d]&&(c=function(e){var t=e.playerSize,r=e.mimes,e=e.durationRangeSec,t=(t||n.sizes||[])[0];if(t){t=b.parseGPTSingleSizeArrayToRtbSize(t);return r&&(t.mimes=r),e&&2===e.length&&(t.minduration=e[0],t.maxduration=e[1]),t}}(i[A.d]))&&(a.video=c),(a.banner||a.video)&&y.push(a)});t={tid:m,ext:{wrapper:"Prebid_js",wrapper_version:"4.22.0"}};p&&(t.ext.schain=p);e=c.b.getConfig("bidderTimeout")||s,e=s?Math.min(e,s):e,e={id:v,site:{page:i},tmax:e,source:t,imp:y};l&&(e.site.content=l),u&&u.length&&(r={data:[{name:"iow_labs_pub_data",segment:u.map(function(e){return{name:"jwpseg",value:e}})}]}),o&&o.consentString&&(n={consent:o.consentString}),h&&h.length&&((n=n||{}).eids=function(e){if(Array.isArray(e))return S(e)}(t=h)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||_(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n&&Object.keys(n).length&&((r=r||{}).ext=n),r&&(e.user=r);r=b.transformBidderParamKeywords({user:b.deepAccess(c.b.getConfig("fpd.user"),"keywords")||null,context:b.deepAccess(c.b.getConfig("fpd.context"),"keywords")||null});return r.length&&(d=(d||[]).concat(r)),d&&0<d.length&&d.forEach(w),d&&(e.ext={keywords:d}),o&&o.gdprApplies&&(e.regs={ext:{gdpr:o.gdprApplies?1:0}}),a&&(e.regs||(e.regs={ext:{}}),e.regs.ext.us_privacy=a),{method:"POST",url:"https://grid.bidswitch.net/hbjson",data:JSON.stringify(e),newFormat:!0,bidsMap:g}},interpretResponse:function(e,o){e=e&&e.body;var t,a=[];return e?e.seatbid&&!e.seatbid.length&&(t="Response has empty seatbid array"):t="Response is empty",!t&&e.seatbid&&e.seatbid.forEach(function(e){var t,r,n,i;(i=e)?i.bid?i.bid[0]||b.logError("Array of bid objects is empty"):b.logError("Seatbid from response has no array of bid objects - "+JSON.stringify(i)):b.logError("Seatbid array from response has empty item"),t=i&&i.bid&&i.bid[0],r=o,e=a,t&&(t.auid||(n="Bid from response has no auid parameter - "+JSON.stringify(t)),t.adm?(i=r.bidsMap[t.impid])&&(r={requestId:i.bidId,cpm:t.price,width:t.w,height:t.h,creativeId:t.auid,currency:"USD",netRevenue:!1,ttl:360,dealId:t.dealid},"video"===t.content_type?(r.vastXml=t.adm,r.mediaType=A.d,r.adResponse={content:r.vastXml},i.renderer||i.mediaTypes&&i.mediaTypes.video&&"outstream"!==i.mediaTypes.video.context||(r.renderer=function(e){var t=s.a.install({id:e.id,url:e.url,loaded:!1});try{t.setRender(d)}catch(e){b.logWarn("Prebid Error calling setRender on renderer",e)}return t}({id:i.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"}))):(r.ad=t.adm,r.mediaType=A.b),e.push(r)):n="Bid from response has no adm parameter - "+JSON.stringify(t),n&&b.logError(n))}),t&&b.logError(t),a},getUserSyncs:function(e,t,r,n){if(!o&&e.pixelEnabled){e="";return r&&"string"==typeof r.consentString&&("boolean"==typeof r.gdprApplies?e+="&gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent=").concat(r.consentString):e+="&gdpr_consent=".concat(r.consentString)),n&&(e+="&us_privacy=".concat(n)),o=!0,{type:"image",url:i+e}}}};function w(e){var t=e.value;b.isArray(t)&&0<t.length&&""===e.value[0]&&delete e.value}function d(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})})}Object(t.registerBidder)(n)}},[460]),shpbjsChunk([40],{19:function(e,t,r){"use strict";t.a=function(e){var o,t,r=[];for(o in e)e.hasOwnProperty(o)&&("pubProvidedId"===o?r=r.concat(e.pubProvidedId):(t=function(e){var t=s[o];if(t&&e){var r={};r.source=t.source;var n=a.isFn(t.getValue)?t.getValue(e):e;if(a.isStr(n)){var i={id:n,atype:t.atype};return!a.isFn(t.getUidExt)||(n=t.getUidExt(e))&&(i.ext=n),r.uids=[i],!a.isFn(t.getEidExt)||(e=t.getEidExt(e))&&(r.ext=e),r}}return null}(e[o]))&&r.push(t));return r};var a=r(0),s={intentIqId:{source:"intentiq.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getEidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid||(e.ccpaOptout?"":null)},getUidExt:function(e){e=a.pick(e,["ibaOptout","ccpaOptout"]);if(Object.keys(e).length)return e}},idl_env:{source:"liveramp.com",atype:1},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:1,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:1},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:1},netId:{source:"netid.de",atype:1},sharedid:{source:"sharedid.org",atype:1,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.third?{third:e.third}:void 0}},IDP:{source:"zeotap.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:1},fabrickId:{source:"neustar.biz",atype:1}}},491:function(e,t,r){e.exports=r(492)},492:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return i}),t.ImproveDigitalAdServerJSClient=a;var v=r(0),n=r(1),m=r(3),y=r(2),c=r(11),o=r(19),t=r(12),g=r.n(t);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=["skip","skipmin","skipafter"],i={version:"7.2.0",code:"improvedigital",gvlid:253,aliases:["id"],supportedMediaTypes:[y.b,y.c,y.d],isBidRequestValid:function(e){return!!(e&&e.params&&(e.params.placementId||e.params.placementKey&&e.params.publisherId))},buildRequests:function(e,t){var r=e.map(function(e){var t=v.getBidIdParameter("adUnitCode",e)||null,r=v.getBidIdParameter("placementId",e.params)||null,n=null,i=null;null===r&&(n=v.getBidIdParameter("publisherId",e.params)||null,i=v.getBidIdParameter("placementKey",e.params)||null);var o,a,s=v.getBidIdParameter("keyValues",e.params)||null,c=v.getBidIdParameter("size",e.params)||null,d=v.getBidIdParameter("bidId",e),u=v.getBidIdParameter("transactionId",e),l=m.b.getConfig("currency.adServerCurrency"),p=v.getBidIdParameter("bidFloor",e.params),f=v.getBidIdParameter("bidFloorCur",e.params),h={};return A(e)&&(h.adTypes=[y.d]),(A(e)||E(e))&&(h.video=(o=e,a={},Object.keys(Object(o.mediaTypes.video)).filter(function(e){return g()(b,e)}).forEach(function(e){a[e]=o.mediaTypes.video[e]}),Object.keys(Object(o.params.video)).filter(function(e){return g()(b,e)}).forEach(function(e){a[e]=o.params.video[e]}),a)),r?h.placementId=r:(n&&(h.publisherId=n),i&&(h.placementKey=i)),s&&(h.keyValues=s),!0===m.b.getConfig("improvedigital.usePrebidSizes")&&!A(e)&&!E(e)&&e.sizes&&0<e.sizes.length?h.format=e.sizes:c&&c.w&&c.h&&(h.size={},h.size.h=c.h,h.size.w=c.w),d&&(h.id=d),t&&(h.adUnitId=t),u&&(h.transactionId=u),l&&(h.currency=l),p&&(h.bidFloor=p,h.bidFloorCur=f?f.toUpperCase():"USD"),h}),n=new a("hb"),i={singleRequestMode:!0===m.b.getConfig("improvedigital.singleRequest"),returnObjType:n.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT,libVersion:this.version};t&&t.gdprConsent&&t.gdprConsent.consentString&&(i.gdpr=t.gdprConsent.consentString),t&&t.uspConsent&&(i.usPrivacy=t.uspConsent),t&&t.refererInfo&&t.refererInfo.referer&&(i.referrer=t.refererInfo.referer),i.schain=e[0].schain,!e[0].userId||(e=Object(o.a)(e[0].userId)).length&&v.deepSetValue(i,"user.ext.eids",e);i=n.createRequest(r,i);return i.errors&&0<i.errors.length&&v.logError("ID WARNING 0x01"),i.requests.forEach(function(e){return e.bidderRequest=t}),i.requests},interpretResponse:function(e,t){var a=t.bidderRequest,s=[];return v._each(e.body.bid,function(r){var n,e,i,t,o;r.price&&null!==r.price&&!r.hasOwnProperty("errorCode")&&(r.adm||r.native)&&(e=v.getBidRequest(r.id,[a]),n={},r.native?(n.native=(t=r.native,o={},t&&v.isArray(t.assets)?(t.assets.forEach(function(e){if(e.title)o.title=e.title.text;else if(e.data)switch(e.data.type){case 1:o.sponsoredBy=e.data.value;break;case 2:o.body=e.data.value;break;case 3:o.rating=e.data.value;break;case 4:o.likes=e.data.value;break;case 5:o.downloads=e.data.value;break;case 6:o.price=e.data.value;break;case 7:o.salePrice=e.data.value;break;case 8:o.phone=e.data.value;break;case 9:o.address=e.data.value;break;case 10:o.body2=e.data.value;break;case 11:o.displayUrl=e.data.value;break;case 12:o.cta=e.data.value}else if(e.img)switch(e.img.type){case 2:o.icon={url:e.img.url,width:e.img.w,height:e.img.h};break;case 3:o.image={url:e.img.url,width:e.img.w,height:e.img.h}}}),t.eventtrackers?(o.impressionTrackers=[],t.eventtrackers.forEach(function(e){if(1===e.event)switch(e.method){case 1:o.impressionTrackers.push(e.url);break;case 2:o.javascriptTrackers='<script src="'.concat(e.url,'"><\/script>')}})):(o.impressionTrackers=t.imptrackers||[],o.javascriptTrackers=t.jstracker),t.link&&(o.clickUrl=t.link.url,o.clickTrackers=t.link.clicktrackers),t.privacy&&(o.privacyLink=t.privacy),o):null),n.ortbNative=r.native,r.nurl&&n.native.impressionTrackers.unshift(r.nurl),n.mediaType=y.c):r.ad_type&&"video"===r.ad_type?(n.vastXml=r.adm,n.mediaType=y.d,E(e)&&(n.adResponse={content:n.vastXml,height:r.h,width:r.w},n.renderer=function(e){var t=c.a.install({id:e.adUnitCode,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js",loaded:!1,config:v.deepAccess(e,"renderer.options"),adUnitCode:e.adUnitCode});try{t.setRender(d)}catch(e){v.logWarn("Prebid Error calling setRender on renderer",e)}return t}(e))):(e="",r.nurl&&0<r.nurl.length&&(e='<img src="'.concat(r.nurl,'" width="0" height="0" style="display:none">')),n.ad="".concat(e,"<script>").concat(r.adm,"<\/script>"),n.mediaType=y.b),n.adId=r.id,n.cpm=parseFloat(r.price),n.creativeId=r.crid,n.currency=r.currency?r.currency.toUpperCase():"USD",v.isNumber(r.lid)&&r.buying_type&&"rtb"!==r.buying_type?n.dealId=r.lid:Array.isArray(r.lid)&&Array.isArray(r.buying_type)&&r.lid.length===r.buying_type.length&&(i=!1,r.buying_type.forEach(function(e,t){i||e&&"rtb"!==e&&(i=!0,n.dealId=r.lid[t])})),n.height=r.h,n.netRevenue=!!r.isNet&&r.isNet,n.requestId=r.id,n.ttl=300,n.width=r.w,n.width&&n.height||(n.width=1,n.height=1),s.push(n))}),s},getUserSyncs:function(e,t){if(e.pixelEnabled){var r=[];return t.forEach(function(e){e.body.bid.forEach(function(e){v.isArray(e.sync)&&e.sync.forEach(function(e){-1===r.indexOf(e)&&r.push(e)})})}),r.map(function(e){return{type:"image",url:e}})}return[]}};function A(e){var t=Object.keys(v.deepAccess(e,"mediaTypes",{})),r=v.deepAccess(e,"mediaTypes.video"),n=v.deepAccess(e,"mediaTypes.video.context");return"video"===e.mediaType||1===t.length&&r&&"outstream"!==n}function E(e){var t=v.deepAccess(e,"mediaTypes.video"),e=v.deepAccess(e,"mediaTypes.video.context");return t&&"outstream"===e}function d(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({sizes:[e.width,e.height],targetId:e.adUnitCode,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}.bind(null,e))})}function a(e){this.CONSTANTS={AD_SERVER_BASE_URL:"ice.360yield.com",END_POINT:e||"hb",AD_SERVER_URL_PARAM:"jsonp=",CLIENT_VERSION:"JS-6.4.0",MAX_URL_LENGTH:2083,ERROR_CODES:{MISSING_PLACEMENT_PARAMS:2,LIB_VERSION_MISSING:3},RETURN_OBJ_TYPE:{DEFAULT:0,URL_PARAMS_SPLIT:1}},this.getErrorReturn=function(e){return{idMappings:{},requests:{},errorCode:e}},this.createRequest=function(e,t,r){if(!t.libVersion)return this.getErrorReturn(this.CONSTANTS.ERROR_CODES.LIB_VERSION_MISSING);t.returnObjType=t.returnObjType||this.CONSTANTS.RETURN_OBJ_TYPE.DEFAULT,t.adServerBaseUrl="https://"+(t.adServerBaseUrl||this.CONSTANTS.AD_SERVER_BASE_URL);var n=[];if(v.isArray(e))for(var i=0;i<e.length;i++)c=this.createImpressionObject(e[i]),n.push(c);else c=this.createImpressionObject(e),n.push(c);var o=!0;t.returnObjType===this.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT&&(o=!1);var a={requests:[]};o&&(a.idMappings=[]);for(var s,c,d=null,u="".concat(t.adServerBaseUrl,"/").concat(this.CONSTANTS.END_POINT,"?").concat(this.CONSTANTS.AD_SERVER_URL_PARAM),l={bid_request:this.createBasicBidRequestObject(t,r)},p=0;p<n.length;p++)(c=n[p]).errorCode?(d=d||[]).push({errorCode:c.errorCode,adUnitId:c.adUnitId}):(o&&a.idMappings.push({adUnitId:c.adUnitId,id:c.impressionObject.id}),l.bid_request.imp=l.bid_request.imp||[],l.bid_request.imp.push(c.impressionObject),s=!1,(u+encodeURIComponent(JSON.stringify(l))).length>this.CONSTANTS.MAX_URL_LENGTH&&(s=!0,1<l.bid_request.imp.length&&(l.bid_request.imp.pop(),o&&a.idMappings.pop(),p--)),!s&&t.singleRequestMode&&p!==n.length-1||(a.requests.push(this.formatRequest(t,l)),l={bid_request:this.createBasicBidRequestObject(t,r)}));return d&&(a.errors=d),a},this.formatRequest=function(e,t){return e.returnObjType!==this.CONSTANTS.RETURN_OBJ_TYPE.URL_PARAMS_SPLIT?{url:"".concat(e.adServerBaseUrl,"/")+"".concat(this.CONSTANTS.END_POINT,"?").concat(this.CONSTANTS.AD_SERVER_URL_PARAM)+encodeURIComponent(JSON.stringify(t))}:{method:"GET",url:"".concat(e.adServerBaseUrl,"/").concat(this.CONSTANTS.END_POINT),data:"".concat(this.CONSTANTS.AD_SERVER_URL_PARAM).concat(encodeURIComponent(JSON.stringify(t)))}},this.createBasicBidRequestObject=function(e,t){var r={secure:1};if(e.requestId?r.id=e.requestId:r.id=v.getUniqueIdentifierStr(),e.domain&&(r.domain=e.domain),e.page&&(r.page=e.page),e.ref&&(r.ref=e.ref),e.callback&&(r.callback=e.callback),e.libVersion&&(r.version=e.libVersion+"-"+this.CONSTANTS.CLIENT_VERSION),e.referrer&&(r.referrer=e.referrer),!e.gdpr&&0!==e.gdpr||(r.gdpr=e.gdpr),e.usPrivacy&&(r.us_privacy=e.usPrivacy),e.schain&&(r.schain=e.schain),e.user&&(r.user=e.user),t)for(var n in t)r[n]=t[n];return r},this.createImpressionObject=function(e){var t,r,n={},i={};if(n.impressionObject=i,e.id?i.id=e.id:i.id=v.getUniqueIdentifierStr(),e.adTypes&&(i.ad_types=e.adTypes),e.adUnitId&&(n.adUnitId=e.adUnitId),e.currency&&(i.currency=e.currency.toUpperCase()),e.bidFloor&&(i.bidfloor=e.bidFloor),e.bidFloorCur&&(i.bidfloorcur=e.bidFloorCur.toUpperCase()),e.placementId&&(i.pid=e.placementId),e.publisherId&&(i.pubid=e.publisherId),e.placementKey&&(i.pkey=e.placementKey),e.transactionId&&(i.tid=e.transactionId),v.isEmpty(e.video)||(1!==(t=s({},e.video)).skip&&(delete t.skipmin,delete t.skipafter,0!==t.skip&&(v.logWarn("video.skip: invalid value '".concat(t.skip,"'. Expected 0 or 1")),delete t.skip)),v.isEmpty(t)||(i.video=t)),e.keyValues)for(var o in e.keyValues)for(var a=0;a<e.keyValues[o].length;a++)i.kvw=i.kvw||{},i.kvw[o]=i.kvw[o]||[],i.kvw[o].push(e.keyValues[o][a]);return i.banner={},e.size&&e.size.w&&e.size.h&&(i.banner.w=e.size.w,i.banner.h=e.size.h),e.format&&v.isArray(e.format)&&0<(r=e.format.filter(function(e){return 2===e.length&&v.isInteger(e[0])&&v.isInteger(e[1])&&0<=e[0]&&0<=e[1]}).map(function(e){return{w:e[0],h:e[1]}})).length&&(i.banner.format=r),i.pid||i.pubid||i.pkey||i.banner&&i.banner.w&&i.banner.h||(n.impressionObject=null,n.errorCode=this.CONSTANTS.ERROR_CODES.MISSING_PLACEMENT_PARAMS),n}}Object(n.registerBidder)(i)}},[491]),shpbjsChunk([224],{519:function(e,t,r){e.exports=r(520)},520:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return a});var t=r(1),s=r(0),o=[],a={code:"justpremium",time:6e4,isBidRequestValid:function(e){return!!(e&&e.params&&e.params.zone)},buildRequests:function(e,t){var o,a,r=(o={},a={},e.forEach(function(e){var t=e.params,n=t.zone;if(1!==o[n]){var i=t.allow||t.formats||[],e=t.exclude||[];if(0===i.length&&0===e.length)return o[t.zone]=1;o[n]=o[n]||[[],{}],o[n][0]=function(){for(var e=o[n][0].concat(i).concat(),t=0;t<e.length;++t)for(var r=t+1;r<e.length;++r)e[t]===e[r]&&e.splice(r--,1);return e}(),e.forEach(function(e){o[n][1][e]?o[n][1][e]++:o[n][1][e]=1}),a[n]=a[n]||0,e.length&&a[n]++}}),Object.keys(a).forEach(function(t){var r;1!==o[t]&&(r=[],Object.keys(o[t][1]).forEach(function(e){o[t][1][e]===a[t]&&r.push(e)}),o[t][1]=r)}),Object.keys(o).forEach(function(t){1!==o[t]&&o[t][1].length&&(o[t][0].forEach(function(e){e=o[t][1].indexOf(e);-1<e&&o[t][1].splice(e,1)}),o[t][0].length=0),1===o[t]||o[t][0].length||o[t][1].length||(o[t]=1)}),o),n=function(){var t;try{t=window.top}catch(e){t=window}return{screenWidth:t.screen.width,screenHeight:t.screen.height,innerWidth:t.innerWidth,innerHeight:t.innerHeight}}(),i={zone:e.map(function(e){return parseInt(e.params.zone)}).filter(function(e,t,r){return r.indexOf(e)===t}),referer:t.refererInfo.referer,sw:n.screenWidth,sh:n.screenHeight,ww:n.innerWidth,wh:n.innerHeight,c:r,id:e[0].params.zone,sizes:{}};e.forEach(function(e){var t=e.params.zone,r=i.sizes;r[t]=r[t]||[],r[t].push.apply(r[t],e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes)}),Object(s.deepAccess)(e[0],"userId.pubcid")?i.pubcid=Object(s.deepAccess)(e[0],"userId.pubcid"):Object(s.deepAccess)(e[0],"crumbs.pubcid")&&(i.pubcid=Object(s.deepAccess)(e[0],"crumbs.pubcid")),i.uids=e[0].userId,t&&t.gdprConsent&&(i.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:"boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(i.us_privacy=t.uspConsent),i.version={prebid:"4.22.0",jp_adapter:"1.7"};t=JSON.stringify(i);return{method:"POST",url:"https://pre.ads.justpremium.com/v/2.0/t/xhr?i="+ +new Date,data:t,bids:e}},interpretResponse:function(e,t){var n=e.body,i=[];return t.bids.forEach(function(e){var t,r=function(e,t){var r,n,i=e.zone;if(t[i])for(var o=t[i].length;o--;)if(r=e,n=void 0,n=t[i][o].format,r.allow&&r.allow.length?-1<r.allow.indexOf(n):!r.exclude||!r.exclude.length||r.exclude.indexOf(n)<0)return t[i].splice(o,1).pop();return!1}(e.params,n.bid);r&&(t=e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&e.mediaTypes.banner.sizes.length&&e.mediaTypes.banner.sizes[0]||[],r={requestId:e.bidId,creativeId:r.id,width:t[0]||r.width,height:t[1]||r.height,ad:r.adm,cpm:r.price,netRevenue:!0,currency:r.currency||"USD",ttl:r.ttl||a.time,format:r.format},i.push(r))}),i},getUserSyncs:function(e,t,r,n){var i="https://pre.ads.justpremium.com/v/1.0/t/sync?_c=a"+Math.random().toString(36).substring(7)+Date.now();return r&&"boolean"==typeof r.gdprApplies&&r.gdprApplies&&r.consentString&&(i=i+"&consentString="+encodeURIComponent(r.consentString)),n&&(i=i+"&usPrivacy="+encodeURIComponent(n)),e.iframeEnabled&&o.push({type:"iframe",url:i}),o}};Object(t.registerBidder)(a)}},[519]),shpbjsChunk([196],{591:function(e,t,r){e.exports=r(592)},592:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return b});var t=r(1),p=r(0),d=r(2),u=r(3),r=r(7),l=Object(r.b)(),f="[MGID info]: ",h={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},DESC:{ID:5,KEY:"data",TYPE:2},PRICE:{ID:6,KEY:"price",TYPE:6},SALEPRICE:{ID:7,KEY:"saleprice",TYPE:7},DISPLAYURL:{ID:8,KEY:"displayurl",TYPE:11},CTA:{ID:9,KEY:"cta",TYPE:12},BODY:{ID:10,KEY:"body",TYPE:2},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1}},v=1,m=3,y=!1,g=[{id:h.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:h.TITLE.ID,required:!0},{id:h.IMAGE.ID,required:!0}],n={},i={};p._each(h,function(e){n[e.ID]=e.KEY}),p._each(h,function(e){i[e.KEY]=e});var b={VERSION:"1.4",code:"mgid",supportedMediaTypes:[d.b,d.c],reId:/^[1-9][0-9]*$/,NATIVE_ASSET_ID_TO_KEY_MAP:n,NATIVE_ASSET_KEY_TO_ASSET_MAP:i,isBidRequestValid:function(e){var t=p.deepAccess(e,"mediaTypes.banner"),r=p.deepAccess(e,"mediaTypes.native"),n=p.isPlainObject(r);if(n){var i=p.deepAccess(e,"nativeParams"),o=0;if(p.isPlainObject(i))for(var a in i){var s=i[a],c=b.NATIVE_ASSET_KEY_TO_ASSET_MAP.hasOwnProperty(a);if(c&&o++,!p.isPlainObject(s)||!c&&p.deepAccess(s,"required")){n=!1;break}}n=n&&0<o}if(u=p.isPlainObject(t))for(var d=p.deepAccess(t,"sizes"),u=p.isArray(d)&&0<d.length,l=0;u&&l<d.length;l++)u=2===d[l].length;r=Number(e.params.accountId),t=Number(e.params.placementId);return(u||n)&&p.isPlainObject(e.params)&&!!e.adUnitCode&&p.isStr(e.adUnitCode)&&(!(0<t)||0===e.params.placementId.toString().search(b.reId))&&!!r&&0<r&&0===e.params.accountId.toString().search(b.reId)},buildRequests:function(e,t){if(p.logInfo(f+"buildRequests"),0!==e.length){var r=function(){for(var e,t=window,r=t.document,n=r.location.href,i=r.referrer,o=0,a=new Date;t!==t.parent;)try{n=(e=t.parent).location.href,i=e.document.referrer,t=e}catch(r){o=top!==t.parent?2:1;break}return{location:n,referrer:i||"",masked:o,wWidth:t.innerWidth,wHeight:t.innerHeight,date:a.toUTCString(),timeOffset:a.getTimezoneOffset()}}(),n=r.location||p.deepAccess(t,"refererInfo.referer")||p.deepAccess(t,"refererInfo.canonicalUrl"),i=p.parseUrl(n).hostname,o=function(e){if("localhost"==e)return"localhost";var t=null;try{var r=/[-\w]+\.([-\w]+|[-\w]{3,}|[-\w]{1,3}\.[-\w]{2})$/i.exec(e);if(null!=r&&0<r.length){t=r[0];for(var n=1;n<r.length;n++)r[n].length>t.length&&(t=r[n])}}catch(e){t=null}return t}(i)||i,a=A(e,"params.accountId"),i=function(){try{return l.getDataFromLocalStorage("mgMuidn")}catch(e){return null}}(),a=(A(e,"params.bidUrl")||"https://prebid.mgid.com/prebid/")+a;p.isStr(i)&&0<i.length&&(a+="?muid="+i);var i=[A(e,"params.currency")||A(e,"params.cur")||u.b.getConfig("currency.adServerCurrency")||"USD"],s="https:"===window.location.protocol?1:0,c=[];if(e.forEach(function(i){var e,t=(t=p.deepAccess(i,"params.placementId")||0)?t+"/"+i.adUnitCode:i.adUnitCode,r={id:i.bidId,tagid:t,secure:s},t=p.deepAccess(i,"params.bidFloor")||p.deepAccess(i,"params.bidfloor")||0;for(e in t&&p.isNumber(t)&&(r.bidfloor=t),i.mediaTypes)switch(e){case d.b:r.banner=function(){var e=p.deepAccess(i,"mediaTypes.banner.sizes"),t=[];if(1<e.length)for(var r=0;r<e.length;r++)2===e[r].length&&t.push({w:e[r][0],h:e[r][1]});var n={w:e&&e[0][0],h:e&&e[0][1]};return t.length&&(n.format=t),n}(),c.push(r);break;case d.c:var n=function(e){var t,n={plcmtcnt:1,assets:[]};for(t in e){var r={};if(e.hasOwnProperty(t)&&!(n.assets&&0<n.assets.length&&n.assets.hasOwnProperty(t)))switch(t){case h.TITLE.KEY:r={id:h.TITLE.ID,required:e[t].required?1:0,title:{len:e[t].len||e[t].length||80}};break;case h.IMAGE.KEY:var i=e[t].wmin||e[t].minimumWidth||(p.isArray(e[t].minsizes)&&0<e[t].minsizes.length?e[t].minsizes[0]:0),o=e[t].hmin||e[t].minimumHeight||(p.isArray(e[t].minsizes)&&1<e[t].minsizes.length?e[t].minsizes[1]:0),r={id:h.IMAGE.ID,required:e[t].required?1:0,img:{type:m,w:e[t].w||e[t].width||(p.isArray(e[t].sizes)&&0<e[t].sizes.length?e[t].sizes[0]:0),h:e[t].h||e[t].height||(p.isArray(e[t].sizes)&&1<e[t].sizes.length?e[t].sizes[1]:0),mimes:e[t].mimes,ext:e[t].ext}};0<i&&(r.img.wmin=i),0<o&&(r.img.hmin=o),r.img.w||(r.img.w=492),r.img.h||(r.img.h=328);break;case h.ICON.KEY:(r={id:h.ICON.ID,required:e[t].required?1:0,img:{type:v,w:e[t].w||e[t].width||(p.isArray(e[t].sizes)&&0<e[t].sizes.length?e[t].sizes[0]:0),h:e[t].h||e[t].height||(p.isArray(e[t].sizes)&&0<e[t].sizes.length?e[t].sizes[1]:0)}}).img.w||(r.img.w=50),r.img.h||(r.img.h=50);break;case h.SPONSORED.KEY:case h.SPONSOREDBY.KEY:case h.PRICE.KEY:case h.SALEPRICE.KEY:case h.DESC.KEY:case h.BODY.KEY:case h.DISPLAYURL.KEY:case h.CTA.KEY:i=b.NATIVE_ASSET_KEY_TO_ASSET_MAP[t],o=void 0,o=i.KEY,r={id:i.ID,required:e[o].required?1:0,data:{type:i.TYPE,len:e[o].len,ext:e[o].ext}};break;default:if(e[t].required)return void(y=!0)}r.id&&(n.assets[n.assets.length]=r)}var a=g.length,s=0;return g.forEach(function(e){for(var t=n.assets.length,r=0;r<t;r++){if(e.id===n.assets[r].id){s++;break}if(4===e.id&&11===n.assets[r].id&&p.deepAccess(n.assets[r],"data.type")===e.data.type){s++;break}}}),y=a!==s,n}(i.nativeParams);y||(r.native={request:n},c.push(r))}}),0!==c.length){i={id:p.deepAccess(t,"bidderRequestId"),site:{domain:o,page:n},cur:i,geo:{utcoffset:r.timeOffset},device:{ua:navigator.userAgent,js:1,dnt:"yes"===navigator.doNotTrack||"1"===navigator.doNotTrack||"1"===navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:(i=navigator.language?"language":"userLanguage",2!==(i=navigator[i].split("-")[0]).length&&3!==i.length?"":i)},ext:{mgid_ver:b.VERSION,prebid_ver:shpbjs.version},imp:c};return t&&t.gdprConsent&&(i.user={ext:{consent:t.gdprConsent.consentString}},i.regs={ext:{gdpr:t.gdprConsent.gdprApplies?1:0}}),r.referrer&&(i.site.ref=r.referrer),p.logInfo(f+"buildRequest:",i),{method:"POST",url:a,data:JSON.stringify(i)}}}},interpretResponse:function(t){if(p.logInfo(f+"interpretResponse",t),null!=t&&null!=t.body&&""!==t.body&&p.isArray(t.body.seatbid)&&t.body.seatbid.length){var r=[],e=p.deepAccess(t.body,"ext.muidn");return p.isStr(e)&&0<e.length&&function(e){try{l.setDataInLocalStorage("mgMuidn",e)}catch(e){return}}(e),t.body.seatbid.forEach(function(e){e.bid.forEach(function(e){e=function(e,t){p.isStr(t)&&""!==t||(t="USD");var r={requestId:e.impid,ad:e.adm,cpm:e.price,creativeId:e.adid,currency:t,dealId:e.dealid||"",width:e.w,height:e.h,mediaType:"banner",netRevenue:!0,ttl:e.ttl||300,nurl:e.nurl||"",burl:e.burl||"",isBurl:p.isStr(e.burl)&&0<e.burl.length};switch(t=r,"native"===p.deepAccess(e,"ext.crtype")?t.mediaType=d.c:t.mediaType=d.b,r.mediaType){case d.b:break;case d.c:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm)}catch(e){return p.logWarn("[MGID warn]: Error: Cannot parse native response for ad response: "+t.adm)}if(r&&r.native&&r.native.assets&&0<r.native.assets.length){t.mediaType=d.c;for(var n=0,i=r.native.assets.length;n<i;n++)switch(r.native.assets[n].id){case h.TITLE.ID:t.native.title=r.native.assets[n].title&&r.native.assets[n].title.text;break;case h.IMAGE.ID:t.native.image={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case h.ICON.ID:t.native.icon={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case h.SPONSOREDBY.ID:case h.SPONSORED.ID:case h.PRICE:case h.SALEPRICE.ID:case h.DESC.ID:case h.BODY.ID:case h.DISPLAYURL.ID:case h.CTA.ID:t.native[b.NATIVE_ASSET_ID_TO_KEY_MAP[r.native.assets[n].id]]=r.native.assets[n].data&&r.native.assets[n].data.value}t.native.clickUrl=r.native.link&&r.native.link.url,t.native.clickTrackers=r.native.link&&r.native.link.clicktrackers||[],t.native.impressionTrackers=r.native.imptrackers||[],t.native.jstracker=r.native.jstracker||[],t.width=0,t.height=0}}}(e,r)}return r}(e,t.body.cur);e.mediaType===d.c&&p.isEmpty(e.native)||r.push(e)})}),p.logInfo(f+"interpretedResponse",r),r}},onBidWon:function(e){var t=p.deepAccess(e,"adserverTargeting.hb_pb")||"";p.isStr(e.nurl)&&""!==e.nurl&&(e.nurl=e.nurl.replace(/\${AUCTION_PRICE}/,t),p.triggerPixel(e.nurl)),e.isBurl&&(e.mediaType===d.b?e.ad=e.ad.replace(/\${AUCTION_PRICE}/,t):(e.burl=e.burl.replace(/\${AUCTION_PRICE}/,t),p.triggerPixel(e.burl))),p.logInfo(f+"onBidWon")},getUserSyncs:function(){p.logInfo(f+"getUserSyncs")}};function A(e,t){for(var r,n=0;n<e.length;n++)if(r=p.deepAccess(e[n],t))return r}Object(t.registerBidder)(b)}},[591]),shpbjsChunk([178],{633:function(e,t,r){e.exports=r(634)},634:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"USER_ID_CODE_TO_QUERY_ARG",function(){return c}),r.d(t,"spec",function(){return i});var s=r(3),t=r(1),u=r(0),l=r(2);function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var r=[l.b,l.d],c={britepoolid:"britepoolid",criteoId:"criteoid",digitrustid:"digitrustid",id5id:"id5id",idl_env:"lre",lipb:"lipbid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",tdid:"ttduuid"},i={code:"openx",gvlid:69,supportedMediaTypes:r,isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return u.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||0<u.deepAccess(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t)},buildRequests:function(e,c){if(0===e.length)return[];var t,d=[],t=(t=e.reduce(function(e,t){var r=t;return(u.deepAccess(r,"mediaTypes.video")&&!u.deepAccess(r,"mediaTypes.banner")||r.mediaType===l.d?e[0]:e[1]).push(t),e},[[],[]]),e=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(t,e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=t[0],t=t[1];return 0<t.length&&d.push(function(e){var t=[],n=!1,r=p(e,c),i=u._map(e,function(e){return e.params.unit});r.aus=u._map(e,function(e){return u.parseSizesInput(e.mediaTypes.banner.sizes).join(",")}).join("|"),r.divIds=u._map(e,function(e){return encodeURIComponent(e.adUnitCode)}).join(","),i.some(function(e){return e})&&(r.auid=i.join(",")),e.some(function(e){return e.params.doNotTrack})&&(r.ns=1),!0!==s.b.getConfig("coppa")&&!e.some(function(e){return e.params.coppa})||(r.tfcd=1),e.forEach(function(r){var e;r.params.customParams?(e=u._map(Object.keys(r.params.customParams),function(e){return t=e,e=r.params.customParams[t],u.isArray(e)&&(e=e.join(",")),(t.toLowerCase()+"="+e.toLowerCase()).replace("+",".").replace("/","_");var t}),e=window.btoa(e.join("&")),n=!0,t.push(e)):t.push("")}),n&&(r.tps=t.join(","));var o=[],a=!1;return e.forEach(function(e){e=function(e,t){var r={},n=s.b.getConfig("currency.adServerCurrency")||"USD";"function"==typeof e.getFloor&&(r=e.getFloor({currency:n,mediaType:t,size:"*"}));e=r.floor||e.params.customFloor||0;return Math.round(1e3*e)}(e,l.b);e?(o.push(e),a=!0):o.push(0)}),a&&(r.aumfs=o.join(",")),{method:"GET",url:r.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:r,payload:{bids:e,startTime:new Date}}}(t)),0<e.length&&e.forEach(function(e){var t,r,n,i,o,a,s;d.push({method:"GET",url:(r=t=e,o=p([r],c),a=u.deepAccess(r,"params.video")||{},s=u.deepAccess(r,"mediaTypes.video.context"),e=u.deepAccess(r,"mediaTypes.video.playerSize"),u.isArray(r.sizes)&&2===r.sizes.length&&!u.isArray(r.sizes[0])?(n=parseInt(r.sizes[0],10),i=parseInt(r.sizes[1],10)):u.isArray(r.sizes)&&u.isArray(r.sizes[0])&&2===r.sizes[0].length?(n=parseInt(r.sizes[0][0],10),i=parseInt(r.sizes[0][1],10)):u.isArray(e)&&2===e.length&&(n=parseInt(e[0],10),i=parseInt(e[1],10)),Object.keys(a).forEach(function(e){"openrtb"===e?(a[e].w=n||a[e].w,a[e].v=i||a[e].v,o[e]=JSON.stringify(a[e])):e in o||"url"===e||(o[e]=a[e])}),o.auid=r.params.unit,o.vwd=n||a.vwd,o.vht=i||a.vht,"outstream"===s&&(o.vos="101"),a.mimes&&(o.vmimes=a.mimes),r.params.test&&(o.vtest=1),(r=o).ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(t.params.delDomain,"/v/1.0/avjp")),data:r,payload:{bid:t,startTime:new Date}})}),d},interpretResponse:function(e,t){e=e.body;return((/avjp$/.test(t.url)?l.d:l.b)===l.d?function(e,t){var r,n=t.bid,i=(t.startTime,[]);return void 0!==e&&""!==e.vastUrl&&0<e.pub_rev&&(r=u.parseUrl(e.vastUrl).search||{},(t={}).requestId=n.bidId,t.ttl=300,t.netRevenue=!0,t.currency=e.currency,t.cpm=parseInt(e.pub_rev,10)/1e3,t.width=parseInt(e.width,10),t.height=parseInt(e.height,10),t.creativeId=e.adid,t.vastUrl=e.vastUrl,t.mediaType=l.d,e.ph=r.ph,e.colo=r.colo,e.ts=r.ts,i.push(t)),i}:function(e,t){for(var r=t.bids,n=(t.startTime,e.ads.ad),i=[],o=0;o<n.length;o++){var a=n[o],s=parseInt(a.idx,10),c={};c.requestId=r[s].bidId,a.pub_rev&&(c.cpm=Number(a.pub_rev)/1e3,(s=a.creative[0])&&(c.width=s.width,c.height=s.height),c.creativeId=s.id,c.ad=a.html,a.deal_id&&(c.dealId=a.deal_id),c.ttl=300,c.netRevenue=!0,c.currency=a.currency,a.tbd&&(c.tbd=a.tbd),c.ts=a.ts,c.meta={},a.brand_id&&(c.meta.brandId=a.brand_id),a.adv_id&&(c.meta.dspid=a.adv_id),i.push(c))}return i})(e,t.payload)},getUserSyncs:function(e,t,r,n){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:u.deepAccess(t,"0.body.ads.pixels")||u.deepAccess(t,"0.body.pixels")||(t=n,n=[],(r=r)&&(n.push("gdpr="+(r.gdprApplies?1:0)),n.push("gdpr_consent="+encodeURIComponent(r.consentString||""))),t&&n.push("us_privacy="+encodeURIComponent(t)),"".concat("https://u.openx.net/w/1.0/pd").concat(0<n.length?"?"+n.join("&"):""))}]},transformBidParams:function(e){return u.convertTypes({unit:"string",customFloor:"number"},e)}};function p(e,t){var r,n,i,o=u.inIframe(),a={ju:s.b.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:o,tz:(new Date).getTimezoneOffset(),tws:function(){var e,t,r=window,n=document,i=n.documentElement;if(o){try{r=window.top,n=window.top.document}catch(e){return}i=n.documentElement,t=n.body,e=r.innerWidth||i.clientWidth||t.clientWidth,t=r.innerHeight||i.clientHeight||t.clientHeight}else i=n.documentElement,e=r.innerWidth||i.clientWidth,t=r.innerHeight||i.clientHeight;return"".concat(e,"x").concat(t)}(),be:1,bc:e[0].params.bc||"".concat("hb_pb","_").concat("3.0.3"),dddid:u._map(e,function(e){return e.transactionId}).join(","),nocache:(new Date).getTime()};return e[0].params.platform&&(a.ph=e[0].params.platform),t.gdprConsent&&(void 0!==(r=t.gdprConsent).consentString&&(a.gdpr_consent=r.consentString),void 0!==r.gdprApplies&&(a.gdpr=r.gdprApplies?1:0),"iab"===s.b.getConfig("consentManagement.cmpApi")&&(a.x_gdpr_f=1)),t&&t.uspConsent&&(a.us_privacy=t.uspConsent),u.deepAccess(e[0],"crumbs.pubcid")&&u.deepSetValue(e[0],"userId.pubcid",u.deepAccess(e[0],"crumbs.pubcid")),n=a,t=e[0].userId,u._each(t,function(e,t){var r=c[t];if(c.hasOwnProperty(t))switch(t){case"digitrustid":n[r]=u.deepAccess(e,"data.id");break;case"lipb":n[r]=e.lipbid;break;case"parrableId":n[r]=e.eid;break;case"id5id":n[r]=e.uid;break;default:n[r]=e}}),a=n,e[0].schain&&(a.schain=(e=e[0].schain,"".concat(e.ver,",").concat(e.complete,"!").concat((e=e.nodes,i=["asi","sid","hp","rid","name","domain"],e.map(function(t){return i.map(function(e){return t[e]||""}).join(",")}).join("!"))))),a}Object(t.registerBidder)(i)}},[633]),shpbjsChunk([174],{641:function(e,t,r){e.exports=r(642)},642:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return o});var n=r(33),t=r(1),i=r(5),o=(r.n(i),{code:"outbrain-wrapper",isBidRequestValid:function(e){return!(!e||!e.params.widgetId)},buildRequests:function(e,t){return{method:"NOT_AJAX",bidderRequest:t}},interpretResponse:function(e){return t=e.body,r=[],(e=Object(n.a)(i.STATUS.GOOD,t)).cpm=t.params.cpm,e.requestId=t.bidId,e.width=t.sizes[0][0],e.height=t.sizes[0][1],e.netRevenue=!0,e.ttl=300,e.currency="EUR",e.creativeId="98eidrk6",e.widgetId=t.params.widgetId,e.widgetObTemplate=t.params.widgetObTemplate,e.contentPageUrl=t.params.contentPageUrl,r.push(e),r;var t,r}});Object(t.registerBidder)(o)}},[641]),shpbjsChunk([158],{680:function(e,t,r){e.exports=r(681)},681:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return n});var f=r(0),t=r(1),h=r(2),v=r(3),i=r(11);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y,g="PubMatic: ",b=void 0,o="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),A={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},E={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"},_={mimes:E.ARRAY,minduration:E.NUMBER,maxduration:E.NUMBER,startdelay:E.NUMBER,playbackmethod:E.ARRAY,api:E.ARRAY,protocols:E.ARRAY,w:E.NUMBER,h:E.NUMBER,battr:E.ARRAY,linearity:E.NUMBER,placement:E.NUMBER,minbitrate:E.NUMBER,maxbitrate:E.NUMBER},S={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},w=1,I=2,C=3,T=[{id:S.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:S.TITLE.ID,required:!0},{id:S.IMAGE.ID,required:!0}],c={1:"PMP",5:"PREF",6:"PMPG"},d={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var r,n=d.getRendererId("pubmatic",e.rendererCode),e=document.getElementById(e.adUnitCode),i=0;i<window.bluebillywig.renderers.length;i++)if(window.bluebillywig.renderers[i]._id===n){r=window.bluebillywig.renderers[i];break}r?r.bootstrap(t,e):f.logWarn("".concat(g,": Couldn't find a renderer with ").concat(n))}else f.logWarn("".concat(g,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var r=o.replace("$RENDERER",e),n=i.a.install({url:r,loaded:!1,adUnitCode:t});try{n.setRender(d.outstreamRender)}catch(e){f.logWarn("".concat(g,": Error tying to setRender on renderer"),e)}return n},outstreamRender:function(e){e.renderer.push(function(){d.bootstrapPlayer(e)})},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},P=0,u={},O={};function R(e,t){if(!f.isStr(t))return t&&f.logWarn(g+"Ignoring param key: "+e+", expects string-value, found "+m(t)),b;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map(function(e){return e.trim()}).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||b;case"yob":return parseInt(t)||b;default:return t}}function k(e){var t,r,n,i,o,a,s={},c={},d=e.hasOwnProperty("sizes")?e.sizes:[],u="",l=[],p=s={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:R("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:R("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?R("currency",e.params.currency):"USD"};if((n=e).params.deals&&(f.isArray(n.params.deals)?n.params.deals.forEach(function(e){f.isStr(e)&&3<e.length?(p.pmp||(p.pmp={private_auction:0,deals:[]}),p.pmp.deals.push({id:e})):f.logWarn(g+"Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+e)}):f.logWarn(g+"Error: bid.params.deals should be an array of strings.")),e.hasOwnProperty("mediaTypes"))for(u in e.mediaTypes)switch(u){case h.b:(t=function(e){var t,r=e.mediaTypes.banner.sizes,n=[];if(r!==b&&f.isArray(r)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===r.length)return t=b,f.logWarn(g+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(r[0][0],10),t.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}0<r.length&&(n=[],r.forEach(function(e){1<e.length&&n.push({w:e[0],h:e[1]})}),0<n.length&&(t.format=n)),t.pos=0,t.topframe=f.inIframe()?0:1}else f.logWarn(g+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=b;return t}(e))!==b&&(s.banner=t);break;case h.c:c.request=JSON.stringify(function(e){var t,r,n,i={assets:[]};for(n in e){if(e.hasOwnProperty(n)){var o={};if(!(i.assets&&0<i.assets.length&&i.assets.hasOwnProperty(n)))switch(n){case S.TITLE.KEY:e[n].len||e[n].length?o={id:S.TITLE.ID,required:e[n].required?1:0,title:{len:e[n].len||e[n].length,ext:e[n].ext}}:f.logWarn(g+"Error: Title Length is required for native ad: "+JSON.stringify(e));break;case S.IMAGE.KEY:e[n].sizes&&0<e[n].sizes.length?o={id:S.IMAGE.ID,required:e[n].required?1:0,img:{type:C,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:b),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:b),wmin:e[n].wmin||e[n].minimumWidth||(e[n].minsizes?e[n].minsizes[0]:b),hmin:e[n].hmin||e[n].minimumHeight||(e[n].minsizes?e[n].minsizes[1]:b),mimes:e[n].mimes,ext:e[n].ext}}:f.logWarn(g+"Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case S.ICON.KEY:e[n].sizes&&0<e[n].sizes.length?o={id:S.ICON.ID,required:e[n].required?1:0,img:{type:w,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:b),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:b)}}:f.logWarn(g+"Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case S.VIDEO.KEY:o={id:S.VIDEO.ID,required:e[n].required?1:0,video:{minduration:e[n].minduration,maxduration:e[n].maxduration,protocols:e[n].protocols,mimes:e[n].mimes,ext:e[n].ext}};break;case S.EXT.KEY:o={id:S.EXT.ID,required:e[n].required?1:0};break;case S.LOGO.KEY:o={id:S.LOGO.ID,required:e[n].required?1:0,img:{type:I,w:e[n].w||e[n].width||(e[n].sizes?e[n].sizes[0]:b),h:e[n].h||e[n].height||(e[n].sizes?e[n].sizes[1]:b)}};break;case S.SPONSOREDBY.KEY:case S.BODY.KEY:case S.RATING.KEY:case S.LIKES.KEY:case S.DOWNLOADS.KEY:case S.PRICE.KEY:case S.SALEPRICE.KEY:case S.PHONE.KEY:case S.ADDRESS.KEY:case S.DESC2.KEY:case S.DISPLAYURL.KEY:case S.CTA.KEY:r=(t=O[n]).KEY,o={id:t.ID,required:e[r].required?1:0,data:{type:t.TYPE,len:e[r].len,ext:e[r].ext}}}}o&&o.id&&(i.assets[i.assets.length]=o)}var a=T.length,s=0;return T.forEach(function(e){for(var t=i.assets.length,r=0;r<t;r++)if(e.id==i.assets[r].id){s++;break}}),y=a!=s,i}(e.nativeParams)),y?f.logWarn(g+"Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):s.native=c;break;case h.d:(r=function(e){var t,r=e.params.video;if(r!==b){for(var i in t={},_)r.hasOwnProperty(i)&&(t[i]=function(e,t){var r,n="Ignoring param key: "+i+", expects "+t+", found "+m(e);switch(t){case E.BOOLEAN:r=f.isBoolean;break;case E.NUMBER:r=f.isNumber;break;case E.STRING:r=f.isStr;break;case E.ARRAY:r=f.isArray}return r(e)?e:(f.logWarn(g+n),b)}(r[i],_[i]));f.isArray(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):f.isNumber(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10)),e.params.video.hasOwnProperty("skippable")&&(t.ext={video_skippable:e.params.video.skippable?1:0})}else t=b,f.logWarn(g+"Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}(e))!==b&&(s.video=r)}else t={pos:0,w:e.params.width,h:e.params.height,topframe:f.inIframe()?0:1},f.isArray(d)&&1<d.length&&((d=d.splice(1,d.length-1)).forEach(function(e){l.push({w:e[0],h:e[1]})}),t.format=l),s.banner=t;return i=s,a=-1,"function"!=typeof(o=e).getFloor||v.b.getConfig("pubmatic.disableFloors")||[h.b,h.d,h.c].forEach(function(e){i.hasOwnProperty(e)&&("object"!==m(e=o.getFloor({currency:i.bidfloorcur,mediaType:e,size:"*"}))||e.currency!==i.bidfloorcur||isNaN(parseInt(e.floor))||(e=parseFloat(e.floor),a=-1==a?e:Math.min(e,a)))}),i.bidfloor&&(a=Math.max(a,i.bidfloor)),i.bidfloor=!isNaN(a)&&0<a?a:b,s.hasOwnProperty(h.b)||s.hasOwnProperty(h.c)||s.hasOwnProperty(h.d)?s:b}f._each(S,function(e){u[e.ID]=e.KEY}),f._each(S,function(e){O[e.KEY]=e});var n={code:"pubmatic",gvlid:76,supportedMediaTypes:[h.b,h.d,h.c],isBidRequestValid:function(e){if(e&&e.params){if(!f.isStr(e.params.publisherId))return f.logWarn(g+"Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.params.hasOwnProperty("video")){if(!e.params.video.hasOwnProperty("mimes")||!f.isArray(e.params.video.mimes)||0===e.params.video.mimes.length)return f.logWarn(g+"Error: For video ads, mimes is mandatory and must specify atlease 1 mime value. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.hasOwnProperty("mediaTypes")||!e.mediaTypes.hasOwnProperty(h.d))return f.logError("".concat(g,": mediaTypes or mediaTypes.video is not specified. Rejecting bid: "),e),!1;if(!e.mediaTypes[h.d].hasOwnProperty("context"))return f.logError("".concat(g,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[h.d].context&&!f.isStr(e.params.outstreamAU))return f.logError("".concat(g,': for "outstream" bids outstreamAU is required. Rejecting bid: '),e),!1}return!0}return!1},buildRequests:function(e,t){t&&t.refererInfo&&(a=t.refererInfo);var r,n,i,o,a,s={pageURL:a&&a.referer?a.referer:window.location.href,refURL:window.document.referrer},c=(n=s,{id:""+(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:n.pageURL,ref:n.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}),d="",u=[],l=[];if(e.forEach(function(e){(r=f.deepClone(e)).params.adSlot=r.params.adSlot||"",function(e){e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,f.isStr(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):"");var t=(r=e.params.adSlot).split(":"),r=t[0];if(2==t.length&&(e.params.adUnitIndex=t[1]),t=r.split("@"),e.params.adUnit=t[0],1<t.length){if(2!=(t=t[1].split("x")).length)return f.logWarn(g+"AdSlot Error: adSlot not in required format");e.params.width=parseInt(t[0],10),e.params.height=parseInt(t[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(h.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var n=0,i=[];n<e.mediaTypes.banner.sizes.length;n++)2===e.mediaTypes.banner.sizes[n].length&&i.push(e.mediaTypes.banner.sizes[n]);e.mediaTypes.banner.sizes=i,1<=e.mediaTypes.banner.sizes.length&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(r),r.params.hasOwnProperty("video")||r.hasOwnProperty("mediaTypes")&&r.mediaTypes.hasOwnProperty(h.c)||0!==r.params.width||0!==r.params.height?(s.pubId=s.pubId||r.params.publisherId,(s=function(e,t){var r,n,i;for(r in t.kadpageurl||(t.kadpageurl=t.pageURL),A)A.hasOwnProperty(r)&&(n=e[r])&&("object"===m(i=A[r])&&(n=i.f(n,t)),f.isStr(n)?t[r]=n:f.logWarn(g+"Ignoring param : "+r+" with value : "+A[r]+", expects string-value, found "+m(n)));return t}(r.params,s)).transactionId=r.transactionId,""===d?d=r.params.currency||b:r.params.hasOwnProperty("currency")&&d!==r.params.currency&&f.logWarn(g+"Currency specifier ignored. Only one currency permitted."),r.params.currency=d,r.params.hasOwnProperty("dctr")&&f.isStr(r.params.dctr)&&u.push(r.params.dctr),r.params.hasOwnProperty("bcat")&&f.isArray(r.params.bcat)&&(l=l.concat(r.params.bcat)),(e=k(r))&&c.imp.push(e)):f.logWarn(g+"Skipping the non-standard adslot: ",r.params.adSlot,JSON.stringify(r))}),0!=c.imp.length)return c.site.publisher.id=s.pubId.trim(),P=s.pubId.trim(),c.ext.wrapper={},c.ext.wrapper.profile=parseInt(s.profId)||b,c.ext.wrapper.version=parseInt(s.verId)||b,c.ext.wrapper.wiid=s.wiid||t.auctionId,c.ext.wrapper.wv="prebid_prebid_4.22.0",c.ext.wrapper.transactionId=s.transactionId,c.ext.wrapper.wp="pbjs",c.user.gender=s.gender?s.gender.trim():b,c.user.geo={},c.user.geo.lat=R("lat",s.lat),c.user.geo.lon=R("lon",s.lon),c.user.yob=R("yob",s.yob),c.device.geo=c.user.geo,c.site.page=s.kadpageurl.trim()||c.site.page.trim(),c.site.domain=(i=c.site.page,(a=document.createElement("a")).href=i,a.hostname),"object"===m(v.b.getConfig("content"))&&(c.site.content=v.b.getConfig("content")),"object"===m(v.b.getConfig("device"))&&(c.device=p(c.device,v.b.getConfig("device"))),f.deepSetValue(c,"source.tid",s.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(c.test=1),e[0].schain&&f.deepSetValue(c,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(f.deepSetValue(c,"user.ext.consent",t.gdprConsent.consentString),f.deepSetValue(c,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&f.deepSetValue(c,"regs.ext.us_privacy",t.uspConsent),!0===v.b.getConfig("coppa")&&f.deepSetValue(c,"regs.coppa",1),n=c,i=e,o="",0<(a=u).length&&(i[0].params.hasOwnProperty("dctr")?(o=i[0].params.dctr,f.isStr(o)&&0<o.length?(i=o.split("|"),o="",i.forEach(function(e){o+=0<e.length?e.trim()+"|":""}),i=o.length,"|"===o.substring(i,i-1)&&(o=o.substring(0,i-1)),n.site.ext={key_val:o.trim()}):f.logWarn(g+"Ignoring param : dctr with value : "+o+", expects string-value, found empty or non-string value"),1<a.length&&f.logWarn(g+"dctr value found in more than 1 adunits. Value from 1st adunit will be picked. Ignoring values from subsequent adunits")):f.logWarn(g+"dctr value not found in 1st adunit, ignoring values from subsequent adunits")),a=c,e=f.deepAccess(e,"0.userIdAsEids"),f.isArray(e)&&0<e.length&&f.deepSetValue(a,"user.eids",e),a=c,0<(e=(e=l).filter(function(e){return"string"==typeof e||(f.logWarn(g+"bcat: Each category should be a string, ignoring category: "+e),!1)}).map(function(e){return e.trim()}).filter(function(e,t,r){return 3<e.length?r.indexOf(e)===t:void f.logWarn(g+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)})).length&&(f.logWarn(g+"bcat: Selected: ",e),a.bcat=e),"object"===m(v.b.getConfig("app"))&&(c.app=v.b.getConfig("app"),c.app.publisher=c.site.publisher,c.app.ext=c.site.ext||b,"object"!==m(c.app.content)&&(c.app.content=c.site.content||b),delete c.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(c),bidderRequest:t}},interpretResponse:function(e,n){var i=[],o="USD",a=JSON.parse(n.data),s=a.site&&a.site.ref?a.site.ref:"";try{e.body&&e.body.seatbid&&f.isArray(e.body.seatbid)&&(o=e.body.cur||o,e.body.seatbid.forEach(function(e){e.bid&&f.isArray(e.bid)&&e.bid.forEach(function(t){var r={requestId:t.impid,cpm:(parseFloat(t.price)||0).toFixed(2),width:t.w,height:t.h,creativeId:t.crid||t.id,dealId:t.dealid,currency:o,netRevenue:!1,ttl:300,referrer:s,ad:t.adm,pm_seat:e.seat||null,pm_dspid:t.ext&&t.ext.dspid?t.ext.dspid:null,partnerImpId:t.id||""};a.imp&&0<a.imp.length&&a.imp.forEach(function(e){if(t.impid===e.id)switch(function(e,t){var r,n=new RegExp(/VAST\s+version/);if(0<=e.indexOf('span class="PubAPIAd"'))t.mediaType=h.b;else if(n.test(e))t.mediaType=h.d;else try{(r=JSON.parse(e.replace(/\\/g,"")))&&r.native&&(t.mediaType=h.c)}catch(t){f.logWarn(g+"Error: Cannot parse native reponse for ad response: "+e)}}(t.adm,r),r.mediaType){case h.b:break;case h.d:r.width=(t.hasOwnProperty("w")?t:e.video).w,r.height=(t.hasOwnProperty("h")?t:e.video).h,r.vastXml=t.adm,function(e,t){var r,n,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var o=0;o<t.bidderRequest.bids.length;o++)t.bidderRequest.bids[o].bidId===e.requestId&&(r=t.bidderRequest.bids[o].params,n=t.bidderRequest.bids[o].mediaTypes[h.d].context,i=t.bidderRequest.bids[o].adUnitCode);n&&"outstream"===n&&r&&r.outstreamAU&&i&&(e.rendererCode=r.outstreamAU,e.renderer=d.newRenderer(e.rendererCode,i))}}(r,n);break;case h.c:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return f.logWarn(g+"Error: Cannot parse native reponse for ad response: "+t.adm)}if(r&&r.native&&r.native.assets&&0<r.native.assets.length){t.mediaType=h.c;for(var n=0,i=r.native.assets.length;n<i;n++)switch(r.native.assets[n].id){case S.TITLE.ID:t.native.title=r.native.assets[n].title&&r.native.assets[n].title.text;break;case S.IMAGE.ID:t.native.image={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case S.ICON.ID:t.native.icon={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case S.SPONSOREDBY.ID:case S.BODY.ID:case S.LIKES.ID:case S.DOWNLOADS.ID:case S.PRICE:case S.SALEPRICE.ID:case S.PHONE.ID:case S.ADDRESS.ID:case S.DESC2.ID:case S.CTA.ID:case S.RATING.ID:case S.DISPLAYURL.ID:t.native[u[r.native.assets[n].id]]=r.native.assets[n].data&&r.native.assets[n].data.value}t.native.clickUrl=r.native.link&&r.native.link.url,t.native.clickTrackers=r.native.link&&r.native.link.clicktrackers||[],t.native.impressionTrackers=r.native.imptrackers||[],t.native.jstracker=r.native.jstracker||[],t.width||(t.width=0),t.height||(t.height=0)}}}(t,r)}}),t.ext&&t.ext.deal_channel&&(r.dealChannel=c[t.ext.deal_channel]||null),r.meta={},t.ext&&t.ext.dspid&&(r.meta.networkId=t.ext.dspid),t.ext&&t.ext.advid&&(r.meta.buyerId=t.ext.advid),t.adomain&&0<t.adomain.length&&(r.meta.advertiserDomains=t.adomain,r.meta.clickUrl=t.adomain[0]),e.ext&&e.ext.buyid&&(r.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),i.push(r)})}))}catch(e){f.logError(e)}return i},getUserSyncs:function(e,t,r,n){var i=""+P;return r&&(i+="&gdpr="+(r.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),n&&(i+="&us_privacy="+encodeURIComponent(n)),!0===v.b.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/showad.js#PIX&kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e){return f.convertTypes({publisherId:"string",adSlot:"string"},e)}};Object(t.registerBidder)(n)}},[680]),shpbjsChunk([140],{728:function(e,t,r){e.exports=r(729)},729:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return i});var n=r(1),o=r(3),t=r(2),a=r(0),s=r(11),c="",i={code:"richaudience",gvlid:108,aliases:["ra"],supportedMediaTypes:[t.b,t.d],isBidRequestValid:function(e){return!!(e.params&&e.params.pid&&e.params.supplyType)},buildRequests:function(e,i){return e.map(function(t){var e,r,n,e={bidfloor:t.params.bidfloor,ifa:t.params.ifa,pid:t.params.pid,supplyType:t.params.supplyType,currencyCode:o.b.getConfig("currency.adServerCurrency"),auctionId:t.auctionId,bidId:t.bidId,BidRequestsCount:t.bidRequestsCount,bidder:t.bidder,bidderRequestId:t.bidderRequestId,tagId:t.adUnitCode,sizes:function(){var e;if(t.mediaTypes&&t.mediaTypes.banner&&t.mediaTypes.banner.sizes&&(e=t.mediaTypes.banner.sizes),null!=e)return e.map(function(e){return{w:e[0],h:e[1]}})}(),referer:void 0!==i.refererInfo.referer?encodeURIComponent(i.refererInfo.referer):null,numIframes:void 0!==i.refererInfo.numIframes?i.refererInfo.numIframes:null,transactionId:t.transactionId,timeout:o.b.getConfig("bidderTimeout"),user:(n=[],(r=t)&&r.userId&&(u(0,n,"id5-sync.com",a.deepAccess(r,"userId.id5id.uid")),u(0,n,"pubcommon",a.deepAccess(r,"userId.pubcid")),u(0,n,"criteo.com",a.deepAccess(r,"userId.criteoId")),u(0,n,"liveramp.com",a.deepAccess(r,"userId.idl_env")),u(0,n,"liveintent.com",a.deepAccess(r,"userId.lipb.lipbid")),u(0,n,"adserver.org",a.deepAccess(r,"userId.tdid"))),n),demand:d(t),videoData:("video"==d(t)&&(e={format:t.mediaTypes.video.context,playerSize:t.mediaTypes.video.playerSize,mimes:t.mediaTypes.video.mimes}),e)};return c=void 0!==i.refererInfo.referer?encodeURIComponent(i.refererInfo.referer):null,e.gdpr_consent="",e.gdpr=null,i&&i.gdprConsent&&(e.gdpr_consent=i.gdprConsent.consentString,e.gdpr=i.gdprConsent.gdprApplies),{method:"POST",url:"https://shb.richaudience.com/hb/",data:JSON.stringify(e)}})},interpretResponse:function(e,t){var r=[],n=e.body;if(n){var i={requestId:JSON.parse(t.data).bidId,cpm:n.cpm,width:n.width,height:n.height,creativeId:n.creative_id,mediaType:n.media_type,netRevenue:n.netRevenue,currency:n.currency,ttl:n.ttl,dealId:n.dealId};if("video"===n.media_type){i.vastXml=n.vastXML;try{"outstream"==JSON.parse(t.data).videoData.format&&(i.renderer=s.a.install({url:"https://cdn3.richaudience.com/prebidVideo/player.js"}),i.renderer.setRender(l))}catch(e){i.ad=n.adm}}else i.ad=n.adm;r.push(i)}return r},getUserSyncs:function(e,t,r){var n=[],i=Math.floor(9999999999*Math.random()),o="",a="";return r&&"string"==typeof r.consentString&&void 0!==r.consentString&&(a="consentString=".concat(r.consentString)),e.iframeEnabled&&(o="https://sync.richaudience.com/dcf3528a0b8aa83634892d50e91c306e/?ord="+i,""!=a&&(o+="&".concat(a)),n.push({type:"iframe",url:o})),e.pixelEnabled&&null!=c&&0==n.length&&(o="https://sync.richaudience.com/bf7c142f4339da0278e83698a02b0854/?referrer=".concat(c),""!=a&&(o+="&".concat(a)),n.push({type:"image",url:o})),n}};function d(e){var t="display";return null!=e.mediaTypes&&null!=e.mediaTypes.video&&(t="video"),t}function u(e,t,r,n){a.isStr(n)&&t.push({userId:n,source:r})}function l(r){r.renderer.push(function(){var e="".concat((t=r).vastXml),t={config:null!=t.params[0].player?{end:null!=t.params[0].player.end?t.params[0].player.end:"close",init:null!=t.params[0].player.init?t.params[0].player.init:"close",skin:null!=t.params[0].player.skin?t.params[0].player.skin:"light"}:{end:"close",init:"close",skin:"light"},pid:t.params[0].pid,adUnit:t.adUnitCode};window.raParams(t,e,!0)})}Object(n.registerBidder)(i)}},[728]),shpbjsChunk([133],{748:function(e,t,r){e.exports=r(749)},749:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return b}),t.hasVideoMediaType=a,r.d(t,"resetRubiConf",function(){return s}),t.masSizeOrdering=c,t.determineRubiconVideoSizeId=S,t.getPriceGranularity=w,t.hasValidVideoParams=I,t.hasValidSupplyChainParams=C,t.encodeParam=T,t.resetUserSync=function(){P=!1};var l=r(0),n=r(1),p=r(3),d=r(2),t=r(10),u=r.n(t);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y={};p.b.getConfig("rubicon",function(e){l.mergeDeep(y,e.rubicon)});var g={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000"};l._each(g,function(e,t){return g[e]=t});var b={code:"rubicon",gvlid:52,supportedMediaTypes:[d.b,d.d],isBidRequestValid:function(e){if("object"!==m(e.params))return!1;for(var t=0,r=["accountId","siteId","zoneId"];t<r.length;t++)if(e.params[r[t]]=parseInt(e.params[r[t]]),isNaN(e.params[r[t]]))return l.logError("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var n=_(e,!0);return!!n&&("video"!==n||I(e))},buildRequests:function(e,u){var n,t=e.filter(function(e){return"video"===_(e)}).map(function(r){r.startTime=(new Date).getTime();var e,t,n,i,o,a={id:r.transactionId,test:p.b.getConfig("debug")?1:0,cur:["USD"],source:{tid:r.transactionId},tmax:u.timeout,imp:[{exp:p.b.getConfig("s2sConfig.defaultTtl"),id:r.adUnitCode,secure:1,ext:v({},r.bidder,r.params),video:l.deepAccess(r,"mediaTypes.video")||{}}],ext:{prebid:{cache:{vastxml:{returnCreative:!0===y.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:w(p.b)},bidders:{rubicon:{integration:y.int_type||"pbjs"}}}}};if("rubicon"!==r.bidder&&(a.ext.prebid.aliases=v({},r.bidder,"rubicon")),"function"!=typeof r.getFloor||y.disableFloors)e=parseFloat(l.deepAccess(r,"params.floor"));else{try{t=r.getFloor({currency:"USD",mediaType:"video",size:E(r,"video")})}catch(e){l.logError("Rubicon: getFloor threw an error: ",e)}e="object"!==m(t)||"USD"!==t.currency||isNaN(parseInt(t.floor))?void 0:parseFloat(t.floor)}isNaN(e)||(a.imp[0].bidfloor=e),a.imp[0].ext[r.bidder].video.size_id=S(r),i=r,o=u,(n=a)&&("object"===m(p.b.getConfig("app"))?n.app=p.b.getConfig("app"):n.site={page:A(i,o)},"object"===m(p.b.getConfig("device"))&&(n.device=p.b.getConfig("device")),i.params.video.language&&["site","device"].forEach(function(e){n[e]&&(n[e].content=h({language:i.params.video.language},n[e].content))})),s=r,"object"===m((o=a).imp[0].video)&&void 0===o.imp[0].video.skip&&(o.imp[0].video.skip=s.params.video.skip),"object"===m(o.imp[0].video)&&void 0===o.imp[0].video.skipafter&&(o.imp[0].video.skipafter=s.params.video.skipdelay),"object"===m(o.imp[0].video)&&void 0===o.imp[0].video.pos&&("atf"===s.params.position?o.imp[0].video.pos=1:"btf"===s.params.position&&(o.imp[0].video.pos=3)),s=E(s,"video"),o.imp[0].video.w=s[0],o.imp[0].video.h=s[1],u.gdprConsent&&("boolean"==typeof u.gdprConsent.gdprApplies&&(c=u.gdprConsent.gdprApplies?1:0),l.deepSetValue(a,"regs.ext.gdpr",c),l.deepSetValue(a,"user.ext.consent",u.gdprConsent.consentString)),u.uspConsent&&l.deepSetValue(a,"regs.ext.us_privacy",u.uspConsent);var s=l.deepAccess(u,"bids.0.userIdAsEids");s&&s.length&&l.deepSetValue(a,"user.ext.eids",s);var c=p.b.getConfig("user.id");c&&l.deepSetValue(a,"user.id",c),!0===p.b.getConfig("coppa")&&l.deepSetValue(a,"regs.coppa",1),r.schain&&C(r.schain)&&l.deepSetValue(a,"source.ext.schain",r.schain);s=h({},r.params.inventory,p.b.getConfig("fpd.context")),c=h({},r.params.visitor,p.b.getConfig("fpd.user"));l.isEmpty(s)&&l.isEmpty(c)||(d={bidders:[u.bidderCode],config:{fpd:{}}},l.isEmpty(s)||(d.config.fpd.site=s),l.isEmpty(c)||(d.config.fpd.user=c),l.deepSetValue(a,"ext.prebid.bidderconfig.0",d));var d=l.deepAccess(r,"fpd.context.pbAdSlot");return"string"==typeof d&&d&&l.deepSetValue(a.imp[0].ext,"context.data.pbadslot",d),["name","adSlot"].forEach(function(e){var t=l.deepAccess(r,"fpd.context.adserver.".concat(e));"string"==typeof t&&t&&l.deepSetValue(a.imp[0].ext,"context.data.adserver.".concat(e.toLowerCase()),t)}),r.storedAuctionResponse&&l.deepSetValue(a.imp[0],"ext.prebid.storedauctionresponse.id",r.storedAuctionResponse.toString()),l.deepSetValue(a.imp[0],"ext.prebid.auctiontimestamp",u.auctionStart),{method:"POST",url:"https://".concat(y.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:a,bidRequest:r}});return!0!==y.singleRequest?t.concat(e.filter(function(e){return"banner"===_(e)}).map(function(e){var n=b.createSlotParams(e,u);return{method:"GET",url:"https://".concat(y.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:b.getOrderedParams(n).reduce(function(e,t){var r=n[t];return l.isStr(r)&&""!==r||l.isNumber(r)?"".concat(e).concat(T(t,r),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})):(n=e.filter(function(e){return"banner"===_(e)}).reduce(function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e},{}),t.concat(Object.keys(n).reduce(function(t,e){var r=n[e];return r.map(function(e,t){return t%10==0?r.slice(t,t+10):null}).filter(function(e){return e}).forEach(function(e){var n=b.combineSlotUrlParams(e.map(function(e){return b.createSlotParams(e,u)}));t.push({method:"GET",url:"https://".concat(y.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:b.getOrderedParams(n).reduce(function(e,t){var r=n[t];return l.isStr(r)&&""!==r||l.isNumber(r)?"".concat(e).concat(T(t,r),"&"):e},"")+"slots=".concat(e.length,"&rand=").concat(Math.random()),bidRequest:e})}),t},[])))},getOrderedParams:function(e){var t=/^tg_v/,r=/^tg_i/,n=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter(function(e){return n.test(e)})).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return r.test(e)})).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter(function(e){return-1===i.indexOf(e)}))},combineSlotUrlParams:function(i){if(1===i.length)return i[0];var n=i.reduce(function(t,r,n){return Object.keys(r).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(i.length)),t[e].splice(n,1,r[e])}),t},{}),o=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(n).forEach(function(e){var t=n[e].join(";"),r=t.match(o);n[e]=r?r[1]:t}),n},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var r,n=e.params,i=E(e,"banner"),o=f(n.latLong||[],2),a=o[0],o=o[1],s={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:i[0],alt_size_ids:i.slice(1).join(",")||void 0,rp_floor:.01<=(n.floor=parseFloat(n.floor))?n.floor:void 0,rp_secure:"1",tk_flint:"".concat(y.int_type||"pbjs_lite","_v4.22.0"),"x_source.tid":e.transactionId,"x_source.pchain":n.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(a))?void 0:parseFloat(a).toFixed(4),"p_geo.longitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"tg_fl.eid":e.code,rf:A(e,t)};if("function"==typeof e.getFloor&&!y.disableFloors){try{r=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){l.logError("Rubicon: getFloor threw an error: ",e)}s.rp_hard_floor="object"!==m(r)||"USD"!==r.currency||isNaN(parseInt(r.floor))?void 0:r.floor}s.p_pos="atf"===n.position||"btf"===n.position?n.position:"";o=p.b.getConfig("user.id");o&&(s.ppuid=o),e.userIdAsEids&&e.userIdAsEids.forEach(function(e){try{var t;"adserver.org"===e.source?(s.tpid_tdid=e.uids[0].id,s["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(s["tpid_liveintent.com"]=e.uids[0].id,s["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(s["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?s.x_liverampidl=e.uids[0].id:"sharedid.org"===e.source?s["eid_sharedid.org"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.third||""):"id5-sync.com"===e.source?s["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.ext&&e.ext.linkType||""):s["eid_".concat(e.source)]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype||""),s.ppuid||(t=u()(e.uids,function(e){return e.ext&&"ppuid"===e.ext.stype}))&&t.id&&(s.ppuid=t.id)}catch(t){l.logWarn("Rubicon: error reading eid:",e,t)}}),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(s.gdpr=Number(t.gdprConsent.gdprApplies)),s.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(s.us_privacy=encodeURIComponent(t.uspConsent));var c=h({},n.visitor,p.b.getConfig("fpd.user"));Object.keys(c).forEach(function(e){null!=c[e]&&"keywords"!==e&&(s["tg_v.".concat(e)]="object"!==m(c[e])||Array.isArray(c[e])?c[e].toString():JSON.stringify(c[e]))});var d=h({},n.inventory,p.b.getConfig("fpd.context"));Object.keys(d).forEach(function(e){null!=d[e]&&"keywords"!==e&&(s["tg_i.".concat(e)]="object"!==m(d[e])||Array.isArray(d[e])?d[e].toString():JSON.stringify(d[e]))});n=(n.keywords||[]).concat(l.deepAccess(p.b.getConfig("fpd.user"),"keywords")||[],l.deepAccess(p.b.getConfig("fpd.context"),"keywords")||[]);s.kw=Array.isArray(n)&&n.length?n.join(","):"";n=l.deepAccess(e,"fpd.context.pbAdSlot");"string"==typeof n&&n&&(s["tg_i.pbadslot"]=n.replace(/^\/+/,""));n=l.deepAccess(e,"fpd.context.adServer.adSlot");return"string"==typeof n&&n&&(s["tg_i.dfp_ad_unit_code"]=n.replace(/^\/+/,"")),!0===p.b.getConfig("coppa")&&(s.coppa=1),e.schain&&C(e.schain)&&(s.rp_schain=b.serializeSupplyChain(e.schain)),s},serializeSupplyChain:function(e){if(!C(e))return"";var t=e.ver,r=e.complete,e=e.nodes;return"".concat(t,",").concat(r,"!").concat(b.serializeSupplyChainNodes(e))},serializeSupplyChainNodes:function(e){var r=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return r.map(function(e){return encodeURIComponent(t[e]||"")}).join(",")}).join("!")},interpretResponse:function(s,e){var c=e.bidRequest;if(!(s=s.body)||"object"!==m(s))return[];if(s.seatbid){var t=l.deepAccess(s,"ext.errors.rubicon");Array.isArray(t)&&0<t.length&&l.logWarn("Rubicon: Error in video response");var i=[];return s.seatbid.forEach(function(n){(n.bid||[]).forEach(function(e){var t={requestId:c.bidId,currency:s.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:n.seat,ttl:300,netRevenue:!1!==y.netRevenue,width:e.w||l.deepAccess(c,"mediaTypes.video.w")||l.deepAccess(c,"params.video.playerWidth"),height:e.h||l.deepAccess(c,"mediaTypes.video.h")||l.deepAccess(c,"params.video.playerHeight")};e.id&&(t.seatBidId=e.id),e.dealid&&(t.dealId=e.dealid),e.adomain&&l.deepSetValue(t,"meta.advertiserDomains",Array.isArray(e.adomain)?e.adomain:[e.adomain]),l.deepAccess(e,"ext.bidder.rp.advid")&&l.deepSetValue(t,"meta.advertiserId",e.ext.bidder.rp.advid);var r=l.deepAccess(s,"ext.responsetimemillis.rubicon");c&&r&&(c.serverResponseTimeMs=r),l.deepAccess(e,"ext.prebid.type")===d.d?(t.mediaType=d.d,l.deepSetValue(t,"meta.mediaType",d.d),(r=l.deepAccess(e,"ext.prebid.targeting"))&&"object"===m(r)&&(t.adserverTargeting=r),e.ext.prebid.cache&&"object"===m(e.ext.prebid.cache.vastXml)&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(t.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,t.vastUrl=e.ext.prebid.cache.vastXml.url):r&&r.hb_uuid&&r.hb_cache_host&&r.hb_cache_path&&(t.videoCacheKey=r.hb_uuid,t.vastUrl="https://".concat(r.hb_cache_host).concat(r.hb_cache_path,"?uuid=").concat(r.hb_uuid)),e.adm&&(t.vastXml=e.adm),e.nurl&&(t.vastUrl=e.nurl),!t.vastUrl&&e.nurl&&(t.vastUrl=e.nurl)):l.logWarn("Rubicon: video response received non-video media type"),i.push(t)})}),i}t=s.ads;return"object"!==m(c)||Array.isArray(c)||"video"!==_(c)||"object"!==m(t)||(t=t[c.adUnitCode]),!Array.isArray(t)||t.length<1?[]:t.reduce(function(e,t,r){if("ok"!==t.status)return e;var n,i,o,a=Array.isArray(c)?c[r]:c;return a&&"object"===m(a)?(n={requestId:a.bidId,currency:"USD",creativeId:t.creative_id||"".concat(t.network||"","-").concat(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==y.netRevenue,rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network,mediaType:d.b}},t.creative_type&&(n.mediaType=t.creative_type),t.adomain&&(n.meta.advertiserDomains=Array.isArray(t.adomain)?t.adomain:[t.adomain]),t.creative_type===d.d?(n.width=a.params.video.playerWidth,n.height=a.params.video.playerHeight,n.vastUrl=t.creative_depot_url,n.impression_id=t.impression_id,n.videoCacheKey=t.impression_id):(n.ad=(i=t.script,o=t.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(o,"'>\n<script type='text/javascript'>").concat(i,"<\/script>\n</div>\n</body>\n</html>")),i=f(g[t.size_id].split("x").map(function(e){return Number(e)}),2),n.width=i[0],n.height=i[1]),n.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce(function(e,t){return e[t.key]=t.values[0],e},{rpfl_elemid:a.adUnitCode}),e.push(n)):l.logError("Rubicon: bidRequest undefined at index position:".concat(r),c,s),e},[]).sort(function(e,t){return(t.cpm||0)-(e.cpm||0)})},getUserSyncs:function(e,t,r,n){if(!P&&e.iframeEnabled){e="";return r&&"string"==typeof r.consentString&&("boolean"==typeof r.gdprApplies?e+="?gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent=").concat(r.consentString):e+="?gdpr_consent=".concat(r.consentString)),n&&(e+="".concat(e?"&":"?","us_privacy=").concat(encodeURIComponent(n))),P=!0,{type:"iframe",url:"https://".concat(y.syncHost||"eus",".rubiconproject.com/usync.html")+e}}},transformBidParams:function(e){return l.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};function A(e,t){var r=p.b.getConfig("pageUrl"),r=e.params.referrer||r||t.refererInfo.referer;return e.params.secure?r.replace(/^http:/i,"https:"):r}function E(e,t){var r=e.params;if("video"===t){var n=[];return r.video&&r.video.playerWidth&&r.video.playerHeight?n=[r.video.playerWidth,r.video.playerHeight]:Array.isArray(l.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?n=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(n=e.sizes[0]),n}n=[];return Array.isArray(r.sizes)?n=r.sizes:void 0!==l.deepAccess(e,"mediaTypes.banner.sizes")?n=o(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?n=o(e.sizes):l.logWarn("Rubicon: no sizes are setup or found"),c(n)}function o(e){return l.parseSizesInput(e).reduce(function(e,t){t=parseInt(g[t],10);return t&&e.push(t),e},[])}function a(e){return"object"===m(l.deepAccess(e,"params.video"))&&void 0!==l.deepAccess(e,"mediaTypes.".concat(d.d))}function _(e,t){t=1<arguments.length&&void 0!==t&&t;return a(e)?-1===["outstream","instream"].indexOf(l.deepAccess(e,"mediaTypes.".concat(d.d,".context")))?void(t&&l.logError("Rubicon: mediaTypes.video.context must be outstream or instream")):E(e,"video").length<2?void(t&&l.logError("Rubicon: could not determine the playerSize of the video")):(t&&l.logMessage("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===E(e,"banner").length?void(t&&l.logError("Rubicon: could not determine the sizes for banner request")):(t&&l.logMessage("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}var s=function(){return y={}};function c(e){var i=[15,2,9];return e.sort(function(e,t){var r=i.indexOf(e),n=i.indexOf(t);return-1<r||-1<n?-1===r?1:-1===n?-1:r-n:e-t})}function S(e){var t=parseInt(l.deepAccess(e,"params.video.size_id"));return isNaN(t)?"outstream"===l.deepAccess(e,"mediaTypes.".concat(d.d,".context"))?203:201:t}function w(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}function I(t){var r=!0,e=Object.prototype.toString.call([]),n=Object.prototype.toString.call(0),i={mimes:e,protocols:e,maxduration:n,linearity:n,api:e};return Object.keys(i).forEach(function(e){Object.prototype.toString.call(l.deepAccess(t,"mediaTypes.video."+e))!==i[e]&&(r=!1,l.logError("Rubicon: mediaTypes.video."+e+" is required and must be of type: "+i[e]))}),r}function C(e){var t=!1,r=["asi","sid","hp"];return e.nodes&&((t=e.nodes.reduce(function(e,t){return e&&r.every(function(e){return t.hasOwnProperty(e)})},!0))||l.logError("Rubicon: required schain params missing")),t}function T(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var P=!1;Object(n.registerBidder)(b)}},[748]),shpbjsChunk([130],{756:function(e,t,r){e.exports=r(757)},757:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSchainObjectValid=f,t.isValidSchainConfig=h,t.makeBidRequestsHook=v,t.init=m;var n=r(3),i=r(8),a=r(0),s="Invalid schain object found: ",o=" should be a string",c=" should be an Integer",d=" should be an object",u=" should be an Array",l={STRICT:"strict",RELAXED:"relaxed",OFF:"off"},p=[];function f(e,t){var r="";function n(e){r+="\n"+e}function i(){(!0===t?Object(a.logError):Object(a.logWarn))("Detected something wrong within an schain config:",e,r)}if(!Object(a.isPlainObject)(e)&&(n("schain.config"+d),i(),t))return!1;if(Object(a.isNumber)(e.complete)&&Object(a.isInteger)(e.complete)||n("schain.config.complete"+c),Object(a.isStr)(e.ver)||n("schain.config.ver"+o),Object(a.hasOwn)(e,"ext")&&(Object(a.isPlainObject)(e.ext)||n("schain.config.ext"+d)),Object(a.isArray)(e.nodes))e.nodes.forEach(function(e,t){Object(a.isStr)(e.asi)||n("schain.config.nodes[".concat(t,"].asi")+o),Object(a.isStr)(e.sid)||n("schain.config.nodes[".concat(t,"].sid")+o),Object(a.isNumber)(e.hp)&&Object(a.isInteger)(e.hp)||n("schain.config.nodes[".concat(t,"].hp")+c),Object(a.hasOwn)(e,"rid")&&(Object(a.isStr)(e.rid)||n("schain.config.nodes[".concat(t,"].rid")+o)),Object(a.hasOwn)(e,"name")&&(Object(a.isStr)(e.name)||n("schain.config.nodes[".concat(t,"].name")+o)),Object(a.hasOwn)(e,"domain")&&(Object(a.isStr)(e.domain)||n("schain.config.nodes[".concat(t,"].domain")+o)),Object(a.hasOwn)(e,"ext")&&(Object(a.isPlainObject)(e.ext)||n("schain.config.nodes[".concat(t,"].ext")+d))});else if(n("schain.config.nodes"+u),i(),t)return!1;return!(0<r.length&&(i(),t))}function h(e){return!(void 0===e||!Object(a.isPlainObject)(e)&&(Object(a.logError)(s+"the following schain config will not be used as schain is not an object.",e),1))}function v(e,t){var i=n.b.getConfig("schain"),o=n.b.getBidderConfig();t.forEach(function(e){var r=e.bidderCode,n=o[r]&&o[r].schain||i;e.bids.forEach(function(e){var t=function(e,t){var r=l.STRICT;if(h(e)){if(Object(a.isStr)(e.validation)&&-1!=p.indexOf(e.validation)&&(r=e.validation),r===l.OFF)return e.config;if(f(e.config,!(r!==l.STRICT)))return e.config;Object(a.logError)(s+"due to the 'strict' validation setting, this schain config will not be passed to bidder '".concat(t,"'.  See above error for details."))}return null}(n,r);t&&(e.schain=t)})}),e(t)}function m(){i.default.makeBidRequests.after(v)}Object(a._each)(l,function(e){return p.push(e)}),m()}},[756]),shpbjsChunk([123],{772:function(e,t,r){e.exports=r(773)},773:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return c});var l=r(0),p=r(3),f=r(11),t=r(1),h=r(2),i=r(40),n="https://static.showheroes.com/publishertag.js",o="https://pubtag.stage.showheroes.com/publishertag.js",a="https://video-library.showheroes.com",s="https://video-library.stage.showheroes.com",v="showheroes-bs";function m(e){return{pubTag:e?o:n,vlHost:e?s:a}}var c={code:v,aliases:["showheroesBs"],supportedMediaTypes:[h.d,h.b],isBidRequestValid:function(e){return!!e.params.playerId},buildRequests:function(e,a){var n=[],t=e[0].params.contentPageUrl||a.refererInfo.referer,r=!!e[0].params.stage,i="outstream"===l.deepAccess(e[0],"mediaTypes.video.context"),o=l.deepAccess(e[0],"params.outstreamOptions.customRender"),s=l.deepAccess(e[0],"params.outstreamOptions.slot")||l.deepAccess(e[0],"params.outstreamOptions.iframe"),c=l.deepAccess(e[0],"renderer"),d=l.deepAccess(e[0],"params.outstreamOptions"),s=!!e[0].mediaTypes.banner||i&&!(o||c||s),u=e[0].schain||{};return e.forEach(function(i){function t(e,t){var r="",n=2;return e===h.b?n=5:(r=l.deepAccess(i,"mediaTypes.video.context"),o&&"instream"===r&&(n=1),"outstream"===r&&(n=5)),{type:n,bidId:i.bidId,mediaType:e,context:r,playerId:l.getBidIdParameter("playerId",i.params),auctionId:a.auctionId,bidderCode:v,gdprConsent:a.gdprConsent,start:+new Date,timeout:3e3,size:{width:t[0],height:t[1]},params:i.params,schain:i.schain||u}}var e=g(l.deepAccess(i,"mediaTypes.video.playerSize")||[]),r=g(l.deepAccess(i,"mediaTypes.banner.sizes")||[]),o=l.getBidIdParameter("vpaidMode",i.params);e.forEach(function(e){n.push(t(h.d,e))}),r.forEach(function(e){n.push(t(h.b,e))})}),{url:r?"https://bid-service.stage.showheroes.com/api/v1/bid":"https://bs.showheroes.com/api/v1/bid",method:"POST",options:{contentType:"application/json",accept:"application/json"},data:{user:[],meta:{adapterVersion:2,pageURL:encodeURIComponent(t),vastCacheEnabled:!!p.b.getConfig("cache")&&!s&&!d||!1,isDesktop:700<l.getWindowTop().document.documentElement.clientWidth,xmlAndTag:!(!i||!o)||!1,stage:r||void 0},requests:n,debug:e[0].params.debug||!1}}},interpretResponse:function(e,t){return function(e,c){if(e&&(!Array.isArray(e.bids)||e.bids.length<1))return[];var d=[],u={};return(c.requests||[]).forEach(function(e){u[e.bidId]=e}),e.bids.forEach(function(e){var t,r,n,i,o=u[e.bidId],a=o.params,s={};s.cpm=e.cpm,s.requestId=e.bidId,s.currency=e.currency,s.mediaType=e.mediaType||h.d,s.ttl=300,s.creativeId="c_"+e.bidId,s.netRevenue=!0,s.width=e.size.width,s.height=e.size.height,e.vastXml&&(s.vastXml=e.vastXml,s.adResponse={content:e.vastXml}),e.vastTag&&(s.vastUrl=e.vastTag),e.mediaType===h.b?s.ad=(t=e,r=o,i=m(!!(n=c).meta.stage),'<html>\n    <head></head>\n    <body>\n      <script async src="'.concat(i.pubTag,'"\n              data-canvas=""\n              data-noad-passback-listener=""\n              onload="window.ShowheroesTag=this"\n              data-player-host="').concat(i.vlHost,'"><\/script>\n      <div class="showheroes-spot"\n            data-debug="').concat(n.debug?"1":"",'"\n            data-player="').concat(r.playerId,'"\n            data-ad-vast-tag="').concat(t.vastTag,'"></div>\n    </body>\n  </html>')):"outstream"===e.context&&((a=f.a.install({id:e.bidId,url:"//",config:{playerId:o.playerId,width:e.size.width,height:e.size.height,vastUrl:e.vastTag,vastXml:e.vastXml,debug:c.debug,isStage:!!c.meta.stage,customRender:l.getBidIdParameter("customRender",a.outstreamOptions),slot:l.getBidIdParameter("slot",a.outstreamOptions),iframe:l.getBidIdParameter("iframe",a.outstreamOptions)}})).setRender(y),s.renderer=a),d.push(s)}),d}(e.body,t.data)},getUserSyncs:function(e,t){var r=[];if(!t.length||!t[0].body.userSync)return r;t=t[0].body.userSync;return e.iframeEnabled&&(t.iframes||[]).forEach(function(e){r.push({type:"iframe",url:e})}),e.pixelEnabled&&(t.pixels||[]).forEach(function(e){r.push({type:"image",url:e})}),r}};function y(e){var t=function(e){var t=m(l.getBidIdParameter("isStage",e.renderer.config)),r=window.document.createDocumentFragment(),n=Object(i.a)(t.pubTag,"outstream",function(){window.ShowheroesTag=this});n.setAttribute("data-player-host",t.vlHost);t=window.document.createElement("div");return t.setAttribute("class","showheroes-spot"),t.setAttribute("data-player",l.getBidIdParameter("playerId",e.renderer.config)),t.setAttribute("data-debug",l.getBidIdParameter("debug",e.renderer.config)),t.setAttribute("data-ad-vast-tag",l.getBidIdParameter("vastUrl",e.renderer.config)),t.setAttribute("data-stream-type","outstream"),r.appendChild(t),r.appendChild(n),r}(e);if("function"==typeof e.renderer.config.customRender)e.renderer.config.customRender(e,t);else try{var r,n=l.getBidIdParameter("iframe",e.renderer.config);n&&"IFRAME"===window.document.getElementById(n).nodeName?((r=window.document.getElementById(n)).contentDocument||r.contentWindow&&r.contentWindow.document).body.appendChild(t):(r=l.getBidIdParameter("slot",e.renderer.config)||e.adUnitCode)&&window.document.getElementById(r)?window.document.getElementById(r).appendChild(t):r&&l.logError("[ShowHeroes][renderer] Error: spot not found")}catch(e){l.logError("[ShowHeroes][renderer] Error:"+e.message)}}function g(e){return e&&e.length?Array.isArray(e[0])?e:[e]:[]}Object(t.registerBidder)(c)}},[772]),shpbjsChunk([14],{19:function(e,t,r){"use strict";t.a=function(e){var o,t,r=[];for(o in e)e.hasOwnProperty(o)&&("pubProvidedId"===o?r=r.concat(e.pubProvidedId):(t=function(e){var t=s[o];if(t&&e){var r={};r.source=t.source;var n=a.isFn(t.getValue)?t.getValue(e):e;if(a.isStr(n)){var i={id:n,atype:t.atype};return!a.isFn(t.getUidExt)||(n=t.getUidExt(e))&&(i.ext=n),r.uids=[i],!a.isFn(t.getEidExt)||(e=t.getEidExt(e))&&(r.ext=e),r}}return null}(e[o]))&&r.push(t));return r};var a=r(0),s={intentIqId:{source:"intentiq.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getEidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid||(e.ccpaOptout?"":null)},getUidExt:function(e){e=a.pick(e,["ibaOptout","ccpaOptout"]);if(Object.keys(e).length)return e}},idl_env:{source:"liveramp.com",atype:1},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:1,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:1},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:1},netId:{source:"netid.de",atype:1},sharedid:{source:"sharedid.org",atype:1,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.third?{third:e.third}:void 0}},IDP:{source:"zeotap.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:1},fabrickId:{source:"neustar.biz",atype:1}}},782:function(e,t,r){e.exports=r(783)},783:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return d});var a=r(0),s=r(2),o=r(3),t=r(1),c=r(19),d={code:"smartadserver",gvlid:45,aliases:["smart"],supportedMediaTypes:[s.b,s.d],isBidRequestValid:function(e){return!!(e.params&&e.params.siteId&&e.params.pageId&&e.params.formatId)},serializeSupplyChain:function(e){if(!e||!e.nodes)return null;var r=["asi","sid","hp","rid","name","domain"];return"".concat(e.ver,",").concat(e.complete,"!")+e.nodes.map(function(t){return r.map(function(e){return t[e]?encodeURIComponent(t[e]):""}).join(",")}).join("!")},buildRequests:function(e,i){return e.map(function(e){var t={siteid:e.params.siteId,pageid:e.params.pageId,formatid:e.params.formatId,currencyCode:o.b.getConfig("currency.adServerCurrency"),bidfloor:e.params.bidfloor||0,targeting:e.params.target&&""!==e.params.target?e.params.target:void 0,buid:e.params.buId&&""!==e.params.buId?e.params.buId:void 0,appname:e.params.appName&&""!==e.params.appName?e.params.appName:void 0,ckid:e.params.ckId||0,tagId:e.adUnitCode,pageDomain:i&&i.refererInfo&&i.refererInfo.referer?i.refererInfo.referer:void 0,transactionId:e.transactionId,timeout:o.b.getConfig("bidderTimeout"),bidId:e.bidId,prebidVersion:"4.22.0",schain:d.serializeSupplyChain(e.schain)},r=a.deepAccess(e,"mediaTypes.video");if(r){if(!r||"instream"!==r.context&&"outstream"!==r.context)return{};var n=r.playerSize[0];t.isVideo="instream"===r.context,t.mediaType=s.d,t.videoData={videoProtocol:e.params.video.protocol,playerWidth:n[0],playerHeight:n[1],adBreak:e.params.video.startDelay||1}}else{n=a.deepAccess(e,"mediaTypes.banner");t.sizes=n.sizes.map(function(e){return{w:e[0],h:e[1]}})}i&&i.gdprConsent&&(t.addtl_consent=i.gdprConsent.addtlConsent,t.gdpr_consent=i.gdprConsent.consentString,t.gdpr=i.gdprConsent.gdprApplies),e&&e.userId&&(t.eids=Object(c.a)(e.userId)),i&&i.uspConsent&&(t.us_privacy=i.uspConsent);t=JSON.stringify(t);return{method:"POST",url:(void 0!==e.params.domain?e.params.domain:"https://prg.smartadserver.com")+"/prebid/v1",data:t}})},interpretResponse:function(e,t){var r,n,i=[],o=e.body;try{o&&(n={requestId:(r=JSON.parse(t.data)).bidId,cpm:o.cpm,width:o.width,height:o.height,creativeId:o.creativeId,dealId:o.dealId,currency:o.currency,netRevenue:o.isNetCpm,ttl:o.ttl},r.mediaType===s.d?(n.mediaType=s.d,n.vastUrl=o.adUrl,n.vastXml=o.ad,n.content=o.ad):(n.adUrl=o.adUrl,n.ad=o.ad),i.push(n))}catch(e){a.logError("Error while parsing smart server response",e)}return i},getUserSyncs:function(e,t){var r=[];return e.iframeEnabled&&0<t.length&&r.push({type:"iframe",url:t[0].body.cSyncUrl}),r}};Object(t.registerBidder)(d)}},[782]),shpbjsChunk([111],{808:function(e,t,r){e.exports=r(809)},809:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"GOOGLE_CONSENT",function(){return g}),r.d(t,"spec",function(){return o});var m=r(0),y=r(3),u=r(11),t=r(1),l=r(2);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i="spotx",g={consented_providers:["3","7","11","12","15","20","22","35","43","46","48","55","57","61","62","66","70","80","83","85","86","89","93","108","122","124","125","126","131","134","135","136","143","144","147","149","153","154","159","161","162","165","167","171","178","184","188","192","195","196","202","209","211","218","221","228","229","230","236","239","241","253","255","259","266","271","272","274","286","291","294","303","308","310","311","313","314","316","317","322","323","327","336","338","340","348","350","358","359","363","367","370","371","384","385","389","393","394","397","398","407","414","415","424","429","430","432","436","438","440","442","443","445","448","449","453","459","479","482","486","491","492","494","495","503","505","510","522","523","528","537","540","550","559","560","568","571","574","575","576","584","585","587","588","590","591","592","595","609","621","624","723","725","733","737","776","780","782","787","797","798","802","803","814","817","820","821","827","829","839","853","864","867","874","899","904","922","926","931","932","933","938","955","973","976","979","981","985","987","991","1003","1024","1025","1027","1028","1029","1033","1034","1040","1047","1048","1051","1052","1053","1054","1062","1063","1067","1072","1085","1092","1095","1097","1099","1100","1107","1126","1127","1143","1149","1152","1162","1166","1167","1170","1171","1172","1188","1192","1199","1201","1204","1205","1211","1212","1215","1220","1225","1226","1227","1230","1232","1236","1241","1248","1250","1252","1268","1275","1276","1284","1286","1298","1301","1307","1312","1313","1317","1329","1336","1344","1345","1356","1362","1365","1375","1403","1409","1411","1415","1416","1419","1423","1440","1442","1449","1451","1455","1456","1468","1496","1503","1509","1512","1514","1517","1520","1525","1540","1547","1548","1555","1558","1570","1575","1577","1579","1583","1584","1591","1598","1603","1608","1613","1616","1626","1631","1633","1638","1642","1648","1651","1652","1653","1660","1665","1667","1669","1671","1674","1677","1678","1682","1684","1697","1703","1705","1716","1720","1721","1722","1725","1732","1733","1735","1739","1741","1745","1750","1753","1760","1765","1769","1776","1780","1782","1786","1791","1794","1799","1800","1801","1810","1827","1831","1832","1834","1837","1840","1843","1844","1845","1858","1859","1863","1866","1870","1872","1875","1878","1880","1882","1883","1889","1892","1896","1898","1899","1902","1905","1911","1922","1928","1929","1934","1942","1943","1944","1945","1958","1960","1962","1963","1964","1967","1968","1978","1985","1986","1987","1998","2003","2007","2012","2013","2027","2035","2038","2039","2044","2047","2052","2056","2059","2062","2064","2068","2070","2072","2078","2079","2084","2088","2090","2095","2100","2103","2107","2109","2113","2115","2121","2127","2130","2133","2137","2140","2141","2145","2147","2150","2156","2166","2170","2171","2176","2177","2179","2183","2186","2192","2198","2202","2205","2214","2216","2219","2220","2222","2223","2224","2225","2227","2228","2234","2238","2247","2251","2253","2262","2264","2271","2276","2278","2279","2282","2290","2292","2295","2299","2305","2306","2310","2311","2312","2315","2320","2325","2328","2331","2334","2335","2336","2337","2343","2346","2354","2357","2358","2359","2366","2370","2373","2376","2377","2380","2382","2387","2389","2392","2394","2400","2403","2405","2406","2407","2410","2411","2413","2414","2415","2416","2418","2422","2425","2427","2435","2437","2440","2441","2447","2453","2459","2461","2462","2464","2467","2468","2472","2477","2481","2484","2486","2492","2493","2496","2497","2498","2499","2504","2506","2510","2511","2512","2517","2526","2527","2531","2532","2534","2542","2544","2552","2555","2559","2563","2564","2567","2568","2569","2571","2572","2573","2575","2577","2579","2583","2584","2586","2589","2595","2596","2597","2601","2604","2605","2609","2610","2612","2614","2621","2622","2624","2628","2629","2632","2634","2636","2639","2643","2645","2646","2647","2649","2650","2651","2652","2656","2657","2658","2660","2661","2662","2663","2664","2669","2670","2673","2676","2677","2678","2681","2682","2684","2685","2686","2689","2690","2691","2695","2698","2699","2702","2704","2705","2706","2707","2709","2710","2713","2714","2727","2729","2739","2758","2765","2766","2767","2768","2770","2771","2772","2776","2777","2778","2779","2780","2783","2784","2786","2787","2791","2792","2793","2797","2798","2801","2802","2803","2805","2808","2809","2810","2811","2812","2813","2814","2817","2818","2824","2826","2827","2829","2830","2831","2832","2834","2836","2838","2840","2842","2843","2844","2850","2851","2852","2854","2858","2860","2862","2864","2865","2866","2867","2868","2869","2871"]},o={code:i,gvlid:165,aliases:["spotx"],supportedMediaTypes:[l.d],isBidRequestValid:function(e){if(e&&"object"!==n(e.params))return m.logError(i+": params is not defined or is incorrect in the bidder settings."),!1;if(!m.deepAccess(e,"mediaTypes.video"))return m.logError(i+": mediaTypes.video is not present in the bidder settings."),!1;var t=m.deepAccess(e,"mediaTypes.video.playerSize");if(!t||!m.isArray(t))return m.logError(i+": mediaTypes.video.playerSize is not defined in the bidder settings."),!1;if(!m.getBidIdParameter("channel_id",e.params))return m.logError(i+": channel_id is not present in bidder params"),!1;if(("outstream"==m.deepAccess(e,"mediaTypes.video.context")||"outstream"==m.deepAccess(e,"params.ad_unit"))&&!m.getBidIdParameter("outstream_function",e.params)){if(!m.getBidIdParameter("outstream_options",e.params))return m.logError(i+": please define outstream_options parameter or override the default SpotX outstream rendering by defining your own Outstream function using field outstream_function."),!1;if(!m.getBidIdParameter("slot",e.params.outstream_options))return m.logError(i+": please define parameters slot outstream_options object in the configuration."),!1}return!0},buildRequests:function(e,f){var h=f.refererInfo.referer,v=!!h.match(/^https:/);return e.map(function(e){var t=m.getBidIdParameter("page",e.params)?m.getBidIdParameter("page",e.params):y.b.getConfig("pageUrl")?y.b.getConfig("pageUrl"):h,r=m.getBidIdParameter("channel_id",e.params),n=null,i=m.deepAccess(e,"mediaTypes.video.playerSize"),o=i[0][0],a=i[0][1],s=v||(m.getBidIdParameter("secure",e.params)?1:0),c={sdk_name:"Prebid 1+",versionOrtb:"2.3"};if(""!=m.getBidIdParameter("hide_skin",e.params)&&(c.hide_skin=+!!m.getBidIdParameter("hide_skin",e.params)),""!=m.getBidIdParameter("ad_volume",e.params)&&(c.ad_volume=m.getBidIdParameter("ad_volume",e.params)),""!=m.getBidIdParameter("ad_unit",e.params)&&(c.ad_unit=m.getBidIdParameter("ad_unit",e.params)),""!=m.getBidIdParameter("outstream_options",e.params)&&(c.outstream_options=m.getBidIdParameter("outstream_options",e.params)),""!=m.getBidIdParameter("outstream_function",e.params)&&(c.outstream_function=m.getBidIdParameter("outstream_function",e.params)),""!=m.getBidIdParameter("custom",e.params)&&(c.custom=m.getBidIdParameter("custom",e.params)),""!=m.getBidIdParameter("pre_market_bids",e.params)&&m.isArray(m.getBidIdParameter("pre_market_bids",e.params))){var d,u=m.getBidIdParameter("pre_market_bids",e.params);for(d in c.pre_market_bids=[],u){var l=u[d],p="";l.vast_url?p='<?xml version="1.0" encoding="utf-8"?><VAST version="2.0"><Ad><Wrapper><VASTAdTagURI>'+l.vast_url+"</VASTAdTagURI></Wrapper></Ad></VAST>":l.vast_string&&(p=l.vast_string),c.pre_market_bids.push({id:l.deal_id,seatbid:[{bid:[{impid:Date.now(),dealid:l.deal_id,price:l.price,adm:p}]}],cur:l.currency,ext:{event_log:[{}]}})}}i=m.getBidIdParameter("mimes",e.params)||["application/javascript","video/mp4","video/webm"],a={id:e.bidId,secure:s,video:{w:o,h:a,ext:c,mimes:i}};""!=m.getBidIdParameter("price_floor",e.params)&&(a.bidfloor=m.getBidIdParameter("price_floor",e.params)),""!=m.getBidIdParameter("start_delay",e.params)&&(a.video.startdelay=0+Boolean(m.getBidIdParameter("start_delay",e.params))),""!=m.getBidIdParameter("min_duration",e.params)&&(a.video.minduration=m.getBidIdParameter("min_duration",e.params)),""!=m.getBidIdParameter("max_duration",e.params)&&(a.video.maxduration=m.getBidIdParameter("max_duration",e.params)),""!=m.getBidIdParameter("placement_type",e.params)&&(a.video.ext.placement=m.getBidIdParameter("placement_type",e.params)),""!=m.getBidIdParameter("position",e.params)&&(a.video.ext.pos=m.getBidIdParameter("position",e.params)),e.crumbs&&e.crumbs.pubcid&&(n=e.crumbs.pubcid);i=navigator.language?"language":"userLanguage",t={id:r,imp:a,site:{id:"",page:t,content:"content"},device:{h:screen.height,w:screen.width,dnt:m.getDNT()?1:0,language:navigator[i].split("-")[0],make:navigator.vendor||"",ua:navigator.userAgent},ext:{wrap_response:1}};m.getBidIdParameter("number_of_ads",e.params)&&(t.ext.number_of_ads=m.getBidIdParameter("number_of_ads",e.params));i={};return 1==m.getBidIdParameter("spotx_all_google_consent",e.params)&&(i.consented_providers_settings=g),f&&f.gdprConsent&&(i.consent=f.gdprConsent.consentString,void 0!==f.gdprConsent.gdprApplies&&m.deepSetValue(t,"regs.ext.gdpr",f.gdprConsent.gdprApplies?1:0)),f&&f.uspConsent&&m.deepSetValue(t,"regs.ext.us_privacy",f.uspConsent),m.deepAccess(e,"userId.id5id.uid")&&(i.eids=i.eids||[],i.eids.push({source:"id5-sync.com",uids:[{id:e.userId.id5id.uid}],ext:e.userId.id5id.ext||{}})),n&&(i.fpc=n),e&&e.schain&&(t.source={ext:{schain:e.schain}}),e&&e.userId&&e.userId.tdid&&(i.eids=i.eids||[],i.eids.push({source:"adserver.org",uids:[{id:e.userId.tdid,ext:{rtiPartner:"TDID"}}]})),m.isEmpty(i)||(t.user={ext:i}),{method:"POST",url:"https://search.spotxchange.com/openrtb/2.3/dados/"+r,data:t,bidRequest:f}})},interpretResponse:function(e,s){var c=[],d=e.body;return d&&m.isArray(d.seatbid)&&m._each(d.seatbid,function(e){m._each(e.bid,function(t){var e,r={};for(e in s.bidRequest.bids)t.impid==s.bidRequest.bids[e].bidId&&(r=s.bidRequest.bids[e]);m._each(r.params.pre_market_bids,function(e){e.deal_id==t.id&&(t.price=e.price,d.cur=e.currency)});var n={requestId:r.bidId,currency:d.cur||"USD",cpm:t.price,creativeId:t.crid||"",dealId:t.dealid||"",ttl:360,netRevenue:!0,channel_id:d.id,cache_key:t.ext.cache_key,vastUrl:"https://search.spotxchange.com/ad/vast.html?key="+t.ext.cache_key,videoCacheKey:t.ext.cache_key,mediaType:l.d,width:t.w,height:t.h};n.meta=n.meta||{},t&&t.adomain&&0<t.adomain.length&&(n.meta.advertiserDomains=t.adomain);var i=m.deepAccess(r,"mediaTypes.video.context"),o=m.deepAccess(r,"params.ad_unit");if("outstream"==i||"outstream"==o){var o=m.deepAccess(r,"mediaTypes.video.playerSize"),a=u.a.install({id:0,url:"//",config:{adText:"SpotX Outstream Video Ad via Prebid.js",player_width:o[0][0],player_height:o[0][1],content_page_url:m.deepAccess(s,"data.site.page"),ad_mute:+!!m.deepAccess(r,"params.ad_mute"),hide_skin:+!!m.deepAccess(r,"params.hide_skin"),outstream_options:m.deepAccess(r,"params.outstream_options"),outstream_function:m.deepAccess(r,"params.outstream_function")}});try{a.setRender(p),a.setEventHandlers({impression:function(){return m.logMessage("SpotX outstream video impression event")},loaded:function(){return m.logMessage("SpotX outstream video loaded event")},ended:function(){m.logMessage("SpotX outstream renderer video event")}})}catch(r){m.logWarn("Prebid Error calling setRender or setEve,tHandlers on renderer",r)}n.renderer=a}c.push(n)})}),c}};function p(e){var t=function(e){var t=m.getBidIdParameter("slot",e.renderer.config.outstream_options);m.logMessage("[SPOTX][renderer] Handle SpotX outstream renderer");var r=window.document.createElement("script");r.type="text/javascript",r.src="https://js.spotx.tv/easi/v1/"+e.channel_id+".js";var n={};n["data-spotx_channel_id"]=""+e.channel_id,n["data-spotx_vast_url"]=""+e.vastUrl,n["data-spotx_content_page_url"]=e.renderer.config.content_page_url,n["data-spotx_ad_unit"]="incontent",m.logMessage("[SPOTX][renderer] Default beahavior"),m.getBidIdParameter("ad_mute",e.renderer.config.outstream_options)&&(n["data-spotx_ad_mute"]="1"),n["data-spotx_collapse"]="0",n["data-spotx_autoplay"]="1",n["data-spotx_blocked_autoplay_override_mode"]="1",n["data-spotx_video_slot_can_autoplay"]="1";var i,o,a,s,c=m.getBidIdParameter("playersize_auto_adapt",e.renderer.config.outstream_options);c&&m.isBoolean(c)&&!0===c&&(e.width&&m.isNumber(e.width)&&e.height&&m.isNumber(e.height)?(i=e.width/e.height,o=window.document.getElementById(t).clientWidth,a=e.renderer.config.player_width,s=e.renderer.config.player_height,c=0,o<a&&(s=(a=o)/i),t=i<=1?(c=Math.round(s*i),s):(c=a,Math.round(a/i)),n["data-spotx_content_width"]=""+c,n["data-spotx_content_height"]=""+t):m.logWarn("[SPOTX][renderer] PlayerSize auto adapt: bid.width and bid.height are incorrect"));var d,u=m.getBidIdParameter("custom_override",e.renderer.config.outstream_options);if(u&&m.isPlainObject(u))for(var l in m.logMessage("[SPOTX][renderer] Custom behavior."),u)u.hasOwnProperty(l)&&("channel_id"===l||"vast_url"===l||"content_page_url"===l||"ad_unit"===l?m.logWarn("[SPOTX][renderer] Custom behavior: following option cannot be overridden: "+l):n["data-spotx_"+l]=u[l]);for(d in n)n.hasOwnProperty(d)&&r.setAttribute(d,n[d]);return r}(e);if(null!=e.renderer.config.outstream_function&&"function"==typeof e.renderer.config.outstream_function)e.renderer.config.outstream_function(e,t);else try{var r,n=m.getBidIdParameter("in_iframe",e.renderer.config.outstream_options);n&&"IFRAME"==window.document.getElementById(n).nodeName?(!(r=(n=window.document.getElementById(n)).contentDocument)&&n.contentWindow&&(r=n.contentWindow.document),r.body.appendChild(t)):((r=m.getBidIdParameter("slot",e.renderer.config.outstream_options))&&window.document.getElementById(r)?window.document.getElementById(r):window.document.getElementsByTagName("head")[0]).appendChild(t)}catch(e){m.logError("[SPOTX][renderer] Error:"+e.message)}}Object(t.registerBidder)(o)}},[808]),shpbjsChunk([63],{912:function(e,t,r){e.exports=r(913)},913:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return i});var l=r(0),n=r(1),t=r(10),p=r.n(t),f=r(2),h=r(11),v="https://ad.yieldlab.net",i={code:"yieldlab",supportedMediaTypes:[f.d,f.b],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.adslotId&&e.params.supplyId)},buildRequests:function(e,t){var a=[],s={ts:Date.now(),json:!0};l._each(e,function(e){if(a.push(e.params.adslotId),e.params.targeting&&(s.t=function(e){var t,r,n=[];for(t in e)e.hasOwnProperty(t)&&(r=e[t],n.push(t+"="+r));return n.join("&")}(e.params.targeting)),e.userIdAsEids&&Array.isArray(e.userIdAsEids)&&(s.ids=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].source+":"+e[r].uids[0].id);return t.join(",")}(e.userIdAsEids)),e.params.customParams&&l.isPlainObject(e.params.customParams))for(var t in e.params.customParams)s[t]=e.params.customParams[t];var r,n,i,o;e.schain&&l.isPlainObject(e.schain)&&Array.isArray(e.schain.nodes)&&(s.schain=(r=(o=e.schain).ver||"",n=1===o.complete||0===o.complete?o.complete:"",i=["asi","sid","hp","rid","name","domain","ext"],o=o.nodes.reduce(function(e,t){return e+"!".concat(i.map(function(e){return t[e]?(e=t[e],encodeURIComponent(e).replace(/!/g,"%21")):""}).join(","))},""),"".concat(r,",").concat(n).concat(o)))}),t&&(t.refererInfo&&t.refererInfo.referer&&(s.pubref=t.refererInfo.referer),t.gdprConsent&&(s.gdpr="boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies,s.gdpr&&(s.consent=t.gdprConsent.consentString)));var r=a.join(","),t=function(e){var t,r,n=[];for(t in e)e.hasOwnProperty(t)&&(r=e[t],"schain"!==t?n.push(encodeURIComponent(t)+"="+encodeURIComponent(r)):n.push(t+"="+r));return n.join("&")}(s);return{method:"GET",url:"".concat(v,"/yp/").concat(r,"?").concat(t),validBidRequests:e,queryParams:s}},interpretResponse:function(s,e){var c=[],d=Date.now(),u=e.queryParams;return e.validBidRequests.forEach(function(t){var e,r,n,i,o,a;!s.body||(e=p()(s.body,function(e){return t.params.adslotId==e.id}))&&(o=2!==t.sizes.length||l.isArray(t.sizes[0])?t.sizes[0]:t.sizes,i=void 0!==t.params.adSize?m(t.params.adSize):void 0!==e.adsize?m(e.adsize):o,r=void 0!==t.params.extId?"&id="+t.params.extId:"",a=void 0!==e.adtype?e.adtype:"",n=u.gdpr?"&gdpr="+u.gdpr:"",o=u.consent?"&consent="+u.consent:"",i={requestId:t.bidId,cpm:e.price/100,width:i[0],height:i[1],creativeId:""+e.id,dealId:e["c.dealid"]||e.pid,currency:"EUR",netRevenue:!1,ttl:300,referrer:"",ad:'<script src="'.concat(v,"/d/").concat(e.id,"/").concat(t.params.supplyId,"/?ts=").concat(d).concat(r).concat(n).concat(o,'"><\/script>')},a=a,l.deepAccess(t,"mediaTypes.video")&&"video"===a.toLowerCase()&&((a=(a=l.deepAccess(t,"mediaTypes.video.playerSize"))&&l.isArray(a[0])?a[0]:a)&&(i.width=a[0],i.height=a[1]),i.mediaType=f.d,i.vastUrl="".concat(v,"/d/").concat(e.id,"/").concat(t.params.supplyId,"/?ts=").concat(d).concat(r).concat(n).concat(o),"outstream"===l.deepAccess(t,"mediaTypes.video.context")&&((o=h.a.install({id:t.bidId,url:"https://ad2.movad.net/dynamic.ad?a=o193092&ma_loadEvent=ma-start-event",loaded:!1})).setRender(y),i.renderer=o)),c.push(i))}),c}};function m(e){return e.split("x").map(Number)}function y(e){e.renderer.push(function(){window.ma_width=e.width,window.ma_height=e.height,window.ma_vastUrl=e.vastUrl,window.ma_container=e.adUnitCode,window.document.dispatchEvent(new Event("ma-start-event"))})}Object(n.registerBidder)(i)}},[912]),shpbjs.processQueue()}]);