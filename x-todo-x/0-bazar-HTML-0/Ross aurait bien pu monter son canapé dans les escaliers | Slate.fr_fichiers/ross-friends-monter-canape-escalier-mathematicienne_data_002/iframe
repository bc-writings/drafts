var SH_playerConfig = {"playerId":"e60479ca-5ef7-42a2-8125-7290d1937043","playlistVASTURL":"https:\/\/video-library-mirror-8.showheroes.com\/playlist\/vast3?player_id=e60479ca-5ef7-42a2-8125-7290d1937043&player_engine=native&player_type=0&device_size=large&pageurl=https%3A%2F%2Fwww.slate.fr%2Fstory%2F209735%2Fross-friends-monter-canape-escalier-mathematicienne&scheme_override=1&scheme_offset=6&playlist_id=a88ba2d6-c532-474f-88a5-29a08ea61f7a&video_id=gzbJQ2rmJ9pBmG9O&sh_ss=0","contentClickoutUrl":"","contentClickoutUrlIsFeed":true,"responsive":true,"aspectRatio":1.7778,"isFeed":false,"isHTTPS":true,"feedFeedRate":25,"frameFeedRate":25,"deviceSize":"large","obaIconPosition":"hide","displayObaIconPosition":"hide","closeOnSwipe":true,"footerPoweredByPosition":1,"displayFooterPoweredByPosition":0,"viewability":{"viewport":50,"delay":1,"sequential_delay":0,"mode":0},"tracking":{"opt_state":true,"video":{"loaded":["https:\/\/receiver-hetzner.showheroes.com\/events\/report-video?event=loaded&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&publisherid=[publisherid]&gdpr=[GDPR_APPLIES]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_ss=[SH_SS]&sh_pvr=[SH_PVR]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]"],"playerLoaded":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-video?event=playerLoaded&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&publisherid=[publisherid]&gdpr=[GDPR_APPLIES]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_ss=[SH_SS]&sh_pvr=[SH_PVR]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]","frameViewable":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-video?event=frameViewable&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&publisherid=[publisherid]&gdpr=[GDPR_APPLIES]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_ss=[SH_SS]&sh_pvr=[SH_PVR]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]","noadPassback":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-video?event=noadPassback&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&publisherid=[publisherid]&gdpr=[GDPR_APPLIES]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_ss=[SH_SS]&sh_pvr=[SH_PVR]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]","noadPassbackError":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-video?event=noadPassbackError&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&publisherid=[publisherid]&gdpr=[GDPR_APPLIES]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_ss=[SH_SS]&sh_pvr=[SH_PVR]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]","carouselPassback":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-video?event=carouselPassback&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&publisherid=[publisherid]&gdpr=[GDPR_APPLIES]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_ss=[SH_SS]&sh_pvr=[SH_PVR]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]"},"ad":{"vidOpportunity":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=vidOpportunity&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]"},"whitelist_domains":[],"debug":{"unfriendly-iframe-detected":"https:\/\/receiver-hetzner.showheroes.com\/events\/debug?event=unfriendly-iframe-detected&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&publisherid=[publisherid]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]","unfriendly-iframe-wrap-detected":"https:\/\/receiver-hetzner.showheroes.com\/events\/debug?event=unfriendly-iframe-wrap-detected&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&publisherid=[publisherid]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]","no-content-fallback":"https:\/\/receiver-hetzner.showheroes.com\/events\/debug?event=no-content-fallback&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&publisherid=[publisherid]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]"},"fallback":{"request":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-bid?event=request&rnd=[CACHEBUSTING]&player_id=[PLAYER_ID]&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&pageurl=[RPAGEURL]&source_url=[SOURCE_URL]&ad_bidder=[ad_bidder]&ad_id=[ad_id]&ad_bid_cpm=[ad_bid_cpm]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_ontid=[sas_ontid]&sh_pvr=[SH_PVR]&publisherid=[publisherid]&shbenv=4","response":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-bid?event=response&rnd=[CACHEBUSTING]&player_id=[PLAYER_ID]&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&pageurl=[RPAGEURL]&source_url=[SOURCE_URL]&ad_bidder=[ad_bidder]&ad_id=[ad_id]&ad_bid_cpm=[ad_bid_cpm]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_ontid=[sas_ontid]&sh_pvr=[SH_PVR]&publisherid=[publisherid]&shbenv=4","error":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-bid?event=error&rnd=[CACHEBUSTING]&player_id=[PLAYER_ID]&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&pageurl=[RPAGEURL]&source_url=[SOURCE_URL]&ad_bidder=[ad_bidder]&ad_id=[ad_id]&ad_bid_cpm=[ad_bid_cpm]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_ontid=[sas_ontid]&sh_pvr=[SH_PVR]&publisherid=[publisherid]&shbenv=4&errcode=[ERRORCODE]","impression":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-bid?event=impression&rnd=[CACHEBUSTING]&player_id=[PLAYER_ID]&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&pageurl=[RPAGEURL]&source_url=[SOURCE_URL]&ad_bidder=[ad_bidder]&ad_id=[ad_id]&ad_bid_cpm=[ad_bid_cpm]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_ontid=[sas_ontid]&sh_pvr=[SH_PVR]&publisherid=[publisherid]&shbenv=4"},"custom_ad":{"request":[],"response":[],"error":["https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=error&rnd=[CACHEBUSTING]&player_id=[PLAYER_ID]&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&errcode=[ERRORCODE]&src_tl=[SOURCE_TITLE]&sh_ss=[SH_SS]&rvpw=[rvpw]&rvph=[rvph]&vblty=[vblty]&sh_crfmt=[SH_CRFMT]&sh_frmtid=[SH_FRMTID]&sh_crtp=[sh_crtp]&shg_vidid=[SHG_VIDID]&source_url=[SOURCE_URL]&videofile_url=[VIDEOFILE_URL]"],"impression":["https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=impression&rnd=[CACHEBUSTING]&player_id=[PLAYER_ID]&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&src_tl=[SOURCE_TITLE]&sh_ss=[SH_SS]&rvpw=[rvpw]&rvph=[rvph]&vblty=[vblty]&sh_crfmt=[SH_CRFMT]&sh_frmtid=[SH_FRMTID]&sh_crtp=[sh_crtp]&shg_vidid=[SHG_VIDID]&source_url=[SOURCE_URL]&videofile_url=[VIDEOFILE_URL]"]}},"contentClickoutTarget":"_top","adClickoutTarget":"_blank","allowStitchingSchemeOverride":true,"size":{"width":0,"height":0,"max_width":0,"max_height":0,"expected_width":1280,"expected_height":720},"macros":{"player_id":"e60479ca-5ef7-42a2-8125-7290d1937043","player_engine":"native","player_type":0,"device_size":"large","publisherid":"","sh_wilt":1622456777,"client_ip_addr":"81.220.5.133","client_ua":"Mozilla\/5.0 (Macintosh; Intel Mac OS X 10.15; rv:88.0) Gecko\/20100101 Firefox\/88.0","shps":null,"pagedomain":"www.slate.fr","paget2ld":"slate.fr","untgtpdmn":"domain=slate.fr","pagepathquery":"\/story\/209735\/ross-friends-monter-canape-escalier-mathematicienne","opt_state":1,"sh_adhsu":569,"sh_shcn":"b","pageurl":"https:\/\/www.slate.fr\/story\/209735\/ross-friends-monter-canape-escalier-mathematicienne","rpageurl":"https:\/\/www.slate.fr\/story\/209735\/ross-friends-monter-canape-escalier-mathematicienne","shvl_ciabv1":"health & fitness","shvl_ckw":"rem\u00e8de,nature,rem\u00e8des naturels,rhume,grippe","shvl_cname":"Rem\u00e8des naturels \u00e0 la maison pour un soulagement rapide du rhume et de la grippe","shvl_cdur":70,"shhr_piabv1":"","shah_suiabv1":"technology & computing","ascn":"!showheroes.com,183,1,,,","asch":"1.0,1!showheroes.com,183,1,,,","ascsas_2161":"1.0,1!showheroes.com,183,1,,,!smartadserver.com,2161,1,,,"},"frameHeaderHtml":null,"displayFrameHeaderHtml":null,"adConfig":{"player_id":"e60479ca-5ef7-42a2-8125-7290d1937043","enabled":true,"maxVideoAds":1,"VASTs":["https:\/\/video-library-mirror-8.showheroes.com\/commercial\/wrapper\/?player_id=e60479ca-5ef7-42a2-8125-7290d1937043&vast=vast_url_1&ad_bidder=showheroes&tsmp=1621604937&chmrk=bd6d3be35d6232f0887558cf2ee227ae","https:\/\/video-library-mirror-8.showheroes.com\/commercial\/wrapper\/?player_id=e60479ca-5ef7-42a2-8125-7290d1937043&vast=vast_url_2&ad_bidder=showheroes&tsmp=1621604937&chmrk=bd6d3be35d6232f0887558cf2ee227ae","https:\/\/video-library-mirror-8.showheroes.com\/commercial\/wrapper\/?player_id=e60479ca-5ef7-42a2-8125-7290d1937043&vast=vast_url_3&ad_bidder=showheroes&tsmp=1621604937&chmrk=bd6d3be35d6232f0887558cf2ee227ae","https:\/\/video-library-mirror-8.showheroes.com\/commercial\/wrapper\/?player_id=e60479ca-5ef7-42a2-8125-7290d1937043&vast=vast_url_4&ad_bidder=showheroes&tsmp=1621604937&chmrk=bd6d3be35d6232f0887558cf2ee227ae","https:\/\/video-library-mirror-8.showheroes.com\/commercial\/wrapper\/?player_id=e60479ca-5ef7-42a2-8125-7290d1937043&vast=vast_url_5&ad_bidder=showheroes&tsmp=1621604937&chmrk=bd6d3be35d6232f0887558cf2ee227ae"],"origVASTs":["https:\/\/www8.smartadserver.com\/ac?siteid=341244&pgid=1193777&fmtid=45612&ab=2&tgt=&oc=1&out=vast3&ps=1&pb=0&visit=S&vcn=s&tmstp=[timestamp]&pgDomain=[PAGEURL]&vph=[PLAYER_HEIGHT]&vpw=[PLAYER_WIDTH]&shadt=1&gdpr=[GDPR_APPLIES]&gdpr_consent=[USER_CONSENT_STRING]","https:\/\/ads.stickyadstv.com\/vast\/vpaid-adapter\/12085009?shadt=1&playerSize=[PLAYER_WIDTH]x[PLAYER_HEIGHT]&loc=[PAGEURL]&_[TIMESTAMP]&_fw_gdpr=[GDPR_APPLIES]&_fw_gdpr_consent=[USER_CONSENT_STRING]","https:\/\/pubads.g.doubleclick.net\/gampad\/ads?iu=\/21700180024\/slate\/slate&description_url=http%3A%2F%2Fslate.fr&tfcd=0&npa=0&sz=640x480&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=[TIMESTAMP]&shadt=1","https:\/\/www8.smartadserver.com\/ac?siteid=345917&pgid=1208030&fmtid=88523&ab=1&oc=1&out=vast4&ps=1&pb=0&visit=S&vcn=s&tmstp=[timestamp]&pgDomain=[PAGEDOMAIN]&tgt=[UNTGTPDMN]&ctc=[SHHR_PIABV1]&ctn=[SHAH_SUIABV1]&ctk=[SHVL_CKW]&ctt=[SHVL_CIABV1]&ctd=[SHVL_CDUR]&vph=[PLAYER_HEIGHT]&vpw=[PLAYER_WIDTH]&shadt=1&gdpr=[GDPR_APPLIES]&gdpr_consent=[USER_CONSENT_STRING]&schain=[ASCH]!union.media,345917,1&src_tl=au-6","https:\/\/ads.viralize.tv\/vast\/?u=[PAGEURL]&gdpr=[GDPR_APPLIES]&cs=[USER_CONSENT_STRING]&pub_schain=[ASCH]&zid=AAD59Ya4IZ-zCAbB&width=[PLAYER_WIDTH]&height=[PLAYER_HEIGHT]"],"skipMode":2,"fastAdDeliveryEnabled":true,"twoAdsEnabled":false,"bumperAdsEnabled":false,"prefetchingMode":"load","keepOverlay4Vpaid":false,"noadTriggerMode":"viewport","noad":false,"noadJS":"","GoogleTagAdsEnabled":false,"GoogleTagAdsScriptSettings":{"adsUnitPath":"","adsSizes":[]},"postNoAdAttemptsEnabled":false,"customTracking":{"commercial":{"clickThrough":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=clickThrough&rnd=[CACHEBUSTING]&player_id=[PLAYER_ID]&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&source_url=[SOURCE_URL]&videofile_url=[VIDEOFILE_URL]&vblty=[vblty]&sh_crfmt=[SH_CRFMT]&sh_crtp=[sh_crtp]&url="}},"sizes":{"expW":1280,"expH":720},"schain":{"nodeStr":"!showheroes.com,183,1,,,"},"vtrOptMode":20,"ampActMode":"load","oovaMode":false,"oovaModePerc":0.15,"display":{"maxWidth":null,"maxHeight":null,"responsiveBidders":[],"spotAdAlign":"left","displayVPAIDXML":null,"cpm":0.5},"nonLinear":{"position":10,"initialDelay":4,"vastWrapper":{"defaultPlaceholders":{"width":300,"height":50,"duration":5},"templateXML":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<VAST version=\"3.0\">\n<Ad id=\"e60479ca-5ef7-42a2-8125-7290d1937043\">\n<InLine>\n<AdSystem>ShowHeroes AdHero<\/AdSystem>\n<Error><![CDATA[https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=error&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl&errcode=[ERRORCODE]]]><\/Error>\n<Impression><![CDATA[https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=impression&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl]]><\/Impression>\n<Creatives>\n<Creative AdID=\"e60479ca-5ef7-42a2-8125-7290d1937043\">\n<NonLinearAds>\n<TrackingEvents>\n<Tracking event=\"start\"><![CDATA[https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=start&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl]]><\/Tracking>\n<Tracking event=\"firstQuartile\"><![CDATA[https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=firstQuartile&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl]]><\/Tracking>\n<Tracking event=\"midpoint\"><![CDATA[https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=midpoint&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl]]><\/Tracking>\n<Tracking event=\"thirdQuartile\"><![CDATA[https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=thirdQuartile&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl]]><\/Tracking>\n<Tracking event=\"complete\"><![CDATA[https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=complete&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl]]><\/Tracking>\n<Tracking event=\"close\"><![CDATA[https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=close&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl]]><\/Tracking>\n<Tracking event=\"placed\"><![CDATA[https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=placed&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl]]><\/Tracking>\n<Tracking event=\"impressionViewable\"><![CDATA[https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=impressionViewable&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl]]><\/Tracking>\n<Tracking event=\"impressionNotViewable\"><![CDATA[https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=impressionNotViewable&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl]]><\/Tracking>\n<Tracking event=\"impressionViewUndetermined\"><![CDATA[https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=impressionViewUndetermined&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl]]><\/Tracking>\n<\/TrackingEvents>\n<NonLinear width=\"%%WIDTH%%\" height=\"%%HEIGHT%%\" minSuggestedDuration=\"%%DURATION%%\">\n<HTMLResource creativeType=\"text\/html\">\n<![CDATA[%%CREATIVE_HTML%%]]>\n<\/HTMLResource>\n<NonLinearClickThrough \/>\n<NonLinearClickTracking id=\"click_tracking\"><![CDATA[https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=click&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl]]><\/NonLinearClickTracking>\n<\/NonLinear>\n<\/NonLinearAds>\n<\/Creative>\n<\/Creatives>\n<\/InLine>\n<\/Ad>\n<\/VAST>\n"},"backfill":{"enabled":false,"html":"","width":null,"height":null,"cpm":0.1},"tracking":{"close":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=close&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl","placed":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=placed&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl","impression":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=impression&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl","start":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=start&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl","firstQuartile":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=firstQuartile&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl","midpoint":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=midpoint&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl","thirdQuartile":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=thirdQuartile&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl","complete":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=complete&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl","click":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=click&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl","impressionViewable":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=impressionViewable&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl","impressionNotViewable":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=impressionNotViewable&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl","impressionViewUndetermined":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=impressionViewUndetermined&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl","error":"https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=error&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=569&player_type=0&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]&sh_crfmt=[SH_CRFMT]&sh_frmtid=12&src_tl=sh-nonlinear-wrap-tpl&errcode=[ERRORCODE]"}},"switchIn":null},"stitching":{"enabled":false,"adOffset":6,"options":{"ad_countdown_msg_mode":0},"serverURL":"https:\/\/stitching-service.showheroes.com","proxyPixelURL":"https:\/\/proxy-pixel.showheroes.com\/p\/?"},"playerBranding":{"logoTitle":"","colorBackground":"#F8F2F4","opacityBackground":1,"playerColorBackground":"#fff","playerOpacityBackground":1,"opacityFadeOut":0.6,"colorForeground":"#6F1B31","opacityForeground":1,"colorPlaylistPreviewBackground":"#000","opacityPlaylistPreviewBackground":0.6,"colorProgressBar":"#6F1B31","opacityProgressBar":1,"colorC2POverlay":"#000000","opacityC2POverlay":0.4,"colorC2PPlayButton":"#6F1B31","opacityC2PPlayButton":1,"colorShapeShadow":"#000","sizeShapeShadow":0,"backgroundBlur":true,"contentTitleEnabled":false,"controls":{"progressBar":true,"pauseButton":true,"volumeControl":true,"fullscreenButton":true,"bouncingPlayButton":true,"closeButton":false,"shareButton":true,"playlistButton":true}},"skinType":"frame","playbackSettings":{"firstVideos":3,"playlistMode":5,"contentQualityMode":0,"doNotShuffleXVideos":1,"maxCarouselVideos":10,"onHoverUnMuteScenario":0,"playerChain":null,"playOn":"auto","coverUrl":"https:\/\/di-ay666q3u.leasewebultracdn.com\/storage\/video_previews\/2019-11\/32395_m.jpeg"},"newsTicker":{"enabled":false,"feed":"https:\/\/video-library-mirror-12.showheroes.com\/api\/public\/v1\/players\/e60479ca-5ef7-42a2-8125-7290d1937043\/news_ticker\/feed"},"harvester":{"keywords_api":"\/keywords\/aggregator\/?kw=[PAGE_KEYWORDS]&pageurl=[RPAGEURL]"},"debug":false,"playerOptions":{"enabled":true,"safeframe":false,"canvas":false,"noad":false,"vpaid":false,"advasttag":"","footer":true,"clicktracking":null,"poweredBy":{"icon":null,"text":"powered by ","link":"https:\/\/showheroes.com"},"heavyAdsOpt":true,"pageurl":"https:\/\/www.slate.fr\/story\/209735\/ross-friends-monter-canape-escalier-mathematicienne","consentData":"CPHD0HAPHD0HVBcAFBFRBcCgAP_AAH_AAAqIHYwNQABAAKAAeABWADIANAAcABAACQAFUALAAtABjADQANQAeAA-gCIAJIATAAngBWAC3AF4AX4AwgDEAGyANwA3wByAHOAO4A8AB8AD9AIAAhABIQCkAKUAXAA4gB6AD9AIGAQgAjoBOgCeAFXAKyAXUAwIBogDaAH1AR6Al4BP4C8wGLgMZAcmB2MB8AB4AFQAMgAcABAADGAGgAagA8AB9AEQARQAmABPACsAF8AMQAbwA5gCEAFKAP0AgYBCACrgF1AMCAaIA2gB5AEegLzgcmBygAA","gdprApplies":true,"addtlConsent":null,"sasCookieSync":{"enabled":true,"pid":1188621,"iid":6939014}}};


<!-- PREBID JS -->
    
    var SH_prebidConfig = {"prebidEnabled":true,"prerollDelay":0,"minimumCPM":0,"videoTagsDefaultCPM":10,"displayTracking":{"impression":["https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=impression&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]"],"viewability":["https:\/\/receiver-hetzner.showheroes.com\/events\/report-com\/?event=viewability&rnd=[CACHEBUSTING]&player_id=e60479ca-5ef7-42a2-8125-7290d1937043&sh_adhsu=[SH_ADHSU]&player_type=[PLAYER_TYPE]&player_engine=[PLAYER_ENGINE]&device_size=[DEVICE_SIZE]&sh_wilt=[SH_WILT]&sh_shcn=[sh_shcn]&sh_pvr=[SH_PVR]&ad_bidder=[AD_BIDDER]&ad_id=[AD_ID]&ad_bid_cpm=[AD_BID_CPM]&publisherid=[publisherid]&sas_insid=[sas_insertionId]&sas_dealid=[sas_rtb_dealId]&sas_exdid=[sas_rtb_externalDealId]&cid=[sh_crtvid]&sas_ontid=[sas_ontid]&pageurl=[RPAGEURL]"]},"bidTracking":[],"adserverMasterTag":"https:\/\/video-library-mirror-8.showheroes.com\/commercial\/wrapper\/?player_id=e60479ca-5ef7-42a2-8125-7290d1937043&ad_bidder=[AD_BIDDER]&master_shadt=1&tsmp=1621604937&chmrk=bd6d3be35d6232f0887558cf2ee227ae&description_url=","smartAdServerTag":{"enabled":false,"siteId":"","pageId":"","displayFormatId":0,"videoFormatId":0}};
    SH_prebidConfig.passthroughParams = {
        ad_bidder: '',
        ad_id: '',
        ad_bid_cpm: ''
    };
    SH_prebidConfig.adUnits = {};
    SH_prebidConfig.currency = {"adServerCurrency":"EUR","defaultRates":{"EUR":{"USD":1.13}}};

    
            SH_prebidConfig.adUnits.video = {
            code: 'video',
            mediaTypes: {
                video: {
                    playerSize: [640,480],
                    context: 'instream',
                    mimes: ['video/mp4'],
                    protocols: [2,3,5,6],
                    maxduration: 60,
                    linearity: 1,
                    api: [2]
                },
            },
            bids: [{"bidder":"appnexus-video","params":{"placementId":"19159878","video":{"skippable":false,"mimes":["video\/mp4","video\/webm","application\/javascript"," video\/ogg"],"playback_methods":["auto_play_sound_off"],"startdelay":-1,"frameworks":[2]},"currency":"EUR"}}]        };
    
    
            var displayBids = [];
        displayBids = displayBids.concat([{"bidder":"mgid-display","params":{"accountId":"396","bidFloor":0.3,"currency":"EUR"}}]);
        SH_prebidConfig.adUnits.display = {
            code: 'display',
            mediaTypes: {
                banner: {
                    sizes: [[250,250],[300,250],[300,600]]                },
            },
            bids: displayBids
        };
    
    
            var nonLinearSizes = [[300,50]];

        if (document.body.clientWidth >= 600 || SH_playerConfig.size.width >= 600) {
            nonLinearSizes.push([600,100]);
        }
        var nonLinearBids = [];
        nonLinearBids = nonLinearBids.concat([{"bidder":"adways","params":{"pubId":"9pQFSxC","cpm":5,"currency":"EUR"}}]);
        SH_prebidConfig.adUnits.nonLinear = {
            code: 'nonLinear',
            mediaTypes: {
                banner: {
                    sizes: nonLinearSizes
                },
            },
            bids: nonLinearBids
        };
    
        SH_prebidConfig.debug =  false ;

    var displayHost = document.createElement('div');
    displayHost.setAttribute("id", "display");
    document.body.appendChild(displayHost);
<!-- PREBID JS -->

var videoHost = document.createElement('div');
videoHost.setAttribute("id", "video-host");
document.body.appendChild(videoHost);

    var iconsNode = document.createElement('div');
    iconsNode.style.display = 'none';
    var icons = new DOMParser().parseFromString(
   '<svg xmlns="http://www.w3.org/2000/svg"> <symbol id="icon-play" viewBox="0 0 48 48" fill="currentColor"> <path d="M-838-2232H562v3600H-838z" fill="none"/> <path d="M16 10v28l22-14z"/> <path d="M0 0h48v48H0z" fill="none"/> </symbol> <symbol id="icon-replay" viewBox="0 0 20 20" fill="currentColor"> <path d="M-838-2232H562v3600H-838z" fill="none"/> <path d="M10.4,4.2V1l-4,4,4,4V5.8a4.8,4.8,0,1,1-4.8,4.8H4a6.4,6.4,0,1,0,6.4-6.4Z"/> <path d="M0 0h48v48H0z" fill="none"/> </symbol> <symbol id="icon-pause" viewBox="0 0 48 48" fill="currentColor"> <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"/> <path d="M0 0h48v48H0z" fill="none"/> </symbol> <symbol id="icon-unmuted" viewBox="0 0 18 18" fill="currentColor"> <path d="M0 0h18v18H0z" fill="none"/> <path d="M12.79 9c0-1.3-.72-2.42-1.79-3v6c1.06-.58 1.79-1.7 1.79-3zM2 7v4h3l4 4V3L5 7H2zm9-5v1.5c2.32.74 4 2.93 4 5.5s-1.68 4.76-4 5.5V16c3.15-.78 5.5-3.6 5.5-7S14.15 2.78 11 2z"/> </symbol> <symbol id="icon-muted" viewBox="0 0 18 18" fill="currentColor"> <path d="M0 0h18v18H0z" fill="none"/> <path d="M5 7v4h3l4 4V3L8 7H5z"/> </symbol> <symbol id="icon-share-ios" viewBox="0 0 32 32" fill="currentColor"> <path d="M18 7.762v-7.762l12 12-12 12v-7.932c-13.961-0.328-13.362 9.493-9.808 15.932-8.772-9.482-6.909-24.674 9.808-24.238z"></path> </symbol> <symbol id="icon-share" viewBox="0 0 24 24" fill="currentColor"> <path d="M0 0h24v24H0z" fill="none"/> <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/> </symbol> <symbol id="icon-like" viewBox="0 0 32 32" fill="currentColor"> <path d="M16 29.714q-0.464 0-0.786-0.321l-11.143-10.75q-0.179-0.143-0.491-0.464t-0.991-1.17-1.214-1.741-0.955-2.161-0.42-2.464q0-3.929 2.268-6.143t6.268-2.214q1.107 0 2.259 0.384t2.143 1.036 1.705 1.223 1.357 1.214q0.643-0.643 1.357-1.214t1.705-1.223 2.143-1.036 2.259-0.384q4 0 6.268 2.214t2.268 6.143q0 3.946-4.089 8.036l-11.125 10.714q-0.321 0.321-0.786 0.321z"></path> </symbol> <symbol id="icon-close" fill="currentColor" viewBox="0 0 24 24"> <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/> <path d="M0 0h24v24H0z" fill="none"/> </symbol> <symbol id="icon-playlist" fill="currentColor" viewBox="0 0 24 24"> <path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/> <path d="M0 0h24v24H0V0z" fill="none"/> </symbol> <symbol id="loader" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"> <circle cx="50" cy="50" fill="none" stroke-linecap="round" r="27" stroke-width="7" stroke-dasharray="42.411500823462205 42.411500823462205" transform="rotate(60 50 50)"> <animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;360 50 50" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animateTransform> </circle> </symbol> <symbol id="icon-twitter" viewBox="0 0 16 16" fill="currentColor"> <path d="M16 3.038c-.59.26-1.22.437-1.885.517.677-.407 1.198-1.05 1.443-1.816-.634.37-1.337.64-2.085.79-.598-.64-1.45-1.04-2.396-1.04-1.812 0-3.282 1.47-3.282 3.28 0 .26.03.51.085.75-2.728-.13-5.147-1.44-6.766-3.42C.83 2.58.67 3.14.67 3.75c0 1.14.58 2.143 1.46 2.732-.538-.017-1.045-.165-1.487-.41v.04c0 1.59 1.13 2.918 2.633 3.22-.276.074-.566.114-.865.114-.21 0-.41-.02-.61-.058.42 1.304 1.63 2.253 3.07 2.28-1.12.88-2.54 1.404-4.07 1.404-.26 0-.52-.015-.78-.045 1.46.93 3.18 1.474 5.04 1.474 6.04 0 9.34-5 9.34-9.33 0-.14 0-.28-.01-.42.64-.46 1.2-1.04 1.64-1.7z" fill-rule="nonzero"/> </symbol> <symbol id="icon-whatsapp" viewBox="0 0 16 16" fill="currentColor"> <path d="M11.665 9.588c-.2-.1-1.177-.578-1.36-.644-.182-.067-.315-.1-.448.1-.132.197-.514.643-.63.775-.116.13-.232.14-.43.05-.2-.1-.842-.31-1.602-.99-.592-.53-.99-1.18-1.107-1.38-.116-.2-.013-.31.087-.41.09-.09.2-.23.3-.35.098-.12.13-.2.198-.33.066-.14.033-.25-.017-.35-.05-.1-.448-1.08-.614-1.47-.16-.39-.325-.34-.448-.34-.115-.01-.248-.01-.38-.01-.134 0-.35.05-.532.24-.182.2-.696.68-.696 1.65s.713 1.91.812 2.05c.1.13 1.404 2.13 3.4 2.99.476.2.846.32 1.136.42.476.15.91.13 1.253.08.383-.06 1.178-.48 1.344-.95.17-.47.17-.86.12-.95-.05-.09-.18-.14-.38-.23M8.04 14.5h-.01c-1.18 0-2.35-.32-3.37-.92l-.24-.143-2.5.65.67-2.43-.16-.25c-.66-1.05-1.01-2.26-1.01-3.506 0-3.63 2.97-6.59 6.628-6.59 1.77 0 3.43.69 4.68 1.94 1.25 1.24 1.94 2.9 1.94 4.66-.003 3.63-2.973 6.59-6.623 6.59M13.68 2.3C12.16.83 10.16 0 8.03 0 3.642 0 .07 3.556.067 7.928c0 1.397.366 2.76 1.063 3.964L0 16l4.223-1.102c1.164.63 2.474.964 3.807.965h.004c4.39 0 7.964-3.557 7.966-7.93 0-2.117-.827-4.11-2.33-5.608"/> </symbol> <symbol id="icon-facebook" viewBox="0 0 16 16" fill="currentColor"> <path d="M15.117 0H.883C.395 0 0 .395 0 .883v14.234c0 .488.395.883.883.883h7.663V9.804H6.46V7.39h2.086V5.607c0-2.066 1.262-3.19 3.106-3.19.883 0 1.642.064 1.863.094v2.16h-1.28c-1 0-1.195.48-1.195 1.18v1.54h2.39l-.31 2.42h-2.08V16h4.077c.488 0 .883-.395.883-.883V.883C16 .395 15.605 0 15.117 0" fill-rule="nonzero"/> </symbol> <symbol id="icon-mail" viewBox="0 0 24 24" fill="currentColor"> <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/> <path d="M0 0h24v24H0z" fill="none"/> </symbol> <symbol id="icon-next" fill="currentColor" viewBox="0 0 24 24"> <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/> <path d="M0 0h24v24H0z" fill="none"/> </symbol> <symbol id="icon-prev" fill="currentColor" viewBox="0 0 24 24"> <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/> <path d="M0 0h24v24H0z" fill="none"/> </symbol> <symbol id="icon-fullscreen-on" fill="currentColor" viewBox="0 0 24 24"> <path d="M0 0h24v24H0z" fill="none"/> <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/> </symbol> <symbol id="icon-fullscreen-off" fill="currentColor" viewBox="0 0 24 24"> <path d="M0 0h24v24H0z" fill="none"/> <path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/> </symbol><symbol id="icon-arrow-up" fill="currentColor" viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/><path d="M0 0h24v24H0z" fill="none"/></symbol></svg>',
   'application/xml');

   iconsNode.appendChild(
       document.body.ownerDocument.importNode(icons.documentElement, true)
   );
   document.body.appendChild(iconsNode);



        !function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="../video-library/public/player/build/",i(i.s=81)}([function(t,e,i){var n,o;o=function(){return function(){return function t(e,i,o){function s(a,l){if(!i[a]){if(!e[a]){if(!l&&"function"==typeof n&&n)return n(a,!0);if(r)return r(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){return s(e[a][1][t]||t)},u,u.exports,t,e,i,o)}return i[a].exports}for(var r="function"==typeof n&&n,a=0;a<o.length;a++)s(o[a]);return s}}()({1:[function(t,e,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function s(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,i,n,a,l,d;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(r(i=this._events[t]))return!1;if(o(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(s(i))for(a=Array.prototype.slice.call(arguments,1),n=(d=i.slice()).length,l=0;l<n;l++)d[l].apply(this,a);return!0},n.prototype.addListener=function(t,e){var i;if(!o(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(i=r(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.trace),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!o(e))throw TypeError("listener must be a function");var i=!1;function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var i,n,r,a;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=(i=this._events[t]).length,n=-1,i===e||o(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(i)){for(a=r;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){n=a;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(o(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(o(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],2:[function(t,e,i){var n;n=function(){return function(){this.id=null,this.sourceUrl=null,this.sequence=null,this.system=null,this.title=null,this.description=null,this.advertiser=null,this.pricing=null,this.survey=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.viewableImpressionURLTemplates={},this.creatives=[],this.verifications=[],this.extensions=[]}}(),e.exports=n},{}],3:[function(t,e,i){var n,o,s;o=t("./parser"),s=t("./util"),n=function(){function t(){}var e,n;return t.cappingFreeLunch=0,t.cappingMinimumTimeInterval=0,t.options={withCredentials:!1,timeout:0},t.get=function(t,e,n){var s,r,a,l;if(r=+new Date,s=i.extend=function(t,e){var i,n;for(i in e)n=e[i],t[i]=n;return t},n||("function"==typeof e&&(n=e),a={}),(a=s(this.options,e)).vastId=e.vastId,this.totalCallsTimeout<r?(this.totalCalls=1,this.totalCallsTimeout=r+36e5):this.totalCalls++,!(this.cappingFreeLunch>=this.totalCalls)){if((l=r-this.lastSuccessfullAd)<0)this.lastSuccessfullAd=0;else if(l<this.cappingMinimumTimeInterval)return void n(null,new Error("VAST call canceled – ("+this.cappingMinimumTimeInterval+")ms minimum interval reached"));return o.parse(t,a,e.vastId,function(t,e,i){return n(t,e,i)})}n(null,new Error("VAST call canceled – FreeLunch capping not reached yet "+this.totalCalls+"/"+this.cappingFreeLunch))},n=s.storage,e=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(i){e(t,i,{get:function(){return n.getItem(i)},set:function(t){return n.setItem(i,t)},configurable:!1,enumerable:!0})}),null==t.lastSuccessfullAd&&(t.lastSuccessfullAd=0),null==t.totalCalls&&(t.totalCalls=0),null==t.totalCallsTimeout&&(t.totalCallsTimeout=0),t}(),e.exports=n},{"./parser":12,"./util":18}],4:[function(t,e,i){var n;n=function(){return function(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.altText=null,this.companionClickThroughURLTemplate=null,this.companionClickTrackingURLTemplates=[],this.trackingEvents={}}}(),e.exports=n},{}],5:[function(t,e,i){var n,o,s,r,a=function(t,e){for(var i in e)l.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;n=function(){return function(t){null==t&&(t={}),this.id=t.id||null,this.adId=t.adId||null,this.sequence=t.sequence||null,this.apiFramework=t.apiFramework||null,this.trackingEvents={}}}(),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null,this.icons=[]}return a(e,n),e}(),r=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="nonlinear",this.variations=[]}return a(e,n),e}(),o=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="companion",this.variations=[]}return a(e,n),e}(),e.exports={VASTCreativeLinear:s,VASTCreativeNonLinear:r,VASTCreativeCompanion:o}},{}],6:[function(t,e,i){var n;n=function(){return function(){this.attributes={},this.children=[]}}(),e.exports=n},{}],7:[function(t,e,i){var n;n=function(){return function(){this.name=null,this.value=null,this.attributes={}}}(),e.exports=n},{}],8:[function(t,e,i){var n;n=function(){return function(){this.program=null,this.height=0,this.width=0,this.xPosition=0,this.yPosition=0,this.apiFramework=null,this.offset=null,this.duration=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.iconClickThroughURLTemplate=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null}}(),e.exports=n},{}],9:[function(t,e,i){e.exports={client:t("./client"),tracker:t("./tracker"),parser:t("./parser"),util:t("./util")}},{"./client":3,"./parser":12,"./tracker":14,"./util":18}],10:[function(t,e,i){var n;n=function(){return function(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null}}(),e.exports=n},{}],11:[function(t,e,i){var n;n=function(){return function(){this.id=null,this.width=0,this.height=0,this.expandedWidth=0,this.expandedHeight=0,this.scalable=!0,this.maintainAspectRatio=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null}}(),e.exports=n},{}],12:[function(t,e,i){var n,o,s,r,a,l,d,u,c,p,h,m,f,b,g,v,y=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};o=t("./urlhandler"),g=t("./response"),s=t("./ad"),r=t("./extension"),a=t("./extensionchild"),v=t("./util"),c=t("./creative").VASTCreativeLinear,u=t("./creative").VASTCreativeCompanion,p=t("./creative").VASTCreativeNonLinear,m=t("./mediafile"),l=t("./verification").VASTAdVerificationJavaScript,h=t("./icon"),d=t("./companionad"),f=t("./nonlinear"),n=t("events").EventEmitter,b=function(){var t;function e(){}return t=[],e.addURLTemplateFilter=function(e){"function"==typeof e&&t.push(e)},e.removeURLTemplateFilter=function(){return t.pop()},e.countURLTemplateFilters=function(){return t.length},e.clearUrlTemplateFilters=function(){return t=[]},e.parse=function(t,e,i,n){return n||("function"==typeof e&&(n=e),e={}),this._parse(t,null,e,function(t,e){return null!=e&&(e.vastId=i),n(e,t,i)})},e.load=function(t,e,i){return i||("function"==typeof e&&(i=e),e={}),this.parseXmlDocument(null,[],e,t,i)},e.vent=new n,e.track=function(t,e,i){return this.vent.emit("VAST-error",e),v.track(t,e,i)},e.on=function(t,e){return this.vent.on(t,e)},e.once=function(t,e){return this.vent.once(t,e)},e.off=function(t,e){return this.vent.removeListener(t,e)},e._parse=function(e,i,n,s,r){var a,l,d,u;for(s||("function"==typeof n&&(s=n),n={}),l=0,d=t.length;l<d;l++)a=t[l],e=a(e);return null==i&&(i=[]),null==r?r=[]:r&&r.length>0&&(r=null),i.push(e),o.get(e,n,(u=this,function(t,o){return null!=t&&(r=null),null!=t?s(t):u.parseXmlDocument(e,i,n,o,s,r)}))},e.parseXmlDocument=function(t,i,n,o,s,r){var a,l,d,u,c,p,h,m,f,b,v,x,k,w,T,C,E,I,A,S,P,L,M,R;if(L=new g,null==(null!=o?o.documentElement:void 0)||"VAST"!==o.documentElement.nodeName)return s(new Error("Invalid VAST XMLDocument"));for(p=0,b=(A=o.documentElement.childNodes).length;p<b;p++)"Error"===(I=A[p]).nodeName&&(("function"==typeof n.checkApprovedDomain?n.checkApprovedDomain(e.parseNodeText(I)):void 0)?L.errorURLTemplates.push(e.parseNodeText(I)):null==n.checkApprovedDomain&&L.errorURLTemplates.push(e.parseNodeText(I)));for(d=[],h=0,v=(S=o.documentElement.childNodes).length;h<v;h++)"Ad"===(I=S[h]).nodeName&&d.push(I);for(m=0,x=d.length;m<x;m++)if(l=d[m],null!=(a=e.parseAdElement(l))){for(null!=n.wrapperSequence&&null==a.sequence&&1===d.length&&(a.sequence=n.wrapperSequence,n.wrapperSequence=null),L.ads.push(a),f=0,k=(P=a.extensions).length;f<k;f++)if("SmartMacros"===(c=P[f]).attributes.type){for(E={},C=0,w=(M=c.children).length;C<w;C++)E["[sas_"+(R=M[C]).name.replace(/ID$/g,"Id")+"]"]=R.value;r.push(E)}}else e.track(L.errorURLTemplates,{ERRORCODE:101});for(u=function(t,i,n){var o,r,l,d,u;if(null==t&&(t=null),null==i&&(i=!1),L){for(d=!0,o=!1,l=0,r=(u=L.ads).length;l<r;l++){if(null!=(a=u[l]).nextWrapperURL)return;a.creatives.length>0&&(d=!1)}return d&&(i||e.track(L.errorURLTemplates,{ERRORCODE:303},n)),0===L.ads.length&&(L=null,o=!0,null==t&&(t=new Error("No ads: no valid <inline> has been found"))),s(t,L,o)}},T=L.ads.length;T--;)null!=(a=L.ads[T]).nextWrapperURL&&function(o){var s;i.length>(null!==n.wrapperLimit?n.wrapperLimit:9)||(s=o.nextWrapperURL,y.call(i,s)>=0)?(e.track(o.errorURLTemplates,{ERRORCODE:302},r),L.ads.splice(L.ads.indexOf(o),1),u(new Error("Wrapper limit reached, as defined by the video player"))):(null!=t&&o.nextWrapperURL&&(o.nextWrapperURL=e.resolveVastAdTagURI(o.nextWrapperURL,t)),o.sourceUrl=o.nextWrapperURL||t,n.wrapperSequence=o.sequence,e._parse(o.nextWrapperURL,i,n,function(t,i,n){var s,a,l,d,c,p;if(s=!1,null==t||n)if(null==i)e.track(o.errorURLTemplates,{ERRORCODE:303},r),L.ads.splice(L.ads.indexOf(o),1),s=!0;else for(L.errorURLTemplates=L.errorURLTemplates.concat(i.errorURLTemplates),a=L.ads.indexOf(o),L.ads.splice(a,1),d=0,l=(c=i.ads).length;d<l;d++)p=c[d],e.mergeWrapperAdData(p,o),L.ads.splice(++a,0,p);else e.track(o.errorURLTemplates,{ERRORCODE:301},r),L.ads.splice(L.ads.indexOf(o),1),s=!0;return delete o.nextWrapperURL,u(t,s,r)},r))}(a);return u()},e.resolveVastAdTagURI=function(t,e){return 0===t.indexOf("//")?""+location.protocol+t:-1===t.indexOf("://")?e.slice(0,e.lastIndexOf("/"))+"/"+t:t},e.mergeWrapperAdData=function(t,e){var i,n,o,s,r,a,l,d,u,c,p,h,m,f,b,g,v,y,x,k,w,T,C;for(t.errorURLTemplates=e.errorURLTemplates.concat(t.errorURLTemplates),t.impressionURLTemplates=e.impressionURLTemplates.concat(t.impressionURLTemplates),t.extensions=e.extensions.concat(t.extensions),t.sourceUrl=t.sourceUrl||e.sourceUrl,r=0,u=(m=t.creatives).length;r<u;r++)if(o=m[r],null!=(null!=(f=e.trackingEvents)?f[o.type]:void 0))for(s in b=e.trackingEvents[o.type])T=b[s],(i=o.trackingEvents)[s]||(i[s]=[]),o.trackingEvents[s]=o.trackingEvents[s].concat(T);for(C in e.viewableImpressionURLTemplates)(n=t.viewableImpressionURLTemplates)[C]||(n[C]=[]),t.viewableImpressionURLTemplates[C]=e.viewableImpressionURLTemplates[C].concat(t.viewableImpressionURLTemplates[C]);if(null!=(g=e.videoClickTrackingURLTemplates)?g.length:void 0)for(a=0,c=(v=t.creatives).length;a<c;a++)"linear"===(o=v[a]).type&&(o.videoClickTrackingURLTemplates=o.videoClickTrackingURLTemplates.concat(e.videoClickTrackingURLTemplates));if(null!=(y=e.videoCustomClickURLTemplates)?y.length:void 0)for(l=0,p=(x=t.creatives).length;l<p;l++)"linear"===(o=x[l]).type&&(o.videoCustomClickURLTemplates=o.videoCustomClickURLTemplates.concat(e.videoCustomClickURLTemplates));if(null!=e.videoClickThroughURLTemplate){for(w=[],d=0,h=(k=t.creatives).length;d<h;d++)"linear"===(o=k[d]).type&&null==o.videoClickThroughURLTemplate?w.push(o.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate):w.push(void 0);return w}},e.childByName=function(t,e){var i,n,o,s;for(n=0,o=(s=t.childNodes).length;n<o;n++)if((i=s[n]).nodeName===e)return i},e.childsByName=function(t,e){var i,n,o,s,r;for(n=[],o=0,s=(r=t.childNodes).length;o<s;o++)(i=r[o]).nodeName===e&&n.push(i);return n},e.childsByNames=function(t,e){var i,n,o,s,r,a;for(n=[],o=0,s=(r=t.childNodes).length;o<s;o++)a=(i=r[o]).nodeName,y.call(e,a)>=0&&n.push(i);return n},e.parseAdElement=function(t){var e,i,n,o,s;for(i=0,n=(o=t.childNodes).length;i<n;i++)if("Wrapper"===(s=(e=o[i]).nodeName)||"InLine"===s){if(this.copyNodeAttribute("id",t,e),this.copyNodeAttribute("sequence",t,e),"Wrapper"===e.nodeName)return this.parseWrapperElement(e);if("InLine"===e.nodeName)return this.parseInLineElement(e)}},e.parseWrapperElement=function(t){var e,i,n,o,s,r,a,l,d,u,c,p,h,m,f,b,g,v,y,x,k,w,T;for(e=this.parseInLineElement(t),null!=(T=this.childByName(t,"VASTAdTagURI"))?e.nextWrapperURL=this.parseNodeText(T):null!=(T=this.childByName(t,"VASTAdTagURL"))&&(e.nextWrapperURL=this.parseNodeText(this.childByName(T,"URL"))),e.sourceUrl=e.nextWrapperURL||e.sourceUrl,s=0,u=(f=e.creatives).length;s<u;s++)if("linear"===(b=(w=f[s]).type)||"nonlinear"===b){if(null!=w.trackingEvents)for(o in e.trackingEvents||(e.trackingEvents={}),(i=e.trackingEvents)[m=w.type]||(i[m]={}),g=w.trackingEvents)for(k=g[o],(n=e.trackingEvents[w.type])[o]||(n[o]=[]),a=0,c=k.length;a<c;a++)x=k[a],e.trackingEvents[w.type][o].push(x);if(null!=w.videoClickTrackingURLTemplates)for(e.videoClickTrackingURLTemplates||(e.videoClickTrackingURLTemplates=[]),l=0,p=(v=w.videoClickTrackingURLTemplates).length;l<p;l++)r=v[l],e.videoClickTrackingURLTemplates.push(r);if(null!=w.videoClickThroughURLTemplate&&(e.videoClickThroughURLTemplate=w.videoClickThroughURLTemplate),null!=w.videoCustomClickURLTemplates)for(e.videoCustomClickURLTemplates||(e.videoCustomClickURLTemplates=[]),d=0,h=(y=w.videoCustomClickURLTemplates).length;d<h;d++)r=y[d],e.videoCustomClickURLTemplates.push(r)}if(null!=e.nextWrapperURL)return e},e.parseInLineElement=function(t){var e,i,n,o,r,a,l,d,u,c,p,h,m,f,b,g,v,y,x,k,w,T,C,E,I,A,S,P,L,M;for((e=new s).id=t.getAttribute("id")||null,e.sequence=t.getAttribute("sequence")||null,u=0,m=(T=t.childNodes).length;u<m;u++)switch((w=T[u]).nodeName){case"Error":e.errorURLTemplates.push(this.parseNodeText(w));break;case"Impression":e.impressionURLTemplates.push(this.parseNodeText(w));break;case"ViewableImpression":for(c=0,f=(C=w.childNodes).length;c<f;c++)switch((M=C[c]).nodeName){case"Viewable":(i=e.viewableImpressionURLTemplates).impressionViewable||(i.impressionViewable=[]),e.viewableImpressionURLTemplates.impressionViewable.push(this.parseNodeText(M));break;case"NotViewable":(n=e.viewableImpressionURLTemplates).impressionNotViewable||(n.impressionNotViewable=[]),e.viewableImpressionURLTemplates.impressionNotViewable.push(this.parseNodeText(M));break;case"ViewUndetermined":(o=e.viewableImpressionURLTemplates).impressionViewUndetermined||(o.impressionViewUndetermined=[]),e.viewableImpressionURLTemplates.impressionViewUndetermined.push(this.parseNodeText(M))}break;case"Creatives":for(p=0,b=(E=this.childsByName(w,"Creative")).length;p<b;p++)for(a={id:(l=E[p]).getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(l),sequence:l.getAttribute("sequence")||null,apiFramework:l.getAttribute("apiFramework")||null},h=0,g=(I=l.childNodes).length;h<g;h++)switch((d=I[h]).nodeName){case"Linear":(r=this.parseCreativeLinearElement(d,a))&&e.creatives.push(r);break;case"NonLinearAds":(r=this.parseNonLinear(d,a))&&e.creatives.push(r);break;case"CompanionAds":(r=this.parseCompanionAd(d,a))&&e.creatives.push(r)}break;case"Extensions":this.parseExtension(e.extensions,this.childsByName(w,"Extension"));break;case"AdVerifications":for(x=0,v=(A=this.childsByName(w,"Verification")).length;x<v;x++)for(k=0,y=(S=A[x].childNodes).length;k<y;k++)switch((L=S[k]).nodeName){case"JavaScriptResource":(P=this.parseJavaScriptResource(L))&&e.verifications.push(P)}break;case"AdSystem":e.system={value:this.parseNodeText(w),version:w.getAttribute("version")||null};break;case"AdTitle":e.title=this.parseNodeText(w);break;case"Description":e.description=this.parseNodeText(w);break;case"Advertiser":e.advertiser=this.parseNodeText(w);break;case"Pricing":e.pricing={value:this.parseNodeText(w),model:w.getAttribute("model")||null,currency:w.getAttribute("currency")||null};break;case"Survey":e.survey=this.parseNodeText(w)}return e},e.parseExtension=function(t,e){var i,n,o,s,l,d,u,c,p,h,m,f,b,g,v,y,x,k,w;for(k=[],u=0,m=e.length;u<m;u++){if(l=e[u],n=new r,l.attributes)for(c=0,f=(v=l.attributes).length;c<f;c++)d=v[c],n.attributes[d.nodeName]=d.nodeValue;for(p=0,b=(y=l.childNodes).length;p<b;p++)if(i=y[p],w=this.parseNodeText(i),"#comment"!==i.nodeName&&""!==w){if((o=new a).name=i.nodeName,o.value=w,i.attributes)for(h=0,g=(x=i.attributes).length;h<g;h++)s=x[h],o.attributes[s.nodeName]=s.nodeValue;n.children.push(o)}k.push(t.push(n))}return k},e.parseCreativeLinearElement=function(t,e){var i,n,o,s,r,a,l,d,u,p,f,b,g,v,y,x,k,w,T,C,E,I,A,S,P,L,M,R,_,U,N,q,V,B,D,O,F,H,W,z,j,G,X,Q,J,K,Y,$,Z,tt,et,it,nt,ot,st,rt,at,lt,dt;if((s=new c(e)).duration=this.parseDuration(this.parseNodeText(this.childByName(t,"Duration"))),-1===s.duration&&"Wrapper"!==t.parentNode.parentNode.parentNode.nodeName)return null;if(null==(ot=t.getAttribute("skipoffset"))?s.skipDelay=null:"%"===ot.charAt(ot.length-1)?(H=parseInt(ot,10),s.skipDelay=s.duration*(H/100)):s.skipDelay=this.parseDuration(ot),null!=(dt=this.childByName(t,"VideoClicks"))){for(s.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(dt,"ClickThrough")),d=0,w=(j=this.childsByName(dt,"ClickTracking")).length;d<w;d++)o=j[d],s.videoClickTrackingURLTemplates.push(this.parseNodeText(o));for(y=0,T=(G=this.childsByName(dt,"CustomClick")).length;y<T;y++)r=G[y],s.videoCustomClickURLTemplates.push(this.parseNodeText(r))}for(null!=(i=this.childByName(t,"AdParameters"))&&(s.adParameters=this.parseNodeText(i)),x=0,E=(Q=this.childsByName(t,"TrackingEvents")).length;x<E;x++)for(at=Q[x],k=0,I=(J=this.childsByName(at,"Tracking")).length;k<I;k++)if(a=(rt=J[k]).getAttribute("event"),lt=this.parseNodeText(rt),null!=a&&null!=lt){if("progress"===a){if(!(O=rt.getAttribute("offset")))continue;a="%"===O.charAt(O.length-1)?"progress-"+O:"progress-"+Math.round(this.parseDuration(O))}null==(n=s.trackingEvents)[a]&&(n[a]=[]),s.trackingEvents[a].push(lt)}for(_=0,A=(K=this.childsByName(t,"MediaFiles")).length;_<A;_++)for(V=K[_],B=0,S=(Y=this.childsByNames(V,["MediaFile","InteractiveCreativeFile"])).length;B<S;B++)q=Y[B],(N=new m).id=q.getAttribute("id"),N.fileURL=this.parseNodeText(q),N.deliveryType=q.getAttribute("delivery"),N.codec=q.getAttribute("codec"),N.mimeType=q.getAttribute("type"),N.apiFramework=q.getAttribute("apiFramework"),N.bitrate=parseInt(q.getAttribute("bitrate")||0),N.minBitrate=parseInt(q.getAttribute("minBitrate")||0),N.maxBitrate=parseInt(q.getAttribute("maxBitrate")||0),N.width=parseInt(q.getAttribute("width")||0),N.height=parseInt(q.getAttribute("height")||0),(nt=q.getAttribute("scalable"))&&"string"==typeof nt&&("true"===(nt=nt.toLowerCase())?N.scalable=!0:"false"===nt&&(N.scalable=!1)),(U=q.getAttribute("maintainAspectRatio"))&&"string"==typeof U&&("true"===(U=U.toLowerCase())?N.maintainAspectRatio=!0:"false"===U&&(N.maintainAspectRatio=!1)),s.mediaFiles.push(N);if(null!=(g=this.childByName(t,"Icons")))for(D=0,P=($=this.childsByName(g,"Icon")).length;D<P;D++){for(b=$[D],(u=new h).program=b.getAttribute("program"),u.height=parseInt(b.getAttribute("height")||0),u.width=parseInt(b.getAttribute("width")||0),u.xPosition=this.parseXPosition(b.getAttribute("xPosition")),u.yPosition=this.parseYPosition(b.getAttribute("yPosition")),u.apiFramework=b.getAttribute("apiFramework"),u.offset=this.parseDuration(b.getAttribute("offset")),u.duration=this.parseDuration(b.getAttribute("duration")),F=0,L=(Z=this.childsByName(b,"HTMLResource")).length;F<L;F++)l=Z[F],u.type=l.getAttribute("creativeType")||"text/html",u.htmlResource=this.parseNodeText(l);for(W=0,M=(tt=this.childsByName(b,"IFrameResource")).length;W<M;W++)v=tt[W],u.type=v.getAttribute("creativeType")||0,u.iframeResource=this.parseNodeText(v);for(z=0,R=(et=this.childsByName(b,"StaticResource")).length;z<R;z++)st=et[z],u.type=st.getAttribute("creativeType")||0,u.staticResource=this.parseNodeText(st);if(null!=(f=this.childByName(b,"IconClicks")))for(u.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(f,"IconClickThrough")),it=0,C=(X=this.childsByName(f,"IconClickTracking")).length;it<C;it++)p=X[it],u.iconClickTrackingURLTemplates.push(this.parseNodeText(p));u.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(b,"IconViewTracking")),s.icons.push(u)}return s},e.parseNonLinear=function(t,e){var i,n,o,s,r,a,l,d,u,c,h,m,b,g,v,y,x,k,w,T,C,E,I,A,S,P,L,M,R,_,U,N,q,V,B;for(s=new p(e),l=0,m=(S=this.childsByName(t,"TrackingEvents")).length;l<m;l++)for(V=S[l],u=0,b=(P=this.childsByName(V,"Tracking")).length;u<b;u++){if(r=(q=P[u]).getAttribute("event"),B=this.parseNodeText(q),null!=r&&null!=B&&"progress"===r){if(!(A=q.getAttribute("offset")))continue;r="%"===A.charAt(A.length-1)?"progress-"+A:"progress-"+Math.round(this.parseDuration(A))}null==(n=s.trackingEvents)[r]&&(n[r]=[]),s.trackingEvents[r].push(B)}for(c=0,g=(L=this.childsByName(t,"NonLinear")).length;c<g;c++){for(E=L[c],(C=new f).id=E.getAttribute("id")||null,C.width=E.getAttribute("width"),C.height=E.getAttribute("height"),C.expandedWidth=E.getAttribute("expandedWidth"),C.expandedHeight=E.getAttribute("expandedHeight"),C.scalable=this.parseBoolean(E.getAttribute("scalable")),C.maintainAspectRatio=this.parseBoolean(E.getAttribute("maintainAspectRatio")),C.minSuggestedDuration=this.parseDuration(E.getAttribute("minSuggestedDuration")),C.apiFramework=E.getAttribute("apiFramework"),h=0,v=(M=this.childsByName(E,"HTMLResource")).length;h<v;h++)a=M[h],C.type=a.getAttribute("creativeType")||"text/html",C.htmlResource=this.parseNodeText(a);for(w=0,y=(R=this.childsByName(E,"IFrameResource")).length;w<y;w++)d=R[w],C.type=d.getAttribute("creativeType")||"iframe",C.iframeResource=this.parseNodeText(d);for(T=0,x=(_=this.childsByName(E,"StaticResource")).length;T<x;T++)N=_[T],C.type=N.getAttribute("creativeType")||0,C.staticResource=this.parseNodeText(N);for(null!=(i=this.childByName(E,"AdParameters"))&&(C.adParameters=this.parseNodeText(i)),C.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(E,"NonLinearClickThrough")),I=0,k=(U=this.childsByName(E,"NonLinearClickTracking")).length;I<k;I++)o=U[I],C.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(o));s.variations.push(C)}return s},e.parseCompanionAd=function(t,e){var i,n,o,s,r,a,l,c,p,h,m,f,b,g,v,y,x,k,w,T,C,E,I,A,S,P,L,M,R,_,U,N,q,V,B,D,O;for(a=new u(e),p=0,g=(P=this.childsByName(t,"Companion")).length;p<g;p++){for(r=P[p],(s=new d).id=r.getAttribute("id")||null,s.width=r.getAttribute("width"),s.height=r.getAttribute("height"),s.companionClickTrackingURLTemplates=[],m=0,v=(L=this.childsByName(r,"HTMLResource")).length;m<v;m++)c=L[m],s.type=c.getAttribute("creativeType")||"text/html",s.htmlResource=this.parseNodeText(c);for(f=0,y=(M=this.childsByName(r,"IFrameResource")).length;f<y;f++)h=M[f],s.type=h.getAttribute("creativeType")||0,s.iframeResource=this.parseNodeText(h);for(b=0,x=(R=this.childsByName(r,"StaticResource")).length;b<x;b++){for(V=R[b],s.type=V.getAttribute("creativeType")||0,E=0,k=(_=this.childsByName(r,"AltText")).length;E<k;E++)n=_[E],s.altText=this.parseNodeText(n);s.staticResource=this.parseNodeText(V)}for(I=0,w=(U=this.childsByName(r,"TrackingEvents")).length;I<w;I++)for(D=U[I],A=0,T=(N=this.childsByName(D,"Tracking")).length;A<T;A++)l=(B=N[A]).getAttribute("event"),O=this.parseNodeText(B),null!=l&&null!=O&&(null==(i=s.trackingEvents)[l]&&(i[l]=[]),s.trackingEvents[l].push(O));for(S=0,C=(q=this.childsByName(r,"CompanionClickTracking")).length;S<C;S++)o=q[S],s.companionClickTrackingURLTemplates.push(this.parseNodeText(o));s.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(r,"CompanionClickThrough")),s.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(r,"CompanionClickTracking")),a.variations.push(s)}return a},e.parseJavaScriptResource=function(t){var e,i;return(e=this.parseNodeText(t))?((i=new l).url=e,i):null},e.parseDuration=function(t){var e,i,n,o,s;return null==t?-1:v.isNumeric(t)?parseInt(t):3!==(e=t.split(":")).length?-1:(s=e[2].split("."),o=parseInt(s[0]),2===s.length&&(o+=parseFloat("0."+s[1])),n=parseInt(60*e[1]),i=parseInt(60*e[0]*60),isNaN(i)||isNaN(n)||isNaN(o)||n>3600||o>60?-1:i+n+o)},e.parseXPosition=function(t){return"left"===t||"right"===t?t:parseInt(t||0)},e.parseYPosition=function(t){return"top"===t||"bottom"===t?t:parseInt(t||0)},e.parseBoolean=function(t){return"true"===t||"TRUE"===t||"1"===t},e.parseNodeText=function(t){return t&&(t.textContent||t.text||"").trim()},e.copyNodeAttribute=function(t,e,i){var n;if(n=e.getAttribute(t))return i.setAttribute(t,n)},e.parseCreativeAdIdAttribute=function(t){return t.getAttribute("AdID")||t.getAttribute("adID")||t.getAttribute("adId")||null},e}(),e.exports=b},{"./ad":2,"./companionad":4,"./creative":5,"./extension":6,"./extensionchild":7,"./icon":8,"./mediafile":10,"./nonlinear":11,"./response":13,"./urlhandler":15,"./util":18,"./verification":19,events:1}],13:[function(t,e,i){var n;n=function(){return function(){this.ads=[],this.errorURLTemplates=[],this.macros={}}}(),e.exports=n},{}],14:[function(t,e,i){var n,o,s,r,a,l,d,u={}.hasOwnProperty;o=t("./client"),d=t("./util"),r=t("./creative").VASTCreativeLinear,a=t("./nonlinear"),s=t("./companionad"),n=t("events").EventEmitter,l=function(t){function e(t,e,i,n){var l,d,u;for(l in this.ad=t,this.creative=e,this.variation=null!=i?i:null,this.macros=null!=n?n:{},this.muted=!1,this.impressed=!1,this.viewImpressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],this._alreadyTriggeredQuartiles={},u=this.creative.trackingEvents)d=u[l],this.trackingEvents[l]=d.slice(0);this.creative instanceof r?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1,this.variation&&(this.variation instanceof a?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates):this.variation instanceof s&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates))),this.on("start",function(){o.lastSuccessfullAd=+new Date})}return function(t,e){for(var i in e)u.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,n),e.off=function(t,e){return this.removeListener(t,e)},e.prototype.setDuration=function(t){return this.assetDuration=t,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},e.prototype.setProgress=function(t){var e,i,n,o,s,r,a,l,d;if(-1===(l=null===this.skipDelay?this.skipDelayDefault:this.skipDelay)||this.skipable||(l>t?this.emit("skip-countdown",l-t):(this.skipable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){if(i=[],t>0)for(r in i.push("start"),s=Math.round(t/this.assetDuration*100),i.push("progress-"+s+"%"),i.push("progress-"+Math.round(t)),a=this.quartiles)d=a[r],this.isQuartileReached(r,d,t)&&(i.push(r),this._alreadyTriggeredQuartiles[r]=!0);for(n=0,o=i.length;n<o;n++)e=i[n],this.track(e,!0);t<this.progress&&this.track("rewind")}return this.progress=t},e.prototype.isQuartileReached=function(t,e,i){var n;return n=!1,e<=i&&!this._alreadyTriggeredQuartiles[t]&&(n=!0),n},e.prototype.setMuted=function(t){return this.muted!==t&&this.track(t?"mute":"unmute"),this.muted=t},e.prototype.setPaused=function(t){return this.paused!==t&&this.track(t?"pause":"resume"),this.paused=t},e.prototype.setFullscreen=function(t){return this.fullscreen!==t&&this.track(t?"fullscreen":"exitFullscreen"),this.fullscreen=t},e.prototype.setExpand=function(t){return this.expanded!==t&&this.track(t?"expand":"collapse"),this.expanded=t},e.prototype.setSkipDelay=function(t){if("number"==typeof t)return this.skipDelay=t},e.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")},e.prototype.errorWithCode=function(t){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:t})},e.prototype.complete=function(){return this.track("complete")},e.prototype.close=function(){return this.track(this.linear?"closeLinear":"close")},e.prototype.stop=function(){},e.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},e.prototype.click=function(){var t,e,i;if((null!=(e=this.clickTrackingURLTemplates)?e.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate)return this.linear&&(i={CONTENTPLAYHEAD:this.progressFormated()}),t=d.resolveURLTemplates([this.clickThroughURLTemplate],i)[0],this.emit("clickthrough",t)},e.prototype.track=function(t,e){var i,n;null==e&&(e=!1),"closeLinear"===t&&null==this.trackingEvents[t]&&null!=this.trackingEvents.close&&(t="close"),n=this.trackingEvents[t],i=this.emitAlwaysEvents.indexOf(t),null!=n?(this.emit(t,""),this.trackURLs(n)):-1!==i&&this.emit(t,""),!0===e&&(delete this.trackingEvents[t],i>-1&&this.emitAlwaysEvents.splice(i,1))},e.prototype.trackViewabilityImpression=function(t){return this.viewImpressed||(this.viewImpressed=!0),this.ad.viewableImpressionURLTemplates[t]&&this.trackURLs(this.ad.viewableImpressionURLTemplates[t]),this.track(t)},e.prototype.trackURLs=function(t,e){var i;return null==e&&(e={}),this.linear&&(null!=(null!=(i=this.creative.mediaFiles[0])?i.fileURL:void 0)&&(e.ASSETURI=this.creative.mediaFiles[0].fileURL),e.CONTENTPLAYHEAD=this.progressFormated()),d.track(t,e,this.macros)},e.prototype.progressFormated=function(){var t,e,i,n;return(t=(n=parseInt(this.progress))/3600).length<2&&(t="0"+t),(e=n/60%60).length<2&&(e="0"+e),(i=n%60).length<2&&(i="0"+e),t+":"+e+":"+i+"."+parseInt(100*(this.progress-n))},e}(),e.exports=l},{"./client":3,"./companionad":4,"./creative":5,"./nonlinear":11,"./util":18,events:1}],15:[function(t,e,i){var n,o,s;s=t("./urlhandlers/xmlhttprequest"),o=t("./urlhandlers/flash"),n=function(){function e(){}return e.get=function(e,i,n){var r,a;return n||("function"==typeof i&&(n=i),i={}),null!=i.response?(a=i.response,delete i.response,n(null,a)):(null!=(r=i.urlhandler)?r.supported():void 0)?i.urlhandler.get(e,i,n):"undefined"==typeof window||null===window?t("./urlhandlers/node").get(e,i,n):s.supported()?s.get(e,i,n):o.supported()?o.get(e,i,n):n(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))},e}(),e.exports=n},{"./urlhandlers/flash":16,"./urlhandlers/xmlhttprequest":17}],16:[function(t,e,i){var n;n=function(){function t(){}return t.xdr=function(){var t;return window.XDomainRequest&&(t=new XDomainRequest),t},t.supported=function(){return!!this.xdr()},t.get=function(t,e,i){var n,o;return(o="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(o.async=!1,(n=this.xdr()).open("GET",t),n.timeout=e.timeout||0,n.withCredentials=e.withCredentials||!1,n.send(),n.onprogress=function(){},n.onload=function(){return o.loadXML(n.responseText),i(null,o)}):i(new Error("FlashURLHandler: Microsoft.XMLDOM format not supported"))},t}(),e.exports=n},{}],17:[function(t,e,i){var n;n=function(){function t(){}return t.xhr=function(){var t;if("withCredentials"in(t=new window.XMLHttpRequest))return t},t.supported=function(){return!!this.xhr()},t.get=function(t,e,i){var n;if("https:"===window.location.protocol&&0===t.indexOf("http://"))return i(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{return(n=this.xhr()).open("GET",t),n.timeout=e.timeout||0,n.withCredentials=e.withCredentials||!1,n.overrideMimeType&&n.overrideMimeType("text/xml"),n.onreadystatechange=function(){if(4===n.readyState)return 200===n.status?i(null,n.responseXML):i(new Error("XHRURLHandler: "+n.statusText))},n.send()}catch(t){return i(new Error("XHRURLHandler: Unexpected error"))}},t}(),e.exports=n},{}],18:[function(t,e,i){var n;n=function(){function t(){}return t.track=function(t,e,i){var n,o,s,r,a,l;for(l=[],r=0,a=(o=this.resolveURLTemplates(t,e,i)).length;r<a;r++)n=o[r],"undefined"!=typeof window&&null!==window&&(s=new Image,l.push(s.src=n));return l},t.resolveURLTemplates=function(t,e){var i,n,o,s,r,a,l,d;for(null==e&&(e={}),i=[],null!=e.ASSETURI&&(e.ASSETURI=this.encodeURIComponentRFC3986(e.ASSETURI)),null!=e.CONTENTPLAYHEAD&&(e.CONTENTPLAYHEAD=this.encodeURIComponentRFC3986(e.CONTENTPLAYHEAD)),null==e.ERRORCODE||/^[0-9]{3}$/.test(e.ERRORCODE)||(e.ERRORCODE=900),e.CACHEBUSTING=this.leftpad(Math.round(1e8*Math.random()).toString()),e.TIMESTAMP=this.encodeURIComponentRFC3986((new Date).toISOString()),e.RANDOM=e.random=e.CACHEBUSTING,n=0,s=t.length;n<s;n++)if(l=t[n]){for(o in e)d=e[o],r="["+o+"]",a="%%"+o+"%%",l=(l=l.replace(r,d)).replace(a,d);i.push(l)}return i},t.encodeURIComponentRFC3986=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})},t.leftpad=function(t){return t.length<8?function(){var e,i,n;for(n=[],e=0,i=8-t.length;0<=i?e<i:e>i;0<=i?e++:e--)n.push("0");return n}().join("")+t:t},t.storage=function(){var t,e;try{e="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(t){t,e=null}return(null==e||function(t){var e;try{if(e="__VASTUtil__",t.setItem(e,e),t.getItem(e)!==e)return!0}catch(t){return t,!0}return!1}(e))&&(t={},e={length:0,getItem:function(e){return t[e]},setItem:function(e,i){t[e]=i,this.length=Object.keys(t).length},removeItem:function(e){delete t[e],this.length=Object.keys(t).length},clear:function(){t={},this.length=0}}),e}(),t.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},t}(),e.exports=n},{}],19:[function(t,e,i){var n,o,s={}.hasOwnProperty;n=function(){return function(){this.url=null,this.type=null}}(),o=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="javascript"}return function(t,e){for(var i in e)s.call(e,i)&&(t[i]=e[i]);function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,n),e}(),e.exports={VASTAdVerificationJavaScript:o}},{}]},{},[9])(9)},t.exports=o()},function(t,e){var i=function(t,e){this.collection=t,this.legend=e?"<"+e+">":"id="+Math.random().toString().substr(2),this.currentId=null,this.rewind()};i.prototype.rewind=function(){this.currentId=this.collection.itemsIds.length>0?this.collection.itemsIds[0]:null},i.prototype.getCurrent=function(){return this.currentId?this.collection.get(this.currentId):null},i.prototype.getNext=function(t){if((t=t||null)&&!this.collection.has(t))throw new Error;var e=this.collection.itemsIds.indexOf(t?t.id||t:this.currentId);return e>=this.collection.itemsIds.length-1?null:this.collection.get(this.collection.itemsIds[e+1])},i.prototype.getPrev=function(t){if((t=t||null)&&!this.collection.has(t))throw new Error;var e=this.collection.itemsIds.indexOf(t?t.id||t:this.currentId);return 0==e?null:this.collection.get(this.collection.itemsIds[e-1])},i.prototype.setCurrent=function(t){if(!this.collection.has(t))throw new Error;this.currentId=t.id||t},t.exports=i},function(t,e){var i=function(t){this.itemsProps={}};i.prototype.get=function(t,e){var i=t.id||t;if(i in this.itemsProps&&e in this.itemsProps[i])return this.itemsProps[i][e]},i.prototype.set=function(t,e,i){var n=t.id||t;n in this.itemsProps||(this.itemsProps[n]={}),this.itemsProps[n][e]=i},i.prototype.remove=function(t,e){var i=t.id||t;i in this.itemsProps&&e in this.itemsProps[i]&&delete this.itemsProps[i][e]},t.exports=i},function(t,e){t.exports=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}},function(t,e){var i=function(){this.items={},this.itemsIds=[]};i.prototype.add=function(t){this.itemsIds.push(t.id),this.items[t.id]=t},i.prototype.addToStart=function(t){this.itemsIds.unshift(t.id),this.items[t.id]=t},i.prototype.remove=function(t){var e=this.itemsIds.indexOf(t.id);e>-1&&this.itemsIds.splice(e,1),this.items[t.id]&&delete this.items[t.id]},i.prototype.length=function(){return this.itemsIds.length},i.prototype.get=function(t){return t in this.items?this.items[t]:null},i.prototype.has=function(t){return(t.id||t)in this.items},i.prototype.first=function(){return this.get(this.itemsIds[0])},i.prototype.last=function(){return this.get(this.itemsIds[this.itemsIds.length-1])},i.prototype.moveItem=function(t,e){this.itemsIds.move(this.itemsIds.indexOf(t),this.itemsIds.indexOf(e)+1)},t.exports=i},function(t,e,i){var n=i(18),o=i(3),s=function(t){this.macroParams="undefined"!=typeof SH_playerConfig?n(SH_playerConfig.passthroughParams,SH_playerConfig.macros):null;var e=this;this.getPublisherPageUrl=function(){if(e.macroParams)return e.macroParams.pageurl||"";if(window.top===window)return window.location.href.replace(window.location.hash,"");try{return window.top.location.href.replace(window.top.location.hash,"")}catch(t){return window.location.href.replace(window.location.hash,"")}};var i=function(){return Math.floor(1e8*Math.random())};if(this.getPlayerSize=function(t,e){if(t&&t>2&&"undefined"!=typeof SH_playerConfig&&SH_playerConfig.aspectRatio&&1.3*SH_playerConfig.aspectRatio<t/e)return{width:t,height:Math.floor(t/SH_playerConfig.aspectRatio)};if(t&&t>2&&e&&e>2){var i=e;return"undefined"!=typeof SH_playerConfig&&1==SH_playerConfig.aspectRatio&&t!=e&&(i=t),{width:t,height:i}}return t&&t>2&&"undefined"!=typeof SH_playerConfig&&SH_playerConfig.aspectRatio?{width:t,height:Math.floor(t/SH_playerConfig.aspectRatio)}:e&&e>2&&"undefined"!=typeof SH_playerConfig&&SH_playerConfig.aspectRatio?{width:Math.floor(e*SH_playerConfig.aspectRatio),height:e}:"undefined"!=typeof SH_playerConfig?{width:SH_playerConfig.size.expected_width,height:SH_playerConfig.size.expected_height}:void 0},this.getPlayerWidth=function(){return this.getPlayerSize(document.querySelector("#video-host").offsetWidth,document.querySelector("#video-host").offsetHeight).width},this.getPlayerHeight=function(){return this.getPlayerSize(document.querySelector("#video-host").offsetWidth,document.querySelector("#video-host").offsetHeight).height},this.getRealPlayerWidth=function(){return document.querySelector("body").offsetWidth},this.getRealPlayerHeight=function(){return document.querySelector("body").offsetHeight},this.getViewability=function(){return"function"!=typeof pubtagGateway().getViewabilitySize?0:pubtagGateway().getViewabilitySize()||0},this.getAdVideoType=function(){var e=t.getStatus().currentEpisode;if(!e||e&&"ad"!=e.featuring)return"";var i=t.getStatus().currentEpisode.mediaId;return i?t.getMedia(i).type:""},this.macros={"[PAGEURL]":this.getPublisherPageUrl,"[PAGEURL_E2]":function(){return encodeURIComponent(e.getPublisherPageUrl())},"[PAGEDOMAIN]":function(){if(e.macroParams&&e.macroParams.pagedomain)return e.macroParams.pagedomain;if(window.top===window)return window.location.host;try{return window.top.location.host}catch(t){return window.location.host}},"[[PUBLISHER_PAGE_URL]]":this.getPublisherPageUrl,"[DO_NOT_TRACK]":function(){return!0===navigator.doNotTrack||1==navigator.doNotTrack||"1"==navigator.doNotTrack||"yes"==navigator.doNotTrack?1:0},"[TIMESTAMP]":function(){return parseInt((new Date).getTime()/1e3)},"[CACHEBUSTER]":i,"[CACHEBUSTING]":i,"[NONCE]":i,"[RANDOM]":i,"[VIEWPORT_WIDTH]":function(){if(window.top===window)return window.document.documentElement.clientWidth;try{return window.top.document.documentElement.clientWidth}catch(t){return""}},"[VIEWPORT_HEIGHT]":function(){if(window.top===window)return window.document.documentElement.clientHeight;try{return window.top.document.documentElement.clientHeight}catch(t){return""}},"[VPW]":this.getPlayerWidth,"[VPH]":this.getPlayerHeight,"[RVPW]":this.getRealPlayerWidth,"[RVPH]":this.getRealPlayerHeight,"[VBLTY]":this.getViewability,"[PLAYER_WIDTH]":this.getPlayerWidth,"[PLAYER_HEIGHT]":this.getPlayerHeight,"[PLAYER_TYPE]":function(){return e.macroParams?e.macroParams.player_type:""},"[PLAYER_ENGINE]":function(){return e.macroParams?e.macroParams.player_engine:""},"[DEVICE_SIZE]":function(){return e.macroParams?e.macroParams.device_size:""},"[CONTENT_ID]":function(){return t.getStatus().currentEpisode?t.getMedia(t.getStatus().currentEpisode.mediaId).vastAdId:""},"[CONTENT_OFFSET]":function(){return parseInt(t.duplex.visible().currentTime)},"[VIDEOFILE_URL]":function(){var e=t.getStatus().currentEpisode;if(!e||e&&"ad"!=e.featuring)return"";var i=e.mediaId;if(!i)return"";var n=t.getMedia(i);return n.vpaidVideoUrl?n.vpaidVideoUrl:n.src},"[SH_CRFMT]":this.getAdVideoType},this.extendMacros=function(t){this.macro=o(this.macros,t)},this.resetMacros=function(t){for(var e in t)t.hasOwnProperty(e)&&delete this.macro[e]},e.macroParams)for(var s in e.macroParams)this.macros["["+s.toUpperCase()+"]"]||(this.macros["["+s.toUpperCase()+"]"]=e.macroParams[s]);this.replace=function(t,e,i){e&&this.extendMacros(e);var n=this.getReplacedUrl(t,this.macros);return"undefined"==typeof SH_playerConfig||!0!==SH_playerConfig.isHTTPS||"http://"!=n.substr(0,7)||i||(n="https://"+n.slice(7)),e&&this.resetMacros(e),n},this.table=function(){for(var t,e={},i=Object.keys(this.macros),n=0;n<i.length;n++)e[t=i[n]]={result:this.replace(t)}}};s.prototype.getReplacedUrl=function(t,e){for(var i,n,o,s=t,r=Object.keys(e),a=0;a<r.length;a++){i=r[a],n=r[a].toLowerCase(),o=e[r[a]];var l=i.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),d=new RegExp(l,"g");-1!=s.indexOf(i)&&(s=s.replace(d,encodeURIComponent("function"==typeof o?o.apply(this):e[r[a]]))),-1!=s.indexOf(n)&&(l=n.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),d=new RegExp(l,"g"),s=s.replace(d,encodeURIComponent("function"==typeof o?o.apply(this):e[r[a]]))),-1!=s.indexOf(encodeURIComponent(i))&&(d=new RegExp(encodeURIComponent(i),"g"),s=s.replace(d,encodeURIComponent("function"==typeof o?o.apply(this):e[r[a]]))),-1!=s.indexOf(encodeURIComponent(n))&&(d=new RegExp(encodeURIComponent(n),"g"),s=s.replace(d,encodeURIComponent("function"==typeof o?o.apply(this):e[r[a]])))}return s},s.prototype.getMacrosObject=function(){for(var t,e={},i=Object.keys(this.macros),n=0;n<i.length;n++){t=i[n];try{e[t.replace(/\[/g,"").replace(/\]/g,"").toLowerCase()]=this.replace(t)}catch(t){}}return e},s.prototype.setDynamicMacro=function(t){this.extendMacros({"[RVPW]":function(){return document.querySelector("body").offsetWidth},"[RVPH]":function(){return document.querySelector("body").offsetHeight},"[CONTENT_OFFSET]":function(){return parseInt(t.duplex.visible().currentTime)}})},t.exports=s},function(t,e){t.exports=function(t,e){t=t.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}},function(t,e,i){"use strict";function n(){}function o(t,e,i){var n=document.createElement("iframe");return n.src=e||"about:blank",n.marginWidth="0",n.marginHeight="0",n.frameBorder="0",n.width="100%",n.height="100%",s(n),i&&(n.style.zIndex=i),n.setAttribute("SCROLLING","NO"),t.innerHTML="",t.appendChild(n),n}function s(t){t&&(t.style.position="absolute",t.style.left="0",t.style.top="0",t.style.margin="0px",t.style.padding="0px",t.style.border="none",t.style.width="100%",t.style.height="100%")}function r(t,e){return Object.keys(e).forEach(function(i){var n="object"==typeof n?JSON.stringify(e[i]):e[i];t=t.replace(new RegExp("{{"+i+"}}","g"),n)}),t}function a(t,e){var i=t.contentWindow&&t.contentWindow.document;return!!i&&(i.write(e),i.close(),!0)}t.exports={noop:n,validate:function(t,e){return t?null:new Error(e)},callbackTimeout:function(t,e,i){var o;return o=setTimeout(function(){e=n,i()},t),function(){e.apply(this,arguments)&&clearTimeout(o)}},createElementInEl:function(t,e,i){var n=document.createElement(e);return i&&(n.id=i),t.appendChild(n),n},createIframeWithContent:function(t,e,i){var n=o(t,null,i.zIndex);if(a(n,r(e,i)))return n},createIframe:o,setFullSizeStyle:s,simpleTemplate:r,setIframeContent:a,extend:function(t,e){return Object.keys(e).forEach(function(i){t[i]=e[i]}),t},unique:function(t){var e=-1;return function(){return t+"_"+ ++e}}}},,,function(t,e,i){var n=i(1),o=function(t,e){n.call(this,t,e)};(o.prototype=Object.create(n.prototype)).constructor=o,o.prototype.getEpisodeToSuspendMotion=function(t){var e=t?this.collection.get(t):this.getCurrent();if(e.suspendMotion)return e;for(;e&&!0!==e.suspendMotion;)e=this.getNext(e);return e&&e.suspendMotion?e:null},o.prototype.getFirstEpisodeInNextMotion=function(){var t=this.getEpisodeToSuspendMotion();return t?this.getNext(t):null},o.prototype.getFirstEpisodeWithinMotion=function(t){var e,i,n=this.collection.itemsIds.indexOf(t||this.currentId);if(0==n)return this.getCurrent();for(var o=n;o>0;o--){if(e=this.collection.get(this.collection.itemsIds[o]),!0===(i=this.collection.get(this.collection.itemsIds[o-1])).suspendMotion)return e;if(1==o)return i}},o.prototype.getAllEpisodesWithinMotion=function(t){for(var e=this.getFirstEpisodeWithinMotion(t),i=this.getEpisodeToSuspendMotion(t),n=[],o=this.collection.itemsIds.indexOf(e.id);o<=this.collection.itemsIds.indexOf(i.id);o++)n.push(this.collection.items[this.collection.itemsIds[o]]);return n},o.prototype.getAllEpisodesIdsWithinMotion=function(t){for(var e=this.getFirstEpisodeWithinMotion(t),i=this.getEpisodeToSuspendMotion(t),n=[],o=this.collection.itemsIds.indexOf(e.id);o<=this.collection.itemsIds.indexOf(i.id);o++)n.push(this.collection.itemsIds[o]);return n},o.prototype.getAllEpisodesIdsByFeaturingWithinMotion=function(t,e){for(var i=this.getFirstEpisodeWithinMotion(t),n=this.getEpisodeToSuspendMotion(t),o=[],s=this.collection.itemsIds.indexOf(i.id);s<=this.collection.itemsIds.indexOf(n.id);s++){var r=this.collection.get(this.collection.itemsIds[s]);r.featuring===e&&o.push(r.id)}return o},o.prototype.getPrevEpisodesIdsWithinMotion=function(){for(var t=this.getFirstEpisodeWithinMotion(),e=[],i=this.collection.itemsIds.indexOf(t.id);i<this.collection.itemsIds.indexOf(this.currentId);i++)e.push(this.collection.itemsIds[i]);return e},o.prototype.getNextEpisodesIdsWithinMotion=function(){var t=this.getEpisodeToSuspendMotion(),e=[],i=this.collection.itemsIds.indexOf(this.currentId);if(i==this.collection.itemsIds.length-1)return[];for(var n=i+1;n<=this.collection.itemsIds.indexOf(t.id);n++)e.push(this.collection.itemsIds[n]);return e},o.prototype.getAllEpisodesIdsHoldedToTheSameMediaAndFeaturing=function(t){t=t.id?t:this.collection.get(t);for(var e,i=this.getAllEpisodesIdsWithinMotion(t.id),n=[],o=0;o<i.length;o++)(e=this.collection.get(i[o])).featuring==t.featuring&&n.push(e.id);var s,r,a={};for(o=n.length-1;o>=0;o--)a[(s=this.collection.get(n[o])).id]||(a[s.id]=o),o>0&&(r=this.collection.get(n[o-1])).holdMedia&&(a[r.id]=a[s.id]);var l=[];for(o=0;o<n.length;o++)a[n[o]]==a[t.id]&&l.push(n[o]);return l},t.exports=o},function(t,e){var i=function(t,e){this.element=t;var i,n=this,o=e.subscribe("sequencer.media.added",function(t,s){"content"!=s.what&&"stitched"!=s.what||(e.unsubscribe(o),s.media.poster?n.load(s.media.poster):i=e.subscribe("duplex",function(t,o){"video"==o.target.tagName.toLowerCase()?o.target.readyState>=2&&(e.unsubscribe(i),n.makeSnapshot(o.target)):o.target.poster&&(e.unsubscribe(i),n.load(o.target.poster))}))}),s=null;window.addEventListener("resize",function(){clearTimeout(s),s=setTimeout(function(){var t=n.element.parentNode;n.scalePoster(t)},100)});var r=e.subscribe("motion.episode.started",function(t,i){e.unsubscribe(r),n.hide(),n.element.removeAttribute("src")});this.callback_onLoad=function(){n.onLoad()}};i.prototype.load=function(t){this.element.addEventListener("load",this.callback_onLoad),this.element.src=t},i.prototype.onLoad=function(){this.element.removeEventListener("load",this.callback_onLoad),this.show(),this.scalePosterUntilVideoIsLoaded()},i.prototype.makeSnapshot=function(t){var e=this.element.parentNode,i=this.element.id;e.removeChild(this.element),this.element=document.createElement("canvas"),this.element.setAttribute("id",i),e.insertBefore(this.element,e.firstChild);var n=t.videoWidth,o=t.videoHeight,s=this.element.getContext("2d");s.clearRect(0,0,this.element.width,this.element.height),this.element.width=n,this.element.height=o,s.drawImage(t,0,0,n,o),this.show()},i.prototype.scalePosterUntilVideoIsLoaded=function(){if(this.element.naturalWidth&&this.element.naturalHeight){var t=this.element.parentNode;this.scalePoster(t)}},i.prototype.scalePoster=function(t){var e=parseInt(this.element.naturalWidth),i=parseInt(this.element.naturalHeight),n=parseFloat(e/i),o=document.documentElement.clientWidth,s=document.documentElement.clientHeight;if(parseFloat(o/s)>=n){var r=Math.floor(e*(s/i)).toString();t.style.width=r+"px",t.style.height=Math.floor(i*(s/i)).toString()+"px",t.style.top="auto",t.style.left="50%",t.style.marginLeft=-r/2+"px"}else t.style.height=Math.floor(i*(o/e)-1).toString()+"px",t.style.width="100%",t.style.top=Math.floor((s-parseInt(t.style.height))/2).toString()+"px",t.style.marginLeft=0,t.style.left=0},i.prototype.hide=function(){this.element.parentNode.style.display="none",this.element.style.display="none"},i.prototype.show=function(){this.element.style.display="block"},t.exports=i},function(t,e){var i=function(){this.topics={},this.subUid=-1};i.prototype.subscribe=function(t,e){this.topics[t]||(this.topics[t]=[]);var i=(++this.subUid).toString();return this.topics[t].push({token:i,func:e}),i},i.prototype.publish=function(t,e,i,n){if("motion.progress"!==t&&"player.timeupdate"!==t&&"progress"!==t&&"window.mousemove"!==t&&"duplex"!==t&&"video.timeupdate"!==t);var o=t.split(".");1==o.length?this._publish(o[0],t,e,i,n):2==o.length?(this._publish(o[0],t,e,i,n),this._publish(o[0]+"."+o[1],t,e,i,n)):3==o.length&&(this._publish(o[0],t,e,i,n),this._publish(o[0]+"."+o[1],t,e,i,n),this._publish(o[0]+"."+o[1]+"."+o[2],t,e,i,n))},i.prototype._publish=function(t,e,i,n,o){if(!this.topics[t])return!1;for(var s=this.topics[t],r=s?s.length:0;r--;)try{s[r].func(e,i,n,o)}catch(t){}return!0},i.prototype.unsubscribe=function(t){for(var e in this.topics)if(this.topics[e])for(var i=0,n=this.topics[e].length;i<n;i++)if(this.topics[e][i].token===t)return this.topics[e].splice(i,1),t;return!1},t.exports=i},function(t,e,i){var n=i(19);t.exports=function(){var t=this;this.watchInterval=null,this.watchNowOnce=function(){var t=!1;this.watchInterval&&(this.stopWatching(),t=!0),this.watch(),t&&this.startWatching()},this.startWatching=function(){this.watchInterval||this.watch();var e=n(function(){t.watchInterval&&t.watch()},1e3,this);this.watchInterval=setInterval(function(){e()},600)},this.stopWatching=function(){clearInterval(this.watchInterval),this.watchInterval=null}}},function(t,e){var i=function(){};i.prototype.fromVastExtentions=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i].attributes.action,o=t[i].attributes.event,s=t[i].attributes.eventOffset,r=t[i].attributes.parameter1,a=t[i].value;s=s?parseInt(s):null,parseInt(r).toString()===r.toString()&&(r=parseInt(r)),r=r||null,parseInt(a).toString()===a.toString()&&(a=parseInt(a)),a&&"."!=a||(a=null),e.push({action:n,event:o,eventOffset:s,parameter1:r,parameter2:a})}return e},i.prototype.fromText=function(t){for(var e=t.split(/\s{2,}/g),i=[],n=0;n<e.length;n++)i.push(this.parseLine(e[n]));return i},i.prototype.parseLine=function(t){var e,i,n,o,s,r,a,l=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},d=t.split(">"),u=l(d[0]),c=l(d[1]);return-1!=u.indexOf("+")?(e=l((i=u.split("+"))[0]),n=parseInt(l(i[1]))):(e=u,n=0),-1!=c.indexOf("(")?(o=l((s=c.split("("))[0]),-1!=(s=l(s[1]).substr(0,l(s[1]).length-1)).indexOf(",")?(r=l((s=s.split(","))[0]),a=l(s[1]),parseInt(r).toString()===r.toString()&&(r=parseInt(r)),parseInt(a).toString()===a.toString()&&(a=parseInt(a))):(r=l(s),a=null,parseInt(r).toString()===r.toString()&&(r=parseInt(r)))):(o=c,r=null,a=null),{event:e,action:o,eventOffset:n,parameter1:r,parameter2:a}},t.exports=i},function(t,e,i){var n=i(0),o=i(71),s=i(72),r=i(14),a=i(48),l=(i(73),i(6)),d=i(18),u=i(75),c=i(17),p=0,h=i(54),m=i(58),f=function(t,e,i,o,s,r,a,l,d,u){this.isRequestInProgress=!1,this.overrideStitchingScheme=i||null,this.vast=t,this.macro=e,this.pubsub=u,this.playerEngine=o,this.playerWidth=e.getPlayerWidth(),this.playerHeight=e.getPlayerHeight(),this.proxyPixelURL=s,this.cascadeCompetitionTimedOut=r,this.trackingDomainWhiteList=a,this.playlistMode=l,this.doNotShuffleXVideos=d,!0!==n.parser.patched&&(n.parser.patched=!0,this.patchParseExtension())};f.prototype.onMediaFile=function(t,e,i,n,o,s){"function"==typeof this.onStitchingSchemeCallback&&null!==this.overrideStitchingScheme&&!0!==this._alreadyCalled_onStitchingSchemeCallback&&(this.onStitchingSchemeCallback(this.overrideStitchingScheme),this._alreadyCalled_onStitchingSchemeCallback=!0),"function"==typeof this.onMediaCallback&&(this.increment=void 0!==this.increment?this.increment+1:0,this.onMediaCallback(this.increment,t,e,i,n,o,s))},f.prototype.onVastResponse=function(t,e){if(t&&t.message&&"XHRURLHandler: "==t.message.substr(0,15)&&(!t.message.slice(15)&&!0===this.withCredentials))return this.isRequestInProgress=!1,this.onError(t);if(t)return this.isRequestInProgress=!1,this.isEmptyVast=!0,this.onEmptyVast();if(!(e&&e.ads&&e.ads.length>0))return this.isRequestInProgress=!1,this.isEmptyVast=!0,this.onEmptyVast();var i,o,s,p=this;"ShowHeroes Playlist Server"==e.ads[0].system.value&&0===this.playlistMode&&(e.ads=u(e.ads,this.doNotShuffleXVideos));for(var f=0;f<e.ads.length;f++)for(var b=0;b<e.ads[f].creatives.length;b++)if("linear"==e.ads[f].creatives[b].type){var g=[],v=[],y=null;i=o=s=null;for(var x=0;x<e.ads[f].creatives[b].mediaFiles.length;x++){var k=a(e.ads[f].creatives[b].mediaFiles[x].mimeType,"canvas"==this.playerEngine),w=k>0;w&&(w&&(v.push(e.ads[f].creatives[b].mediaFiles[x]),g.push(k)),null===i?i=x:parseInt(e.ads[f].creatives[b].mediaFiles[x].width)&&parseInt(e.ads[f].creatives[b].mediaFiles[i].width)&&parseInt(e.ads[f].creatives[b].mediaFiles[x].width)<parseInt(e.ads[f].creatives[b].mediaFiles[i].width)&&(i=x))}if(null!==i){for(var T,C,E=null,I=null,A=0;A<e.ads[f].extensions.length;A++){if("PreviewImages"==e.ads[f].extensions[A].attributes.type)for(var S=0;S<e.ads[f].extensions[A].children.length;S++){if("resized"==e.ads[f].extensions[A].children[S].attributes.type&&(parseInt(this.playerWidth,10)<=300||parseInt(this.playerHeight,10)<=300)){s=e.ads[f].extensions[A].children[S];break}if("original"==e.ads[f].extensions[A].children[S].attributes.type&&(parseInt(this.playerWidth,10)>300||parseInt(this.playerHeight,10)>300)){s=e.ads[f].extensions[A].children[S];break}}if("StitchingScheme"==e.ads[f].extensions[A].attributes.type&&(E=e.ads[f].extensions[A].children),"StitchingParams"==e.ads[f].extensions[A].attributes.type&&e.ads[f].extensions[A].attributes.contentDuration&&e.ads[f].extensions[A].attributes.adDuration&&(I={contentDuration:T=parseInt(e.ads[f].extensions[A].attributes.contentDuration,10),adDuration:C=parseInt(e.ads[f].extensions[A].attributes.adDuration,10)}),"SmartMacros"==e.ads[f].extensions[A].attributes.type){for(var P=e.ads[f].extensions[A].children,L={},M=0;M<P.length;M++)L["[sas_"+P[M].name.replace(/ID$/g,"Id")+"]"]=P[M].value;P=L}}E&&"function"==typeof this.onStitchingSchemeCallback&&!0!==this._alreadyCalled_onStitchingSchemeCallback&&(this.onStitchingSchemeCallback(this.overrideStitchingScheme||(new r).fromVastExtentions(E),I),this._alreadyCalled_onStitchingSchemeCallback=!0);var R=Math.max.apply(null,g),_=g.indexOf(R),U=e.ads[f];if("ShowHeroes Playlist Server"!=e.ads[f].system.value&&!/stitching-service/g.test(v[_].fileURL)){var N={},q=[];for(var V in e.ads[f].creatives[b].trackingEvents)for(var B=0;B<e.ads[f].creatives[b].trackingEvents[V].length;B++)N[V]||(N[V]=[]),N[V].push(e.ads[f].creatives[b].trackingEvents[V][B]);for(var D=0;D<e.ads[f].creatives[b].videoClickTrackingURLTemplates.length;D++)q.push(e.ads[f].creatives[b].videoClickTrackingURLTemplates[D]);e.ads[f].creatives[b].trackingEvents=this.setCustomEvents(N,e.ads[f]),e.ads[f].creatives[b].trackingEvents=this.checkTrakingDomains(e.ads[f].creatives[b].trackingEvents),e.ads[f].creatives[b].videoClickTrackingURLTemplates=this.checkTrakingDomains(q),U.impressionURLTemplates=this.checkTrakingDomains(U.impressionURLTemplates),U.errorURLTemplates=this.checkTrakingDomains(U.errorURLTemplates)}o=new n.tracker(U,e.ads[f].creatives[b],null,P);var O={},F={},H=[],W=null,z=[],j=null;if(/stitching-service/g.test(v[_].fileURL)){for(var G=0;G<e.ads[f].extensions.length;G++)if(e.ads[f].extensions[G].children.length>0&&e.ads[f].extensions[G].attributes.type){if(e.ads[f].extensions[G].attributes&&"AdVideoClicks"==e.ads[f].extensions[G].attributes.type)for(var X=0;X<e.ads[f].extensions[G].children.length;X++)"ClickTracking"==e.ads[f].extensions[G].children[X].name?H.push(this.replaceUrlToProxy(e.ads[f].extensions[G].children[X].value)):"ClickThrough"==e.ads[f].extensions[G].children[X].name&&(W=e.ads[f].extensions[G].children[X].value);if(e.ads[f].extensions[G].attributes&&"ContentVideoClicks"==e.ads[f].extensions[G].attributes.type)for(var Q=0;Q<e.ads[f].extensions[G].children.length;Q++)"ClickTracking"==e.ads[f].extensions[G].children[Q].name?z.push(this.replaceUrlToProxy(e.ads[f].extensions[G].children[Q].value)):"ClickThrough"==e.ads[f].extensions[G].children[Q].name&&(j=e.ads[f].extensions[G].children[Q].value)}for(var J=0;J<e.ads[f].extensions.length;J++)if(e.ads[f].extensions[J].children.length>0&&e.ads[f].extensions[J].attributes.type){if(e.ads[f].extensions[J].attributes&&"AdTracking"==e.ads[f].extensions[J].attributes.type){for(var K=0;K<e.ads[f].extensions[J].children.length;K++){O[e.ads[f].extensions[J].children[K].attributes.event]||(O[e.ads[f].extensions[J].children[K].attributes.event]=[]);var Y=this.replaceUrlToProxy(e.ads[f].extensions[J].children[K].value);O[e.ads[f].extensions[J].children[K].attributes.event].push(Y)}var $={impressionURLTemplates:O.impression?this.checkTrakingDomains(O.impression):[],errorURLTemplates:O.error?this.checkTrakingDomains(O.error):[]};e.ads[f].creatives[b].duration=C,e.ads[f].creatives[b].trackingEvents=this.setCustomEvents(O,e.ads[f]),e.ads[f].creatives[b].trackingEvents=this.checkTrakingDomains(e.ads[f].creatives[b].trackingEvents),e.ads[f].creatives[b].videoClickTrackingURLTemplates=this.checkTrakingDomains(H),e.ads[f].creatives[b].videoClickThroughURLTemplate=W,y=new n.tracker(d(e.ads[f],$),e.ads[f].creatives[b])}if(e.ads[f].extensions[J].attributes&&"ContentTracking"==e.ads[f].extensions[J].attributes.type){for(var Z=0;Z<e.ads[f].extensions[J].children.length;Z++)F[e.ads[f].extensions[J].children[Z].attributes.event]||(F[e.ads[f].extensions[J].children[Z].attributes.event]=[]),F[e.ads[f].extensions[J].children[Z].attributes.event].push(e.ads[f].extensions[J].children[Z].value);e.ads[f].creatives[b].trackingEvents=F,e.ads[f].creatives[b].duration=T,e.ads[f].creatives[b].videoClickTrackingURLTemplates=z,e.ads[f].creatives[b].videoClickThroughURLTemplate=j,o=new n.tracker(e.ads[f],e.ads[f].creatives[b])}}}var tt,et=v[_],it=e.ads[f],nt=e.ads[f].creatives[b];if("SDK"===et.apiFramework?tt=et.fileURL:"imasdk.googleapis.com"===c(et.fileURL)&&"ima3vpaid.appspot.com"!==c(it.sourceUrl||this.vastUrl)&&(tt=l("adTagUrl",et.fileURL)),"VPAID"===et.apiFramework||"SDK"===et.apiFramework){if(!this.isRequestVpaidInProgress)if(this.isRequestVpaidInProgress=!0,tt){et.apiFramework="SDK",this.replaceMacro(o.trackingEvents,nt,"SDK"),this.replaceMacro(o.ad.errorURLTemplates,nt,"SDK"),new h(this.macro,"canvas"==this.playerEngine).init(tt,function(){p.isEmptyVast=!0,p.onVastResponse(),o.errorWithCode(303)},function(){o.track("placed"),nt.wrapper=this,p.onMediaFile(it,nt,et,o,s,y)})}else{this.replaceMacro(o.trackingEvents,nt,"VPAID"),this.replaceMacro(o.ad.errorURLTemplates,nt,"VPAID");var ot=l("sh_cntrs",it.sourceUrl||this.vastUrl);new m(this.pubsub,this.macro,"canvas"==this.playerEngine,(ot||"").split(",")).init(et.fileURL,nt.videoClickThroughURLTemplate,nt.adParameters,function(){p.isEmptyVast=!0,p.onVastResponse(),o.errorWithCode(303)},function(){o.track("placed"),nt.wrapper=this,p.onMediaFile(it,nt,et,o,s,y)})}}else this.replaceMacro(o.trackingEvents,nt,et.mimeType),this.replaceMacro(o.ad.errorURLTemplates,nt,et.mimeType),o.track("placed"),this.onMediaFile(it,nt,et,o,s,y)}}this.isRequestInProgress=!1},f.prototype.setCustomEvents=function(t,e){for(var i=0;i<16;i++){if("played"+i+"seconds"in t){"progress-"+i in t||(t["progress-"+i]=[]);for(var n=0;n<t["played"+i+"seconds"].length;n++)t["progress-"+i].push(t["played"+i+"seconds"][n]);delete t["played"+i+"seconds"]}if("video"+i+"sec"in t){"progress-"+i in t||(t["progress-"+i]=[]);for(var o=0;o<t["video"+i+"sec"].length;o++)t["progress-"+i].push(t["video"+i+"sec"][o]);delete t["video"+i+"sec"]}}for(var s=0;s<e.extensions.length;s++)if(e.extensions[s].children.length>0&&"SmartMetrics"==e.extensions[s].attributes.type)for(var r=e.extensions[s].children,a=0;a<r.length;a++){var l=r[a].name;if(l){if("timeToClick"==(l=l.replace(/^v_/,"")))continue;"firstSecond"==l?l="progress-1":"viewcount"==l&&(l="smartImpressionViewable"),l in t||(t[l]=[]);var d=r[a].value;l in t&&this.approvedDomain(d)&&t[l].push(d)}}return t},f.prototype.replaceUrlToProxy=function(t){return this.proxyPixelURL?this.proxyPixelURL+t:t},f.prototype.request=function(t){this.isRequestInProgress=!0;var e=this;this.makeRequest(function(t,i){e.onVastResponse(i,t)},t)},f.prototype.makeRequest=function(t){n.client.get("",{response:(new DOMParser).parseFromString(this.vast,"text/xml")},t)},f.prototype.checkTrakingDomains=function(t){if(!this.trackingDomainWhiteList||this.trackingDomainWhiteList&&!this.trackingDomainWhiteList.length)return t;if(!0===Array.isArray(t)){for(var e=[],i=0;i<t.length;i++)this.approvedDomain(t[i])&&e.push(t[i]);t=e}else for(var n in t)if(t.hasOwnProperty(n)){var o=[];for(i=0;i<t[n].length;i++)this.approvedDomain(t[n][i])&&o.push(t[n][i]);t[n]=o}return t},f.prototype.replaceMacro=function(t,e,i){var n={"[SH_CRFMT]":i};if(!0===Array.isArray(t))for(var o=0;o<t.length;o++)t[o]=this.macro.getReplacedUrl(t[o],n);else for(var s in t)if(t.hasOwnProperty(s))for(o=0;o<t[s].length;o++)t[s][o]=this.macro.getReplacedUrl(t[s][o],n)},f.prototype.approvedDomain=function(t){if(!this.trackingDomainWhiteList||this.trackingDomainWhiteList&&!this.trackingDomainWhiteList.length)return!0;var e=/([\w-]+[.][\w]+)[\/\s]/g.exec(t),i=e&&e.length>1?e[1]:"";return this.trackingDomainWhiteList.indexOf(i)>=0},f.prototype.patchParseExtension=function(){n.parser.parseExtension=function(t,e){var i,n,r,a,l,d,u,c,p,h,m,f,b,g,v,y,x,k,w;for(k=[],u=0,m=e.length;u<m;u++){if(l=e[u],n=new o,l.attributes){if(!(v=l.attributes).length)for(var T=0;T<l.childNodes.length;T++)"#text"!=l.childNodes[T].nodeName&&(n.attributes.type||(n.attributes.type=l.childNodes[T].nodeName));for(c=0,f=v.length;c<f;c++)d=v[c],n.attributes[d.nodeName]=d.nodeValue}for(p=0,b=(y=l.childNodes).length;p<b;p++)if(i=y[p],w=this.parseNodeText(i),"#comment"!==i.nodeName&&""!==w)for(var C=0;C<i.childNodes.length;C++)if("#text"!=i.childNodes[C].nodeName)if(r=new s,"#cdata-section"==i.childNodes[C].nodeName){if(r.name=i.nodeName,r.value=w,i.attributes)for(h=0,g=(x=i.attributes).length;h<g;h++)a=x[h],r.attributes[a.nodeName]=a.nodeValue;n.children.push(r)}else{l.attributes&&"undefined"==l.attributes.type&&(l.attributes.type=i.nodeName);var E=i.childNodes[C].nodeName;i.childNodes[C].getAttribute&&i.childNodes[C].getAttribute("name")&&(E=i.childNodes[C].getAttribute("name")),r.name=E,r.value=this.parseNodeText(i.childNodes[C]),n.children.push(r)}k.push(t.push(n))}return k}},f.prototype.onError=function(t){throw new Error("VAST error: "+t)},f.prototype.onEmptyVast=function(){++p==this.vastsCount&&"function"==typeof this.cascadeCompetitionTimedOut&&this.cascadeCompetitionTimedOut()},t.exports=f},function(t,e,i){var n=i(0),o=i(15),s=i(17),r=function(t,e,i,n,s,r,a,l,d){o.call(this,t,e,i,n,s,r,a,l,d),this.withCredentials=!0,this.trackingDomainWhiteList=a};(r.prototype=Object.create(o.prototype)).constructor=r,r.prototype.onError=function(t){if(t.message&&"XHRURLHandler: "==t.message.substr(0,15)&&(!t.message.slice(15)&&!0===this.withCredentials))return this.withCredentials=!1,void(!0!==this.alreadyReloaded&&(this.alreadyReloaded=!0,this.request()))},r.prototype.makeRequest=function(t,e){var i=this,o=e||"GET",r={supported:function(){return!0},get:function(t,e,n){if(!1===i.approvedDomain(t))return n(new Error("XHRURLHandler: VAST domain is not approved. Skipped!"));var o=i.macro?i.macro.replace(t):t;if(i.vastUrl=o,"pubads.g.doubleclick.net"===s(t))return n(null,(new DOMParser).parseFromString(i.getDummyWrapper(o),"text/xml"));var r=new window.XMLHttpRequest;r.open(e.method,o),r.timeout=e.timeout||0;var a=null;return"POST"==e.method&&(a=JSON.stringify({comMacros:i.macro.getMacrosObject()})),r.withCredentials=e.withCredentials||!1,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onreadystatechange=function(){if(4===r.readyState)return 200===r.status?n(null,r.responseXML):400===r.status?n(null,null):n(new Error("XHRURLHandler: "+r.statusText))},r.send(a)}};n.client.get(this.macro?this.macro.replace(this.vast):this.vast,{urlhandler:r,withCredentials:this.withCredentials,method:o,checkApprovedDomain:this.approvedDomain.bind(this)},t)},r.prototype.getDummyWrapper=function(t){return'<?xml version="1.0" encoding="UTF-8"?>         <VAST xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="vast.xsd" version="3.0">           <Ad id="SDK">             <InLine>               <AdSystem>SHOWHEROES</AdSystem>               <AdTitle>SHOWHEROES SDK</AdTitle>               <Creatives>                 <Creative>                     <Linear>                       <Duration>00:00:30</Duration>                       <TrackingEvents />                       <MediaFiles>                         <MediaFile                           width="640"                           height="480"                           delivery="progressive"                           type="application/javascript"                           apiFramework="SDK">                               <![CDATA['+t+"]]>                         </MediaFile>                       </MediaFiles>                     </Linear>                 </Creative>               </Creatives>             </InLine>           </Ad>         </VAST>"},t.exports=r},function(t,e){t.exports=function(t){var e=/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/g.exec(t);return e&&e.length>1?e[1]:""}},function(t,e){t.exports=function(t,e){var i={};for(var n in t)i[n]=t[n];for(var n in e)i[n]=e[n];return i}},function(t,e){t.exports=function(t,e,i){var n,o;return e||(e=250),function(){var s=i||this,r=+new Date,a=arguments;n&&r<n+e?(clearTimeout(o),o=setTimeout(function(){n=r,t.apply(s,a)},e)):(n=r,t.apply(s,a))}}},function(t,e,i){var n=i(23);"string"==typeof n&&(n=[[t.i,n,""]]);var o={transform:void 0};i(25)(n,o);n.locals&&(t.exports=n.locals)},,function(t,e,i){i(78)(),i(77)(),i(79)(),window.Foundation=i(44),window.Collection=i(4),window.Iterator=i(1),window.Props=i(2),window.EpisodeIterator=i(10),window.Controls=i(60),window.ControlsBehaviour=i(61),window.PubSub=i(12),window.SchemaFactory=i(14),window.SchemaParser=i(53),window.Branding=i(59),window.Scaler=i(66),window.Snapshot=i(70),window.VastInline=i(15),window.VastNoop=i(57),window.VastRemote=i(16),window.VastCascade=i(56),window.Input=i(51),window.Tracker=i(55),window.Macro=i(5),window.Poster=i(11),window.PubtagPlayerApi=i(52)},function(t,e,i){(t.exports=i(24)(void 0)).push([t.i,'/* Reset */\nhtml, body {\n  height: 100%;\n  width: 100%;\n}\n\nbody {\n  margin: 0;\n  padding: 0;\n}\n\nbutton {\n  margin: 0;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n}\n\n#video-host,\n#controls-host {\n  box-sizing: border-box;\n}\n\n#video-host *, #video-host *::before, #video-host *::after,\n#controls-host *, #controls-host *::before, #controls-host *::after {\n  box-sizing: inherit;\n}\n\n/* Styles below are required for Interface purposes only */\n#video-host {\n  position: relative;\n  height: 100%;\n}\n#video-host .canvas-container canvas {\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  object-fit: contain;\n}\n\n#snapshot {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  z-index: -1;\n  background: #000;\n}\n#snapshot.is-blurred {\n  -webkit-filter: blur(20px);\n  filter: blur(20px);\n}\n\n#duplex-host {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n#duplex-host > div {\n  position: fixed;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 0;\n}\n#duplex-host .not-visible {\n  z-index: 0;\n  opacity: 0;\n}\n\n#poster-host {\n  position: absolute;\n}\n\n#duplex-poster {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n}\n\n.nonlinear-slot {\n  position: relative;\n  width: 100%;\n  margin: 0 auto;\n  pointer-events: auto;\n}\n.nonlinear-slot .nonlinear-container > * {\n  width: 100%;\n}\n.nonlinear-slot .nonlinear-icon-close,\n.nonlinear-slot .nonlinear-icon-show {\n  position: absolute;\n  top: -0.9em;\n  right: 0.7em;\n  background: rgba(255, 255, 255, 0.9);\n  color: rgba(0, 0, 0, 0.6);\n  cursor: pointer;\n  box-shadow: 1px 0px 0px rgba(0, 0, 0, 0.1);\n}\n.nonlinear-slot .nonlinear-icon-close svg,\n.nonlinear-slot .nonlinear-icon-show svg {\n  width: 20px !important;\n  height: 20px !important;\n}\n.nonlinear-slot .nonlinear-icon-show {\n  top: auto;\n  right: auto;\n  left: 50%;\n  bottom: 0;\n  transform: translateX(-50%);\n}\n\n.clickToPlay-title {\n  width: 65%;\n  margin: 15px auto;\n}\n\n.square-title {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 5px;\n  opacity: 0.75;\n  color: #fff;\n  text-shadow: 0px 0px 1px rgba(0, 0, 0, 0.3);\n}\n\n.playlist {\n  z-index: 30;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  padding: 30px;\n  background: rgba(0, 0, 0, 0.8);\n}\n.playlist .playlist-loader {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.8);\n}\n.playlist .playlist-loader .square-shape {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.playlist .playlist-block {\n  display: flex;\n  height: 100%;\n  overflow: hidden;\n}\n.playlist .playlist-block .playlist-block-item {\n  width: 75%;\n}\n.playlist .playlist-block .next,\n.playlist .playlist-block .prev {\n  position: relative;\n  width: 25%;\n  height: 100%;\n}\n.playlist .playlist-block .next .title-wrap,\n.playlist .playlist-block .prev .title-wrap {\n  padding: 0 10px;\n}\n.playlist .playlist-block .poster {\n  width: 100%;\n}\n.playlist .playlist-block .title,\n.playlist .playlist-block .head-title {\n  color: inherit;\n  word-break: break-word;\n}\n.playlist .playlist-block .head-title {\n  font-size: 14px;\n  margin-bottom: 5px;\n  text-shadow: 1px 1px 1px #000;\n}\n.playlist .playlist-block .title {\n  font-size: 12px;\n}\n.playlist .playlist-block .middle {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  margin: -1.8% 0;\n}\n.playlist .playlist-block .middle-item {\n  width: 46%;\n  margin: 2%;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  position: relative;\n  cursor: pointer;\n}\n.playlist .playlist-block .middle-item .title {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  padding: 10px;\n  font-size: 12px;\n  text-shadow: 0 0 2px rgba(18, 18, 18, 0.5);\n  background-color: rgba(0, 0, 0, 0.5);\n  background-image: -webkit-linear-gradient(top, rgba(128, 128, 128, 0), #111);\n  background-image: linear-gradient(-180deg, rgba(128, 128, 128, 0), #111);\n  box-sizing: border-box;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.playlist .playlist-block.__is_alone .middle-item {\n  width: 96%;\n}\n.playlist .playlist-item {\n  width: 100%;\n  height: 100%;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-color: #000;\n  color: #fff;\n  cursor: pointer;\n}\n#control-playlist-off {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n}\n\n#controls-host {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n  font-size: 14px;\n  touch-action: manipulation;\n  cursor: default;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n#controls-host .shadow {\n  z-index: 11;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.4);\n}\n#controls-host .sharing {\n  z-index: 30;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  color: #fff;\n  background: rgba(0, 0, 0, 0.8);\n}\n#controls-host .clickthrough {\n  display: block;\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  touch-action: manipulation;\n}\n#controls-host .controls-wrap-top {\n  position: absolute;\n  width: 100%;\n  top: 0;\n  padding: 5px;\n  z-index: 3;\n  pointer-events: none;\n}\n#controls-host .controls-top-right {\n  pointer-events: auto;\n}\n#controls-host .controls-top-left {\n  padding: 10px 5px;\n  pointer-events: none;\n}\n#controls-host .controls-top-left .square {\n  float: left;\n  margin-right: 10px;\n}\n#controls-host .controls-wrap-bottom {\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  z-index: 3;\n  pointer-events: none;\n}\n#controls-host .controls-bottom {\n  position: relative;\n  height: 4em;\n  pointer-events: none;\n}\n#controls-host .controls-left {\n  position: absolute;\n  bottom: 2px;\n  left: 5px;\n  z-index: 2;\n  pointer-events: auto;\n}\n#controls-host .controls-right {\n  position: absolute;\n  bottom: 2px;\n  right: 5px;\n  z-index: 2;\n  pointer-events: auto;\n}\n#controls-host .controls-center {\n  position: absolute;\n  bottom: 2px;\n  right: 0;\n  left: 0;\n  width: 100%;\n  text-align: center;\n  z-index: 1;\n  pointer-events: auto;\n}\n#controls-host #control-volume {\n  cursor: pointer;\n}\n#controls-host:hover #content-title {\n  opacity: 1;\n}\n#controls-host .square {\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n  font-size: 14px;\n  color: #fff;\n  display: block;\n  text-decoration: none !important;\n  touch-action: manipulation;\n}\n#controls-host .square.control-centered {\n  position: absolute;\n  z-index: 12;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n}\n#controls-host .square.control-centered .square-shape {\n  display: block;\n  margin: 0 auto;\n  width: 80px;\n  height: 80px;\n  background-color: #fff;\n  color: #333;\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  -ms-border-radius: 50%;\n  border-radius: 50%;\n}\n#controls-host .square.control-centered .square-shape > svg {\n  width: 75px;\n  height: 75px;\n}\n#controls-host button.square {\n  padding: 0;\n  background: transparent;\n  border: 0;\n  outline: none;\n  cursor: pointer;\n  touch-action: manipulation;\n}\n#controls-host .controls-left .square {\n  padding: 10px 5px;\n  float: left;\n}\n#controls-host .controls-right .square,\n#controls-host .controls-top-right .square {\n  padding: 10px 5px;\n  float: right;\n}\n#controls-host .controls-center .square {\n  display: inline-block;\n  padding: 10px 5px;\n}\n#controls-host .square-shape {\n  background: rgba(0, 0, 0, 0.4);\n  padding: 2px;\n  -webkit-border-radius: 20px;\n  -moz-border-radius: 20px;\n  -ms-border-radius: 20px;\n  border-radius: 20px;\n}\n#controls-host .square-shape > svg {\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  display: block;\n}\n#controls-host .square-shape > span {\n  display: block;\n  padding: 0 5px;\n  height: 24px;\n  line-height: 24px;\n}\n#controls-host .square_smaller-icon .square-shape {\n  padding: 4px;\n}\n#controls-host #control-share-button-on.square_smaller-icon .square-shape {\n  padding: 4px 5px 4px 3px;\n}\n#controls-host .square_smaller-icon .square-shape > svg {\n  width: 20px;\n  height: 20px;\n}\n#controls-host button.square:active .square-shape {\n  background: rgba(0, 0, 0, 0.6);\n}\n#controls-host .volume-bar .volume-range {\n  display: none;\n}\n#controls-host .volume-bar:hover {\n  position: relative;\n  top: -90px;\n  margin-bottom: -90px;\n  z-index: 1;\n}\n#controls-host .volume-bar:hover .volume-range {\n  display: block;\n  writing-mode: bt-lr;\n  /* IE */\n  -webkit-appearance: slider-vertical;\n  /* WebKit */\n  width: 20px;\n  height: 80px;\n  padding: 0;\n  margin: 4px 0 6px 0;\n}\n#controls-host .loading {\n  position: absolute;\n  z-index: 20;\n  top: 50%;\n  margin-top: -15px;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n#controls-host #control-clickToPlay .square-shape,\n#controls-host #control-replay .square-shape,\n#controls-host #control-loading .square-shape {\n  max-width: 25vw;\n  max-height: 25vw;\n}\n#controls-host #control-clickToPlay .square-shape > svg,\n#controls-host #control-replay .square-shape > svg,\n#controls-host #control-loading .square-shape > svg {\n  max-width: calc(25vw - 4px);\n  max-height: calc(25vw - 4px);\n}\n#controls-host .loading .square {\n  display: inline-block;\n}\n#controls-host .hidden {\n  display: none !important;\n}\n#controls-host .progress {\n  display: block;\n  height: 3px;\n  position: absolute;\n  z-index: 2;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n}\n#controls-host .progress-boundary {\n  display: block;\n  height: 3px;\n}\n#controls-host .duplex-visible-A .progress {\n  bottom: 1px;\n}\n#controls-host .progress-bar {\n  display: block;\n  float: left;\n  width: 0;\n  height: 3px;\n  background: rgba(255, 255, 255, 0.8);\n}\n#controls-host .progress-suffix {\n  display: block;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 3px;\n}\n#controls-host .progress-bar.is-animated {\n  -webkit-transition: width 0.5s linear;\n  transition: width 0.5s linear;\n}\n#controls-host .square,\n#controls-host .clickthrough,\n#controls-host .shadow,\n#controls-host .playlist {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n#controls-host .clickthrough {\n  text-decoration: none;\n}\n#controls-host .caption:empty {\n  display: none;\n}\n#controls-host #control-clickToPlay.control-centered .caption {\n  display: block;\n  margin-top: 18px;\n  font-size: 18px;\n  background: transparent !important;\n}\n#controls-host #control-clickToPlay.control-centered .caption:empty {\n  display: none;\n}\n#controls-host #control-loading.control-centered .square-shape {\n  position: absolute;\n  top: 50%;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  transform: translateY(-50%);\n}\n#controls-host.__is-overlaid > div, #controls-host.__is-overlaid > a, #controls-host.__is-overlaid > button {\n  opacity: 0;\n}\n#controls-host.__is-overlaid .playlist,\n#controls-host.__is-overlaid .sharing {\n  opacity: 1 !important;\n}\n#controls-host #control-share-button-off {\n  float: right;\n  margin: 10px 10px 0 0;\n}\n#controls-host .sharing-box {\n  position: absolute;\n  top: 50%;\n  width: 100%;\n  margin-top: -20px;\n  text-align: center;\n}\n#controls-host .sharing-link {\n  color: #eee;\n  margin: 1em;\n}\n#controls-host .sharing-link svg {\n  width: 40px;\n  height: 40px;\n}\n#controls-host #control-time.square {\n  min-width: 4.5em;\n}\n#controls-host #control-playerclick {\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n#controls-host .cursor-not-allowed {\n  cursor: not-allowed !important;\n}\n#controls-host #control-countdown.has-title .square-shape .caption {\n  margin-top: -3px;\n  line-height: 20px;\n  font-size: 12px;\n  margin-bottom: 15px;\n}\n#controls-host #control-countdown.has-title .square-shape .caption > div {\n  font-size: initial;\n}\n#controls-host .controls-top-right #control-countdown.has-title {\n  text-align: right;\n}\n#controls-host .controls-top-right #control-countdown.has-title .square-shape {\n  padding: 5px;\n  border-radius: 10px;\n}\n#controls-host .controls-top-right #control-countdown.has-title .square-shape .caption {\n  display: inline-block;\n  text-align: right;\n}\n\n#control-clickToPlay.animated {\n  top: 0;\n  -webkit-animation: bouncejs-playVisible 1800ms linear 1 both;\n  animation: bouncejs-playVisible 1800ms linear 1 both;\n}\n#control-clickToPlay.animated.goDown {\n  -webkit-animation: bouncejs-playHidden 2170ms linear 1 both;\n  animation: bouncejs-playHidden 2170ms linear 1 both;\n}\n\n@-webkit-keyframes bouncejs-playVisible {\n  0% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 300, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 300, 0, 1);\n  }\n  1.57% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 239.594, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 239.594, 0, 1);\n  }\n  1.67% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 235.005, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 235.005, 0, 1);\n  }\n  2.02% {\n    -webkit-transform: matrix3d(1.89, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 218.468, 0, 1);\n    transform: matrix3d(1.89, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 218.468, 0, 1);\n  }\n  2.35% {\n    -webkit-transform: matrix3d(2.444, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 202.174, 0, 1);\n    transform: matrix3d(2.444, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 202.174, 0, 1);\n  }\n  2.9% {\n    -webkit-transform: matrix3d(2.828, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 174.441, 0, 1);\n    transform: matrix3d(2.828, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 174.441, 0, 1);\n  }\n  3.03% {\n    -webkit-transform: matrix3d(2.839, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 167.738, 0, 1);\n    transform: matrix3d(2.839, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 167.738, 0, 1);\n  }\n  3.51% {\n    -webkit-transform: matrix3d(2.697, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 143.44, 0, 1);\n    transform: matrix3d(2.697, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 143.44, 0, 1);\n  }\n  3.57% {\n    -webkit-transform: matrix3d(2.665, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 140.513, 0, 1);\n    transform: matrix3d(2.665, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 140.513, 0, 1);\n  }\n  3.61% {\n    -webkit-transform: matrix3d(2.639, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 138.348, 0, 1);\n    transform: matrix3d(2.639, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 138.348, 0, 1);\n  }\n  4.09% {\n    -webkit-transform: matrix3d(1.782, 0, 0, 0, 0, 1.318, 0, 0, 0, 0, 1, 0, 0, 114.376, 0, 1);\n    transform: matrix3d(1.782, 0, 0, 0, 0, 1.318, 0, 0, 0, 0, 1, 0, 0, 114.376, 0, 1);\n  }\n  4.77% {\n    -webkit-transform: matrix3d(0.936, 0, 0, 0, 0, 1.649, 0, 0, 0, 0, 1, 0, 0, 80.955, 0, 1);\n    transform: matrix3d(0.936, 0, 0, 0, 0, 1.649, 0, 0, 0, 0, 1, 0, 0, 80.955, 0, 1);\n  }\n  5.12% {\n    -webkit-transform: matrix3d(0.678, 0, 0, 0, 0, 1.757, 0, 0, 0, 0, 1, 0, 0, 64.402, 0, 1);\n    transform: matrix3d(0.678, 0, 0, 0, 0, 1.757, 0, 0, 0, 0, 1, 0, 0, 64.402, 0, 1);\n  }\n  5.81% {\n    -webkit-transform: matrix3d(0.42, 0, 0, 0, 0, 1.845, 0, 0, 0, 0, 1, 0, 0, 34.014, 0, 1);\n    transform: matrix3d(0.42, 0, 0, 0, 0, 1.845, 0, 0, 0, 0, 1, 0, 0, 34.014, 0, 1);\n  }\n  5.88% {\n    -webkit-transform: matrix3d(0.406, 0, 0, 0, 0, 1.846, 0, 0, 0, 0, 1, 0, 0, 30.888, 0, 1);\n    transform: matrix3d(0.406, 0, 0, 0, 0, 1.846, 0, 0, 0, 0, 1, 0, 0, 30.888, 0, 1);\n  }\n  6.17% {\n    -webkit-transform: matrix3d(0.369, 0, 0, 0, 0, 1.833, 0, 0, 0, 0, 1, 0, 0, 18.969, 0, 1);\n    transform: matrix3d(0.369, 0, 0, 0, 0, 1.833, 0, 0, 0, 0, 1, 0, 0, 18.969, 0, 1);\n  }\n  7.21% {\n    -webkit-transform: matrix3d(0.409, 0, 0, 0, 0, 1.629, 0, 0, 0, 0, 1, 0, 0, -18.614, 0, 1);\n    transform: matrix3d(0.409, 0, 0, 0, 0, 1.629, 0, 0, 0, 0, 1, 0, 0, -18.614, 0, 1);\n  }\n  7.3% {\n    -webkit-transform: matrix3d(0.424, 0, 0, 0, 0, 1.601, 0, 0, 0, 0, 1, 0, 0, -21.769, 0, 1);\n    transform: matrix3d(0.424, 0, 0, 0, 0, 1.601, 0, 0, 0, 0, 1, 0, 0, -21.769, 0, 1);\n  }\n  8.68% {\n    -webkit-transform: matrix3d(0.775, 0, 0, 0, 0, 1.148, 0, 0, 0, 0, 1, 0, 0, -58.087, 0, 1);\n    transform: matrix3d(0.775, 0, 0, 0, 0, 1.148, 0, 0, 0, 0, 1, 0, 0, -58.087, 0, 1);\n  }\n  8.71% {\n    -webkit-transform: matrix3d(0.783, 0, 0, 0, 0, 1.139, 0, 0, 0, 0, 1, 0, 0, -58.624, 0, 1);\n    transform: matrix3d(0.783, 0, 0, 0, 0, 1.139, 0, 0, 0, 0, 1, 0, 0, -58.624, 0, 1);\n  }\n  9.29% {\n    -webkit-transform: matrix3d(0.959, 0, 0, 0, 0, 0.965, 0, 0, 0, 0, 1, 0, 0, -69.317, 0, 1);\n    transform: matrix3d(0.959, 0, 0, 0, 0, 0.965, 0, 0, 0, 0, 1, 0, 0, -69.317, 0, 1);\n  }\n  10.06% {\n    -webkit-transform: matrix3d(1.149, 0, 0, 0, 0, 0.791, 0, 0, 0, 0, 1, 0, 0, -79.477, 0, 1);\n    transform: matrix3d(1.149, 0, 0, 0, 0, 0.791, 0, 0, 0, 0, 1, 0, 0, -79.477, 0, 1);\n  }\n  11.38% {\n    -webkit-transform: matrix3d(1.277, 0, 0, 0, 0, 0.673, 0, 0, 0, 0, 1, 0, 0, -87.114, 0, 1);\n    transform: matrix3d(1.277, 0, 0, 0, 0, 0.673, 0, 0, 0, 0, 1, 0, 0, -87.114, 0, 1);\n  }\n  11.44% {\n    -webkit-transform: matrix3d(1.277, 0, 0, 0, 0, 0.673, 0, 0, 0, 0, 1, 0, 0, -87.204, 0, 1);\n    transform: matrix3d(1.277, 0, 0, 0, 0, 0.673, 0, 0, 0, 0, 1, 0, 0, -87.204, 0, 1);\n  }\n  11.61% {\n    -webkit-transform: matrix3d(1.274, 0, 0, 0, 0, 0.675, 0, 0, 0, 0, 1, 0, 0, -87.321, 0, 1);\n    transform: matrix3d(1.274, 0, 0, 0, 0, 0.675, 0, 0, 0, 0, 1, 0, 0, -87.321, 0, 1);\n  }\n  12.86% {\n    -webkit-transform: matrix3d(1.184, 0, 0, 0, 0, 0.768, 0, 0, 0, 0, 1, 0, 0, -83.434, 0, 1);\n    transform: matrix3d(1.184, 0, 0, 0, 0, 0.768, 0, 0, 0, 0, 1, 0, 0, -83.434, 0, 1);\n  }\n  14.24% {\n    -webkit-transform: matrix3d(1.038, 0, 0, 0, 0, 0.944, 0, 0, 0, 0, 1, 0, 0, -71.553, 0, 1);\n    transform: matrix3d(1.038, 0, 0, 0, 0, 0.944, 0, 0, 0, 0, 1, 0, 0, -71.553, 0, 1);\n  }\n  15.02% {\n    -webkit-transform: matrix3d(0.974, 0, 0, 0, 0, 1.03, 0, 0, 0, 0, 1, 0, 0, -62.593, 0, 1);\n    transform: matrix3d(0.974, 0, 0, 0, 0, 1.03, 0, 0, 0, 0, 1, 0, 0, -62.593, 0, 1);\n  }\n  15.55% {\n    -webkit-transform: matrix3d(0.942, 0, 0, 0, 0, 1.076, 0, 0, 0, 0, 1, 0, 0, -55.807, 0, 1);\n    transform: matrix3d(0.942, 0, 0, 0, 0, 1.076, 0, 0, 0, 0, 1, 0, 0, -55.807, 0, 1);\n  }\n  15.62% {\n    -webkit-transform: matrix3d(0.938, 0, 0, 0, 0, 1.081, 0, 0, 0, 0, 1, 0, 0, -54.811, 0, 1);\n    transform: matrix3d(0.938, 0, 0, 0, 0, 1.081, 0, 0, 0, 0, 1, 0, 0, -54.811, 0, 1);\n  }\n  17% {\n    -webkit-transform: matrix3d(0.91, 0, 0, 0, 0, 1.126, 0, 0, 0, 0, 1, 0, 0, -36.172, 0, 1);\n    transform: matrix3d(0.91, 0, 0, 0, 0, 1.126, 0, 0, 0, 0, 1, 0, 0, -36.172, 0, 1);\n  }\n  18.32% {\n    -webkit-transform: matrix3d(0.935, 0, 0, 0, 0, 1.094, 0, 0, 0, 0, 1, 0, 0, -18.882, 0, 1);\n    transform: matrix3d(0.935, 0, 0, 0, 0, 1.094, 0, 0, 0, 0, 1, 0, 0, -18.882, 0, 1);\n  }\n  18.33% {\n    -webkit-transform: matrix3d(0.935, 0, 0, 0, 0, 1.093, 0, 0, 0, 0, 1, 0, 0, -18.695, 0, 1);\n    transform: matrix3d(0.935, 0, 0, 0, 0, 1.093, 0, 0, 0, 0, 1, 0, 0, -18.695, 0, 1);\n  }\n  19.81% {\n    -webkit-transform: matrix3d(0.985, 0, 0, 0, 0, 1.022, 0, 0, 0, 0, 1, 0, 0, -1.939, 0, 1);\n    transform: matrix3d(0.985, 0, 0, 0, 0, 1.022, 0, 0, 0, 0, 1, 0, 0, -1.939, 0, 1);\n  }\n  21.72% {\n    -webkit-transform: matrix3d(1.03, 0, 0, 0, 0, 0.957, 0, 0, 0, 0, 1, 0, 0, 13.784, 0, 1);\n    transform: matrix3d(1.03, 0, 0, 0, 0, 0.957, 0, 0, 0, 0, 1, 0, 0, 13.784, 0, 1);\n  }\n  22.56% {\n    -webkit-transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, 18.251, 0, 1);\n    transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, 18.251, 0, 1);\n  }\n  25.03% {\n    -webkit-transform: matrix3d(1.01, 0, 0, 0, 0, 0.985, 0, 0, 0, 0, 1, 0, 0, 23.326, 0, 1);\n    transform: matrix3d(1.01, 0, 0, 0, 0, 0.985, 0, 0, 0, 0, 1, 0, 0, 23.326, 0, 1);\n  }\n  28.12% {\n    -webkit-transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 17.449, 0, 1);\n    transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 17.449, 0, 1);\n  }\n  31.73% {\n    -webkit-transform: matrix3d(1.001, 0, 0, 0, 0, 0.998, 0, 0, 0, 0, 1, 0, 0, 4.778, 0, 1);\n    transform: matrix3d(1.001, 0, 0, 0, 0, 0.998, 0, 0, 0, 0, 1, 0, 0, 4.778, 0, 1);\n  }\n  33.69% {\n    -webkit-transform: matrix3d(1.005, 0, 0, 0, 0, 0.993, 0, 0, 0, 0, 1, 0, 0, -0.886, 0, 1);\n    transform: matrix3d(1.005, 0, 0, 0, 0, 0.993, 0, 0, 0, 0, 1, 0, 0, -0.886, 0, 1);\n  }\n  38.34% {\n    -webkit-transform: matrix3d(0.998, 0, 0, 0, 0, 1.002, 0, 0, 0, 0, 1, 0, 0, -6.231, 0, 1);\n    transform: matrix3d(0.998, 0, 0, 0, 0, 1.002, 0, 0, 0, 0, 1, 0, 0, -6.231, 0, 1);\n  }\n  39.25% {\n    -webkit-transform: matrix3d(0.998, 0, 0, 0, 0, 1.003, 0, 0, 0, 0, 1, 0, 0, -6.065, 0, 1);\n    transform: matrix3d(0.998, 0, 0, 0, 0, 1.003, 0, 0, 0, 0, 1, 0, 0, -6.065, 0, 1);\n  }\n  44.81% {\n    -webkit-transform: matrix3d(1.001, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, -1.507, 0, 1);\n    transform: matrix3d(1.001, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, -1.507, 0, 1);\n  }\n  48.06% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0.828, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0.828, 0, 1);\n  }\n  51.65% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1.665, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1.665, 0, 1);\n  }\n  65.07% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.445, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.445, 0, 1);\n  }\n  78.38% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0.119, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0.119, 0, 1);\n  }\n  91.69% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.032, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.032, 0, 1);\n  }\n  100% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n  }\n}\n@keyframes bouncejs-playVisible {\n  0% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 300, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 300, 0, 1);\n  }\n  1.57% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 239.594, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 239.594, 0, 1);\n  }\n  1.67% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 235.005, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 235.005, 0, 1);\n  }\n  2.02% {\n    -webkit-transform: matrix3d(1.89, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 218.468, 0, 1);\n    transform: matrix3d(1.89, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 218.468, 0, 1);\n  }\n  2.35% {\n    -webkit-transform: matrix3d(2.444, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 202.174, 0, 1);\n    transform: matrix3d(2.444, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 202.174, 0, 1);\n  }\n  2.9% {\n    -webkit-transform: matrix3d(2.828, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 174.441, 0, 1);\n    transform: matrix3d(2.828, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 174.441, 0, 1);\n  }\n  3.03% {\n    -webkit-transform: matrix3d(2.839, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 167.738, 0, 1);\n    transform: matrix3d(2.839, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 167.738, 0, 1);\n  }\n  3.51% {\n    -webkit-transform: matrix3d(2.697, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 143.44, 0, 1);\n    transform: matrix3d(2.697, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 143.44, 0, 1);\n  }\n  3.57% {\n    -webkit-transform: matrix3d(2.665, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 140.513, 0, 1);\n    transform: matrix3d(2.665, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 140.513, 0, 1);\n  }\n  3.61% {\n    -webkit-transform: matrix3d(2.639, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 138.348, 0, 1);\n    transform: matrix3d(2.639, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 138.348, 0, 1);\n  }\n  4.09% {\n    -webkit-transform: matrix3d(1.782, 0, 0, 0, 0, 1.318, 0, 0, 0, 0, 1, 0, 0, 114.376, 0, 1);\n    transform: matrix3d(1.782, 0, 0, 0, 0, 1.318, 0, 0, 0, 0, 1, 0, 0, 114.376, 0, 1);\n  }\n  4.77% {\n    -webkit-transform: matrix3d(0.936, 0, 0, 0, 0, 1.649, 0, 0, 0, 0, 1, 0, 0, 80.955, 0, 1);\n    transform: matrix3d(0.936, 0, 0, 0, 0, 1.649, 0, 0, 0, 0, 1, 0, 0, 80.955, 0, 1);\n  }\n  5.12% {\n    -webkit-transform: matrix3d(0.678, 0, 0, 0, 0, 1.757, 0, 0, 0, 0, 1, 0, 0, 64.402, 0, 1);\n    transform: matrix3d(0.678, 0, 0, 0, 0, 1.757, 0, 0, 0, 0, 1, 0, 0, 64.402, 0, 1);\n  }\n  5.81% {\n    -webkit-transform: matrix3d(0.42, 0, 0, 0, 0, 1.845, 0, 0, 0, 0, 1, 0, 0, 34.014, 0, 1);\n    transform: matrix3d(0.42, 0, 0, 0, 0, 1.845, 0, 0, 0, 0, 1, 0, 0, 34.014, 0, 1);\n  }\n  5.88% {\n    -webkit-transform: matrix3d(0.406, 0, 0, 0, 0, 1.846, 0, 0, 0, 0, 1, 0, 0, 30.888, 0, 1);\n    transform: matrix3d(0.406, 0, 0, 0, 0, 1.846, 0, 0, 0, 0, 1, 0, 0, 30.888, 0, 1);\n  }\n  6.17% {\n    -webkit-transform: matrix3d(0.369, 0, 0, 0, 0, 1.833, 0, 0, 0, 0, 1, 0, 0, 18.969, 0, 1);\n    transform: matrix3d(0.369, 0, 0, 0, 0, 1.833, 0, 0, 0, 0, 1, 0, 0, 18.969, 0, 1);\n  }\n  7.21% {\n    -webkit-transform: matrix3d(0.409, 0, 0, 0, 0, 1.629, 0, 0, 0, 0, 1, 0, 0, -18.614, 0, 1);\n    transform: matrix3d(0.409, 0, 0, 0, 0, 1.629, 0, 0, 0, 0, 1, 0, 0, -18.614, 0, 1);\n  }\n  7.3% {\n    -webkit-transform: matrix3d(0.424, 0, 0, 0, 0, 1.601, 0, 0, 0, 0, 1, 0, 0, -21.769, 0, 1);\n    transform: matrix3d(0.424, 0, 0, 0, 0, 1.601, 0, 0, 0, 0, 1, 0, 0, -21.769, 0, 1);\n  }\n  8.68% {\n    -webkit-transform: matrix3d(0.775, 0, 0, 0, 0, 1.148, 0, 0, 0, 0, 1, 0, 0, -58.087, 0, 1);\n    transform: matrix3d(0.775, 0, 0, 0, 0, 1.148, 0, 0, 0, 0, 1, 0, 0, -58.087, 0, 1);\n  }\n  8.71% {\n    -webkit-transform: matrix3d(0.783, 0, 0, 0, 0, 1.139, 0, 0, 0, 0, 1, 0, 0, -58.624, 0, 1);\n    transform: matrix3d(0.783, 0, 0, 0, 0, 1.139, 0, 0, 0, 0, 1, 0, 0, -58.624, 0, 1);\n  }\n  9.29% {\n    -webkit-transform: matrix3d(0.959, 0, 0, 0, 0, 0.965, 0, 0, 0, 0, 1, 0, 0, -69.317, 0, 1);\n    transform: matrix3d(0.959, 0, 0, 0, 0, 0.965, 0, 0, 0, 0, 1, 0, 0, -69.317, 0, 1);\n  }\n  10.06% {\n    -webkit-transform: matrix3d(1.149, 0, 0, 0, 0, 0.791, 0, 0, 0, 0, 1, 0, 0, -79.477, 0, 1);\n    transform: matrix3d(1.149, 0, 0, 0, 0, 0.791, 0, 0, 0, 0, 1, 0, 0, -79.477, 0, 1);\n  }\n  11.38% {\n    -webkit-transform: matrix3d(1.277, 0, 0, 0, 0, 0.673, 0, 0, 0, 0, 1, 0, 0, -87.114, 0, 1);\n    transform: matrix3d(1.277, 0, 0, 0, 0, 0.673, 0, 0, 0, 0, 1, 0, 0, -87.114, 0, 1);\n  }\n  11.44% {\n    -webkit-transform: matrix3d(1.277, 0, 0, 0, 0, 0.673, 0, 0, 0, 0, 1, 0, 0, -87.204, 0, 1);\n    transform: matrix3d(1.277, 0, 0, 0, 0, 0.673, 0, 0, 0, 0, 1, 0, 0, -87.204, 0, 1);\n  }\n  11.61% {\n    -webkit-transform: matrix3d(1.274, 0, 0, 0, 0, 0.675, 0, 0, 0, 0, 1, 0, 0, -87.321, 0, 1);\n    transform: matrix3d(1.274, 0, 0, 0, 0, 0.675, 0, 0, 0, 0, 1, 0, 0, -87.321, 0, 1);\n  }\n  12.86% {\n    -webkit-transform: matrix3d(1.184, 0, 0, 0, 0, 0.768, 0, 0, 0, 0, 1, 0, 0, -83.434, 0, 1);\n    transform: matrix3d(1.184, 0, 0, 0, 0, 0.768, 0, 0, 0, 0, 1, 0, 0, -83.434, 0, 1);\n  }\n  14.24% {\n    -webkit-transform: matrix3d(1.038, 0, 0, 0, 0, 0.944, 0, 0, 0, 0, 1, 0, 0, -71.553, 0, 1);\n    transform: matrix3d(1.038, 0, 0, 0, 0, 0.944, 0, 0, 0, 0, 1, 0, 0, -71.553, 0, 1);\n  }\n  15.02% {\n    -webkit-transform: matrix3d(0.974, 0, 0, 0, 0, 1.03, 0, 0, 0, 0, 1, 0, 0, -62.593, 0, 1);\n    transform: matrix3d(0.974, 0, 0, 0, 0, 1.03, 0, 0, 0, 0, 1, 0, 0, -62.593, 0, 1);\n  }\n  15.55% {\n    -webkit-transform: matrix3d(0.942, 0, 0, 0, 0, 1.076, 0, 0, 0, 0, 1, 0, 0, -55.807, 0, 1);\n    transform: matrix3d(0.942, 0, 0, 0, 0, 1.076, 0, 0, 0, 0, 1, 0, 0, -55.807, 0, 1);\n  }\n  15.62% {\n    -webkit-transform: matrix3d(0.938, 0, 0, 0, 0, 1.081, 0, 0, 0, 0, 1, 0, 0, -54.811, 0, 1);\n    transform: matrix3d(0.938, 0, 0, 0, 0, 1.081, 0, 0, 0, 0, 1, 0, 0, -54.811, 0, 1);\n  }\n  17% {\n    -webkit-transform: matrix3d(0.91, 0, 0, 0, 0, 1.126, 0, 0, 0, 0, 1, 0, 0, -36.172, 0, 1);\n    transform: matrix3d(0.91, 0, 0, 0, 0, 1.126, 0, 0, 0, 0, 1, 0, 0, -36.172, 0, 1);\n  }\n  18.32% {\n    -webkit-transform: matrix3d(0.935, 0, 0, 0, 0, 1.094, 0, 0, 0, 0, 1, 0, 0, -18.882, 0, 1);\n    transform: matrix3d(0.935, 0, 0, 0, 0, 1.094, 0, 0, 0, 0, 1, 0, 0, -18.882, 0, 1);\n  }\n  18.33% {\n    -webkit-transform: matrix3d(0.935, 0, 0, 0, 0, 1.093, 0, 0, 0, 0, 1, 0, 0, -18.695, 0, 1);\n    transform: matrix3d(0.935, 0, 0, 0, 0, 1.093, 0, 0, 0, 0, 1, 0, 0, -18.695, 0, 1);\n  }\n  19.81% {\n    -webkit-transform: matrix3d(0.985, 0, 0, 0, 0, 1.022, 0, 0, 0, 0, 1, 0, 0, -1.939, 0, 1);\n    transform: matrix3d(0.985, 0, 0, 0, 0, 1.022, 0, 0, 0, 0, 1, 0, 0, -1.939, 0, 1);\n  }\n  21.72% {\n    -webkit-transform: matrix3d(1.03, 0, 0, 0, 0, 0.957, 0, 0, 0, 0, 1, 0, 0, 13.784, 0, 1);\n    transform: matrix3d(1.03, 0, 0, 0, 0, 0.957, 0, 0, 0, 0, 1, 0, 0, 13.784, 0, 1);\n  }\n  22.56% {\n    -webkit-transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, 18.251, 0, 1);\n    transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, 18.251, 0, 1);\n  }\n  25.03% {\n    -webkit-transform: matrix3d(1.01, 0, 0, 0, 0, 0.985, 0, 0, 0, 0, 1, 0, 0, 23.326, 0, 1);\n    transform: matrix3d(1.01, 0, 0, 0, 0, 0.985, 0, 0, 0, 0, 1, 0, 0, 23.326, 0, 1);\n  }\n  28.12% {\n    -webkit-transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 17.449, 0, 1);\n    transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 17.449, 0, 1);\n  }\n  31.73% {\n    -webkit-transform: matrix3d(1.001, 0, 0, 0, 0, 0.998, 0, 0, 0, 0, 1, 0, 0, 4.778, 0, 1);\n    transform: matrix3d(1.001, 0, 0, 0, 0, 0.998, 0, 0, 0, 0, 1, 0, 0, 4.778, 0, 1);\n  }\n  33.69% {\n    -webkit-transform: matrix3d(1.005, 0, 0, 0, 0, 0.993, 0, 0, 0, 0, 1, 0, 0, -0.886, 0, 1);\n    transform: matrix3d(1.005, 0, 0, 0, 0, 0.993, 0, 0, 0, 0, 1, 0, 0, -0.886, 0, 1);\n  }\n  38.34% {\n    -webkit-transform: matrix3d(0.998, 0, 0, 0, 0, 1.002, 0, 0, 0, 0, 1, 0, 0, -6.231, 0, 1);\n    transform: matrix3d(0.998, 0, 0, 0, 0, 1.002, 0, 0, 0, 0, 1, 0, 0, -6.231, 0, 1);\n  }\n  39.25% {\n    -webkit-transform: matrix3d(0.998, 0, 0, 0, 0, 1.003, 0, 0, 0, 0, 1, 0, 0, -6.065, 0, 1);\n    transform: matrix3d(0.998, 0, 0, 0, 0, 1.003, 0, 0, 0, 0, 1, 0, 0, -6.065, 0, 1);\n  }\n  44.81% {\n    -webkit-transform: matrix3d(1.001, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, -1.507, 0, 1);\n    transform: matrix3d(1.001, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, -1.507, 0, 1);\n  }\n  48.06% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0.828, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0.828, 0, 1);\n  }\n  51.65% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1.665, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1.665, 0, 1);\n  }\n  65.07% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.445, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.445, 0, 1);\n  }\n  78.38% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0.119, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0.119, 0, 1);\n  }\n  91.69% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.032, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.032, 0, 1);\n  }\n  100% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n  }\n}\n@-webkit-keyframes bouncejs-playHidden {\n  0% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    z-index: 0;\n  }\n  0.08% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.425, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.425, 0, 1);\n  }\n  0.18% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.95, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.95, 0, 1);\n  }\n  0.27% {\n    -webkit-transform: matrix3d(1.292, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -1.41, 0, 1);\n    transform: matrix3d(1.292, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -1.41, 0, 1);\n  }\n  0.37% {\n    -webkit-transform: matrix3d(1.603, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -1.974, 0, 1);\n    transform: matrix3d(1.603, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -1.974, 0, 1);\n  }\n  0.47% {\n    -webkit-transform: matrix3d(1.77, 0, 0, 0, 0, 1.092, 0, 0, 0, 0, 1, 0, 0, -2.595, 0, 1);\n    transform: matrix3d(1.77, 0, 0, 0, 0, 1.092, 0, 0, 0, 0, 1, 0, 0, -2.595, 0, 1);\n  }\n  0.75% {\n    -webkit-transform: matrix3d(1.919, 0, 0, 0, 0, 1.31, 0, 0, 0, 0, 1, 0, 0, -4.312, 0, 1);\n    transform: matrix3d(1.919, 0, 0, 0, 0, 1.31, 0, 0, 0, 0, 1, 0, 0, -4.312, 0, 1);\n  }\n  1.32% {\n    -webkit-transform: matrix3d(1.571, 0, 0, 0, 0, 1.645, 0, 0, 0, 0, 1, 0, 0, -8.224, 0, 1);\n    transform: matrix3d(1.571, 0, 0, 0, 0, 1.645, 0, 0, 0, 0, 1, 0, 0, -8.224, 0, 1);\n  }\n  1.33% {\n    -webkit-transform: matrix3d(1.563, 0, 0, 0, 0, 1.649, 0, 0, 0, 0, 1, 0, 0, -8.29, 0, 1);\n    transform: matrix3d(1.563, 0, 0, 0, 0, 1.649, 0, 0, 0, 0, 1, 0, 0, -8.29, 0, 1);\n  }\n  1.76% {\n    -webkit-transform: matrix3d(1.201, 0, 0, 0, 0, 1.793, 0, 0, 0, 0, 1, 0, 0, -11.571, 0, 1);\n    transform: matrix3d(1.201, 0, 0, 0, 0, 1.793, 0, 0, 0, 0, 1, 0, 0, -11.571, 0, 1);\n  }\n  2.19% {\n    -webkit-transform: matrix3d(0.948, 0, 0, 0, 0, 1.845, 0, 0, 0, 0, 1, 0, 0, -14.995, 0, 1);\n    transform: matrix3d(0.948, 0, 0, 0, 0, 1.845, 0, 0, 0, 0, 1, 0, 0, -14.995, 0, 1);\n  }\n  2.25% {\n    -webkit-transform: matrix3d(0.922, 0, 0, 0, 0, 1.846, 0, 0, 0, 0, 1, 0, 0, -15.483, 0, 1);\n    transform: matrix3d(0.922, 0, 0, 0, 0, 1.846, 0, 0, 0, 0, 1, 0, 0, -15.483, 0, 1);\n  }\n  2.9% {\n    -webkit-transform: matrix3d(0.736, 0, 0, 0, 0, 1.762, 0, 0, 0, 0, 1, 0, 0, -20.927, 0, 1);\n    transform: matrix3d(0.736, 0, 0, 0, 0, 1.762, 0, 0, 0, 0, 1, 0, 0, -20.927, 0, 1);\n  }\n  3.05% {\n    -webkit-transform: matrix3d(0.711, 0, 0, 0, 0, 1.724, 0, 0, 0, 0, 1, 0, 0, -22.165, 0, 1);\n    transform: matrix3d(0.711, 0, 0, 0, 0, 1.724, 0, 0, 0, 0, 1, 0, 0, -22.165, 0, 1);\n  }\n  3.43% {\n    -webkit-transform: matrix3d(0.658, 0, 0, 0, 0, 1.601, 0, 0, 0, 0, 1, 0, 0, -25.418, 0, 1);\n    transform: matrix3d(0.658, 0, 0, 0, 0, 1.601, 0, 0, 0, 0, 1, 0, 0, -25.418, 0, 1);\n  }\n  3.92% {\n    -webkit-transform: matrix3d(0.622, 0, 0, 0, 0, 1.412, 0, 0, 0, 0, 1, 0, 0, -29.557, 0, 1);\n    transform: matrix3d(0.622, 0, 0, 0, 0, 1.412, 0, 0, 0, 0, 1, 0, 0, -29.557, 0, 1);\n  }\n  4.58% {\n    -webkit-transform: matrix3d(0.656, 0, 0, 0, 0, 1.148, 0, 0, 0, 0, 1, 0, 0, -34.965, 0, 1);\n    transform: matrix3d(0.656, 0, 0, 0, 0, 1.148, 0, 0, 0, 0, 1, 0, 0, -34.965, 0, 1);\n  }\n  4.78% {\n    -webkit-transform: matrix3d(0.69, 0, 0, 0, 0, 1.071, 0, 0, 0, 0, 1, 0, 0, -36.595, 0, 1);\n    transform: matrix3d(0.69, 0, 0, 0, 0, 1.071, 0, 0, 0, 0, 1, 0, 0, -36.595, 0, 1);\n  }\n  5.72% {\n    -webkit-transform: matrix3d(0.937, 0, 0, 0, 0, 0.791, 0, 0, 0, 0, 1, 0, 0, -43.719, 0, 1);\n    transform: matrix3d(0.937, 0, 0, 0, 0, 0.791, 0, 0, 0, 0, 1, 0, 0, -43.719, 0, 1);\n  }\n  5.81% {\n    -webkit-transform: matrix3d(0.963, 0, 0, 0, 0, 0.773, 0, 0, 0, 0, 1, 0, 0, -44.331, 0, 1);\n    transform: matrix3d(0.963, 0, 0, 0, 0, 0.773, 0, 0, 0, 0, 1, 0, 0, -44.331, 0, 1);\n  }\n  6.51% {\n    -webkit-transform: matrix3d(1.143, 0, 0, 0, 0, 0.683, 0, 0, 0, 0, 1, 0, 0, -49.023, 0, 1);\n    transform: matrix3d(1.143, 0, 0, 0, 0, 0.683, 0, 0, 0, 0, 1, 0, 0, -49.023, 0, 1);\n  }\n  6.86% {\n    -webkit-transform: matrix3d(1.2, 0, 0, 0, 0, 0.673, 0, 0, 0, 0, 1, 0, 0, -51.176, 0, 1);\n    transform: matrix3d(1.2, 0, 0, 0, 0, 0.673, 0, 0, 0, 0, 1, 0, 0, -51.176, 0, 1);\n  }\n  8.04% {\n    -webkit-transform: matrix3d(1.207, 0, 0, 0, 0, 0.768, 0, 0, 0, 0, 1, 0, 0, -57.192, 0, 1);\n    transform: matrix3d(1.207, 0, 0, 0, 0, 0.768, 0, 0, 0, 0, 1, 0, 0, -57.192, 0, 1);\n  }\n  8.24% {\n    -webkit-transform: matrix3d(1.188, 0, 0, 0, 0, 0.796, 0, 0, 0, 0, 1, 0, 0, -58.006, 0, 1);\n    transform: matrix3d(1.188, 0, 0, 0, 0, 0.796, 0, 0, 0, 0, 1, 0, 0, -58.006, 0, 1);\n  }\n  8.71% {\n    -webkit-transform: matrix3d(1.131, 0, 0, 0, 0, 0.869, 0, 0, 0, 0, 1, 0, 0, -59.771, 0, 1);\n    transform: matrix3d(1.131, 0, 0, 0, 0, 0.869, 0, 0, 0, 0, 1, 0, 0, -59.771, 0, 1);\n  }\n  9.19% {\n    -webkit-transform: matrix3d(1.067, 0, 0, 0, 0, 0.944, 0, 0, 0, 0, 1, 0, 0, -61.271, 0, 1);\n    transform: matrix3d(1.067, 0, 0, 0, 0, 0.944, 0, 0, 0, 0, 1, 0, 0, -61.271, 0, 1);\n  }\n  10.33% {\n    -webkit-transform: matrix3d(0.947, 0, 0, 0, 0, 1.081, 0, 0, 0, 0, 1, 0, 0, -63.668, 0, 1);\n    transform: matrix3d(0.947, 0, 0, 0, 0, 1.081, 0, 0, 0, 0, 1, 0, 0, -63.668, 0, 1);\n  }\n  11.48% {\n    -webkit-transform: matrix3d(0.907, 0, 0, 0, 0, 1.126, 0, 0, 0, 0, 1, 0, 0, -64.54, 0, 1);\n    transform: matrix3d(0.907, 0, 0, 0, 0, 1.126, 0, 0, 0, 0, 1, 0, 0, -64.54, 0, 1);\n  }\n  11.61% {\n    -webkit-transform: matrix3d(0.907, 0, 0, 0, 0, 1.126, 0, 0, 0, 0, 1, 0, 0, -64.553, 0, 1);\n    transform: matrix3d(0.907, 0, 0, 0, 0, 1.126, 0, 0, 0, 0, 1, 0, 0, -64.553, 0, 1);\n  }\n  11.7% {\n    -webkit-transform: matrix3d(0.908, 0, 0, 0, 0, 1.125, 0, 0, 0, 0, 1, 0, 0, -64.553, 0, 1);\n    transform: matrix3d(0.908, 0, 0, 0, 0, 1.125, 0, 0, 0, 0, 1, 0, 0, -64.553, 0, 1);\n  }\n  13.8% {\n    -webkit-transform: matrix3d(0.985, 0, 0, 0, 0, 1.022, 0, 0, 0, 0, 1, 0, 0, -62.674, 0, 1);\n    transform: matrix3d(0.985, 0, 0, 0, 0, 1.022, 0, 0, 0, 0, 1, 0, 0, -62.674, 0, 1);\n  }\n  14.01% {\n    -webkit-transform: matrix3d(0.993, 0, 0, 0, 0, 1.01, 0, 0, 0, 0, 1, 0, 0, -62.334, 0, 1);\n    transform: matrix3d(0.993, 0, 0, 0, 0, 1.01, 0, 0, 0, 0, 1, 0, 0, -62.334, 0, 1);\n  }\n  15.02% {\n    -webkit-transform: matrix3d(1.023, 0, 0, 0, 0, 0.966, 0, 0, 0, 0, 1, 0, 0, -60.432, 0, 1);\n    transform: matrix3d(1.023, 0, 0, 0, 0, 0.966, 0, 0, 0, 0, 1, 0, 0, -60.432, 0, 1);\n  }\n  16.03% {\n    -webkit-transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, -58.233, 0, 1);\n    transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, -58.233, 0, 1);\n  }\n  16.09% {\n    -webkit-transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, -58.098, 0, 1);\n    transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, -58.098, 0, 1);\n  }\n  16.13% {\n    -webkit-transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, -58.009, 0, 1);\n    transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, -58.009, 0, 1);\n  }\n  18.32% {\n    -webkit-transform: matrix3d(1.007, 0, 0, 0, 0, 0.99, 0, 0, 0, 0, 1, 0, 0, 56.962, 0, 1);\n    transform: matrix3d(1.007, 0, 0, 0, 0, 0.99, 0, 0, 0, 0, 1, 0, 0, 56.962, 0, 1);\n  }\n  18.76% {\n    -webkit-transform: matrix3d(1.001, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 77.188, 0, 1);\n    transform: matrix3d(1.001, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 77.188, 0, 1);\n  }\n  20.64% {\n    -webkit-transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 150.636, 0, 1);\n    transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 150.636, 0, 1);\n  }\n  20.7% {\n    -webkit-transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 152.749, 0, 1);\n    transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 152.749, 0, 1);\n  }\n  20.74% {\n    -webkit-transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 153.872, 0, 1);\n    transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 153.872, 0, 1);\n  }\n  21.3% {\n    -webkit-transform: matrix3d(0.774, 0.632, 0, 0, -0.614, 0.797, 0, 0, 0, 0, 1, 0, 0, 170.894, 0, 1);\n    transform: matrix3d(0.774, 0.632, 0, 0, -0.614, 0.797, 0, 0, 0, 0, 1, 0, 0, 170.894, 0, 1);\n  }\n  21.53% {\n    -webkit-transform: matrix3d(0.665, 0.752, 0, 0, -0.732, 0.683, 0, 0, 0, 0, 1, 0, 0, 177.313, 0, 1);\n    transform: matrix3d(0.665, 0.752, 0, 0, -0.732, 0.683, 0, 0, 0, 0, 1, 0, 0, 177.313, 0, 1);\n  }\n  21.72% {\n    -webkit-transform: matrix3d(0.595, 0.81, 0, 0, -0.791, 0.61, 0, 0, 0, 0, 1, 0, 0, 182.25, 0, 1);\n    transform: matrix3d(0.595, 0.81, 0, 0, -0.791, 0.61, 0, 0, 0, 0, 1, 0, 0, 182.25, 0, 1);\n  }\n  22.33% {\n    -webkit-transform: matrix3d(0.505, 0.869, 0, 0, -0.856, 0.513, 0, 0, 0, 0, 1, 0, 0, 197.013, 0, 1);\n    transform: matrix3d(0.505, 0.869, 0, 0, -0.856, 0.513, 0, 0, 0, 0, 1, 0, 0, 197.013, 0, 1);\n  }\n  23.5% {\n    -webkit-transform: matrix3d(0.697, 0.716, 0, 0, -0.717, 0.697, 0, 0, 0, 0, 1, 0, 0, 220.894, 0, 1);\n    transform: matrix3d(0.697, 0.716, 0, 0, -0.717, 0.697, 0, 0, 0, 0, 1, 0, 0, 220.894, 0, 1);\n  }\n  24.65% {\n    -webkit-transform: matrix3d(0.915, 0.411, 0, 0, -0.415, 0.905, 0, 0, 0, 0, 1, 0, 0, 240.595, 0, 1);\n    transform: matrix3d(0.915, 0.411, 0, 0, -0.415, 0.905, 0, 0, 0, 0, 1, 0, 0, 240.595, 0, 1);\n  }\n  25.03% {\n    -webkit-transform: matrix3d(0.954, 0.312, 0, 0, -0.315, 0.943, 0, 0, 0, 0, 1, 0, 0, 246.56, 0, 1);\n    transform: matrix3d(0.954, 0.312, 0, 0, -0.315, 0.943, 0, 0, 0, 0, 1, 0, 0, 246.56, 0, 1);\n  }\n  25.32% {\n    -webkit-transform: matrix3d(0.975, 0.242, 0, 0, -0.245, 0.963, 0, 0, 0, 0, 1, 0, 0, 251.011, 0, 1);\n    transform: matrix3d(0.975, 0.242, 0, 0, -0.245, 0.963, 0, 0, 0, 0, 1, 0, 0, 251.011, 0, 1);\n  }\n  25.82% {\n    -webkit-transform: matrix3d(0.995, 0.141, 0, 0, -0.142, 0.983, 0, 0, 0, 0, 1, 0, 0, 258.454, 0, 1);\n    transform: matrix3d(0.995, 0.141, 0, 0, -0.142, 0.983, 0, 0, 0, 0, 1, 0, 0, 258.454, 0, 1);\n  }\n  26.39% {\n    -webkit-transform: matrix3d(1.002, 0.055, 0, 0, -0.056, 0.993, 0, 0, 0, 0, 1, 0, 0, 266.491, 0, 1);\n    transform: matrix3d(1.002, 0.055, 0, 0, -0.056, 0.993, 0, 0, 0, 0, 1, 0, 0, 266.491, 0, 1);\n  }\n  26.96% {\n    -webkit-transform: matrix3d(1.002, 0, 0, 0, 0, 0.996, 0, 0, 0, 0, 1, 0, 0, 273.99, 0, 1);\n    transform: matrix3d(1.002, 0, 0, 0, 0, 0.996, 0, 0, 0, 0, 1, 0, 0, 273.99, 0, 1);\n  }\n  28.56% {\n    -webkit-transform: matrix3d(0.998, 0.049, 0, 0, -0.049, 1, 0, 0, 0, 0, 1, 0, 0, 291.758, 0, 1);\n    transform: matrix3d(0.998, 0.049, 0, 0, -0.049, 1, 0, 0, 0, 0, 1, 0, 0, 291.758, 0, 1);\n  }\n  29.93% {\n    -webkit-transform: matrix3d(0.997, 0.035, 0, 0, -0.035, 1.002, 0, 0, 0, 0, 1, 0, 0, 303.091, 0, 1);\n    transform: matrix3d(0.997, 0.035, 0, 0, -0.035, 1.002, 0, 0, 0, 0, 1, 0, 0, 303.091, 0, 1);\n  }\n  31.57% {\n    -webkit-transform: matrix3d(0.999, 0.011, 0, 0, -0.011, 1.001, 0, 0, 0, 0, 1, 0, 0, 312.722, 0, 1);\n    transform: matrix3d(0.999, 0.011, 0, 0, -0.011, 1.001, 0, 0, 0, 0, 1, 0, 0, 312.722, 0, 1);\n  }\n  31.73% {\n    -webkit-transform: matrix3d(0.999, 0.01, 0, 0, -0.01, 1.001, 0, 0, 0, 0, 1, 0, 0, 313.528, 0, 1);\n    transform: matrix3d(0.999, 0.01, 0, 0, -0.01, 1.001, 0, 0, 0, 0, 1, 0, 0, 313.528, 0, 1);\n  }\n  33.19% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 319.786, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 319.786, 0, 1);\n  }\n  34.54% {\n    -webkit-transform: matrix3d(1.001, 0.002, 0, 0, -0.002, 0.999, 0, 0, 0, 0, 1, 0, 0, 324.743, 0, 1);\n    transform: matrix3d(1.001, 0.002, 0, 0, -0.002, 0.999, 0, 0, 0, 0, 1, 0, 0, 324.743, 0, 1);\n  }\n  34.79% {\n    -webkit-transform: matrix3d(1.001, 0.002, 0, 0, -0.002, 0.999, 0, 0, 0, 0, 1, 0, 0, 325.587, 0, 1);\n    transform: matrix3d(1.001, 0.002, 0, 0, -0.002, 0.999, 0, 0, 0, 0, 1, 0, 0, 325.587, 0, 1);\n  }\n  36.66% {\n    -webkit-transform: matrix3d(1, 0.001, 0, 0, -0.001, 1, 0, 0, 0, 0, 1, 0, 0, 331.423, 0, 1);\n    transform: matrix3d(1, 0.001, 0, 0, -0.001, 1, 0, 0, 0, 0, 1, 0, 0, 331.423, 0, 1);\n  }\n  37.24% {\n    -webkit-transform: matrix3d(1, 0.001, 0, 0, -0.001, 1, 0, 0, 0, 0, 1, 0, 0, 332.989, 0, 1);\n    transform: matrix3d(1, 0.001, 0, 0, -0.001, 1, 0, 0, 0, 0, 1, 0, 0, 332.989, 0, 1);\n  }\n  38.34% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 335.493, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 335.493, 0, 1);\n  }\n  39.42% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 337.639, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 337.639, 0, 1);\n  }\n  41.01% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 340.331, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 340.331, 0, 1);\n  }\n  45.62% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 345.632, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 345.632, 0, 1);\n  }\n  46.92% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 346.592, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 346.592, 0, 1);\n  }\n  51.65% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 348.685, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 348.685, 0, 1);\n  }\n  57.18% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.471, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.471, 0, 1);\n  }\n  65.07% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.76, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.76, 0, 1);\n  }\n  78.38% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 350.005, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 350.005, 0, 1);\n  }\n  91.69% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.994, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.994, 0, 1);\n    opacity: 0;\n  }\n  98.16% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.999, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.999, 0, 1);\n    opacity: 0;\n  }\n  100% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 350, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 350, 0, 1);\n    opacity: 0;\n    z-index: -1;\n  }\n}\n@keyframes bouncejs-playHidden {\n  0% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    z-index: 0;\n  }\n  0.08% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.425, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.425, 0, 1);\n  }\n  0.18% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.95, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -0.95, 0, 1);\n  }\n  0.27% {\n    -webkit-transform: matrix3d(1.292, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -1.41, 0, 1);\n    transform: matrix3d(1.292, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -1.41, 0, 1);\n  }\n  0.37% {\n    -webkit-transform: matrix3d(1.603, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -1.974, 0, 1);\n    transform: matrix3d(1.603, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, -1.974, 0, 1);\n  }\n  0.47% {\n    -webkit-transform: matrix3d(1.77, 0, 0, 0, 0, 1.092, 0, 0, 0, 0, 1, 0, 0, -2.595, 0, 1);\n    transform: matrix3d(1.77, 0, 0, 0, 0, 1.092, 0, 0, 0, 0, 1, 0, 0, -2.595, 0, 1);\n  }\n  0.75% {\n    -webkit-transform: matrix3d(1.919, 0, 0, 0, 0, 1.31, 0, 0, 0, 0, 1, 0, 0, -4.312, 0, 1);\n    transform: matrix3d(1.919, 0, 0, 0, 0, 1.31, 0, 0, 0, 0, 1, 0, 0, -4.312, 0, 1);\n  }\n  1.32% {\n    -webkit-transform: matrix3d(1.571, 0, 0, 0, 0, 1.645, 0, 0, 0, 0, 1, 0, 0, -8.224, 0, 1);\n    transform: matrix3d(1.571, 0, 0, 0, 0, 1.645, 0, 0, 0, 0, 1, 0, 0, -8.224, 0, 1);\n  }\n  1.33% {\n    -webkit-transform: matrix3d(1.563, 0, 0, 0, 0, 1.649, 0, 0, 0, 0, 1, 0, 0, -8.29, 0, 1);\n    transform: matrix3d(1.563, 0, 0, 0, 0, 1.649, 0, 0, 0, 0, 1, 0, 0, -8.29, 0, 1);\n  }\n  1.76% {\n    -webkit-transform: matrix3d(1.201, 0, 0, 0, 0, 1.793, 0, 0, 0, 0, 1, 0, 0, -11.571, 0, 1);\n    transform: matrix3d(1.201, 0, 0, 0, 0, 1.793, 0, 0, 0, 0, 1, 0, 0, -11.571, 0, 1);\n  }\n  2.19% {\n    -webkit-transform: matrix3d(0.948, 0, 0, 0, 0, 1.845, 0, 0, 0, 0, 1, 0, 0, -14.995, 0, 1);\n    transform: matrix3d(0.948, 0, 0, 0, 0, 1.845, 0, 0, 0, 0, 1, 0, 0, -14.995, 0, 1);\n  }\n  2.25% {\n    -webkit-transform: matrix3d(0.922, 0, 0, 0, 0, 1.846, 0, 0, 0, 0, 1, 0, 0, -15.483, 0, 1);\n    transform: matrix3d(0.922, 0, 0, 0, 0, 1.846, 0, 0, 0, 0, 1, 0, 0, -15.483, 0, 1);\n  }\n  2.9% {\n    -webkit-transform: matrix3d(0.736, 0, 0, 0, 0, 1.762, 0, 0, 0, 0, 1, 0, 0, -20.927, 0, 1);\n    transform: matrix3d(0.736, 0, 0, 0, 0, 1.762, 0, 0, 0, 0, 1, 0, 0, -20.927, 0, 1);\n  }\n  3.05% {\n    -webkit-transform: matrix3d(0.711, 0, 0, 0, 0, 1.724, 0, 0, 0, 0, 1, 0, 0, -22.165, 0, 1);\n    transform: matrix3d(0.711, 0, 0, 0, 0, 1.724, 0, 0, 0, 0, 1, 0, 0, -22.165, 0, 1);\n  }\n  3.43% {\n    -webkit-transform: matrix3d(0.658, 0, 0, 0, 0, 1.601, 0, 0, 0, 0, 1, 0, 0, -25.418, 0, 1);\n    transform: matrix3d(0.658, 0, 0, 0, 0, 1.601, 0, 0, 0, 0, 1, 0, 0, -25.418, 0, 1);\n  }\n  3.92% {\n    -webkit-transform: matrix3d(0.622, 0, 0, 0, 0, 1.412, 0, 0, 0, 0, 1, 0, 0, -29.557, 0, 1);\n    transform: matrix3d(0.622, 0, 0, 0, 0, 1.412, 0, 0, 0, 0, 1, 0, 0, -29.557, 0, 1);\n  }\n  4.58% {\n    -webkit-transform: matrix3d(0.656, 0, 0, 0, 0, 1.148, 0, 0, 0, 0, 1, 0, 0, -34.965, 0, 1);\n    transform: matrix3d(0.656, 0, 0, 0, 0, 1.148, 0, 0, 0, 0, 1, 0, 0, -34.965, 0, 1);\n  }\n  4.78% {\n    -webkit-transform: matrix3d(0.69, 0, 0, 0, 0, 1.071, 0, 0, 0, 0, 1, 0, 0, -36.595, 0, 1);\n    transform: matrix3d(0.69, 0, 0, 0, 0, 1.071, 0, 0, 0, 0, 1, 0, 0, -36.595, 0, 1);\n  }\n  5.72% {\n    -webkit-transform: matrix3d(0.937, 0, 0, 0, 0, 0.791, 0, 0, 0, 0, 1, 0, 0, -43.719, 0, 1);\n    transform: matrix3d(0.937, 0, 0, 0, 0, 0.791, 0, 0, 0, 0, 1, 0, 0, -43.719, 0, 1);\n  }\n  5.81% {\n    -webkit-transform: matrix3d(0.963, 0, 0, 0, 0, 0.773, 0, 0, 0, 0, 1, 0, 0, -44.331, 0, 1);\n    transform: matrix3d(0.963, 0, 0, 0, 0, 0.773, 0, 0, 0, 0, 1, 0, 0, -44.331, 0, 1);\n  }\n  6.51% {\n    -webkit-transform: matrix3d(1.143, 0, 0, 0, 0, 0.683, 0, 0, 0, 0, 1, 0, 0, -49.023, 0, 1);\n    transform: matrix3d(1.143, 0, 0, 0, 0, 0.683, 0, 0, 0, 0, 1, 0, 0, -49.023, 0, 1);\n  }\n  6.86% {\n    -webkit-transform: matrix3d(1.2, 0, 0, 0, 0, 0.673, 0, 0, 0, 0, 1, 0, 0, -51.176, 0, 1);\n    transform: matrix3d(1.2, 0, 0, 0, 0, 0.673, 0, 0, 0, 0, 1, 0, 0, -51.176, 0, 1);\n  }\n  8.04% {\n    -webkit-transform: matrix3d(1.207, 0, 0, 0, 0, 0.768, 0, 0, 0, 0, 1, 0, 0, -57.192, 0, 1);\n    transform: matrix3d(1.207, 0, 0, 0, 0, 0.768, 0, 0, 0, 0, 1, 0, 0, -57.192, 0, 1);\n  }\n  8.24% {\n    -webkit-transform: matrix3d(1.188, 0, 0, 0, 0, 0.796, 0, 0, 0, 0, 1, 0, 0, -58.006, 0, 1);\n    transform: matrix3d(1.188, 0, 0, 0, 0, 0.796, 0, 0, 0, 0, 1, 0, 0, -58.006, 0, 1);\n  }\n  8.71% {\n    -webkit-transform: matrix3d(1.131, 0, 0, 0, 0, 0.869, 0, 0, 0, 0, 1, 0, 0, -59.771, 0, 1);\n    transform: matrix3d(1.131, 0, 0, 0, 0, 0.869, 0, 0, 0, 0, 1, 0, 0, -59.771, 0, 1);\n  }\n  9.19% {\n    -webkit-transform: matrix3d(1.067, 0, 0, 0, 0, 0.944, 0, 0, 0, 0, 1, 0, 0, -61.271, 0, 1);\n    transform: matrix3d(1.067, 0, 0, 0, 0, 0.944, 0, 0, 0, 0, 1, 0, 0, -61.271, 0, 1);\n  }\n  10.33% {\n    -webkit-transform: matrix3d(0.947, 0, 0, 0, 0, 1.081, 0, 0, 0, 0, 1, 0, 0, -63.668, 0, 1);\n    transform: matrix3d(0.947, 0, 0, 0, 0, 1.081, 0, 0, 0, 0, 1, 0, 0, -63.668, 0, 1);\n  }\n  11.48% {\n    -webkit-transform: matrix3d(0.907, 0, 0, 0, 0, 1.126, 0, 0, 0, 0, 1, 0, 0, -64.54, 0, 1);\n    transform: matrix3d(0.907, 0, 0, 0, 0, 1.126, 0, 0, 0, 0, 1, 0, 0, -64.54, 0, 1);\n  }\n  11.61% {\n    -webkit-transform: matrix3d(0.907, 0, 0, 0, 0, 1.126, 0, 0, 0, 0, 1, 0, 0, -64.553, 0, 1);\n    transform: matrix3d(0.907, 0, 0, 0, 0, 1.126, 0, 0, 0, 0, 1, 0, 0, -64.553, 0, 1);\n  }\n  11.7% {\n    -webkit-transform: matrix3d(0.908, 0, 0, 0, 0, 1.125, 0, 0, 0, 0, 1, 0, 0, -64.553, 0, 1);\n    transform: matrix3d(0.908, 0, 0, 0, 0, 1.125, 0, 0, 0, 0, 1, 0, 0, -64.553, 0, 1);\n  }\n  13.8% {\n    -webkit-transform: matrix3d(0.985, 0, 0, 0, 0, 1.022, 0, 0, 0, 0, 1, 0, 0, -62.674, 0, 1);\n    transform: matrix3d(0.985, 0, 0, 0, 0, 1.022, 0, 0, 0, 0, 1, 0, 0, -62.674, 0, 1);\n  }\n  14.01% {\n    -webkit-transform: matrix3d(0.993, 0, 0, 0, 0, 1.01, 0, 0, 0, 0, 1, 0, 0, -62.334, 0, 1);\n    transform: matrix3d(0.993, 0, 0, 0, 0, 1.01, 0, 0, 0, 0, 1, 0, 0, -62.334, 0, 1);\n  }\n  15.02% {\n    -webkit-transform: matrix3d(1.023, 0, 0, 0, 0, 0.966, 0, 0, 0, 0, 1, 0, 0, -60.432, 0, 1);\n    transform: matrix3d(1.023, 0, 0, 0, 0, 0.966, 0, 0, 0, 0, 1, 0, 0, -60.432, 0, 1);\n  }\n  16.03% {\n    -webkit-transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, -58.233, 0, 1);\n    transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, -58.233, 0, 1);\n  }\n  16.09% {\n    -webkit-transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, -58.098, 0, 1);\n    transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, -58.098, 0, 1);\n  }\n  16.13% {\n    -webkit-transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, -58.009, 0, 1);\n    transform: matrix3d(1.034, 0, 0, 0, 0, 0.951, 0, 0, 0, 0, 1, 0, 0, -58.009, 0, 1);\n  }\n  18.32% {\n    -webkit-transform: matrix3d(1.007, 0, 0, 0, 0, 0.99, 0, 0, 0, 0, 1, 0, 0, 56.962, 0, 1);\n    transform: matrix3d(1.007, 0, 0, 0, 0, 0.99, 0, 0, 0, 0, 1, 0, 0, 56.962, 0, 1);\n  }\n  18.76% {\n    -webkit-transform: matrix3d(1.001, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 77.188, 0, 1);\n    transform: matrix3d(1.001, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 77.188, 0, 1);\n  }\n  20.64% {\n    -webkit-transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 150.636, 0, 1);\n    transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 150.636, 0, 1);\n  }\n  20.7% {\n    -webkit-transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 152.749, 0, 1);\n    transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 152.749, 0, 1);\n  }\n  20.74% {\n    -webkit-transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 153.872, 0, 1);\n    transform: matrix3d(0.987, 0, 0, 0, 0, 1.019, 0, 0, 0, 0, 1, 0, 0, 153.872, 0, 1);\n  }\n  21.3% {\n    -webkit-transform: matrix3d(0.774, 0.632, 0, 0, -0.614, 0.797, 0, 0, 0, 0, 1, 0, 0, 170.894, 0, 1);\n    transform: matrix3d(0.774, 0.632, 0, 0, -0.614, 0.797, 0, 0, 0, 0, 1, 0, 0, 170.894, 0, 1);\n  }\n  21.53% {\n    -webkit-transform: matrix3d(0.665, 0.752, 0, 0, -0.732, 0.683, 0, 0, 0, 0, 1, 0, 0, 177.313, 0, 1);\n    transform: matrix3d(0.665, 0.752, 0, 0, -0.732, 0.683, 0, 0, 0, 0, 1, 0, 0, 177.313, 0, 1);\n  }\n  21.72% {\n    -webkit-transform: matrix3d(0.595, 0.81, 0, 0, -0.791, 0.61, 0, 0, 0, 0, 1, 0, 0, 182.25, 0, 1);\n    transform: matrix3d(0.595, 0.81, 0, 0, -0.791, 0.61, 0, 0, 0, 0, 1, 0, 0, 182.25, 0, 1);\n  }\n  22.33% {\n    -webkit-transform: matrix3d(0.505, 0.869, 0, 0, -0.856, 0.513, 0, 0, 0, 0, 1, 0, 0, 197.013, 0, 1);\n    transform: matrix3d(0.505, 0.869, 0, 0, -0.856, 0.513, 0, 0, 0, 0, 1, 0, 0, 197.013, 0, 1);\n  }\n  23.5% {\n    -webkit-transform: matrix3d(0.697, 0.716, 0, 0, -0.717, 0.697, 0, 0, 0, 0, 1, 0, 0, 220.894, 0, 1);\n    transform: matrix3d(0.697, 0.716, 0, 0, -0.717, 0.697, 0, 0, 0, 0, 1, 0, 0, 220.894, 0, 1);\n  }\n  24.65% {\n    -webkit-transform: matrix3d(0.915, 0.411, 0, 0, -0.415, 0.905, 0, 0, 0, 0, 1, 0, 0, 240.595, 0, 1);\n    transform: matrix3d(0.915, 0.411, 0, 0, -0.415, 0.905, 0, 0, 0, 0, 1, 0, 0, 240.595, 0, 1);\n  }\n  25.03% {\n    -webkit-transform: matrix3d(0.954, 0.312, 0, 0, -0.315, 0.943, 0, 0, 0, 0, 1, 0, 0, 246.56, 0, 1);\n    transform: matrix3d(0.954, 0.312, 0, 0, -0.315, 0.943, 0, 0, 0, 0, 1, 0, 0, 246.56, 0, 1);\n  }\n  25.32% {\n    -webkit-transform: matrix3d(0.975, 0.242, 0, 0, -0.245, 0.963, 0, 0, 0, 0, 1, 0, 0, 251.011, 0, 1);\n    transform: matrix3d(0.975, 0.242, 0, 0, -0.245, 0.963, 0, 0, 0, 0, 1, 0, 0, 251.011, 0, 1);\n  }\n  25.82% {\n    -webkit-transform: matrix3d(0.995, 0.141, 0, 0, -0.142, 0.983, 0, 0, 0, 0, 1, 0, 0, 258.454, 0, 1);\n    transform: matrix3d(0.995, 0.141, 0, 0, -0.142, 0.983, 0, 0, 0, 0, 1, 0, 0, 258.454, 0, 1);\n  }\n  26.39% {\n    -webkit-transform: matrix3d(1.002, 0.055, 0, 0, -0.056, 0.993, 0, 0, 0, 0, 1, 0, 0, 266.491, 0, 1);\n    transform: matrix3d(1.002, 0.055, 0, 0, -0.056, 0.993, 0, 0, 0, 0, 1, 0, 0, 266.491, 0, 1);\n  }\n  26.96% {\n    -webkit-transform: matrix3d(1.002, 0, 0, 0, 0, 0.996, 0, 0, 0, 0, 1, 0, 0, 273.99, 0, 1);\n    transform: matrix3d(1.002, 0, 0, 0, 0, 0.996, 0, 0, 0, 0, 1, 0, 0, 273.99, 0, 1);\n  }\n  28.56% {\n    -webkit-transform: matrix3d(0.998, 0.049, 0, 0, -0.049, 1, 0, 0, 0, 0, 1, 0, 0, 291.758, 0, 1);\n    transform: matrix3d(0.998, 0.049, 0, 0, -0.049, 1, 0, 0, 0, 0, 1, 0, 0, 291.758, 0, 1);\n  }\n  29.93% {\n    -webkit-transform: matrix3d(0.997, 0.035, 0, 0, -0.035, 1.002, 0, 0, 0, 0, 1, 0, 0, 303.091, 0, 1);\n    transform: matrix3d(0.997, 0.035, 0, 0, -0.035, 1.002, 0, 0, 0, 0, 1, 0, 0, 303.091, 0, 1);\n  }\n  31.57% {\n    -webkit-transform: matrix3d(0.999, 0.011, 0, 0, -0.011, 1.001, 0, 0, 0, 0, 1, 0, 0, 312.722, 0, 1);\n    transform: matrix3d(0.999, 0.011, 0, 0, -0.011, 1.001, 0, 0, 0, 0, 1, 0, 0, 312.722, 0, 1);\n  }\n  31.73% {\n    -webkit-transform: matrix3d(0.999, 0.01, 0, 0, -0.01, 1.001, 0, 0, 0, 0, 1, 0, 0, 313.528, 0, 1);\n    transform: matrix3d(0.999, 0.01, 0, 0, -0.01, 1.001, 0, 0, 0, 0, 1, 0, 0, 313.528, 0, 1);\n  }\n  33.19% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 319.786, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 0.999, 0, 0, 0, 0, 1, 0, 0, 319.786, 0, 1);\n  }\n  34.54% {\n    -webkit-transform: matrix3d(1.001, 0.002, 0, 0, -0.002, 0.999, 0, 0, 0, 0, 1, 0, 0, 324.743, 0, 1);\n    transform: matrix3d(1.001, 0.002, 0, 0, -0.002, 0.999, 0, 0, 0, 0, 1, 0, 0, 324.743, 0, 1);\n  }\n  34.79% {\n    -webkit-transform: matrix3d(1.001, 0.002, 0, 0, -0.002, 0.999, 0, 0, 0, 0, 1, 0, 0, 325.587, 0, 1);\n    transform: matrix3d(1.001, 0.002, 0, 0, -0.002, 0.999, 0, 0, 0, 0, 1, 0, 0, 325.587, 0, 1);\n  }\n  36.66% {\n    -webkit-transform: matrix3d(1, 0.001, 0, 0, -0.001, 1, 0, 0, 0, 0, 1, 0, 0, 331.423, 0, 1);\n    transform: matrix3d(1, 0.001, 0, 0, -0.001, 1, 0, 0, 0, 0, 1, 0, 0, 331.423, 0, 1);\n  }\n  37.24% {\n    -webkit-transform: matrix3d(1, 0.001, 0, 0, -0.001, 1, 0, 0, 0, 0, 1, 0, 0, 332.989, 0, 1);\n    transform: matrix3d(1, 0.001, 0, 0, -0.001, 1, 0, 0, 0, 0, 1, 0, 0, 332.989, 0, 1);\n  }\n  38.34% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 335.493, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 335.493, 0, 1);\n  }\n  39.42% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 337.639, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 337.639, 0, 1);\n  }\n  41.01% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 340.331, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 340.331, 0, 1);\n  }\n  45.62% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 345.632, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 345.632, 0, 1);\n  }\n  46.92% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 346.592, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 346.592, 0, 1);\n  }\n  51.65% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 348.685, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 348.685, 0, 1);\n  }\n  57.18% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.471, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.471, 0, 1);\n  }\n  65.07% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.76, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.76, 0, 1);\n  }\n  78.38% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 350.005, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 350.005, 0, 1);\n  }\n  91.69% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.994, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.994, 0, 1);\n    opacity: 0;\n  }\n  98.16% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.999, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 349.999, 0, 1);\n    opacity: 0;\n  }\n  100% {\n    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 350, 0, 1);\n    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 350, 0, 1);\n    opacity: 0;\n    z-index: -1;\n  }\n}\n.playlist {\n  z-index: 30;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  padding: 30px;\n  background: rgba(0, 0, 0, 0.8);\n}\n.playlist .playlist-loader {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.8);\n}\n.playlist .playlist-loader .square-shape {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.playlist .playlist-block {\n  display: flex;\n  height: 100%;\n  overflow: hidden;\n}\n.playlist .playlist-block .playlist-block-item {\n  width: 75%;\n}\n.playlist .playlist-block .next,\n.playlist .playlist-block .prev {\n  position: relative;\n  width: 25%;\n  height: 100%;\n}\n.playlist .playlist-block .next .title-wrap,\n.playlist .playlist-block .prev .title-wrap {\n  padding: 0 10px;\n}\n.playlist .playlist-block .poster {\n  width: 100%;\n}\n.playlist .playlist-block .title,\n.playlist .playlist-block .head-title {\n  color: inherit;\n  word-break: break-word;\n}\n.playlist .playlist-block .head-title {\n  font-size: 14px;\n  margin-bottom: 5px;\n  text-shadow: 1px 1px 1px #000;\n}\n.playlist .playlist-block .title {\n  font-size: 12px;\n}\n.playlist .playlist-block .middle {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  margin: -1.8% 0;\n}\n.playlist .playlist-block .middle-item {\n  width: 46%;\n  margin: 2%;\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  position: relative;\n  cursor: pointer;\n}\n.playlist .playlist-block .middle-item .title {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  padding: 10px;\n  font-size: 12px;\n  text-shadow: 0 0 2px rgba(18, 18, 18, 0.5);\n  background-color: rgba(0, 0, 0, 0.5);\n  background-image: -webkit-linear-gradient(top, rgba(128, 128, 128, 0), #111);\n  background-image: linear-gradient(-180deg, rgba(128, 128, 128, 0), #111);\n  box-sizing: border-box;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.playlist .playlist-block.__is_alone .middle-item {\n  width: 96%;\n}\n.playlist .playlist-item {\n  width: 100%;\n  height: 100%;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-color: #000;\n  color: #fff;\n  cursor: pointer;\n}\n#control-playlist-off {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n}\n\n.mobile .playlist .playlist-item .title-wrap {\n  bottom: 30px;\n}\n.mobile .playlist .playlist-item .title {\n  position: absolute;\n  width: 85%;\n  padding-right: 10px;\n}\n.mobile:not(.__is-fullscreen) .playlist .playlist-item .title {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n#controls-host.skin-big.__is-watchingMode > div:not(.controls-wrap-bottom), #controls-host.skin-big.__is-watchingMode > a, #controls-host.skin-big.__is-watchingMode .controls-bottom, #controls-host.skin-big.__is-watchingMode > button {\n  transition: opacity 5s ease-in;\n}\n#controls-host.skin-big.__is-watchingMode.__full-hide .controls-bottom {\n  animation: opacityAnimation 5000ms ease-in 1 both;\n}\n#controls-host.skin-big .square-shape {\n  background: transparent;\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  -ms-border-radius: 50%;\n  border-radius: 50%;\n}\n#controls-host.skin-big #control-volume .square-shape {\n  -webkit-border-radius: 20px;\n  -moz-border-radius: 20px;\n  -ms-border-radius: 20px;\n  border-radius: 20px;\n}\n#controls-host.skin-big #control-volume:active .square-shape {\n  background: transparent;\n}\n#controls-host.skin-big #control-volume:hover {\n  top: -128px;\n  margin-bottom: -128px;\n}\n#controls-host.skin-big #control-volume:hover .volume-range-wrap {\n  background: rgba(0, 0, 0, 0.6);\n  padding: 2px 10px;\n  position: relative;\n  margin: 0 -8px 36px;\n  border-radius: 4px;\n}\n#controls-host.skin-big #control-volume:hover .volume-range {\n  margin: 4px 0;\n}\n#controls-host.skin-big .square:active .square-shape {\n  background: transparent;\n}\n#controls-host.skin-big .square_smaller-icon .square-shape > svg {\n  width: 24px;\n  height: 24px;\n}\n#controls-host.skin-big #control-time,\n#controls-host.skin-big #control-duration {\n  padding: 0 5px 20px;\n}\n#controls-host.skin-big #control-fullscreen .square-shape {\n  padding: 4px;\n}\n#controls-host.skin-big #control-loading {\n  z-index: 13;\n}\n#controls-host.skin-big #control-loading .square-shape {\n  background: transparent;\n  stroke: #333;\n  width: 130px;\n  height: 130px;\n  max-width: calc(25vw * 13/7.5);\n  max-height: calc(25vw * 13/7.5);\n}\n#controls-host.skin-big #control-loading .square-shape > svg {\n  width: 125px;\n  height: 125px;\n  max-width: calc(25vw * 13/7.5 - 4px);\n  max-height: calc(25vw * 13/7.5 - 4px);\n}\n#controls-host.skin-big #control-clickToPlay .square-shape,\n#controls-host.skin-big #control-clickToUnmute .square-shape {\n  color: #fff;\n  background: transparent;\n}\n#controls-host.skin-big #control-clickToPlay .square-shape > svg,\n#controls-host.skin-big #control-clickToUnmute .square-shape > svg {\n  border: 8px solid #fff;\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  -ms-border-radius: 50%;\n  border-radius: 50%;\n}\n#controls-host.skin-big #control-play svg,\n#controls-host.skin-big #control-pause svg,\n#controls-host.skin-big #control-prev svg,\n#controls-host.skin-big #control-next svg {\n  width: 30px;\n  height: 30px;\n  border: 3px solid #fff;\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  -ms-border-radius: 50%;\n  border-radius: 50%;\n}\n#controls-host.skin-big #control-play .square-shape > svg,\n#controls-host.skin-big #control-pause .square-shape > svg {\n  width: 35px;\n  height: 35px;\n}\n#controls-host.skin-big .square:active .square-shape {\n  background: rgba(0, 0, 0, 0.2);\n}\n#controls-host.skin-big .progress {\n  width: auto;\n  left: 18px;\n  right: 18px;\n  bottom: 53px;\n  padding: 13px 0;\n  cursor: pointer;\n}\n#controls-host.skin-big .progress,\n#controls-host.skin-big .progress-boundary,\n#controls-host.skin-big .progress-bar,\n#controls-host.skin-big .progress-suffix {\n  height: 6px;\n}\n#controls-host.skin-big .progress-suffix {\n  background: rgba(0, 0, 0, 0.4);\n  z-index: -1;\n}\n#controls-host.skin-big .progress-bar {\n  position: relative;\n}\n#controls-host.skin-big .progress-bar:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -3px;\n  right: -3px;\n  width: 12px;\n  height: 12px;\n  border-radius: 6px;\n  background: #fff;\n  z-index: 1;\n}\n#controls-host.skin-big .progress-suffix {\n  top: 13px;\n}\n#controls-host.skin-big .progress-boundary {\n  width: 100%;\n}\n#controls-host.skin-big.__is-fullscreen .square-shape {\n  padding: 6px !important;\n}\n#controls-host.skin-big.__is-fullscreen .square-shape > svg {\n  width: 28px;\n  height: 28px;\n}\n#controls-host.skin-big.__is-fullscreen .square-shape > span {\n  height: 28px;\n  line-height: 28px;\n}\n#controls-host.skin-big.__is-fullscreen .control-centered .square-shape {\n  padding: 2px !important;\n}\n#controls-host.skin-big.__is-fullscreen .control-centered .square-shape > svg {\n  width: 75px;\n  height: 75px;\n}\n#controls-host.skin-big.__is-fullscreen .progress {\n  bottom: 65px;\n}\n#controls-host.skin-big.__is-fullscreen .controls-wrap-bottom {\n  position: absolute;\n  width: 100%;\n  left: 0;\n  bottom: 0;\n  z-index: 2;\n  opacity: 0.5;\n  transition: opacity 2s linear;\n}\n#controls-host.skin-big.__is-fullscreen .controls-wrap-bottom:hover {\n  opacity: 1;\n  transition: opacity 0s linear;\n}\n#controls-host.skin-big .controls-bottom {\n  height: 6em;\n}\n#controls-host.skin-big .nonlinear-slot .nonlinear-icon-close {\n  background: #fff;\n}\n#controls-host.skin-big .nonlinear-slot .nonlinear-icon-show {\n  background: rgba(255, 255, 255, 0.8);\n}\n#controls-host.skin-big.mobile #control-play,\n#controls-host.skin-big.mobile #control-pause {\n  padding: 6px 5px;\n}\n#controls-host.skin-big.mobile #control-progress {\n  bottom: 50px;\n}\n#controls-host.skin-big.mobile #control-next svg {\n  width: 28px;\n  height: 28px;\n}\n#controls-host.skin-big.mobile #control-time {\n  padding: 12px 0 0 20px;\n}\n#controls-host.skin-big.mobile #control-volume:hover {\n  margin-bottom: 0;\n}\n#controls-host.skin-big.mobile .controls-bottom {\n  height: 5.5em;\n}\n\n@keyframes opacityAnimation {\n  0% {\n    opacity: 1;\n    height: 6em;\n  }\n  85% {\n    height: 6em;\n  }\n  100% {\n    opacity: 0;\n    height: 1em;\n  }\n}\n.skin-frame .controls-left {\n  left: 0;\n}\n.skin-frame #control-volume {\n  padding: 10px;\n}',""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var o=(r=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),s=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[i].concat(s).concat([o]).join("\n")}var r;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var s=this[o][0];"number"==typeof s&&(n[s]=!0)}for(o=0;o<t.length;o++){var r=t[o];"number"==typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),e.push(r))}},e}},function(t,e,i){var n,o,s={},r=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),a=function(t){var e={};return function(t){return void 0===e[t]&&(e[t]=function(t){return document.querySelector(t)}.call(this,t)),e[t]}}(),l=null,d=0,u=[],c=i(26);function p(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=s[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(v(n.parts[r],e))}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(v(n.parts[r],e));s[n.id]={id:n.id,refs:1,parts:a}}}}function h(t,e){for(var i=[],n={},o=0;o<t.length;o++){var s=t[o],r=e.base?s[0]+e.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};n[r]?n[r].parts.push(a):i.push(n[r]={id:r,parts:[a]})}return i}function m(t,e){var i=a(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),u.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function b(t){var e=document.createElement("style");return t.attrs.type="text/css",g(e,t.attrs),m(t,e),e}function g(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function v(t,e){var i,n,o,s;if(e.transform&&t.css){if(!(s=e.transform(t.css)))return function(){};t.css=s}if(e.singleton){var r=d++;i=l||(l=b(e)),n=k.bind(null,i,r,!1),o=k.bind(null,i,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",g(e,t.attrs),m(t,e),e}(e),n=function(t,e,i){var n=i.css,o=i.sourceMap,s=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||s)&&(n=c(n));o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}.bind(null,i,e),o=function(){f(i),i.href&&URL.revokeObjectURL(i.href)}):(i=b(e),n=function(t,e){var i=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),o=function(){f(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=h(t,e);return p(i,e),function(t){for(var n=[],o=0;o<i.length;o++){var r=i[o];(a=s[r.id]).refs--,n.push(a)}t&&p(h(t,e),e);for(o=0;o<n.length;o++){var a;if(0===(a=n[o]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete s[a.id]}}}};var y,x=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function k(t,e,i,n){var o=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var s=document.createTextNode(o),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(s,r[e]):t.appendChild(s)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,s=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(s)?t:(o=0===s.indexOf("//")?s:0===s.indexOf("/")?i+s:n+s.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,i){"use strict";var n=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"];function o(t,e,i){}o.prototype.handshakeVersion=function(t,e){},o.prototype.initAd=function(t,e,i,n,o,s,r){},o.prototype.startAd=function(t){},o.prototype.stopAd=function(t){},o.prototype.skipAd=function(t){},o.prototype.resizeAd=function(t,e,i,n){},o.prototype.pauseAd=function(t){},o.prototype.resumeAd=function(t){},o.prototype.expandAd=function(t){},o.prototype.collapseAd=function(t){},o.prototype.subscribe=function(t,e,i){},o.prototype.unsubscribe=function(t,e){},o.prototype.getAdLinear=function(t){},o.prototype.getAdWidth=function(t){},o.prototype.getAdHeight=function(t){},o.prototype.getAdExpanded=function(t){},o.prototype.getAdSkippableState=function(t){},o.prototype.getAdRemainingTime=function(t){},o.prototype.getAdDuration=function(t){},o.prototype.getAdVolume=function(t){},o.prototype.getAdCompanions=function(t){},o.prototype.getAdIcons=function(t){},o.prototype.setAdVolume=function(t,e){},r(o,"METHODS",n),r(o,"GETTERS",["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"]),r(o,"SETTERS",["setAdVolume"]),r(o,"EVENTS",["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError","AdVastEmpty"]);var s=n.filter(function(t){return-1===["skipAd"].indexOf(t)});function r(t,e,i){Object.defineProperty(t,e,{writable:!1,configurable:!1,value:i})}r(o,"checkVPAIDInterface",function(t){return s.every(function(e){return"function"==typeof t[e]})}),t.exports=o},function(t,e,i){"use strict";var n=i(27),o=i(30),s=n.checkVPAIDInterface,r=i(7),a=(n.METHODS,"AdError"),l="AdClickThru",d=n.EVENTS.filter(function(t){return t!=l});function u(t,e,i,n){this._isValid=s(t),this._isValid&&(this._creative=t,this._el=e,this._videoEl=i,this._iframe=n,this._subscribers=new o,r.setFullSizeStyle(e),function(){if(d.forEach(function(t){this._creative.subscribe(function(t){this._subscribers.trigger(t,Array.prototype.slice(arguments,1))}.bind(this,t),t)}.bind(this)),this._creative.subscribe(function(t,e,i){this._subscribers.triggerSync(l,{url:t,id:e,playerHandles:i})}.bind(this),l),this._videoEl){var t=this._iframe.contentDocument.documentElement,e=this._videoEl;t.addEventListener("click",function(i){i.target===t&&e.click()})}}.call(this))}function c(t,e,i,n){t?t(i,n):i&&e.trigger(a,i)}u.prototype=Object.create(n.prototype),u.prototype.isValidVPAIDAd=function(){return this._isValid},n.METHODS.forEach(function(t){-1===["subscribe","unsubscribe","initAd"].indexOf(t)&&(u.prototype[t]=function(){var e=n.prototype[t].length,i=Array.prototype.slice.call(arguments),o=e===i.length?i.pop():void 0;setTimeout(function(){var e,n=null;try{e=this._creative[t].apply(this._creative,i)}catch(t){n=t}c(o,this._subscribers,n,e)}.bind(this),0)})}),u.prototype.initAd=function(t,e,i,n,o,s,a){o=o||{},s=r.extend({slot:this._el,videoSlot:this._videoEl},s||{}),setTimeout(function(){var r;try{this._creative.initAd(t,e,i,n,o,s)}catch(t){r=t}c(a,this._subscribers,r)}.bind(this),0)},u.prototype.subscribe=function(t,e,i){this._subscribers.subscribe(e,t,i)},u.prototype.unsubscribe=function(t,e){this._subscribers.unsubscribe(e,t)},u.prototype.on=u.prototype.subscribe,u.prototype.off=u.prototype.unsubscribe,n.GETTERS.forEach(function(t){u.prototype[t]=function(e){setTimeout(function(){var i,n=null;try{i=this._creative[t]()}catch(t){n=t}c(e,this._subscribers,n,i)}.bind(this),0)}}),u.prototype.setAdVolume=function(t,e){setTimeout(function(){var i,n=null;try{this._creative.setAdVolume(t),i=this._creative.getAdVolume()}catch(t){n=t}n||(n=r.validate(i===t,"failed to apply volume: "+t)),c(e,this._subscribers,n,i)}.bind(this),0)},u.prototype._destroy=function(){this.stopAd(),this._subscribers.unsubscribeAll()},t.exports=u},function(t,e,i){"use strict";var n=i(7),o=n.unique("vpaidIframe"),s=i(28),r='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><div class="ad-element"></div><script type="text/javascript" src="{{iframeURL_JS}}"><\/script><script type="text/javascript">window.parent.postMessage(\'{"event": "ready", "id": "{{iframeID}}"}\', \'{{origin}}\');<\/script></body></html>',a="AdStopped";function l(t,e,i,s){i=i||{},this._id=o(),this._destroyed=!1,this._frameContainer=n.createElementInEl(t,"div"),this._videoEl=e,this._vpaidOptions=s||{timeout:1e4},this._templateConfig={template:i.template||r,extraOptions:i.extraOptions||{}}}function d(){u.call(this),function(){this._adUnit&&(this._adUnit.stopAd(),delete this._adUnit)}.call(this)}function u(){(function(t){var e=this[t];e&&e.parentNode&&(e.parentNode.removeChild(e),delete this[t])}).call(this,"_frame"),c.call(this)}function c(){this._onLoad&&(window.removeEventListener("message",this._onLoad),delete this._onLoad)}function p(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}l.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,d.call(this))},l.prototype.isDestroyed=function(){return this._destroyed},l.prototype.loadAdUnit=function(t,e){if(!this._onLoad){(function(){if(this._destroyed)throw new Error("VPAIDHTML5Client already destroyed!")}).call(this),d.call(this);var i=this,o=n.createIframeWithContent(this._frameContainer,this._templateConfig.template,n.extend({iframeURL_JS:t,iframeID:this.getID(),origin:p()},this._templateConfig.extraOptions));this._frame=o,this._onLoad=n.callbackTimeout(this._vpaidOptions.timeout,function(t){if(t.origin!==p())return;var o,r,l,d;try{o=JSON.parse(t.data)}catch(t){}if(!o||o&&o.id!==i.getID())return;i._frame.contentWindow?(d=i._frame.contentWindow.getVPAIDAd,l=n.validate("function"==typeof d,"the ad didn't return a function to create an ad")):l="the iframe is not anymore in the DOM tree";if(!l){var h=i._frame.contentWindow.document.querySelector(".ad-element");(r=new s(d(),h,i._videoEl,i._frame)).subscribe(a,function(){u.call(this),delete this._adUnit}.bind(i)),l=n.validate(r.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification")}return i._adUnit=r,c.call(i),e(l,l?null:r),!0}.bind(this),function(){e("timeout",null)}.bind(this)),window.addEventListener("message",this._onLoad)}},l.prototype.unloadAdUnit=function(){d.call(this)},l.prototype.getID=function(){return this._id},t.exports=l,window.VPAIDHTML5Client=l},function(t,e,i){"use strict";function n(){this._subscribers={}}n.prototype.subscribe=function(t,e,i){this.isHandlerAttached(t,e)||this.get(e).push({handler:t,context:i,eventName:e})},n.prototype.unsubscribe=function(t,e){this._subscribers[e]=this.get(e).filter(function(e){return t!==e.handler})},n.prototype.unsubscribeAll=function(){this._subscribers={}},n.prototype.trigger=function(t,e){var i=this;this.get(t).concat(this.get("*")).forEach(function(t){setTimeout(function(){i.isHandlerAttached(t.handler,t.eventName)&&t.handler.call(t.context,e)},0)})},n.prototype.triggerSync=function(t,e){this.get(t).concat(this.get("*")).forEach(function(t){t.handler.call(t.context,e)})},n.prototype.get=function(t){return this._subscribers[t]||(this._subscribers[t]=[]),this._subscribers[t]},n.prototype.isHandlerAttached=function(t,e){return this.get(e).some(function(e){return t===e.handler})},t.exports=n},,,,,,,,,,,,function(t,e,i){var n=i(49),o=i(50),s=i(11),r=function(t,e,i,n){this.host=document.createElement("div"),this.host.setAttribute("id","duplex-host"),t.appendChild(this.host),this.pubsub=e,this.foundation=i,this.isCanvas=n;var o=document.createElement("img");o.setAttribute("id","duplex-poster"),o.style.display="none";var r=document.createElement("div");r.setAttribute("id","poster-host"),r.appendChild(o),t.insertBefore(r,this.host),this.poster=new s(o,this.pubsub),this.videoA=this.createVideoElement(n),this.videoA.setAttribute("id","duplex-video-A"),this.videoWrapperA=document.createElement("div"),this.videoWrapperA.setAttribute("id","wrapper-video-A"),this.videoWrapperA.appendChild(this.videoA),this.host.appendChild(this.videoWrapperA),this.videoB=this.createVideoElement(n),this.videoB.setAttribute("id","duplex-video-B"),this.videoWrapperB=document.createElement("div"),this.videoWrapperB.setAttribute("id","wrapper-video-B"),this.videoWrapperB.appendChild(this.videoB),this.host.appendChild(this.videoWrapperB),this.makeVisible("A");var a=this;this.videoIsMuted=null,this.adIsMuted=null,this.isMobile=/iPhone|iPad|iPod|Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent),this.pubsub.subscribe("controls.mute",function(){a.videoIsMuted=!0,a.mute()}),this.pubsub.subscribe("controls.unmute",function(){a.videoIsMuted=!1,a.unmute()}),this.vpaidsContainer={},this.createVpaidsContainer()};r.prototype.getCurrentVideoContainer=function(t){return t.wrapper?t.wrapper.id:this.visible().parentNode.id},r.prototype.createVideoElement=function(t){var e=t?document.createElement("div"):document.createElement("video");e.setAttribute("playsinline","true"),e.setAttribute("webkit-playsinline","true"),e.setAttribute("preload","auto"),e.setAttribute("muted","true"),e.muted=!0;for(var i=["timeupdate","playing","play","ended","pause","volumechange","waiting","error","durationchange","loadedmetadata","loadeddata"],n=this,o=0;o<i.length;o++)e.addEventListener(i[o],function(t){e.isHacked||n.pubsub.publish("duplex",t,this.episodeId,this.mediaId)});return e.setAttribute("style","display:block; width:100%; min-width:100%; max-width:100%;"),t&&(e.classList.add("canvas-container"),window.ShowheroesPolyfill.applyToElement(e)),e},r.prototype.makeVisible=function(t){if(t==this.whichVisible)throw new Error("video"+t+" is already visible!");if("A"==t)this.videoWrapperB.classList.add("not-visible"),this.videoWrapperA.classList.remove("not-visible"),this.whichVisible="A";else{if("B"!=t)throw new Error("WHAT!?!");this.videoWrapperA.classList.add("not-visible"),this.videoWrapperB.classList.remove("not-visible"),this.whichVisible="B"}this.host.classList.remove("duplex-visible-"+this.whichHidden()),this.host.classList.add("duplex-visible-"+this.whichVisible)},r.prototype.getDuplexLetter=function(t){return t.id.replace("duplex-video-","")},r.prototype.swap=function(){if("A"==this.whichVisible)this.makeVisible("B");else{if("B"!=this.whichVisible)throw new Error("WHAAAAAAT!?!");this.makeVisible("A")}},r.prototype.visible=function(){if("A"==this.whichVisible)return this.videoA;if("B"==this.whichVisible)return this.videoB;throw new Error("WHAAT!?!")},r.prototype.hidden=function(){if("A"==this.whichVisible)return this.videoB;if("B"==this.whichVisible)return this.videoA;throw new Error("WHAAAT!?!")},r.prototype.whichHidden=function(){return"A"==this.whichVisible?"B":"A"},r.prototype.play=function(t,e){e=e||function(){};var i=t.play();void 0!==i?i.then(function(){t.play(),e()}).catch(function(t){e(t)}):e()},r.prototype.mute=function(t){t&&(this.adIsMuted=!0);var e=!0;!0===this.videoIsMuted?e=!0:!1===this.videoIsMuted&&(e=!1),this.visible().muted=e,this.setVolumeToVpaids(!e),this["sdkWrapper"+this.whichVisible]&&this["sdkWrapper"+this.whichVisible].setVolume(!e)},r.prototype.unmute=function(){var t=this,e=!1;!0===this.videoIsMuted?e=!0:!1===this.videoIsMuted&&(e=!1),this.visible().muted=e,this.setVolumeToVpaids(!e),this["sdkWrapper"+this.whichVisible]&&this["sdkWrapper"+this.whichVisible].setVolume(!e);var i=this.hidden();!1===this.videoIsMuted&&(this.unmuteHackDone||this.isCanvas||(i.mediaId||(!0,i.isHacked=!0,i.src="https://static.showheroes.com/litmus.mp4"),this.unmuteHackDone=!0,t.play(i,function(e){i.isHacked=!1,e&&(i.muted=!0,t.setVolumeToVpaids(0),t["sdkWrapper"+t.whichHidden]&&t["sdkWrapper"+t.whichHidden].setVolume(0)),i.pause()})))},r.prototype.setVolume=function(t){this.visible().volume=t,this.hidden().volume=t,this.setVolumeToVpaids(t),this["sdkWrapper"+this.whichVisible]&&this["sdkWrapper"+this.whichVisible].setVolume(t)},r.prototype.setVolumeToVpaids=function(t){for(var e=this.vpaidsContainer.querySelectorAll(".vpaid-el"),i=0;i<e.length;i++)this["vpaidWrapper-"+e[i].id]&&(e[i].querySelector("video").muted=!Boolean(t),this["vpaidWrapper-"+e[i].id].setVolume(t))},r.prototype.setVideoSrc=function(t,e,i,n){n?t.setAttribute("data-src",e):t.src=e,t.poster=i||""},r.prototype.setSdk=function(t,e){e.setRequirements(t),this["sdkWrapper"+this.getDuplexLetter(t)]=e},r.prototype.setVpaid=function(t,e,i){e.setRequirements(t,i),this["vpaidWrapper-"+e.id]=e},r.prototype.setDashSrc=function(t,e){this.dashWrapper=new n(this.foundation,this.pubsub,t,e)},r.prototype.setHevcSrc=function(t,e){t.parentNode.lastChild===t&&t.parentNode.appendChild(document.createElement("canvas")),this.hevcWrapper=new o(this.foundation,this.pubsub,t,t.parentNode.lastChild,e)},r.prototype.createVpaidsContainer=function(){this.vpaidsContainer=document.createElement("div"),this.vpaidsContainer.id="vpaids-container",this.vpaidsContainer.setAttribute("style","opacity: 0;"),this.host.appendChild(this.vpaidsContainer)},t.exports=r},function(t,e){t.exports=function(t){this.legend=null,window.lastEpisodeId||(window.lastEpisodeId=1),this.id=window.lastEpisodeId,window.lastEpisodeId++,this.startTime=null,this.endTime=null,this.holdMedia=!1,this.suspendMotion=!1,this.unmute=!1,this.mediaId=null,this.estimated={startTime:null,endTime:null,duration:null,currentTime:null,mediaId:null};for(var e=Object.keys(t),i=0;i<e.length;i++)this[e[i]]=t[e[i]];this.legend=this.legend?"<"+this.legend+">":"id="+this.id}},function(t,e,i){var n=i(42),o=i(46),s=i(45),r=i(43),a=i(12),l=function(t,e,i,s,r,l,d,u,c,p){var h=this;if(this.playerHost=document.querySelector("#video-host"),!this.playerHost)throw new Error;for(;this.playerHost.firstChild;)this.playerHost.removeChild(this.playerHost.firstChild);this.isMobile=/iPhone|iPad|iPod|Windows Phone|Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isMobileNoIOS=/Android|webOS|BlackBerry|IEMobile|Windows Phone|Opera Mini/i.test(navigator.userAgent),this.isIOS=/iPhone|iPad|iPod/i.test(navigator.userAgent),this.pubsub=t||new a,this.duplex=new n(this.playerHost,this.pubsub,this,e);var m=this.sequencer=new o(this.duplex,this.pubsub,r,l,d,u,c&&!this.isMobile,p);this.token_stopPlayer=h.pubsub.subscribe("motion.content.started",function(t,e){e.currentEpisode.episode.mediaId>i&&(setTimeout(function(){h.intentPause(),h.carouselStopped=!0,h.pubsub.publish("player.carousel.stopped")},0),h.pubsub.unsubscribe(h.token_stopPlayer))}),this.token_destroyPlayer=this.pubsub.subscribe("player.destroy",function(t,e){h.pubsub.unsubscribe(h.token_destroyPlayer),pubtagGateway().destroyPlayer()}),this.carouselStopped=!1,this.pausedUserAction=!1,this.clickToPlayUserAction=!1,this.callbacksWithUserInteraction=[],this.intentPlay=function(t){h.readyToPlay=!0,m.intentPlay(t)},this.intentPause=function(t){h.readyToPlay=!1,t&&20==d&&"ad"===m.getCurrentEpisodeFeaturing()?(m.intentPlay(),m.muteCurrentEpisode(!0)):m.intentPause(t)},this.intentAdPlay=function(){d&&"ad"===m.getCurrentEpisodeFeaturing()&&2==m.getCurrentEpisodeReadyState()&&(m.intentPlay(),m.muteCurrentEpisode(!0))},this.intentAdPause=function(){10==d&&"ad"===m.getCurrentEpisodeFeaturing()?(m.intentPause(!0),m.muteCurrentEpisode(!1)):20==d&&"ad"===m.getCurrentEpisodeFeaturing()&&2==m.getCurrentEpisodeReadyState()&&(m.intentPlay(),m.muteCurrentEpisode(!0))},this.intentStop=function(){h.readyToPlay=!1,m.intentStop()},this.intentSkip=function(){m.intentSkip()},this.intentNext=function(){m.intentNext()},this.intentMedia=function(t,e){m.intentMedia(t,e)},this.onViewportIn=function(){"function"==typeof h.real_onViewportIn?h.real_onViewportIn():h.inViewportNow=!0},this.onViewportOut=function(){"function"==typeof h.real_onViewportOut?h.real_onViewportOut():h.inViewportNow=!1},this.onTabIsNotActive=function(){"function"==typeof h.real_onTabIsNotActive?h.real_onTabIsNotActive():h.onTabIsNotActive=!1},this.modeAutoplay=function(){h.real_onViewportIn=function(){this.pausedUserAction||this.carouselStopped||(h.intentPlay(),h.pubsub.unsubscribe(h.token_tabIsNotActive))},h.real_onViewportOut=function(){s||h.intentPause(!0)},h.real_onTabIsNotActive=function(){h.isMobile?h.intentPause(!0):h.token_tabIsNotActive=h.pubsub.subscribe("motion.ended",function(){setTimeout(function(){h.pubsub.unsubscribe(h.token_tabIsNotActive),h.intentPause()},0)})},!0===h.inViewportNow&&(delete h.inViewportNow,h.real_onViewportIn())},this.modeClick2play=function(){h.real_onViewportIn=function(){this.pausedUserAction||this.carouselStopped||!this.clickToPlayUserAction||(h.intentPlay(),h.pubsub.unsubscribe(h.token_tabIsNotActive))},h.real_onViewportOut=function(){s||h.intentPause(!0)},h.real_onTabIsNotActive=function(){h.isMobile?h.intentPause(!0):h.token_tabIsNotActive=h.pubsub.subscribe("motion.ended",function(){setTimeout(function(){h.pubsub.unsubscribe(h.token_tabIsNotActive),h.intentPause()},0)})},!0===h.inViewportNow&&(delete h.inViewportNow,h.real_onViewportIn())},this.userInteractionLoopIsActive=!1,this.userInteractionLoop=function(){h.userInteractionLoopIsActive||(h.userInteractionLoopIsActive=!0,setInterval(function(){h.callbacksWithUserInteraction.length&&(h.callbacksWithUserInteraction.forEach(function(t){t()}),h.callbacksWithUserInteraction=[])},100))},this.addToUserInteractionCallbacks=function(t){h.userInteractionLoopIsActive?h.callbacksWithUserInteraction.push(t):t()}};l.prototype.ready=function(){this.pubsub.publish("ready")},l.Media=s,l.Episode=r,t.exports=l},function(t,e){t.exports=function(t,e){window.lastMediaId||(window.lastMediaId=1),this.id=window.lastMediaId,window.lastMediaId++,this.legend=e?"<"+e+">":"id="+this.id,this.src=t,this.title="",this.vastClickThroughURL=null,this.duration=15,this.type="",this.vastAdId=null,this.shVastId=null,this.originVastUrl=null,this.bid={},this.macros={},this.isVpaid=!1,this.isDash=!1,this.isHevc=!1,this.isSdk=!1,this.isBumper=!1,this.vpaidVideoUrl=null,this.featuringId=null,this.adSystem=null,this.wrapper=null,this.icons=null,this.customisedScripts=null,this.creativeId=null}},function(t,e,i){var n=i(4),o=i(1),s=i(10),r=i(13),a=i(2),l=i(47),d=i(5),u=1,c=function(t,e,i,u,c,p,h,m){r.call(this),this.duplex=t,this.pubsub=e,this.adOnly=i,this.maxVideoAds=u,this.adVTROptimiser=c,this.prefetchingMode=p,this.schema=null,this.fillDuplexAfterPreview=!0===h,this.chromeHeavyAdsOpt=m&&/Chrome|CriOS/i.test(navigator.userAgent);var f=this;this.pubsub.subscribe("duplex",function(t,e,i,n){f.onDuplexEvent(t,e,i,n)}),this.pubsub.subscribe("video",function(t,e){f.onVideoEvent(t,e)}),this.pubsub.subscribe("player.start",function(){null!==this.watchInterval&&f.startWatching()}),this.pubsub.subscribe("player.schema.parsed",function(t,e){f.schema=e.schema}),this.setupMoreEvents(),this.episodeCollection=new n,this.episodeIterator=new s(this.episodeCollection,"episodeIterator"),this.adMediaCollection=new n,this.adMediaIterator=new o(this.adMediaCollection,"adMediaIterator"),this.contentMediaCollection=new n,this.contentMediaIterator=new o(this.contentMediaCollection,"contentMediaIterator"),this.stitchedMediaCollection=new n,this.stitchedMediaIterator=new o(this.stitchedMediaCollection,"stitchedMediaIterator"),this.episodeProps=new a,this.mediaProps=new a,this.broker=new l(this,this.episodeCollection,this.episodeIterator,this.adMediaCollection,this.adMediaIterator,this.contentMediaCollection,this.contentMediaIterator,this.stitchedMediaCollection,this.stitchedMediaIterator,this.episodeProps,this.mediaProps),this.watchInterval=null,this.recentProgressEvent=null,this.noMediaTiming=0,this.macro=new d(this)};c.prototype.intentPlay=function(t){clearTimeout(this._timeoutIntentPlay);var e,i=this,n=this.episodeIterator.getCurrent(),o=n&&this.episodeProps.get(n,"loaded")||!1;if(n&&n.mediaId&&(e=this.getMedia(n.mediaId).wrapper&&!0===this.getMedia(n.mediaId).wrapper.adIsReady||!1),this.isPlayerLoaded||!o&&!e||(this.isPlayerLoaded=!0),n&&(this.duplex.visible().episodeId==n.id||this.duplex.hidden().episodeId==n.id)&&!0===this.isPlayerLoaded&&(this.duplex.foundation.readyToPlay||this.adVTROptimiser&&"ad"===n.featuring)){var s=this.episodeProps.get(n,"readyState")||0;1==s?(this.startCurrentEpisode(),this.pubsub.publish("player.started")):2==s?this.getMedia(this.duplex.visible().mediaId).isVpaid||this.getMedia(this.duplex.visible().mediaId).isSdk?(this.getMedia(this.duplex.visible().mediaId).wrapper.resume(),this.pubsub.publish("motion.resumed")):this.duplex.visible().paused&&(this.duplex.play(this.duplex.visible()),this.pubsub.publish("motion.resumed")):"replay"===t&&(this.pubsub.publish("player.loading"),this.adOnly?(this.pubsub.publish("player.ad.getFromCache",{vastId:this.getMedia(this.duplex.visible().mediaId).shVastId}),this.token_adPlaced=this.pubsub.subscribe("motion.ad.placed",function(){i.maxVideoAds+=1,i.intentNext(),i.pubsub.publish("player.handleMediaNotPreloaded"),i.pubsub.unsubscribe(i.token_adPlaced)})):(i.pubsub.publish("player.content.stopped"),this.startCurrentEpisode()))}else{var r=this;this._timeoutIntentPlay=setTimeout(function(){r.intentPlay()},100)}},c.prototype.intentPause=function(t){0;var e=this.episodeIterator.getCurrent();e&&this.duplex.visible().episodeId==e.id&&2==this.episodeProps.get(e,"readyState")&&(this.getMedia(this.duplex.visible().mediaId).isVpaid||this.getMedia(this.duplex.visible().mediaId).isSdk?(this.getMedia(this.duplex.visible().mediaId).wrapper.pause(),this.pubsub.publish("motion.paused")):this.duplex.visible().paused||(this.duplex.visible().pause(),this.pubsub.publish("motion.paused")))},c.prototype.intentStop=function(){this.pubsub.publish("player.stopped")},c.prototype.intentSkip=function(){var t=this.episodeIterator.getEpisodeToSuspendMotion();if(t&&t.id==this.episodeIterator.getCurrent().id)return this.intentNext();this.onCurrentEpisodeEnded({forced:!0})},c.prototype.intentNext=function(){var t=this.episodeIterator.getCurrent();if(this.adOnly&&t&&this.maxVideoAds===t.id)return this.onCurrentEpisodeEnded({preventNext:!0,forced:!0}),void this.intentStop();var e=this.episodeIterator.getFirstEpisodeInNextMotion();e?(this.onCurrentEpisodeEnded({preventNext:!0,forced:!0}),this.episodeIterator.setCurrent(e),this.startCurrentEpisode()):this.pubsub.publish("input.missing.motion")},c.prototype.intentMedia=function(t){if(this.duplex.hidden().mediaId!=t){var e=this.duplex.visible().mediaId;this.contentMediaCollection.moveItem(t,e);var i=this.episodeCollection.get(this.duplex.hidden().episodeId);i&&"ad"!=i.featuring&&(this.mediaProps.remove(i.mediaId,"readyState"),this.episodeProps.remove(i,"readyState"),this.duplex.hidden().episodeId=null,this.duplex.hidden().mediaId=null,i.mediaId=t),this.watchNowOnce()}this.intentNext()},c.prototype.getCurrentEpisodeFeaturing=function(){var t=this.episodeIterator.getCurrent();if(t)return t.featuring},c.prototype.getCurrentEpisodeReadyState=function(){var t=this.episodeIterator.getCurrent();if(t)return this.episodeProps.get(t,"readyState")||0},c.prototype.muteCurrentEpisode=function(t){var e=this.episodeIterator.getCurrent();e&&(t?(this.episodeProps.set(e,"muted",this.duplex.visible().muted),this.duplex.visible().muted=!0):this.duplex.visible().muted=!!this.episodeProps.get(e,"muted"))},c.prototype.onDuplexEvent=function(t,e,i,n){"error"!=e.type?("loadedmetadata"==e.type&&this.episodeProps.set(i,"loaded",!0),e.sdk&&"volumechange"==e.type&&(this.duplex.visible().muted=e.target.muted),i&&i==this.episodeIterator.currentId&&(e.sdk||e.vpaid?this.pubsub.publish("video."+e.type,e):e.target===this.duplex.visible()?"timeupdate"==e.type&&3==this.episodeProps.get(i,"readyState")||this.pubsub.publish("video."+e.type,e):"playing"!=e.type&&"timeupdate"!=e.type||e.target.pause())):e.target.error||e.sdk?this.onMediaError(i,n,e.target.error,e.target.networkState):this.pubsub.publish("player.poster.error",{mediaId:n})},c.prototype.onVideoEvent=function(t,e){var i=this.episodeIterator.getCurrent(),n=this.episodeIterator.getPrev(),o=e.target.currentTime?e.target.currentTime:this.duplex.visible().currentTime;if("video.ended"==t||"video.timeupdate"==t&&null!==i.endTime&&o>=i.endTime)this.onCurrentEpisodeEnded({forced:e.target.forced});else if("video.timeupdate"==t){o=o;var s=i.estimated.startTime;i.featuringId&&n&&"ad"==i.featuring&&(s=0,o-=n.estimated.endTime);for(var r,a=parseFloat((o-s).toFixed(1)),l=parseFloat((i.estimated.endTime-o).toFixed(1)),d=0,u=0,c=0,p=0,h=0,m=this.episodeIterator.getAllEpisodesIdsWithinMotion(),f=m.indexOf(i.id),b=0;b<m.length;b++)d+=(r=this.episodeCollection.get(m[b])).estimated.duration||r.duration||0,r.featuring===i.featuring&&(c+=r.estimated.duration,b<f?p+=r.estimated.duration:b==f?(p+=a,h+=l,u+=l):b>f&&(h+=r.estimated.duration,u+=r.estimated.duration)),r.featuring!==i.featuring&&b>f&&(u+=r.estimated.duration);this.recentProgressEvent={featuring:i.featuring,type:i.type,episodeId:i.id,episodeMediaId:i.mediaId,episodeDuration:i.estimated.duration,episodeSecondsPassed:a,episodePercentPassed:parseFloat((100*a/i.estimated.duration).toFixed(1)),episodeSecondsLeft:l,episodePercentLeft:parseFloat((100*l/i.estimated.duration).toFixed(1)),featureDuration:c,featureSecondsPassed:p,featurePercentPassed:parseFloat((100*p/c).toFixed(1)),featureSecondsLeft:h,featurePercentLeft:parseFloat((100*h/c).toFixed(1))},this.pubsub.publish("progress",this.recentProgressEvent),this.pubsub.publish("motion.progress",{duration:d,remainingTime:u})}},c.prototype.onCurrentEpisodeEnded=function(t){var e=this.episodeIterator.getCurrent(),i=!e.suspendMotion;if(t&&!0===t.preventNext&&(i=!1),this.getMedia(this.duplex.visible().mediaId).isVpaid||this.getMedia(this.duplex.visible().mediaId).isSdk||("ad"!=e.featuring&&!e.suspendMotion||"function"!=typeof this.duplex.visible().skip?this.duplex.visible().pause():this.duplex.visible().skip()),this.episodeProps.get(e,"readyState")<3&&(this.episodeProps.set(e,"readyState",3),e.mediaId&&e.holdMedia||e.mediaId&&this.mediaProps.get(e.mediaId,"readyState")<3&&this.mediaProps.set(e.mediaId,"readyState",3),this.pubsub.publish("motion.episode.ended",{episode:e,forced:!(!t||!0!==t.forced),error:!(!t||!0!==t.error)}),e.suspendMotion&&this.pubsub.publish("motion.ended",{id:u,forced:!(!t||!0!==t.forced),error:!(!t||!0!==t.error)})),i){if(!this.episodeIterator.getNext())return;this.episodeIterator.setCurrent(this.episodeIterator.getNext()),this.duplex.foundation.readyToPlay&&this.startCurrentEpisode()}},c.prototype.startCurrentEpisode=function(){var t=this,e=this.episodeIterator.getCurrent();if(e){var i=this.episodeIterator.getPrev(e);if(i&&!i.suspendMotion&&i.mediaId||this.pubsub.publish("motion.started",{id:u,featuring:e.featuring,contentIds:this.episodeIterator.getAllEpisodesIdsByFeaturingWithinMotion(e.id,"content"),adIds:this.episodeIterator.getAllEpisodesIdsByFeaturingWithinMotion(e.id,"ad")}),this.duplex.hidden().episodeId==e.id&&this.duplex.swap(),this.duplex.visible().episodeId){var n=this.episodeCollection.get(this.duplex.visible().episodeId);if(1==n.holdMedia&&n.featuring==e.featuring&&e.id!==n.id){var o=this.episodeIterator.getAllEpisodesIdsHoldedToTheSameMediaAndFeaturing(e);o.indexOf(n.id)>=0&&o.indexOf(e.id)>=0&&o.indexOf(e.id)-1===o.indexOf(n.id)&&(e.mediaId=n.mediaId)}}if(e.mediaId&&this.duplex.visible().mediaId==e.mediaId&&(this.duplex.visible().episodeId=e.id),this.duplex.visible().episodeId==e.id){u++,e.unmute||!1===this.duplex.videoIsMuted?this.duplex.unmute():e.unmute||"ad"!=e.featuring?this.duplex.mute():this.duplex.mute(!0),e.startTime&&e.suspendMotion&&Math.abs(this.duplex.visible().currentTime-e.startTime)>1&&(this.duplex.visible().currentTime=e.startTime);var s="video"===this.getMedia(this.duplex.visible().mediaId).creativeId?this.getMedia(this.duplex.visible().mediaId).vastAdId:this.getMedia(this.duplex.visible().mediaId).creativeId;this.pubsub.publish("motion.episode.started",{episode:e,creativeId:s}),this.getMedia(this.duplex.visible().mediaId).isVpaid||this.getMedia(this.duplex.visible().mediaId).isSdk?this.getMedia(this.duplex.visible().mediaId).wrapper.play(this.macro):this.getMedia(this.duplex.visible().mediaId).isHevc?this.duplex.hevcWrapper.play():this.duplex.play(this.duplex.visible()),this.episodeProps.set(e,"readyState",2),this.getMediaIterator(e.mediaId).setCurrent(e.mediaId),this.mediaProps.set(e.mediaId,"readyState",2),this.watchNowOnce(),this.flagCurrentEpisodeHasToStartImmediately=!1}else this.token_handleMediaNotPreloaded=this.pubsub.subscribe("player.handleMediaNotPreloaded",function(){t.handleMediaNotPreloadedForCurrentEpisode(e),t.pubsub.unsubscribe(t.token_handleMediaNotPreloaded)})}},c.prototype.watch=function(){!1===this.fillDuplexAfterPreview&&this.fillDuplex()},c.prototype.addEpisode=function(t){this.episodeCollection.add(t),1==this.episodeCollection.length()&&this.episodeIterator.rewind()},c.prototype.addMedia=function(t,e){if("ad"==t)this.adMediaCollection.add(e),1==this.adMediaCollection.length()&&this.adMediaIterator.rewind();else if("content"==t)this.contentMediaCollection.add(e),1==this.contentMediaCollection.length()&&this.contentMediaIterator.rewind();else{if("stitched"!=t)throw new Error;this.stitchedMediaCollection.add(e),1==this.stitchedMediaCollection.length()&&this.stitchedMediaIterator.rewind()}this.pubsub.publish("sequencer.media.added",{what:t,media:e})},c.prototype.getMedia=function(t){if(this.stitchedMediaCollection.has(t))return this.stitchedMediaCollection.get(t);if(this.adMediaCollection.has(t))return this.adMediaCollection.get(t);if(this.contentMediaCollection.has(t))return this.contentMediaCollection.get(t);throw new Error},c.prototype.getMediaIterator=function(t){if(this.stitchedMediaCollection.has(t))return this.stitchedMediaIterator;if(this.adMediaCollection.has(t))return this.adMediaIterator;if(this.contentMediaCollection.has(t))return this.contentMediaIterator;throw new Error},c.prototype.setupMoreEvents=function(){var t=this;this.pubsub.subscribe("controls.clickToPlay",function(e,i){!0===t.fillDuplexAfterPreview&&(t.pubsub.publish("player.loading"),t.fillDuplexAfterPreview=!1,t.fillDuplex())}),this.pubsub.subscribe("controls.skip",function(e,i){i&&"ima-sdk"===i.type&&t.intentSkip()}),this.pubsub.subscribe("player.stopped",function(e,i){t.stopWatching()}),this.pubsub.subscribe("motion",function(e,i){if("motion.episode.started"==e){for(var n=i.episode.featuring,o=t.episodeIterator.getPrevEpisodesIdsWithinMotion(),s=!1,r=0;r<o.length;r++)if(t.episodeCollection.get(o[r]).featuring==n){s=!0;break}s&&"ad"!==n?t.pubsub.publish("motion."+n+".resumed",i):t.pubsub.publish("motion."+n+".started",{sourceUrl:t.getMedia(i.episode.mediaId).originVastUrl,currentEpisode:i,nextEpisode:t.episodeIterator.getNext(),icons:t.getMedia(i.episode.mediaId).icons,customisedScripts:t.getMedia(i.episode.mediaId).customisedScripts,videoWrapper:t.duplex.getCurrentVideoContainer(t.getMedia(i.episode.mediaId))})}if("motion.episode.ended"==e){n=i.episode.featuring;var a=t.episodeIterator.getNextEpisodesIdsWithinMotion(),l=!1;for(r=0;r<a.length;r++)if(t.episodeCollection.get(a[r]).featuring==n){l=!0;break}l&&"ad"!==n?t.pubsub.publish("motion."+n+".paused",i):t.pubsub.publish("motion."+n+".ended",{sourceUrl:t.getMedia(i.episode.mediaId).originVastUrl,currentEpisode:i,nextEpisode:t.episodeIterator.getNext()})}"motion.progress"==e&&t.pubsub.publish("player.timeupdate",{remainingTime:i.remainingTime,duration:i.duration})}),this.pubsub.subscribe("duplex",function(e,i){if(!("QUnit"in window)&&("loadeddata"==i.type&&i.target.episodeId&&"content"==t.episodeCollection.get(i.target.episodeId).featuring&&t.episodeCollection.get(i.target.episodeId).startTime>0&&(i.target.currentTime=t.episodeCollection.get(i.target.episodeId).startTime),"durationchange"==i.type&&i.target.episodeId))for(var n,o=t.episodeIterator.getAllEpisodesIdsHoldedToTheSameMediaAndFeaturing(i.target.episodeId),s=0;s<o.length;s++)(n=t.episodeCollection.get(o[s])).estimated.startTime=n.startTime||0,n.estimated.endTime=n.endTime||parseFloat(i.target.duration.toFixed(1)),n.estimated.duration=n.estimated.endTime-n.estimated.startTime,n.estimated.mediaId=i.target.mediaId}),this.pubsub.subscribe("motion.episode.started",function(e,i){if(!("QUnit"in window||i.episode.estimated.duration))for(var n,o=t.episodeIterator.getAllEpisodesIdsHoldedToTheSameMediaAndFeaturing(i.episode.id),s=0;s<o.length;s++)(n=t.episodeCollection.get(o[s])).estimated.startTime=n.startTime||0,n.estimated.endTime=n.endTime,n.estimated.duration=n.estimated.endTime-n.estimated.startTime,n.estimated.mediaId=i.episode.mediaId}),this.pubsub.subscribe("motion.ad.started",function(e,i){i.nextEpisode&&"ad"===i.nextEpisode.featuring&&i.currentEpisode.episode.duration>10&&setTimeout(function(){"ad"===t.episodeIterator.getNext().featuring&&t.pubsub.publish("player.prefetchVast")},1e4)}),this.pubsub.subscribe("motion.rewind",function(e,i){for(var n=i.episodes(),o=0;o<n.length;o++){var s=Object.assign(n[o],{});o===n.length-1&&(s.suspendMotion=!0),i.mediaId&&(s.mediaId=i.mediaId),t.episodeCollection.addToStart(s)}t.episodeIterator.rewind();t.episodeIterator.getAllEpisodesWithinMotion(t.episodeCollection.itemsIds[0]);!1===t.fillDuplexAfterPreview&&t.fillDuplex()}),t.token_contentStarted=t.pubsub.subscribe("motion.content.started",function(e,i){if(t.chromeHeavyAdsOpt){var n=document.getElementById(i.videoWrapper);n.querySelector("video").getAttribute("data-src")&&(n.querySelector("video").src=n.querySelector("video").getAttribute("data-src"))}var o=t.episodeIterator.getNext();if(o){var s=t.broker.getMediaForCurrentEpisodeNow(o);s||(s=t.adMediaCollection.first()),s&&t.mediaProps.get(s.id,"readyState")<3&&!o.mediaId&&"ad"===o.featuring&&t.putInDuplexHidden(o,s),t.pubsub.unsubscribe(t.token_contentStarted)}}),this.pubsub.subscribe("motion.content.rewind",function(e,i){var n=t.episodeIterator.getCurrent(),o=n.mediaId?t.getMedia(n.mediaId):{};if(n&&(!n||"ad"!==n.featuring||o.isBumper)){var s=t.episodeIterator.getAllEpisodesWithinMotion(n.id);if(!(s.length>2)){var r=i.adEpisodes(),a=i.contentEpisode();a.mediaId=n.mediaId,a.suspendMotion=!0;for(var l=0;l<r.length;l++){var d=r[l];0===l&&(t.episodeCollection.add(a),t.episodeCollection.moveItem(a.id,n.id)),t.episodeCollection.add(d),t.episodeCollection.moveItem(d.id,n.id)}n.suspendMotion=!1;var u=n.estimated.currentTime+(a.startTime||0)>a.endTime?n.estimated.currentTime+n.estimated.startTime:a.endTime;s=t.episodeIterator.getAllEpisodesWithinMotion(n.id);for(var c=0;c<s.length;c++)!0===s[c].suspendMotion&&(s[c].startTime=u,s[c].endTime=n.endTime,s[c].estimated.startTime=u,s[c].estimated.endTime=n.estimated.endTime,s[c].duration=n.estimated.endTime-u,s[c].holdMedia=!1);n.endTime=u,n.estimated.endTime=u,n.holdMedia=!0,t.token_adStarted=t.pubsub.subscribe("motion.ad.started",function(e,i){if(!0!==i.currentEpisode.episode.suspendMotion){var n=t.episodeIterator.getNext();t.episodeIterator.getCurrent();if(!n)return;t.mediaProps.get(n.mediaId,"readyState")<3&&t.putInDuplexHidden(n,n.mediaId),t.pubsub.unsubscribe(t.token_adStarted)}}),!1===t.fillDuplexAfterPreview&&t.fillDuplex()}}}),this.pubsub.subscribe("vpaid.completed",function(e,i){var n=t.episodeIterator.getCurrent().mediaId;i.mediaId===n&&t.onCurrentEpisodeEnded()}),this.pubsub.subscribe("motion.ad.missed",function(e,i){if(i&&i.isPreroll){var n=t.episodeIterator.getCurrent();if(n){t.episodeCollection.itemsIds.indexOf(n.id);var o=t.episodeIterator.getAllEpisodesIdsWithinMotion().length,s=t.episodeIterator.getAllEpisodesWithinMotion()[o-1],r="ad"==n.featuring,a=t.episodeIterator.getAllEpisodesIdsByFeaturingWithinMotion(n.id,"ad");if(!n.mediaId&&r){t.episodeCollection.moveItem(s.id,n.id);for(var l=0;l<a.length;l++)t.episodeCollection.remove(a[l]);t.episodeIterator.setCurrent(s),t.pubsub.publish("player.handleMediaNotPreloaded")}}}}),this.pubsub.subscribe("progress",function(e,i){t.episodeIterator.getCurrent().estimated.currentTime=i.episodeSecondsPassed}),this.pubsub.subscribe("controls.clickToPlay",function(e,i){this.muted||"click"!==t.prefetchingMode||"preroll"!==t.schema||(t.muted=!0,t.duplex.visible().originalSrc=t.duplex.visible().src,t.duplex.visible().src||(t.duplex.visible().src="https://static.showheroes.com/litmus.mp4"),t.duplex.visible().muted=!1,t.duplex.play(t.duplex.visible(),function(){t.duplex.visible().pause(),t.duplex.visible().src=t.duplex.visible().originalSrc||""}),t.duplex.hidden().originalSrc=t.duplex.hidden().src,t.duplex.hidden().src||(t.duplex.hidden().src="https://static.showheroes.com/litmus.mp4"),t.duplex.hidden().muted=!1,t.duplex.play(t.duplex.hidden(),function(){t.duplex.hidden().pause(),t.duplex.hidden().src=t.duplex.hidden().originalSrc||""}))})},c.prototype.getStatus=function(){return{currentEpisode:this.episodeIterator.getCurrent(),recentProgressEvent:this.recentProgressEvent}},c.prototype.fillDuplex=function(){if(this.noMediaTiming>9e3)this.pubsub.publish("player.stopped");else{var t=this.episodeIterator.getCurrent();if(t){this.fillDuplexWithCurrentEpisode(t);var e=this.episodeIterator.getNext();e?this.fillDuplexWithNextEpisode(t,e):this.pubsub.publish("input.missing.episode")}}},c.prototype.fillDuplexWithCurrentEpisode=function(t){if(this.duplex.hidden().episodeId!=t.id)if(this.duplex.visible().episodeId==t.id||this.duplex.hidden().episodeId==t.id);else{var e=this.broker.getMediaForCurrentEpisodeNow(t);e?(this.putInDuplexHidden(t,e),this.noMediaTiming=0):!0===this.flagCurrentEpisodeHasToStartImmediately?(delete this.flagCurrentEpisodeHasToStartImmediately,this.pubsub.publish("motion."+t.featuring+".missed",{episode:t}),this.onCurrentEpisodeEnded({error:!0}),this.noMediaTiming+=100):this.pubsub.publish("player.handleMediaNotPreloaded")}},c.prototype.putInDuplexHidden=function(t,e){if(e)if(t.mediaId=e.id,t.duration=e.duration,t.type=e.type,t.creativeId="video"===e.creativeId?e.vastAdId:e.creativeId,this.episodeProps.set(t,"readyState",1),this.pubsub.publish("player.putInDuplexHidden",t),this.mediaProps.set(e,"readyState",1),this.getMediaIterator(e).setCurrent(e),this.duplex.hidden().episodeId=t.id,this.duplex.hidden().mediaId=e.id,e.isVpaid)this.duplex.setVpaid(this.duplex.hidden(),e.wrapper,e.duration);else if(e.isDash)this.duplex.setDashSrc(this.duplex.hidden(),e.src);else if(e.isHevc)this.duplex.setHevcSrc(this.duplex.hidden(),e.src);else if(e.isSdk)this.duplex.setSdk(this.duplex.hidden(),e.wrapper);else{var i="ad"===this.episodeIterator.getCurrent().featuring&&"content"===t.featuring&&this.chromeHeavyAdsOpt;this.duplex.setVideoSrc(this.duplex.hidden(),e.src,e.poster,i)}},c.prototype.fillDuplexWithNextEpisode=function(t,e){if(this.duplex.hidden().episodeId!==t.id&&!(e.mediaId&&this.duplex.visible().mediaId==e.mediaId||e.mediaId&&this.duplex.hidden().mediaId==e.mediaId)){var i=this.broker.guessNextMediaForPreload(t,e);if(i&&!(this.mediaProps.get(i.id,"readyState")>=3)){if(e.mediaId=i.id,this.duplex.hidden().mediaId==e.mediaId)return this.episodeProps.set(e,"readyState",1),void(this.duplex.hidden().episodeId=e.id);this.putInDuplexHidden(e,i)}}},c.prototype.handleMediaNotPreloadedForCurrentEpisode=function(t){return this.flagCurrentEpisodeHasToStartImmediately=!0,this.watchNowOnce(),this.startCurrentEpisode()},c.prototype.onMediaError=function(t,e,i,n){this.mediaProps.get(e,"readyState")>=400||(this.mediaProps.set(e,"readyState",400),this.pubsub.publish("player.media.error",{media:this.getMedia(e),error:i,networkState:n}),this.duplex.visible().episodeId==t?this.onCurrentEpisodeEnded({error:!0}):this.duplex.hidden().episodeId==t&&(this.duplex.hidden().episodeId=null,this.duplex.hidden().mediaId=null,this.episodeCollection.get(t).mediaId=null,this.episodeProps.set(t,"readyState",0)))},c.prototype.nextEpisodesCanBeSwallowed=function(t,e,i){return t&&"content"==e.featuring&&"content"==i.featuring&&1==e.holdMedia&&!0!==i.holdMedia&&this.duplex.visible().episodeId==e.id},c.prototype.swallowEpisodes=function(t,e,i){for(var n=0;n<t.length;n++)this.episodeCollection.remove(t[n]);this.episodeCollection.remove(i),e.endTime=parseFloat(i.endTime||this.duplex.visible().duration.toFixed(1)),e.estimated.endTime=parseFloat(i.endTime||this.duplex.visible().duration.toFixed(1)),e.estimated.duration=e.estimated.endTime-e.estimated.startTime,e.holdMedia=!1,e.suspendMotion=!0},t.exports=c},function(t,e){var i=function(t,e,i,n,o,s,r,a,l,d,u){this.sequencer=t,this.episodeCollection=e,this.episodeIterator=i,this.adMediaCollection=n,this.adMediaIterator=o,this.contentMediaCollection=s,this.contentMediaIterator=r,this.stitchedMediaCollection=a,this.stitchedMediaIterator=l,this.episodeProps=d,this.mediaProps=u};i.prototype.getMediaForCurrentEpisodeNow=function(t){if(t.mediaId)return this.sequencer.getMedia(t.mediaId);var e;if("content"==t.featuring)for(e=this.contentMediaIterator.getCurrent();e&&this.mediaProps.get(e,"readyState")>1;)e=this.contentMediaIterator.getNext(e);else if("ad"==t.featuring)for(e=this.adMediaIterator.getCurrent();e&&this.mediaProps.get(e,"readyState")>1;)e=this.adMediaIterator.getNext(e);return e||null},i.prototype.guessNextMediaForPreload=function(t,e){if(e.mediaId)return this.sequencer.getMedia(e.mediaId);var i;if("content"==t.featuring&&"content"==e.featuring){if(!(i=t.holdMedia?this.contentMediaIterator.getCurrent():t.mediaId&&this.contentMediaCollection.has(t.mediaId)?this.contentMediaIterator.getNext():this.contentMediaIterator.getCurrent()))return}else if("content"==t.featuring&&"ad"==e.featuring){for(i=this.adMediaIterator.getCurrent();i&&this.mediaProps.get(i,"readyState")>0;)i=this.adMediaIterator.getNext(i);if(!i)return}else if("ad"==t.featuring&&"content"==e.featuring){for(i=this.contentMediaIterator.getCurrent();i&&this.mediaProps.get(i,"readyState")>2;)i=this.contentMediaIterator.getNext(i);if(!i)return}else if("ad"==t.featuring&&"ad"==e.featuring&&!(i=t.holdMedia?this.adMediaIterator.getCurrent():t.mediaId&&this.adMediaCollection.has(t.mediaId)?this.adMediaIterator.getNext():this.adMediaIterator.getCurrent()))return;return i},t.exports=i},function(t,e){var i=document.createElement("video"),n=-1!=window.navigator.userAgent.indexOf("Safari")&&-1==window.navigator.userAgent.indexOf("Chrome");t.exports=function(t,e){var o=i.canPlayType(t);if(e&&"video/mp4"===t||"application/javascript"===t)return 1;if(e)return 0;if("application/javascript"===t)return 3;if(!o)return 0;if("application/x-mpegurl"===t&&n)return 4;if("application/octet-stream"===t&&window.libde265)return 5;if("application/dash+xml"===t&&"function"==typeof(window.MediaSource||window.WebKitMediaSource)&&window.dashjs)return 3;if(o){if("video/3gpp"===t&&"maybe"==o)return 0;if("application/dash+xml"===t&&("maybe"==o||"probably"==o))return 0;switch(o){case"probably":return 2;case"maybe":return 1;default:return 0}}return 0}},function(t,e){t.exports=function(t,e,i,n){this.client=window.dashjs.MediaPlayer().create(),this.client.getDebug().setLogToBrowserConsole(!1),this.client.setFastSwitchEnabled(!0),this.client.initialize(i,n,!0)}},function(t,e){var i=function(t,e,i,n,o){this.src=o,this.client=new libde265.RawPlayer(n),this.client.set_status_callback(function(t,e){switch(t){case"loading":i.style.display="none";break;case"initializing":case"playing":break;case"stopped":i.style.display="block",i.parentNode.removeChild(n)}})};i.prototype.play=function(){this.client.playback(this.src)},t.exports=i},function(t,e,i){var n=i(13),o=i(1),s=i(2),r=i(74),a=(i(3),i(6)),l=i(76),d=i(19),u=function(t,e,i,r,a,l,d,u,c,p,h,m,f,b,g){n.call(this),this.pubsub=t,this.adOnly=p,this.contentOnly=h,this.maxVideoAds=p&&m||9999,this.adsPerContent=f||1,this.postNoAdAttemptsEnabled=b,this.videoAdsCount=0,this.contentMediaIterator=new o(e),this.adMediaIterator=new o(i),this.stitchedMediaIterator=new o(r),this.mediaProps=new s,this.addMediaCallback=a,this.schemaParser=l,this.addEpisodeCallback=d,this.onBehaviourReady=u,this.tracker=c,this.amountFirstContentVideos=g,this.watchInterval=null,this.contenRequestIsWating=!1,this.adRequestIsWating=!0,this.bumperAdded=!1,this.carouselIsStopped=!1,this.failedMedia=[],this.contentRequestCount=g?0:1};u.prototype.watch=function(){this.playerIsLoaded||(this.pubsub.publish("player.loaded"),this.playerIsLoaded=!0),this.checkQueueSizeToRequestVast(),this.pushInitialMotion()},u.prototype.checkQueueSizeToRequestVast=function(){if(this.queueSize("ad")<1&&!1===this.adRequestIsWating&&!this.contentOnly&&this.videoAdsCount<this.maxVideoAds&&this.pubsub.publish("player.getAd"),this.queueSize("content")<1&&!1===this.contenRequestIsWating&&!this.adOnly){if(!this.amountFirstContentVideos&&-1===this.queueSize("content")&&this.contentRequestCount>1)return void this.pubsub.publish("player.stopped");this.contentRequestCount+=1,this.pubsub.publish("player.getContent",{page:this.amountFirstContentVideos}),this.amountFirstContentVideos&&(this.amountFirstContentVideos=null)}},u.prototype.pushInitialMotion=function(){if(!0!==this._initialEpisodesPushed){var t=this.getBlueprintsNow(10);0!=t.length&&(this.pushMotion(t),this._initialEpisodesPushed=!0)}},u.prototype.pushMotion=function(t){for(var e,i=0;i<t.length;i++)e=new Foundation.Episode(t[i]),i==t.length-1&&(e.suspendMotion=!0),this.addEpisodeCallback(e)},u.prototype.getBlueprintsNow=function(t,e){return!0!==this.schemaParser.hasParsed?[]:0==this.queueSize("content")&&this.adOnly?this.schemaParser.getBlueprintsWithNoContent():this.schemaParser.isClickroll()?this.schemaParser.getBlueprintsWithNoAds():0!=this.queueSize("content")||this.adOnly?0==this.queueSize("ad")||1===this.queueSize("ad")&&this.bumperAdded?!0===this.contentOnly||e?this.schemaParser.getBlueprintsWithNoAds():this.schemaParser.isPreroll()?this.timeReady&&r(this.timeReady)<t&&!this.adIsMissed?[]:this.postNoAdAttemptsEnabled||!0===this.adIsMissed?this.schemaParser.getBlueprintsWithNoAds():this.schemaParser.getBlueprints():this.schemaParser.getBlueprintsWithNoAds():this.schemaParser.getBlueprints():[]},u.prototype.queueSize=function(t){var e;if("ad"==t)e=this.adMediaIterator;else if("content"==t)e=this.contentMediaIterator;else{if("stitched"!=t)throw new Error;e=this.stitchedMediaIterator}if(null===e.currentId)return 0;for(var i=0,n=0,o=e.collection.itemsIds.indexOf(e.currentId);o<e.collection.itemsIds.length;o++){var s=e.collection.itemsIds[o];!0===this.mediaProps.get(s,"inQueue")&&e.collection.items[s]&&this.failedMedia.indexOf(e.collection.items[s].vastAdId)<0&&i++,e.collection.items[s]&&this.failedMedia.indexOf(e.collection.items[s].vastAdId)<0&&n++}return e.collection.itemsIds.length&&0===i&&0===n&&(i=-1),i},u.prototype.onMediaTouched=function(t){this.mediaProps.set(t,"inQueue",!1)},u.prototype.onMedia=function(t,e,i,n,o,s,r,d,u,c){if(this.failedMedia.indexOf(e.id)>=0)this.adOnly&&this.adRequestIsWating&&(this.adRequestIsWating=!1,this.videoAdsCount--);else{this.tracker.setTrakingPixels(i.trackingEvents);var p=new Foundation.Media(n.fileURL);if(p.vastAdId=e.id,p.title=e.title,p.duration=i.duration,p.creativeId=i.creativeId,p.adSystem=e.system.value,p.type=n.mimeType,p.macros=o.macros,p.originVastUrl=d,p.icons=i.icons,p.customisedScripts=c,p.shVastId=e.vastId,p.isBumper=u,r&&(p.bid=r),"stitched"==t){var h=e.id.split("-");p.contentId=h[0],p.adId=h[1]}if(i.skipDelay&&this.schemaParser.setSkipOffset(i.skipDelay),i.videoClickThroughURLTemplate&&(p.vastClickThroughURL=i.videoClickThroughURLTemplate),"VPAID"==n.apiFramework&&n.fileURL.indexOf("vpaid-360.js")>0&&!l())try{var m=a("adp",n.fileURL);m=JSON.parse(m),p.src=m.videos.url}catch(t){return}else if("VPAID"==n.apiFramework){p.isVpaid=!0,p.wrapper=i.wrapper,p.type="VPAID";try{var f=p.adParameters?JSON.parse(p.adParameters):p.wrapper.adParameters?JSON.parse(p.wrapper.adParameters):{};f.videos&&f.videos.length&&(p.vpaidVideoUrl=f.videos[0].url),p.adParameters=JSON.stringify(f)}catch(t){}}"SDK"==n.apiFramework&&(p.isSdk=!0,p.wrapper=i.wrapper,p.type="SDK"),"application/octet-stream"==n.mimeType&&(p.isHevc=!0),"application/dash+xml"==n.mimeType&&(p.isDash=!0),s&&s.value&&(p.poster=s.value),this.tracker&&this.tracker.addVastTracker(t,p,o),this.mediaProps.set(p,"inQueue",!0),this.addMediaCallback(t,p);var b=this.contentMediaIterator;"ad"==t?b=this.adMediaIterator:"stitched"==t&&(b=this.stitchedMediaIterator),null===b.currentId&&b.rewind();var g=this;u&&this.pubsub.publish("motion.rewind",{mediaId:p.id,episodes:function(){var t=g.schemaParser.getBlueprintsByFeaturing("ad");return[new Foundation.Episode(t[0])]}})}},u.prototype.onContentMedia=function(t,e,i,n,o,s,r){var a=o[0];this.onMedia("content",t,e,i,n,a,null,r)},u.prototype.onAdMedia=function(t,e,i,n,o,s,r,a,l){this.onMedia("ad",t,e,i,n,o,s,r,a,l)},u.prototype.onStitchingScheme=function(t,e){this.schemaParser.hasParsed||(this.schemaParser.parse(t,e,this.adsPerContent),"function"==typeof this.onBehaviourReady&&this.onBehaviourReady())},u.prototype.setupListeners=function(t){var e=this,i=!1,n=!1,o=null;e.timeReady=null,t.subscribe("ready",function(){e.timeReady=(new Date).getTime();var i="midroll";e.adOnly?i="adonly":e.schemaParser.isClickroll()?i="clickroll":e.schemaParser.isPreroll()&&(i="preroll"),t.publish("player.schema.parsed",{schema:i})}),t.subscribe("player.carousel.stopped",function(){e.carouselIsStopped=!0,e.token_motionResumedAfterCarouselStopped=t.subscribe("motion.resumed",function(){e.carouselIsStopped=!1,t.unsubscribe(e.token_motionResumedAfterCarouselStopped)})}),t.subscribe("player.stopped",function(){e.stopWatching(),e.contenRequestIsWating=!0,e.adRequestIsWating=!0}),t.subscribe("player.content.stopped",function(){e.adRequestIsWating=!0}),t.subscribe("spot.setSchemaToPlayer",function(t,i){e.onStitchingScheme(i.stitchingScheme,i.stitchingParams)}),t.subscribe("spot.setAdToPlayer",function(i,n){var o=!(e.playerIsStarted||!n.isBumper);e.onAdMedia(n.response,n.creative,n.mediaFile,n.tracker,n.previewImage,n.bid,n.originVastUrl,o,n.customisedScripts),o?(e.bumperAdded=!0,t.publish("player.handleMediaNotPreloaded")):e.schemaParser.isClickroll()||e.rewindMotionsWithAds(),o||t.publish("motion.ad.placed")}),t.subscribe("spot.adIsMissed",function(i,n){e.carouselIsStopped||t.publish("player.handleMediaNotPreloaded"),e.postNoAdAttemptsEnabled||(!0===e.schemaParser.isPreroll()&&e.getBlueprintsNow().length>1?(e.pushMotion(e.getBlueprintsNow()),e.pubsub.publish("motion.ad.missed",{isPreroll:e.schemaParser.isPreroll()})):(e.adIsMissed=!0,e.pushMotion(e.getBlueprintsNow(null,!0)),e.pubsub.publish("motion.ad.missed")))}),t.subscribe("spot.setContentToPlayer",function(t,i){e.contenRequestIsWating=!1,e.onContentMedia(i.response,i.creative,i.mediaFile,i.tracker,i.previewImage,null,i.originVastUrl)}),t.subscribe("player.contenRequestIsWating",function(t,i){e.contenRequestIsWating=!0}),t.subscribe("player.adRequestIsWating",function(i,n){e.adRequestIsWating=!0,(!n||n&&!n.paused)&&t.publish("player.loading")}),t.subscribe("input.missing.episode",function(){e.postNoAdAttemptsEnabled||!0!==e.schemaParser.isPreroll()||(e.adIsMissed=!1),e.pushMotion(e.getBlueprintsNow())}),t.subscribe("motion.ad.missed",function(){e.adsPerContent>1&&!e.schemaParser.isMidroll()&&e.pushMotion(e.getBlueprintsNow(1))}),t.subscribe("controls.clickToPlay",function(t){e.schemaParser.isClickroll()&&e.rewindMotionsWithAds()}),t.subscribe("motion.ad.started",function(i){var n="midroll";e.adOnly?n="adonly":e.schemaParser.isClickroll()?n="clickroll":e.schemaParser.isPreroll()&&(n="preroll"),t.publish("ad.started",{type:i&&i.type||n}),e.adOnly?t.publish("player.ad.opportunity"):e.schemaParser.isClickroll()&&(t.publish("player.ad.opportunity"),e.schemaParser.reformatBlueprints(),e.resetClickrollBlueprints_token=t.subscribe("motion.content.ended",function(i){e.schemaParser.resetClickrollBlueprints(),t.unsubscribe(e.resetClickrollBlueprints_token)}))}),t.subscribe("motion",function(s,r){"motion.ended"===s&&e.adRequestIsWating&&(e.adRequestIsWating=!1),"motion.started"!==s||e.playerIsStarted||(e.playerIsStarted=!0),"motion.started"===s&&"content"===r.featuring&&e.schemaParser.isMidroll()&&(i=!1),"motion.started"===s&&e.schemaParser.isPreroll()&&o!==r.id&&(o=r.id,e.token_adStartedForAdApportunity=t.subscribe("motion.ad.started",function(){n||t.publish("player.ad.opportunity"),n=!0,t.unsubscribe(e.token_adStartedForAdApportunity)}),e.token_contentStartedForAdApportunity=t.subscribe("motion.content.started",function(){t.publish("player.nonlinear.show"),n||t.publish("player.ad.opportunity"),n=!0,t.unsubscribe(e.token_contentStartedForAdApportunity)}),e.token_motionEndedForAdApportunity=t.subscribe("motion.ended",function(){n=!1,t.unsubscribe(e.token_motionEndedForAdApportunity)}))});var s=d(function(){t.publish("spot.checkAdInQueue")},1e3,this),r=t.subscribe("spot.ad.nonlinearOnly",function(i,n){e.сontentWithoutVideoAd=!0,t.publish("player.nonlinear.show"),t.unsubscribe(r)});t.subscribe("progress",function(n,o){if("content"===o.featuring&&e.schemaParser.isMidroll()&&o.featureSecondsPassed<=e.schemaParser.adOpportunityTime&&e.queueSize("ad")<1&&!e.contentOnly&&s(),"content"===o.featuring&&e.schemaParser.isMidroll()&&o.episodeSecondsPassed>=e.schemaParser.adOpportunityTime-.3&&o.episodeSecondsPassed<=e.schemaParser.adOpportunityTime&&!i){if(i=!0,t.publish("player.ad.opportunity"),!e.postNoAdAttemptsEnabled&&!e.сontentWithoutVideoAd)var r=t.subscribe("spot.adIsMissed",function(e,i){t.publish("player.nonlinear.show"),t.unsubscribe(r)});!0===e.сontentWithoutVideoAd&&(e.сontentWithoutVideoAd=!1)}}),this.postNoAdAttemptsEnabled&&(t.subscribe("motion.content.ended",function(t,i){clearTimeout(e.fetchOneMoreTimer),e.fetchOneMoreTimer=null}),t.subscribe("motion.content.started",function(i,n){if(!(e.queueSize("ad")>=1)){var o=Math.abs((new Date).getTime()-e.timeReady)/1e3;Math.round(o%60)>5?e.adRequestIsWating=!1:e.fetchOneMoreTimer=setTimeout(function(){e.queueSize("ad")>=1||(e.adRequestIsWating=!1,e.fetchOneMoreTimer=null)},5e3),t.subscribe("spot.adIsMissed",function(i,n){e.fetchOneMoreTimer||(e.fetchOneMoreTimer=setTimeout(function(){e.adRequestIsWating=!1,e.token_adMissedEndly=t.subscribe("spot.adIsMissed",function(i,n){e.pubsub.publish("motion.ad.missed"),e.pubsub.publish("player.nonlinear.show"),t.unsubscribe(e.token_adMissedEndly)})},1e4))})}})),t.subscribe("motion.episode.started",function(t,i){e.onMediaTouched(i.episode.mediaId)}),t.subscribe("motion.ad.ended",function(t,i){i.nextEpisode&&"ad"===i.nextEpisode.featuring?e.adRequestIsWating=!1:!i.nextEpisode||"ad"===i.nextEpisode.featuring||"ad"===i.currentEpisode.episode.featuring&&!0===i.currentEpisode.episode.suspendMotion||e.pubsub.publish("player.nonlinear.show")}),t.subscribe("player.media.error",function(t,i){e.adOnly&&e.adRequestIsWating&&(e.adRequestIsWating=!1,e.videoAdsCount--),i.media.vastAdId&&e.failedMedia.indexOf(i.media.vastAdId)<0&&e.failedMedia.push(i.media.vastAdId),e.mediaProps.set(i.media.id,"inQueue",!1)}),t.subscribe("input.missing.motion",function(){e.pushMotion(e.getBlueprintsNow()),t.publish("controls.next")})},u.prototype.rewindMotionsWithAds=function(){var t=this;this.videoAdsCount++,this.pubsub.publish("motion.content.rewind",{time:0,adEpisodes:function(){for(var e=[],i=t.schemaParser.getBlueprintsByFeaturing("ad"),n=0;n<i.length;n++)e.push(new Foundation.Episode(i[n]));return e},contentEpisode:function(){for(var e=[],i=t.schemaParser.getBlueprintsByFeaturing("content"),n=0;n<i.length;n++)e.push(new Foundation.Episode(i[n]));return e[0]}}),this.carouselIsStopped||this.pubsub.publish("player.handleMediaNotPreloaded")},t.exports=u},function(t,e){var i=function(t,e,i){this.foundation=t,this.pubsub=e,this.pubtagGateway=i,this.pubtagGateway.pubtagPlayerApi=this};i.prototype.ready=function(){var t=this;this.pubsub.subscribe("ready",function(){t.pubtagGateway.message({intent:"pubtag-player-api.event",eventType:"player.ready"})}),this.pubsub.subscribe("video",function(e,i){if("video.play"==e||"video.waiting"==e||"video.timeupdate"==e||"video.playing"==e||"video.pause"==e||"video.ended"==e||"video.error"==e||"video.volumechange"==e){var n=t.foundation.sequencer.getMedia(i.target.mediaId);t.pubtagGateway.message({intent:"pubtag-player-api.event",eventType:e,event:{target:{video:{id:n.vastAdId,isVLContent:"ShowHeroes Playlist Server"==n.adSystem,meta:{title:n.title}},muted:i.target.muted,currentTime:i.target.currentTime,duration:i.target.duration,paused:i.target.paused,ended:i.target.ended}}})}}),this.pubsub.subscribe("motion",function(e,i){"motion.ad.started"!=e&&"motion.ad.ended"!=e||t.pubtagGateway.message({intent:"pubtag-player-api.event",eventType:e.replace("motion.",""),event:i})}),this.pubsub.subscribe("player",function(e,i){"player.stopped"!=e&&"player.carousel.stopped"!=e&&"player.timeupdate"!=e||t.pubtagGateway.message({intent:"pubtag-player-api.event",eventType:e,event:i})})},i.prototype.incomingIntent=function(t,e){"play"==t&&this.foundation.intentPlay(),"pause"==t&&this.foundation.intentPause(),"adPlay"==t&&this.foundation.intentAdPlay(),"adPause"==t&&this.foundation.intentAdPause(),"mute"==t&&this.pubsub.publish("controls.mute"),"unmute"==t&&this.pubsub.publish("controls.unmute"),"next"==t&&this.foundation.intentNext(),"show-close"==t&&this.pubsub.publish("controls.close.on"),"hide-close"==t&&this.pubsub.publish("controls.close.off")},t.exports=i},function(t,e,i){var n=i(3),o=function(t,e,i,n,o){this.foundation=t,this.controls=e,this.behaviour=i,this.adEnabled=n,this.skipMode=o,this.blueprints=[],this.blueprintsAfterCR=[],this.clickRoll=!1,this.hasParsed=!1,this.adOpportunityTime=0};o.prototype.parse=function(t,e,i){this.stitchingParams=e;for(var n=0;n<t.length;n++);var o=this.foundation,s=this.behaviour,r=this.controls,a=[],l=0,d=[],u=0,c={},p=!1;for(n=0;n<t.length;n++)if("showClick2Unmute"===t[n].action&&"onPlay"===t[n].event){r.isClick2Unmute=!0,p=!0;break}for(var h=0;h<t.length;h++){var m=t[h];if(a[l]=a[l]||{},d[u]=d[u]||{},"fastForward"===m.action)a[l].startTime=m.parameter1,d[u].startTime=m.parameter1;else if("playContent"===m.action)a[l].startTime||(a[l]={}),a[l].featuring="content",a[l].unmute=!0===c.unmute,d[u].startTime||(d[u]={}),d[u].featuring="content",d[u].unmute=!0===c.unmute;else if("playAd"===m.action&&"onNextContentStart"===m.event){var f=m.eventOffset+(d[u].startTime?d[u].startTime:0);this.adOpportunityTime=m.eventOffset,d[u].endTime=f,a[u].holdMedia=!0,d[u].unmute=!0===c.unmute,u++;for(var b=0;b<i;b++)d[u]={},d[u].featuring="ad",d[u].unmute=!0===c.unmute,u++;d[u]={},d[u].featuring="content",d[u].startTime=f,d[u].unmute=!0===c.unmute}else if("playAd"===m.action&&"onNextContentStart"!==m.event)if(m.eventOffset){f=m.eventOffset+(a[l].startTime?a[l].startTime:0);this.adOpportunityTime=m.eventOffset,a[l].endTime=f,a[l].holdMedia=!0,a[l].unmute=!0===c.unmute,l++;for(b=0;b<i;b++)a[l]={},a[l].featuring="ad",a[l].unmute=!0===c.unmute,l++;a[l]={},a[l].featuring="content",a[l].startTime=f,a[l].unmute=!0===c.unmute}else if(l>0)for(b=0;b<i;b++)a[++l]={},a[l].featuring="ad",a[l].unmute=!0===c.unmute,a[l].playAction="progress";else{"onClick2Unmute"===m.event&&(this.clickRoll=!0,l++);for(b=0;b<i;b++)a[l]={},a[l].featuring="ad",a[l].unmute=!0===c.unmute,a[l].playAction="onClick2Unmute"===m.event?"click":"progress",l++;a[l]={},a[l].featuring="content",a[l].unmute=!0===c.unmute}}c={};for(var g=0;g<a.length;g++)this.blueprints.push(a[g]);for(var v=0;v<d.length;v++)this.blueprintsAfterCR.push(d[v]);var y={};for(b=0;b<t.length;b++){"setMessage"===(m=t[b]).action?"onReady"==m.event&&r.setMessage(m.parameter1,m.parameter2,p):"autoplay"===m.action?(y.modeAutoplay=!0,s.onReady(o.modeAutoplay)):"showClick2Play"===m.action?(y.modeAutoplay||s.onReady(o.modeClick2play),s.onReady(r.showClickToPlayButton)):"showClick2Unmute"===m.action?s.onReady(r.showClickToUnmuteButton):"unmute"===m.action?"onClick2Unmute"===m.event&&s.onClick2UnmuteButtonClick("controls.unmute"):"hideClick2Play"===m.action?!0!==y.hideClick2Play&&(y.hideClick2Play=!0,"onClick2Play"===m.event?s.onClick2PlayButtonClick(r.hideClickToPlayButton):s.onPlaying(r.hideClickToPlayButton)):"hideClick2Unmute"===m.action?s.onClick2UnmuteButtonClick(r.hideClickToUnmuteButton):"playContent"===m.action?"onSkipClick"===m.event?s.onSkipButtonClick(o.intentSkip):"onClick2Play"===m.event&&!0!==y.play&&(y.play=!0,s.onPlayButtonClick(o.intentPlay)):"playAd"===m.action&&"onNextContentStart"!==m.event?("onClick2Play"===m.event&&!0!==y.play&&(y.play=!0,s.onPlayButtonClick(o.intentPlay)),"onClick2Unmute"===m.event&&!0!==y.play&&(y.play=!0,s.onPlayButtonClick(o.intentPlay))):"showTillAdCountdown"===m.action&&!0===this.adEnabled?s.onAdStartBefore(m.eventOffset,r.showTillAdCountdown,m.parameter1):"showAdCountdown"===m.action&&!0===this.adEnabled?s.onAdStartAfter(m.eventOffset,r.showAdCountdown,m.parameter1,m.parameter2):"showSkipAd"===m.action?(this.skippedAd=!0,s.onAdStartAfter(m.eventOffset,r.showSkipButton)):"hideSkipAd"===m.action?"onSkipClick"===m.event?s.onSkipButtonClick(r.hideSkipButton):"onAdOver"===m.event&&s.onAdEnd(r.hideSkipButton):"pause"===m.action?"onAdClick"===m.event?s.onAdClick(o.intentPause):"onContentClick"===m.event&&s.onContentClick(o.intentPause):"stop"===m.action?"onContentComplete"===m.event?s.onContentEnd(o.intentStop):"onAdComplete"===m.event&&s.onAdEnd(r.hideNextVideoButton):"hideControls"===m.action?"onAdComplete"===m.event&&s.onAdEnd(r.hideControls):"stopAndShowReplayButton"===m.action?"onContentComplete"===m.event&&(s.onReplayButtonClick(o.intentPlay,"replay"),s.onMotionEnd(r.showReplayButton)):"showPlayButton"===m.action?s.onPause(r.showPlayButton):"resume"===m.action?(!0!==y.play&&(y.play=!0,s.onPlayButtonClick(o.intentPlay)),s.onPlaying(r.hidePlayButton)):"resumeContent"===m.action?"onSkipClick"===m.event&&s.onSkipButtonClick(o.intentSkip):"onPlayButtonClick"===m.event?!0!==y.hidePlay&&(y.hidePlay=!0,s.onPlayButtonClick(r.hidePlayButton)):"showNextVideoButton"===m.action?"onAdOver"===m.event?s.onAdOverAfter(m.eventOffset,r.showNextVideoButton):"onNoAdToPlay"===m.event&&s.onNoAdToPlayAfter(m.eventOffset,r.showNextVideoButton):"hideNextVideoButton"===m.action?"onNextVideoButtonClick"===m.event?s.onNextVideoButtonClick(r.hideNextVideoButton):"onContentComplete"===m.event&&s.onContentEnd(r.hideNextVideoButton):"showClick2ContinueButton"===m.action?"onContentComplete"===m.event&&s.onContentEnd(r.showClick2ContinueButton):"hideClick2ContinueButton"===m.action?s.onClick2ContinueButtonClick(r.hideClick2ContinueButton):"openContentClickoutURL"===m.action?"onFullScreenButtonClick"===m.event?s.onReady(r.transformIntoClickthrough,"#control-fullscreen-on"):"onClick2ContinueButtonClick"===m.event&&s.onReady(r.transformIntoClickthrough,"#control-continue"):"playNext"===m.action&&("onNextVideoButtonClick"===m.event?s.onNextVideoButtonClick(o.intentNext):"onContentComplete"===m.event?s.onMotionSuspend(o.intentNext):"onAdOver"===m.event&&this.isPostroll()&&s.onMotionSuspend(o.intentNext))}return y={},this.hasParsed=!0,this},o.prototype.getBlueprintsWithMedia=function(t,e,i){var o=[];this.isPreroll()?o.push({endTime:this.stitchingParams.adDuration,featuringId:i},{startTime:this.stitchingParams.adDuration,featuringId:e}):this.isMidroll()?o.push({featuringId:e},{startTime:this.blueprints[0].endTime,endTime:this.blueprints[0].endTime+this.stitchingParams.adDuration,featuringId:i},{startTime:this.blueprints[0].endTime+this.stitchingParams.adDuration,featuringId:e}):this.isPostroll()&&o.push({endTime:this.stitchingParams.contentDuration,featuringId:e},{startTime:this.stitchingParams.contentDuration,featuringId:i});for(var s=[],r=0;r<this.blueprints.length;r++){var a=n({mediaId:t},this.blueprints[r]);s.push(n(a,o[r]))}return s},o.prototype.getBlueprints=function(){return this.blueprints},o.prototype.getBlueprintsByFeaturing=function(t){for(var e=[],i=0;i<this.blueprints.length;i++)this.blueprints[i].featuring==t&&e.push(this.blueprints[i]);return e},o.prototype.setSkipOffset=function(t){!0===this.skippedAd&&2===this.skipMode&&this.behaviour.onAdStartAfter(t,this.controls.showSkipButton)},o.prototype.getBlueprintsWithNoAds=function(){for(var t=[],e=0;e<this.blueprints.length;e++)"ad"!=this.blueprints[e].featuring&&t.push(this.blueprints[e]);return 2==t.length&&(t=[{featuring:"content",startTime:t[0].startTime||null,unmute:t[0].unmute}]),t},o.prototype.getBlueprintsWithNoContent=function(){for(var t=[],e=0;e<this.blueprints.length;e++)"content"!=this.blueprints[e].featuring&&t.push(this.blueprints[e]);return 2==t.length&&(t=[{featuring:"ad",startTime:t[0].startTime||null,unmute:t[0].unmute}]),t},o.prototype.isClickroll=function(){return"content"==this.blueprints[0].featuring&&"ad"==this.blueprints[1].featuring&&"click"==this.blueprints[1].playAction},o.prototype.isPreroll=function(){return this.blueprints&&this.blueprints.length?"ad"==this.blueprints[0].featuring:null},o.prototype.isMidroll=function(){return!1===this.clickRoll&&"content"==this.blueprints[0].featuring&&"ad"==this.blueprints[1].featuring},o.prototype.isPostroll=function(){return"ad"==this.blueprints[this.blueprints.length-1].featuring},o.prototype.reformatBlueprints=function(){this.blueprints=[];for(var t=0;t<this.blueprintsAfterCR.length;t++)this.blueprints.push(this.blueprintsAfterCR[t])},o.prototype.resetClickrollBlueprints=function(){this.clickRoll=!1,this.blueprintsAfterCR=[]},t.exports=o},function(t,e){var i=function(t,e){this.macro=t,this.isCanvas=e,this.adIsReady=!1,this.pubsub=null,this.url=null,this.container=null,this.adDisplayContainer=null,this.adsManager=null,this.isPaused=null,this.isSkippableAd=!1,this.duration=0,this.currentTime=0,this.muted=!0,this.volume=0,this.episodeId=null,this.mediaId=null;var i=document.createElement("video");i.setAttribute("playsinline","true"),i.setAttribute("webkit-playsinline","true"),i.setAttribute("preload","auto"),i.setAttribute("muted","true"),i.setAttribute("style","display:block; width:100%; height: 100%; min-width:100%; max-width:100%;"),i.muted=!0,document.body.querySelector("#duplex-host").appendChild(i),this.videoTag=i};i.prototype.init=function(t,e,i){this.url=this.macro.replace(t),this.onLoadErrorCallback=e,this.onLoadCallback=i;var n=document.createElement("div");document.body.appendChild(n),this.container=n;var o=this;if("object"!=typeof google||google&&!google.ima){var s=document.createElement("script");return s.src="//imasdk.googleapis.com/js/sdkloader/ima3.js",s.async=!0,s.onload=function(){o.setup()},s.onerror=function(t){o.onLoadError(t)},void document.body.appendChild(s)}this.setup()},i.prototype.setup=function(){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.container,this.videoTag),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onLoadError.bind(this),!1);var t=new google.ima.AdsRequest;t.adTagUrl=this.url,t.linearAdSlotWidth=640,t.linearAdSlotHeight=400,this.adsLoader.requestAds(t)},i.prototype.onLoaded=function(t){this.log("Ad is loaded"),this.adIsReady=!0,this.setAdsManger(t),"function"==typeof this.onLoadCallback&&this.onLoadCallback()},i.prototype.onLoadError=function(t){var e=t;"function"==typeof t.getError&&(e=t.getError().toString()),this.log(e,!0),"function"==typeof this.onLoadErrorCallback&&this.onLoadErrorCallback(),this.destroy()},i.prototype.setRequirements=function(t,e){this.pubsub=t,this.episodeId=e.episodeId,this.mediaId=e.mediaId,this.sendDuplexEvent("loadedmetadata"),this.sendDuplexEvent("loadeddata")},i.prototype.setAdsManger=function(t){var e=new google.ima.AdsRenderingSettings;e.useStyledLinearAds=!1,e.enablePreloading=!0,e.uiElements=[],this.adsManager=t.getAdsManager(this.videoTag,e),this.setupSdkListeners()},i.prototype.onAdEvent=function(t){this.log(t.type);var e=t.getAd(),i=this;if(t.type===google.ima.AdEvent.Type.LOADED)e.isLinear()||this.onError("Ad is not linear"),this.onAdLoaded(e);else if(t.type===google.ima.AdEvent.Type.STARTED){if(!e.isLinear())return void this.onError("Ad is not linear");this.adsManager.setVolume(this.volume),clearInterval(this.loadingTimer),this.intervalTimer=setInterval(function(){i.onCurrentTime(i.adsManager.getRemainingTime())},300)}else t.type===google.ima.AdEvent.Type.COMPLETE?(clearInterval(this.intervalTimer),this.complete(),this.pubsub.publish("controls.click.on")):t.type===google.ima.AdEvent.Type.PAUSED?this.isPaused=!0:t.type===google.ima.AdEvent.Type.RESUMED?this.isPaused=!1:t.type===google.ima.AdEvent.Type.CLICK?this.pubsub.publish("controls.clickthrough"):t.type===google.ima.AdEvent.Type.SKIPPED&&(clearInterval(this.intervalTimer),this.complete(),this.pubsub.publish("controls.click.on"))},i.prototype.onAdLoaded=function(t){this.isSkippableAd=t.getSkipTimeOffset()>0,this.sendDuplexEvent("waiting"),this.duration=t.getDuration(),this.sendDuplexEvent("durationchange"),this.pubsub.publish("controls.click.off")},i.prototype.play=function(){this.adDisplayContainer.initialize();var t=this,e=this.macro.getRealPlayerWidth(),i=this.macro.getRealPlayerHeight();try{this.loadingTimer=setInterval(function(){t.sendDuplexEvent("waiting")},300),this.adsManager.init(e,i,google.ima.ViewMode.NORMAL),this.adsManager.start(),this.sendDuplexEvent("play"),this.sendDuplexEvent("playing"),this.container.setAttribute("style","position: absolute;top:0;bottom:0;left:0;right:0;margin:auto;border: 0 none;")}catch(t){this.onError(t)}},i.prototype.pause=function(){this.sendDuplexEvent("pause"),this.adsManager.pause()},i.prototype.resume=function(){this.adsManager.resume(),this.sendDuplexEvent("play"),this.sendDuplexEvent("playing")},i.prototype.setVolume=function(t){"number"==typeof t?(this.muted=0===t,this.volume=t):(this.muted=!t,this.volume=t?1:0),this.adsManager&&(this.adsManager.setVolume(this.volume),this.sendDuplexEvent("volumechange to "+this.volume))},i.prototype.complete=function(){this.sendDuplexEvent("ended"),this.destroy()},i.prototype.onCurrentTime=function(t){this.isPaused||(this.currentTime=this.duration-t,this.sendDuplexEvent("timeupdate"))},i.prototype.setupSdkListeners=function(){this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.DURATION_CHANGE,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdEvent.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onAdEvent.bind(this))},i.prototype.sendDuplexEvent=function(t){this.pubsub&&(this.log("duplex "+t),this.pubsub.publish("duplex",{type:t,sdk:!0,target:{duration:this.duration,currentTime:this.currentTime,mediaId:this.mediaId,episodeId:this.episodeId,readyState:2,volume:this.volume,muted:this.muted}},this.episodeId,this.mediaId))},i.prototype.destroy=function(t){this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),document.querySelector("#duplex-host").removeChild(this.videoTag),document.body.removeChild(this.container)},i.prototype.onError=function(t){var e=t;"function"==typeof t.getError&&(e=t.getError().toString()),this.log(e,!0),this.loadingTimer&&clearInterval(this.loadingTimer),this.sendDuplexEvent("error"),this.destroy(),this.pubsub.publish("controls.click.on")},i.prototype.log=function(t,e){},t.exports=i},function(t,e,i){var n=i(5),o=i(0),s=function(t,e){this.vastTrackers={},this.pubsub=null,this.macro=e&&e.macro||new n,this.viewableTimer=null,this.clickthroughUrl=null,this.clickthroughHref=null,this.clicktracking=t,this.extraPixels={content:[],ad:[]},this.globalTrakingDomains=[],this.contentMotionPlaced=[]};s.prototype.addVastTracker=function(t,e,i,n){i=this.injectExtraPixels(i,this.extraPixels[t],e.bid);var o=n||e.id||e;if(this.vastTrackers[o]=i,this.vastTrackers[o].isVpaid=e.isVpaid,e.isVpaid)try{var s=e.adParameters?JSON.parse(e.adParameters):{};s.creativeViewProgress&&(this.vastTrackers[o].creativeViewProgress=parseInt(s.creativeViewProgress,10))}catch(t){}},s.prototype.setupListeners=function(t,e,i){this.pubsub=t;var o=new n;this.macro.setDynamicMacro=o.setDynamicMacro,this.macro.setDynamicMacro(e),this.patchDMVAST(this.macro);var s=this,r=function(){return s.vastTrackers[e.getStatus().currentEpisode.featuringId||e.getStatus().currentEpisode.mediaId]},a=function(t){return s.vastTrackers[t]};t.subscribe("video.volumechange",function(t,e){e.target.src&&(r().muted=!e.target.muted,r().setMuted(!!e.target.muted))}),t.subscribe("progress",function(t,n){!r().episodeDuration&&s.vastTrackers[e.getStatus().currentEpisode.featuringId||e.getStatus().currentEpisode.mediaId].isSdk?r().setDuration(n.episodeDuration):r().featureDuration||"content"!==n.featuring?r().featureDuration&&r().episodeDuration||r().setDuration(n.episodeDuration):r().setDuration(n.featureDuration),r().creativeViewProgress&&!r().creativeViewTracked&&n.episodeSecondsPassed>=r().creativeViewProgress&&(r().track("creativeView"),r().creativeViewTracked=!0),r().creativeViewProgress&&!r().creativeViewImpressionTracked&&n.episodeSecondsPassed>=r().creativeViewProgress&&r().viewImpressed&&(r().track("smartImpressionViewable"),r().creativeViewImpressionTracked=!0),r().setProgress(n.episodeSecondsPassed),1861018==r().macros["[sas_campaignId]"]&&n.episodeSecondsPassed>=30&&!r().creativeViewProgress&&1!=r().smartViewableImpressed&&(r().track("smartImpressionViewable"),r().smartViewableImpressed=!0),s.checkViewability(r,i)}),t.subscribe("vpaid",function(t,i){"vpaid.AdVideoStart"==t&&r().track("start",!0),"vpaid.AdSkipped"==t&&r().skip(),"vpaid.AdVideoFirstQuartile"==t&&r().track("firstQuartile",!0),"vpaid.AdVideoMidpoint"==t&&r().track("midpoint",!0),"vpaid.AdVideoThirdQuartile"==t&&r().track("thirdQuartile",!0),"vpaid.AdVideoComplete"==t&&(i&&i.mediaId?a(i.mediaId):r()).track("complete",!0),"vpaid.AdVolumeChange.mute"==t&&e.getStatus().currentEpisode&&r().setMuted(!0),"vpaid.AdVolumeChange.unmute"==t&&r().setMuted(!1),"vpaid.AdPlaying"==t&&r().setPaused(!1),"vpaid.AdPaused"==t&&r().setPaused(!0),"vpaid.AdClickThru"==t&&r().click(),"vpaid.AdError"==t&&(i&&i.mediaId?a(i.mediaId):r()).errorWithCode(i&&i.errorCode||901)}),t.subscribe("vpaid.AdRemainingTimeChange",function(t,e){e.isDisplayAd&&s.checkViewability(r,i,e.isDisplayAd)}),t.subscribe("motion.content.started",function(){r().load()}),t.subscribe("motion.ad.started",function(){r().load(!r().creativeViewProgress)}),t.subscribe("player.media.error",function(t,e){if(e.error&&4===e.error.code){if(!e.error.message&&3===e.networkState)return void a(e.media.id).errorWithCode(401);if(e.error.message.indexOf("MEDIA_ELEMENT_ERROR")>=0&&3===e.networkState)return void a(e.media.id).errorWithCode(400)}a(e.media.id).errorWithCode(405)}),t.subscribe("player.poster.error",function(t,e){a(e.mediaId).errorWithCode(406)}),t.subscribe("motion.content.ended",function(t,e){e.error||e.currentEpisode&&e.currentEpisode.error||(e.forced||e.currentEpisode&&e.currentEpisode.forced?r().skip():r().complete(),r().viewImpressed||r().trackViewabilityImpression("impressionNotViewable"))}),t.subscribe("motion.ad.ended",function(t,i){i.error||i.currentEpisode&&i.currentEpisode.error||(r().viewImpressed||r().trackViewabilityImpression("impressionNotViewable"),s.vastTrackers[e.getStatus().currentEpisode.featuringId||e.getStatus().currentEpisode.mediaId].isVpaid||(i.forced||i.currentEpisode&&i.currentEpisode.forced?r().skip():r().complete()))}),t.subscribe("motion.paused",function(){r().setPaused(!0)}),t.subscribe("motion.content.paused",function(){r().setPaused(!0)}),t.subscribe("motion.ad.paused",function(){r().setPaused(!0)}),t.subscribe("motion.resumed",function(){r().setPaused(!1)}),t.subscribe("motion.ad.resumed",function(){r().setPaused(!1)}),t.subscribe("motion.content.resumed",function(){r().setPaused(!1)}),t.subscribe("controls.clickthrough",function(){r().click()}),t.subscribe("motion.episode.started",function(t,e){s.setClickthroughUrl(r().clickThroughURLTemplate,e.episode.featuring)}),setInterval(function(){s.calculateClickthroughHref()},700),t.subscribe("player.destroy",function(){r().close()});var l=null;t.subscribe("motion.started",function(i,n){if(l!==n.id&&(l=n.id,s.sendTrakingDomains(),n.id>1&&n.contentIds.length)){var o=n.contentIds;if(s.contentMotionPlaced.indexOf(o[0])>=0)return;var r=e.episodeIterator.getCurrent();r&&r.mediaId&&"content"===r.featuring?(a(r.mediaId).track("placed"),s.contentMotionPlaced.push(o[0])):s.token_placedContent=t.subscribe("player.putInDuplexHidden",function(e,i){o[0]===i.id&&(a(i.mediaId).track("placed"),s.contentMotionPlaced.push(o[0]),t.unsubscribe(s.token_placedContent))})}})},s.prototype.setClickthroughUrl=function(t,e){if(t&&this.clicktracking&&"ad"==e)try{t=decodeURIComponent(this.clicktracking)+t}catch(t){}this.clickthroughUrl=t||null,this.calculateClickthroughHref()},s.prototype.calculateClickthroughHref=function(){var t=this.clickthroughUrl?this.macro.replace(this.clickthroughUrl,null,!0):null;t!==this.clickthroughHref&&(this.clickthroughHref=t,this.pubsub.publish("input.clickthrough",{href:this.clickthroughHref||null}))},s.prototype.appendExtraPixels=function(t,e){for(var i,n=Object.keys(e),o=0;o<n.length;o++){i=n[o];for(var s=0;s<16;s++)if(i=="played"+s+"seconds"){i="progress-"+s;break}this.extraPixels[t].push([i,e[n[o]]])}},s.prototype.injectExtraPixels=function(t,e,i){for(var n,o=0;o<e.length;o++)(n=e[o][0])in t.trackingEvents||(t.trackingEvents[n]=[]),t.trackingEvents[n].push(this.macro.replace(e[o][1],{"[AD_BIDDER]":i.bidder||"","[AD_BID_CPM]":i.cpm||""}));return t},s.prototype.patchDMVAST=function(t){o.util.resolveURLTemplates=function(e,i,n){var o,s,r,a,l,d,u,c,p=n;for(n&&n.length?p=n[0]:n&&0===n.length&&(p=null),null==i&&(i={}),o=[],null!=i.ASSETURI&&(i.ASSETURI=this.encodeURIComponentRFC3986(i.ASSETURI)),null!=i.CONTENTPLAYHEAD&&(i.CONTENTPLAYHEAD=this.encodeURIComponentRFC3986(i.CONTENTPLAYHEAD)),null==i.ERRORCODE||/^[0-9]{3}$/.test(i.ERRORCODE)||(i.ERRORCODE=900),i.CACHEBUSTING=this.leftpad(Math.round(1e8*Math.random()).toString()),i.TIMESTAMP=this.encodeURIComponentRFC3986((new Date).toISOString()),i.RANDOM=i.random=i.CACHEBUSTING,s=0,a=e.length;s<a;s++)if(u=e[s]){for(r in i)c=i[r],l="["+r+"]",d="%%"+r+"%%",macro3="%5B"+r+"%5D",u=(u=(u=u.replace(l,c)).replace(d,c)).replace(macro3,c);u=t.replace(u,p),o.push(u)}return o}},s.prototype.setTrakingPixels=function(t){var e=/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/g;for(var i in t)if(t.hasOwnProperty(i))for(var n=0;n<t[i].length;n++){var o=t[i][n],s=e.exec(o),r=s&&s.length>1?s[1]:"";this.globalTrakingDomains.indexOf(r)>=0||r&&this.globalTrakingDomains.push(s[1])}},s.prototype.checkViewability=function(t,e,i){var n=this,o=function(){clearInterval(n.viewableTimer),n.viewableTimer=null};if(!1===t().viewImpressed&&!0!==t().paused)if(e.getViewabilitySize()>=50&&!n.viewableTimer&&!i||100===e.getViewabilitySize()&&!n.viewableTimer&&i){var s=(new Date).getTime();this.viewableTimer=setInterval(function(){!t()||t()&&t().paused?o():(new Date).getTime()-s>=(i?3e3:2e3)&&(o(),t().trackViewabilityImpression("impressionViewable"),t().creativeViewProgress||1861018==t().macros["[sas_campaignId]"]||t().track("smartImpressionViewable"))},200)}else e.getViewabilitySize()>=0&&e.getViewabilitySize()<50&&this.viewableTimer?o():(!e.getViewabilitySize()||e.getViewabilitySize()<0)&&0!==e.getViewabilitySize()&&t().trackViewabilityImpression("impressionViewUndetermined");else this.viewableTimer&&!0===t().paused&&o()},s.prototype.sendTrakingDomains=function(){var t=new Image,e="https://receiver-hetzner.showheroes.com/events/debug/trks?src_host=[PAGEDOMAIN]&trc_hosts="+this.globalTrakingDomains.join(",");t.src=this.macro.replace(e)},t.exports=s},function(t,e,i){i(0);var n=i(16),o=(i(2),function(t,e,i,o,s,r){this.isRequestInProgress=!1,this.onMediaCallback=function(){},this.onMediaEmptyCallback=function(){},this.vasts=[],this.arrivedMedia=[];for(var a=this,l=0;l<t.length;l++)this.arrivedMedia[l]=[],this.vasts.push(new n(t[l],i,s,o,null,this.competitionTimedOut.bind(this),r)),this.vasts[l].vastNo=l,this.vasts[l].vastsCount=t.length,this.vasts[l].onMediaCallback=function(t,e,i,n,o,s){a.onMediaArrived(this.vastNo,t,e,i,n,o,s)};this.competitionDuration=e||0,this.competitionTimeout=null});o.prototype.onMediaArrived=function(t,e,i,n,o,s,r){this.arrivedMedia[t].push([e,i,n,o,s,r]),this.competitionTimeout?(0==t||this.vasts[0].isEmptyVast)&&(clearTimeout(this.competitionTimeout),this.competitionTimeout=null,this.isRequestInProgress=!1,this.chooseTheWinner()):this.isRequestInProgress&&(this.isRequestInProgress=!1,this.chooseTheWinner())},o.prototype.chooseTheWinner=function(){for(var t in this.arrivedMedia)this.arrivedMedia.hasOwnProperty(t)&&this.arrivedMedia[t].length>0&&this.onMediaCallback.apply({},this.arrivedMedia[t].shift())},o.prototype.competitionTimedOut=function(){if(this.arrivedMediaIsEmpty()){if(this.competitionTimeout&&this.arrivedMediaIsEmpty()){if("function"!=typeof this.onMediaEmptyCallback)return;this.onMediaEmptyCallback()}}else this.isRequestInProgress=!1,this.chooseTheWinner();clearTimeout(this.competitionTimeout),this.competitionTimeout=null},o.prototype.request=function(){if(this.arrivedMedia[0].length>0)this.chooseTheWinner();else{this.isRequestInProgress=!0,this.competitionDuration>0&&(this.competitionTimeout=setTimeout(this.competitionTimedOut.bind(this),this.competitionDuration));for(var t=0;t<this.vasts.length;t++)this.arrivedMedia[t].length>0||this.vasts[t].request()}},o.prototype.chooseNextMediaArrived=function(t){if(t.errorWithCode(303),this.arrivedMediaIsEmpty()){if("function"!=typeof this.onMediaEmptyCallback)return;this.onMediaEmptyCallback()}else this.chooseTheWinner()},o.prototype.arrivedMediaIsEmpty=function(){var t=!0;for(var e in this.arrivedMedia)if(this.arrivedMedia.hasOwnProperty(e)&&this.arrivedMedia[e].length>0){t=!1;break}return t},t.exports=o},function(t,e){var i=function(){this.isNoop=!0,this.isRequestInProgress=!0};i.prototype.request=function(){},t.exports=i},function(t,e,i){var n=i(29),o=i(6),s=i(3),r=function(t,e,i,n,o,s){this.log("initialization..."),this.START_CREATIVE_TIME=15e3,this.pubsub=t,this.macro=e,this.pageUrl=e.getPublisherPageUrl(),this.isCanvas=i,this.isHTTPS=o,this.adIsReady=!1,this.url=null,this.isPaused=null,this.adParameters="",this.adIsLoaded=!1,this.adIsCompleted=!1,this.adWasStarted=!1,this.adWasPlayed=!1,this.adIsStopped=!1,this.creativeTimeout=null,this.endCard=!1,this.controls=n,this.adVastDuration=s||10,this.duration=0,this.currentTime=0,this.muted=!0,this.volume=0,this.episodeId=null,this.mediaId=null,this.intervalTimer=null;var r=document.createElement("div"),a=document.createElement("video");a.setAttribute("playsinline","true"),a.setAttribute("webkit-playsinline","true"),a.setAttribute("preload","auto"),a.setAttribute("muted","true"),a.muted=!0,r.setAttribute("style","opacity: 0;"),r.appendChild(a),document.querySelector("#duplex-host").appendChild(r),this.el=r,this.video=a,this.vpaidsBlackList=["viralize.tv"]};r.prototype.init=function(t,e,i,r,a){this.url=t,this.vastClickThroughURL=e,this.adParameters=i||"",this.onLoadErrorCallback=r,this.onLoadCallback=a;try{var l=this.adParameters?JSON.parse(this.adParameters):"",d=o("adp",this.url);if(d){var u=JSON.parse(d);l=s(l||{},u)}l.clickoutUrl&&(this.vastClickThroughURL=l.clickoutUrl),1==l.endCard&&(this.endCard=!0),this.adParameters=l?JSON.stringify(l):""}catch(t){}!0===this.isHTTPS&&"http://"==this.url.substr(0,7)&&(this.url="https://"+this.url.slice(7)),this.client=new n(this.el,this.video,{}),this.client.loadAdUnit(this.url,this.onUnitLoad.bind(this))},r.prototype.setRequirements=function(t,e){this.episodeId=t.episodeId,this.mediaId=t.mediaId;var i=this.adUnit?this.adUnit._creative.getAdDuration():0;this.duration=i&&i>0?i:e,this.sendDuplexEvent("durationchange"),this.sendDuplexEvent("loadedmetadata"),this.sendDuplexEvent("loadeddata")},r.prototype.isDirtyDomain=function(t){var e=/([\w-]+[.][\w]+)[\/\s]/g.exec(t),i=e&&e.length>1?e[1]:"";return this.vpaidsBlackList.indexOf(i)>=0},r.prototype.onUnitLoad=function(t,e){if(t)this.onLoadError(t);else{var i=this;this.adUnit=e,this.adUnit.subscribe("AdLoaded",function(){i.adIsLoaded=!0,i.onAdLoaded()}),this.adUnit.subscribe("AdError",function(){!1===i.adIsLoaded?i.onLoadError():i.onAdError()}),this.adUnit.handshakeVersion("2.0",function(t,e){t?i.onLoadError(t):i.initAd()}),this.onAdEvents()}},r.prototype.initAd=function(){var t=this;this.adUnit.initAd(640,360,"normal",1e3,{AdParameters:this.adParameters},{vastClickThroughURL:t.vastClickThroughURL?t.macro.replace(t.vastClickThroughURL):null,widthAd:640,heightAd:360,click2playMode:t.isCanvas,videoSlotCanAutoPlay:!t.isCanvas,adDuration:t.adVastDuration,pageUrl:t.pageUrl,trackBidder:function(e,i){t.pubsub.publish("bid.track."+e,{bid:i.bid,urls:i.urls,errorCode:i.errorCode,macro:i.macro})}},function(e){e&&t.onLoadError(e)})},r.prototype.onAdLoaded=function(){var t=this;if(this.log("loaded"),this.adIsReady=!0,!0===t.isDirtyDomain(t.url)){var e=(new Date).getTime();this.loadCreativeTimeout=setInterval(function(){(new Date).getTime()-e>=5e3&&(clearInterval(t.loadCreativeTimeout),"function"==typeof t.onLoadCallback&&t.onLoadCallback()),!0===t.adIsStopped&&(clearInterval(t.loadCreativeTimeout),t.onLoadError())},300)}else"function"==typeof t.onLoadCallback&&t.onLoadCallback()},r.prototype.play=function(){var t=this;this.creativeTimeout=setTimeout(function(){t.onAdError("creative tag communication timeout",902)},this.START_CREATIVE_TIME),this.adUnit&&(this.onResize(),this.adUnit.startAd(function(e){if(e||!0===t.adIsCompleted)t.onAdError(e);else{t.adWasStarted=!0,t.pubsub.publish("controls.off");for(var i=0;i<t.controls.length;i++)"v"===t.controls[i]?t.pubsub.publish("control.volume.on"):"f"===t.controls[i]&&t.pubsub.publish("control.fullscreen.on");t.log("play"),t.el.setAttribute("style","opacity:1; position:absolute; z-index:1; background: #000"),t.video.setAttribute("style","display:block; width:100%; height: 100%; min-width:100%; max-width:100%;"),t.intervalTimer=setInterval(function(){t.adUnit?t.onCurrentTime(t.adUnit._creative.getAdRemainingTime()):clearInterval(t.intervalTimer)},300)}}),window.addEventListener("resize",this.onResize.bind(this)))},r.prototype.pause=function(){this.isPaused=!0,this.adUnit.pauseAd(),this.pubsub.publish("control.play.on")},r.prototype.resume=function(){this.isPaused=!1,this.adUnit.resumeAd(),this.pubsub.publish("control.play.off")},r.prototype.onCurrentTime=function(t){this.isPaused||t<=0||(this.currentTime=this.duration-t,this.sendDuplexEvent("timeupdate"))},r.prototype.setVolume=function(t){!0!==this.adIsCompleted&&this.adUnit&&("number"==typeof t?(this.muted=0===t,this.volume=t):(this.muted=!t,this.volume=t?1:0),this.sendDuplexEvent("volumechange"),this.log("volumechange from "+this.adUnit._creative.getAdVolume()+" to "+this.volume),this.adUnit._creative.setAdVolume(this.volume))},r.prototype.complete=function(){this.adIsCompleted=!0,clearInterval(this.intervalTimer),this.destroy()},r.prototype.onResize=function(){if(this.adUnit){var t=document.querySelector("body").offsetWidth,e=document.querySelector("body").offsetHeight;this.adUnit.resizeAd(t,e)}},r.prototype.onAdEvents=function(){var t=this;this.adUnit.subscribe("AdClickThru",function(e){t.pubsub.publish("vpaid.AdClickThru"),t.pause();var i=e.url;i||(i=t.vastClickThroughURL),e.playerHandles&&i&&window.open(i,"_blank")}),this.adUnit.subscribe("AdImpression",function(){clearTimeout(t.creativeTimeout),t.log("AdImpression")}),this.adUnit.subscribe("AdPaused",function(){t.log("paused")}),this.adUnit.subscribe("AdPlaying",function(){clearTimeout(t.creativeTimeout),t.log("playing"),!0!==t.adIsCompleted&&(t.adWasPlayed=!0,t.pubsub.publish("control.play.off"),t.pubsub.publish("vpaid.AdPlaying"))}),this.adUnit.subscribe("AdVideoStart",function(){clearTimeout(t.creativeTimeout),t.adWasPlayed=!0,t.adUnit._creative.setAdVolume(t.volume),t.log("AdVideoStart"),t.pubsub.publish("vpaid.AdVideoStart")}),this.adUnit.subscribe("AdDurationChange",function(){t.log("AdDurationChange"),t.duration=t.adUnit._creative.getAdDuration(),t.sendDuplexEvent("durationchange")}),this.adUnit.subscribe("AdVideoFirstQuartile",function(){t.log("AdVideoFirstQuartile"),t.pubsub.publish("vpaid.AdVideoFirstQuartile")}),this.adUnit.subscribe("AdVideoMidpoint",function(){t.log("AdVideoMidpoint"),t.pubsub.publish("vpaid.AdVideoMidpoint")}),this.adUnit.subscribe("AdVideoThirdQuartile",function(){t.log("AdVideoThirdQuartile"),t.pubsub.publish("vpaid.AdVideoThirdQuartile")}),this.adUnit.subscribe("AdVolumeChange",function(){t.log("AdVolumeChange"),t.pubsub&&(0===t.adUnit._creative.getAdVolume()?t.pubsub.publish("vpaid.AdVolumeChange.mute"):t.adUnit._creative.getAdVolume()>0&&t.pubsub.publish("vpaid.AdVolumeChange.unmute"))}),this.adUnit.subscribe("AdStopped",function(){t.log("stopped"),t.adIsStopped=!0,!0!==t.adIsCompleted&&!0===t.adWasPlayed?t.complete():!0===t.adWasStarted&&!0!==t.adWasPlayed?t.onAdError("was started but not played",303):!0!==t.adWasStarted&&(t.START_CREATIVE_TIME=300)}),this.adUnit.subscribe("AdVideoComplete",function(){t.log("complete"),t.pubsub.publish("vpaid.AdVideoComplete",{mediaId:this.mediaId}),!0===t.adIsCompleted||t.endCard||t.complete()}),this.adUnit.subscribe("AdSkipped",function(){t.log("AdSkipped"),t.pubsub.publish("vpaid.AdSkipped"),!0!==t.adIsCompleted&&t.complete()})},r.prototype.skipAd=function(t){this.adUnit.skipAd()},r.prototype.sendDuplexEvent=function(t){this.pubsub&&this.pubsub.publish("duplex",{type:t,vpaid:!0,target:{duration:this.duration,currentTime:this.currentTime,mediaId:this.mediaId,episodeId:this.episodeId,readyState:2,volume:this.volume,muted:this.muted}},this.episodeId,this.mediaId)},r.prototype.onLoadError=function(t){this.log(t||"Loading Error",!0),"function"==typeof this.onLoadErrorCallback&&this.onLoadErrorCallback(),this.destroy()},r.prototype.onAdError=function(t,e){if(this.log(t||"Ad Error",!0),this.destroy(),this.pubsub){this.pubsub.publish("vpaid.AdError",{errorCode:e||901,mediaId:this.mediaId})}},r.prototype.destroy=function(){clearTimeout(this.creativeTimeout);var t=document.querySelector("#duplex-host");t&&t.removeChild(this.el),this.pubsub&&(this.mediaId&&this.pubsub.publish("vpaid.completed",{mediaId:this.mediaId}),this.pubsub.publish("controls.on"),this.pubsub.publish("control.play.off")),window.removeEventListener("resize",this.onResize.bind(this)),this.adUnit=null},r.prototype.log=function(t,e){},t.exports=r},function(t,e){var i=function(t){var e=parseInt(Math.random().toString().substr(2,6));this.buttonClass="branded-button-"+e,this.buttonBigClass="branded-big-button-"+e,this.buttonC2PClass="branded-c2p-button-"+e,this.textClass="branded-text-"+e,this.svgClass="branded-svg-"+e,this.svgBigClass="branded-big-svg-"+e,this.svgConturClass="branded-svg-contur-"+e,this.svgC2PConturClass="branded-svg-c2p-contur-"+e,this.progressBarClass="branded-progressbar-"+e,this.fadeOutClass="branded-fadeout-"+e,this.overlayClass="branded-overlay-"+e,this.previewPlaylistClass="branded-preview-"+e,this.bgClass="branded-background-"+e;var i=t.colorPlaylistPreviewBackground?t.colorPlaylistPreviewBackground:"#000",n=t.backgroundBlur?"#000":t.playerColorBackground,o=t.opacityPlaylistPreviewBackground?t.opacityPlaylistPreviewBackground:.6,s=this.hexToRgba(t.colorBackground,t.opacityBackground),r=this.hexToRgba(i,o),a=this.hexToRgba(t.colorForeground,t.opacityForeground),l=this.hexToRgba(t.colorC2PPlayButton,t.opacityC2PPlayButton),d=this.hexToRgba(t.colorC2POverlay,t.opacityC2POverlay),u=this.hexToRgba(t.colorProgressBar,t.opacityProgressBar),c=this.hexToRgba(n,t.playerOpacityBackground);this.createCss("."+this.bgClass,"background-color: "+c+" !important;"),this.createCss("."+this.buttonClass,"background-color: "+s+" !important; color: "+a+" !important; box-shadow: 0 0 "+t.sizeShapeShadow+"px "+t.colorShapeShadow+";"),this.createCss("."+this.buttonBigClass,"border-color: "+a+" !important; color: "+a+" !important; "),this.createCss("."+this.previewPlaylistClass,"background-color: "+r+" !important; color: "+a+" !important; "),this.createCss("."+this.svgBigClass,"color: "+a+" !important; -webkit-filter: drop-shadow(0 0 "+t.sizeShapeShadow+"px "+t.colorShapeShadow+");filter: drop-shadow(0 0 "+t.sizeShapeShadow+"px "+t.colorShapeShadow+");"),this.createCss("."+this.svgClass,"background-color: "+s+" !important; color: "+a+" !important; stroke: "+a+" !important; box-shadow: 0 0 "+t.sizeShapeShadow+"px "+t.colorShapeShadow+";"),this.createCss("."+this.svgConturClass,"color: "+a+" !important; stroke: "+a+" !important; text-shadow: 0 0 "+t.sizeShapeShadow+"px "+t.colorShapeShadow+";"),this.createCss("."+this.buttonC2PClass,"border-color: "+l+" !important; color: "+l+" !important; "),this.createCss("."+this.svgC2PConturClass,"color: "+l+" !important; stroke: "+l+" !important; text-shadow: 0 0 "+t.sizeShapeShadow+"px "+t.colorShapeShadow+";"),this.createCss("."+this.overlayClass,"background-color: "+d+" !important;"),this.createCss("."+this.progressBarClass,"background-color: "+u+" !important; "),this.createCss("."+this.textClass,"color: "+a+" !important; text-shadow: 0 0 "+t.sizeShapeShadow+"px "+t.colorShapeShadow+";"),this.createCss("."+this.fadeOutClass,"opacity: "+("undefined"!=t.opacityFadeOut?t.opacityFadeOut:"0.6")+" !important;"),this.isFullscreenButtonEnabled=t.controls.fullscreenButton,this.isCloseButtonEnabled=t.controls.closeButton,this.isProgressBarEnabled=t.controls.progressBar,this.isPauseButtonEnabled=t.controls.pauseButton,this.isVolumeControlEnabled=t.controls.volumeControl,this.isBouncingPlayButtonEnabled=t.controls.bouncingPlayButton,this.isShareButtonEnabled=t.controls.shareButton,this.isPlaylistButtonEnabled=t.controls.playlistButton};i.prototype.createCss=function(t,e){"insertRule"in document.styleSheets[0]?document.styleSheets[0].insertRule(t+"{"+e+"}",document.styleSheets[0].cssRules.length):"addRule"in document.styleSheets[0]&&document.styleSheets[0].addRule(t,e,document.styleSheets[0].cssRules.length)},i.prototype.hexToRgba=function(t,e){var i;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return 3==(i=t.substring(1).split("")).length&&(i=[i[0],i[0],i[1],i[1],i[2],i[2]]),"rgba("+[(i="0x"+i.join(""))>>16&255,i>>8&255,255&i].join(",")+", "+e+")";throw new Error("Bad Hex")},t.exports=i},function(t,e,i){var n=i(62),o=i(63),s=i(64),r=i(65),a=function(t,e,i,a,l,d,u,c,p,h){this.defaultControlsBehaviour=!1,this.clickToPlayButtonWasShowed=!1,this.previewCoverEnabled4Click2play=p,this.isClick2Play=h,this.isClick2Unmute=!1,this.duplex=t.duplex,this.sequencer=t.sequencer,this.foundation=t,this.isIOS=t.isIOS,this.pageurl=e,this.skinType=i,this.keepOverlay4Vpaid=c,this.pubsub=t.pubsub,this.isMobile=t.isMobile,this.closeOnHover=!1,this.controlsSetter=new n(this,this.isMobile,i,a,l,d,u,this.isClick2Play),this.host=this.controlsSetter.createHost(),t.playerHost.appendChild(this.host),this.progressBarElement=this.host.querySelector(".progress-bar"),this.makeSoundToggleReflectMuted(),this.makeSpinnerReflectLoading(),this.makeProgressBarReflectPlayback(),this.countdown=new o(this),this.fullscreen=new s(this),this.playlist=new r(this),this.makeFullscreenToggleReflectFullscreenState(),this.clickthroughElement=this.host.querySelector("#control-clickthrough"),this.makeClickthroughReflectTracker(),this.makeClickthroughPauseMotion(),this.makePlayPauseToggleReflectPlayback()};a.prototype.setupCustomBehaviourForSkin=function(){var t=this;this.pubsub.subscribe("motion.episode.started",function(e,i){"content"==i.episode.featuring?(t.show("#control-prev, #control-next, #control-playlist-on, #control-share-button-on"),t.host.querySelector("#control-progress").classList.remove("cursor-not-allowed")):"ad"==i.episode.featuring&&(t.host.querySelector("#control-progress").classList.add("cursor-not-allowed"),t.hide("#control-prev, #control-next, #control-playlist-on, #control-share-button-on"))}),this.pubsub.subscribe("video.playing",function(e,i){"content"==t.sequencer.episodeCollection.get(t.duplex.visible().episodeId).featuring&&t.show("#control-prev, #control-next"),t.branding.isPauseButtonEnabled&&t.show("#control-pause"),t.hide("#control-play")}),this.pubsub.subscribe("controls.prev",function(e,i){var n=t.duplex.visible().mediaId;t.sequencer.mediaProps.get(n,"readyState")>=2&&(n=t.sequencer.contentMediaIterator.getPrev(n).id),t.foundation.intentMedia(n,!0)}),this.pubsub.subscribe("motion.episode.started",function(t,e){})},a.prototype.setBranding=function(t){this.branding=t,t.isFullscreenButtonEnabled||(this.makeFullscreenToggleReflectFullscreenState(),this.removeFullscreenButton()),t.isPauseButtonEnabled||this.hide("#control-pause"),t.isCloseButtonEnabled||this.hide("#control-close"),t.isProgressBarEnabled||(this.makeProgressBarReflectPlayback(!1),this.hide("#control-progress")),t.isVolumeControlEnabled||(this.makeSoundToggleReflectMuted(!1),this.hide("#control-muted, #control-unmuted")),t.isBouncingPlayButtonEnabled&&(this.isBouncingPlayButtonEnabled=!0);var e=this.host.querySelector("#control-shadow");e&&e.classList.add(t.overlayClass);for(var i=this.host.querySelectorAll("#control-clickToPlay .square-shape, #control-clickToPlay .square-shape svg,#control-clickToUnmute .square-shape, #control-clickToUnmute .square-shape svg"),n=0;n<i.length;n++)i[n].classList.add(t.buttonC2PClass);if("big"!=this.skinType){for(var o=this.host.querySelectorAll("#control-play .square-shape, #control-clickToPlay .square-shape, #control-clickToUnmute .square-shape, #control-pause .square-shape, #control-volume .square-shape, #control-skip .square-shape, #control-replay .square-shape,#control-next .square-shape, #control-prev .square-shape, #control-continue .square-shape, #control-fullscreen-on .square-shape, #control-fullscreen-off .square-shape, #control-close .square-shape, #control-playlist-on .square-shape, #control-share-button-on .square-shape, .nonlinear-icon-close, .nonlinear-icon-show"),s=0;s<o.length;s++)o[s].classList.add(t.buttonClass);for(var r=this.host.querySelectorAll("#control-loading .square-shape"),a=0;a<r.length;a++)r[a].classList.add(t.svgClass);for(var l=this.host.querySelectorAll("#control-play .caption, #control-clickToPlay .caption,  #control-clickToUnmute .caption"),d=0;d<l.length;d++)l[d].classList.add(t.textClass);var u=this;setTimeout(function(){u.host.parentNode.querySelector("#snapshot").classList.add(t.bgClass)},0),this.host.querySelector("#control-progress .progress-bar").classList.add(t.progressBarClass)}else this.setBrandingBigPlayer(t)},a.prototype.setBrandingBigPlayer=function(t){t.isShareButtonEnabled||this.removeControlElement("#control-share-button-on"),t.isPlaylistButtonEnabled||this.removeControlElement("#control-playlist-on");for(var e=this.host.querySelectorAll("#control-volume .square-shape svg,#control-fullscreen-on .square-shape svg, #control-fullscreen-off .square-shape svg, #control-close .square-shape svg, #control-playlist-on .square-shape svg, #control-share-button-on .square-shape svg"),i=0;i<e.length;i++)e[i].classList.add(t.svgBigClass);for(var n=this.host.querySelectorAll("#control-play .square-shape svg, #control-clickToPlay .square-shape svg, #control-clickToUnmute .square-shape svg, #control-pause .square-shape svg, #control-next .square-shape svg, #control-prev .square-shape svg, #control-replay .square-shape svg"),o=0;o<n.length;o++)n[o].classList.add(t.svgBigClass,t.buttonBigClass);var s=this.host.querySelector("#control-volume .volume-range-wrap");s&&s.classList.add(t.buttonClass);for(var r=this.host.querySelectorAll("#control-loading .square-shape, .playlist-loader .square-shape"),a=0;a<r.length;a++)r[a].classList.add(t.svgConturClass);for(var l=this.host.querySelectorAll("#control-time .caption, #control-duration .caption, #control-skip .caption, #control-countdown .caption"),d=0;d<l.length;d++)l[d].classList.add(t.textClass);this.host.querySelector("#control-progress .progress-bar").classList.add(t.progressBarClass);var u=this.host.querySelectorAll(".playlist-item");if(u.length)for(o=0;o<u.length;o++)u[o].classList.add(t.previewPlaylistClass)},a.prototype.makeSoundToggleReflectMuted=function(t){if(!1!==t){var e=this;this.token_makeSoundToggleReflectMuted=this.pubsub.subscribe("video",function(t,i){"video.volumechange"!=t&&"video.playing"!=t||(i.target.src||i.sdk||i.vpaid)&&(e.volumeRangeElement||(e.volumeRangeElement=e.host.querySelector("#control-volume-range")),e.show("#control-volume"),i.target.muted?(e.show("#control-muted"),e.hide("#control-unmuted"),e.volumeRangeElement&&(e.volumeRangeElement.value=0)):(e.show("#control-unmuted"),e.hide("#control-muted"),e.volumeRangeElement&&(e.volumeRangeElement.value=i.target.volume)))})}else this.pubsub.unsubscribe(this.token_makeSoundToggleReflectMuted)},a.prototype.onVolumeChange=function(t,e){var i=void 0!==e?parseFloat(e):parseFloat(t.target.value);0==i?this.pubsub.publish("controls.mute",t):(this.duplex.visible().muted&&this.pubsub.publish("controls.unmute",t),this.duplex.setVolume(i))},a.prototype.makeSpinnerReflectLoading=function(t){if(!1===t)return this.pubsub.unsubscribe(this.token_makeSpinnerReflectLoading1),this.token_makeSpinnerReflectLoading2&&this.pubsub.unsubscribe(this.token_makeSpinnerReflectLoading2),void this.hide("#control-loading");var e=this;this.token_makeSpinnerReflectLoading1=this.pubsub.subscribe("video",function(t,i){"video.waiting"!=t&&"video.play"!=t||e.show("#control-loading"),"video.pause"!=t&&"video.playing"!=t||e.hide("#control-loading"),"video.playing"!=t||e.isShown("#control-clickToUnmute")||e.hide("#control-shadow")}),this.previewCoverEnabled4Click2play||e.show("#control-loading"),this.token_makeSpinnerReflectLoading2=this.pubsub.subscribe("duplex",function(t,i){(i.target.readyState>=2||"loadedmetadata"==i.type)&&(e.pubsub.unsubscribe(this.token_makeSpinnerReflectLoading2),e.hide("#control-loading"))}),this.token_makeSpinnerReflectLoading3=this.pubsub.subscribe("vpaid",function(t,i){"vpaid.AdPlaying"!=t&&"vpaid.AdLoaded"!=t||(e.pubsub.unsubscribe(e.token_makeSpinnerReflectLoading3),e.hide("#control-loading"))}),this.token_makeSpinnerReflectLoading4=this.pubsub.subscribe("player.loading",function(t,i){e.pubsub.unsubscribe(e.token_makeSpinnerReflectLoading4),e.show("#control-loading")})},a.prototype.makePlayPauseToggleReflectPlayback=function(t){if(!1!==t){var e=this;this.token_makePlayPauseToggleReflectPlayback=this.pubsub.subscribe("video",function(t,i){"video.playing"==t&&(e.branding.isPauseButtonEnabled&&e.show("#control-pause"),e.hide("#control-play")),"video.pause"==t&&(e.show("#control-play"),e.hide("#control-pause"))})}else this.pubsub.unsubscribe(this.token_makePlayPauseToggleReflectPlayback)},a.prototype.makeClickthroughReflectTracker=function(){var t=this;if(t.clickthroughElement){var e=function(e,i){t.clickthroughElement.setAttribute(e,i);for(var n=t.host.querySelectorAll(".js-clickthrough"),o=0;o<n.length;o++)"ad"!=t.sequencer.getStatus().currentEpisode.featuring?(n[o].parentNode.classList.remove("hidden"),n[o].setAttribute(e,i)):n[o].parentNode.classList.add("hidden")};this.pubsub.subscribe("input.clickthrough",function(i,n){if(n.href){if(e("href",n.href),"content"==t.sequencer.getStatus().currentEpisode.featuring&&"undefined"!=typeof SH_playerConfig&&SH_playerConfig.contentClickoutTarget)e("target",SH_playerConfig.contentClickoutTarget);else if("ad"==t.sequencer.getStatus().currentEpisode.featuring&&"undefined"!=typeof SH_playerConfig&&SH_playerConfig.adClickoutTarget){var o=SH_playerConfig.adClickoutTarget;n.href.indexOf("sh_app=1")>=0&&t.isIOS&&(o="_top"),e("target",o)}else e("target","_blank");t.show("#control-clickthrough")}else e("href",""),t.hide("#control-clickthrough")})}},a.prototype.makeClickthroughPauseMotion=function(t){if(!1!==t){var e=this;this.token_makeClickthroughPauseMotion=this.pubsub.subscribe("controls.clickthrough",function(t,i){e.sequencer.intentPause()})}else this.token_makeClickthroughPauseMotion&&this.pubsub.unsubscribe(this.token_makeClickthroughPauseMotion)},a.prototype.makeFullscreenToggleReflectFullscreenState=function(t){this.fullscreen.makeReflectState(t)},a.prototype.makeProgressBarReflectPlayback=function(t){if(!1!==t){var e=this;this.token_makeProgressBarReflectPlayback=this.pubsub.subscribe("progress",function(t,i){e.onProgressEvent(i)}),"big"==this.skinType&&this.onScrubbingProgress()}else this.pubsub.unsubscribe(this.token_makeProgressBarReflectPlayback)},a.prototype.enableSharing=function(t){if(!1===t)return this.pubsub.unsubscribe(this.token_enableSharing1),this.pubsub.unsubscribe(this.token_enableSharing2),void this.hide("#control-share-button-on");var e=this;this.token_enableSharing1=this.pubsub.subscribe("video",function(t,i){"video.playing"==t&&e.show("#control-share-button-on")}),this.token_enableSharing2=this.pubsub.subscribe("controls.sharing.on",function(t,i){!e.host.classList.contains("__is-overlaid")&&e.isHidden("#control-sharing")&&(e.isShown("#control-pause")&&e.sequencer.intentPause(),e.host.classList.add("__is-overlaid"),e.show("#control-sharing"),e.showSharing())}),this.pubsub.subscribe("controls.sharing.off",function(t,i){e.isShown("#control-sharing")&&(e.hide("#control-sharing"),e.host.classList.remove("__is-overlaid"),e.sequencer.intentPlay())})},a.prototype.showSharing=function(){this.show("#control-sharing");for(var t,e=this.pageurl,i=this.host.querySelectorAll("#control-sharing a.sharing-link"),n=0;n<i.length;n++)t=i[n].getAttribute("data-href-template"),i[n].setAttribute("href",t.replace("%text%",encodeURIComponent(e)))},a.prototype.onScrubbingProgress=function(){var t=this,e=this.host.querySelector("#control-progress");function i(i){var n=Math.max(0,Math.min(1,(i-function(t){for(var e=t.offsetLeft;t=t.offsetParent;)e+=t.offsetLeft;return e}(e))/e.offsetWidth));t.setCurrentTime(n)}e.addEventListener("mousedown",function(){"ad"!=t.sequencer.getStatus().currentEpisode.featuring&&(document.body.focus(),document.onselectstart=function(){return!1},document.onmousemove=function(t){i(t.pageX)},document.onmouseup=function(){document.onselectstart=function(){return!0},document.onmousemove=null,document.onmouseup=null})},!0),e.addEventListener("mouseup",function(e){"ad"!=t.sequencer.getStatus().currentEpisode.featuring&&i(e.pageX)},!0)},a.prototype.setCurrentTime=function(t,e){var i=this.sequencer.getStatus().currentEpisode,n=this.duplex.visible(),o=i.estimated.endTime-i.estimated.duration,s=n.duration,r=t*s;r>s?r=s:r<1&&(r=o||0),o>0&&!e&&(r+=o),n.currentTime=r},a.prototype.onProgressEvent=function(t){this.isShown("#control-clickToUnmute")&&this.hide("#control-volume"),this.progressBarElement.isVisible||(this.show("#control-progress"),this.progressBarElement.isVisible=!0),!this.keepOverlay4Vpaid&&"VPAID"===t.type&&this.isShown("#control-progress")&&this.hide("#control-progress");var e=this;this.progressBarElement.recentEpisodeId!==t.episodeId&&(this.progressBarElement.recentEpisodeId=t.episodeId,this.progressBarElement.classList.remove("is-animated"),setTimeout(function(){e.progressBarElement.classList.add("is-animated")},100));var i="content"===t.featuring?t.featurePercentPassed:t.episodePercentPassed,n="content"===t.featuring?t.featureSecondsLeft:t.episodeSecondsLeft,o="content"===t.featuring?t.featureSecondsPassed:t.episodeSecondsPassed;if("big"==this.skinType?n<2&&(i+=50/t.episodeDuration):t.episodePercentPassed>90&&(i+=50/t.episodeDuration),this.progressBarElement.style.width=i.toString()+"%",this.host.querySelector("#control-time")){this.timeCaptionElement||(this.timeCaptionElement=this.host.querySelector("#control-time .caption"));var s=Math.floor(o/60),r=parseInt(o%60),a=(s<10?"0"+s.toString():s.toString())+":"+(r<10?"0"+r.toString():r.toString());this.timeCaptionElement.innerText=a,this.timeCaptionElement.textContent=a}var l="content"===t.featuring?t.featureDuration:t.episodeDuration;if(this.host.querySelector("#control-duration")&&l!=this.duration){this.timeDurationElement||(this.timeDurationElement=this.host.querySelector("#control-duration .caption")),this.duration=l;var d=Math.floor(l/60),u=parseInt(l%60),c=(d<10?"0"+d.toString():d.toString())+":"+(u<10?"0"+u.toString():u.toString());this.timeDurationElement.innerText=c,this.timeDurationElement.textContent=c}},a.prototype.setMessage=function(t,e,i){if(t=t.charAt(0).toLowerCase()+t.slice(1),this.controls)return this.controls.setMessage.call(this.controls,t,e,i);var n;"tillAdCountdown"!=t&&"adCountdown"!=t&&"skipAdXSeconds"!=t?("click2Play"==t&&i&&(n=this.host.querySelector("#control-clickToUnmute .caption")),"big"!==this.skinType&&("skipAd"==t&&(n=this.host.querySelector("#control-skip .caption")),"click2Play"==t&&this.isClick2Play&&(n=this.host.querySelector("#control-clickToPlay .caption")),"go2Next"==t&&(n=this.host.querySelector("#control-next .caption")),"click2Continue"==t&&(n=this.host.querySelector("#control-continue .caption"))),n&&(n.innerText=e,n.textContent=e)):this.countdown.textTemplate[t]=e},a.prototype.enablePlaylist=function(t){if(!1===t)return this.pubsub.unsubscribe(this.token_enablePlaylist),void this.hide("#control-playlist-on");if(this.host.querySelector("#control-playlist-on")){this.host.querySelector("#control-playlist-on").addEventListener("click",function(t){t.stopPropagation(),e.pubsub.publish("controls.playlist.on",t)}),this.host.querySelector("#control-playlist-off").addEventListener("click",function(t){t.stopPropagation(),e.pubsub.publish("controls.playlist.off",t)});var e=this;this.token_enablePlaylist=this.pubsub.subscribe("controls.playlist.on",function(t,i){!e.host.classList.contains("__is-overlaid")&&e.isHidden("#control-playlist")&&(e.sequencer.intentPause(),e.host.classList.add("__is-overlaid"),e.playlist.show(),e.show("#control-playlist"))}),this.pubsub.subscribe("controls.playlist.off",function(t,i){e.isShown("#control-playlist")&&(e.hide("#control-playlist"),e.host.classList.remove("__is-overlaid"),e.sequencer.intentPlay())})}},a.prototype.hide=function(t){for(var e=this.host.querySelectorAll(t),i=0;i<e.length;i++)e[i].classList.add("hidden")},a.prototype.show=function(t){for(var e=this.host.querySelectorAll(t),i=0;i<e.length;i++)e[i].classList.remove("hidden")},a.prototype.isHidden=function(t){var e=this.host.querySelector(t);return e?e.classList.contains("hidden"):null},a.prototype.isShown=function(t){var e=this.isHidden(t);return null===e?null:!e},a.prototype.showPlayButton=function(){(this.controls?this.controls:this).show("#control-play")},a.prototype.showReplayButton=function(){(this.controls?this.controls:this).show("#control-replay, #control-shadow")},a.prototype.hidePlayButton=function(){var t=this.controls?this.controls:this;t.hide("#control-play"),t.isShown("#control-clickToUnmute")||t.hide("#control-shadow")},a.prototype.hideControls=function(){(this.controls?this.controls:this).hide("#control-play, #control-pause, #control-volume, #control-fullscreen, #control-progress")},a.prototype.showClickToPlayButton=function(){var t=this.controls?this.controls:this;t.clickToPlayButtonWasShowed=!0,t.host.querySelector("#control-loading .square-shape").classList.add(t.branding.svgC2PConturClass),t.show("#control-clickToPlay, #control-shadow")},a.prototype.showClickToUnmuteButton=function(){var t=this.controls?this.controls:this;t.host.querySelector("#control-loading .square-shape").classList.add(t.branding.svgC2PConturClass),t.show("#control-clickToUnmute, #control-shadow")},a.prototype.hideClickToPlayButton=function(){var t=this.controls?this.controls:this,e=t.host.querySelector("#control-clickToPlay");t.host.querySelector("#control-loading .square-shape").classList.remove(t.branding.svgC2PConturClass),e.classList.contains("animated")?t.hide("#control-shadow"):t.hide("#control-clickToPlay, #control-shadow")},a.prototype.hideClickToUnmuteButton=function(){var t=this.controls?this.controls:this;t.host.querySelector("#control-clickToUnmute");t.host.querySelector("#control-loading .square-shape").classList.remove(t.branding.svgC2PConturClass),t.hide("#control-clickToUnmute, #control-shadow")},a.prototype.showSkipButton=function(){(this.controls?this.controls:this).show("#control-skip")},a.prototype.hideSkipButton=function(){(this.controls?this.controls:this).hide("#control-skip")},a.prototype.hideClick2ContinueButton=function(){(this.controls?this.controls:this).hide("#control-continue")},a.prototype.showClick2ContinueButton=function(){(this.controls?this.controls:this).show("#control-continue")},a.prototype.showNextVideoButton=function(){(this.controls?this.controls:this).show("#control-next")},a.prototype.hideNextVideoButton=function(){(this.controls?this.controls:this).hide("#control-next")},a.prototype.showTillAdCountdown=function(t){var e=this.controls?this.controls:this;e.countdown.setType("tillAdCountdown"),e.countdown.start(t)},a.prototype.hideTillAdCountdown=function(){(this.controls?this.controls:this).countdown.dispose()},a.prototype.showAdCountdown=function(t,e,i){var n=this.controls?this.controls:this;n.countdown.setType("adCountdown"),i.episodeSecondsLeft?n.countdown.start(i.episodeSecondsLeft):setTimeout(function(){n.countdown.start(i.episodeSecondsLeft)},0)},a.prototype.hideAdCountdown=function(){(this.controls?this.controls:this).countdown.dispose()},a.prototype.hideFullscreenButton=function(){(this.controls?this.controls:this).hide("#control-fullscreen-on, #control-fullscreen-off")},a.prototype.removeFullscreenButton=function(){var t=(this.controls?this.controls:this).host.querySelector("#control-fullscreen");t.parentNode.removeChild(t)},a.prototype.centerClick2playButton=function(){var t=this.controls?this.controls:this,e=t.host.querySelector("#control-clickToPlay");e.classList.contains("control-centered")||(e.classList.add("control-centered"),t.host.insertBefore(e,t.host.querySelector(".controls-wrap-bottom")))},a.prototype.decenterClick2playButton=function(){var t=this.controls?this.controls:this;t.host.querySelector("#control-play").classList.remove("control-centered"),t.host.querySelector(".controls-left").insertBefore(t.host.querySelector("#control-play"),t.host.querySelector("#control-pause"))},a.prototype.transformIntoLink=function(t,e){var i=document.createElement("a"),n=document.querySelector(t);for(i.setAttribute("href",e),i.setAttribute("class",n.getAttribute("class")),i.setAttribute("id",n.getAttribute("id"));n.firstChild;)i.appendChild(n.firstChild);return n.parentNode.lastChild===n?n.parentNode.appendChild(i):n.parentNode.insertBefore(i,n),n.parentNode.removeChild(n),i},a.prototype.transformIntoClickthrough=function(t){var e=this.controls?this.controls:this;if(e.host.querySelector(t)){if("#control-fullscreen-on"==t){e.makeFullscreenToggleReflectFullscreenState(!1);var i=e.pubsub.subscribe("video.playing",function(){e.show("#control-fullscreen-on"),e.pubsub.unsubscribe(i)})}var n=e.transformIntoLink(t,"#");n.classList.add("js-clickthrough"),n.addEventListener("click",function(t){t.stopPropagation(),e.pubsub.publish("controls.clickthrough",t)})}},a.prototype.removeControlElement=function(t){this.controls&&this.controls;for(var e=this.host.querySelectorAll(t),i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i])},t.exports=a},function(t,e,i){var n=i(4),o=function(t,e){this.foundation=t,this.pubsub=t.pubsub,this.sequencer=t.sequencer,this.controls=e,this.triggers=new n;var i=this;this.pubsub.subscribe("motion.episode.ended",function(){i.wipeTriggers()}),this.userInteractions()};o.prototype.wipeTriggers=function(){for(var t=0;t<this.triggers.itemsIds.length;t++)this.pubsub.unsubscribe(this.triggers.get(this.triggers.itemsIds[t]).id),delete this.triggers[this.triggers.itemsIds[t]];this.triggers.items={},this.triggers.itemsIds=[]},o.prototype.userInteractions=function(){var t=this;this.pubsub.subscribe("controls.clickToPlay",function(e,i){t.foundation.userInteractionLoop()}),this.pubsub.subscribe("controls.unmute",function(e,i){t.foundation.userInteractionLoop()})},o.prototype.onAdStart=function(t,e,i){var n=this;this.pubsub.subscribe("motion.ad.started",function(o,s){t.call(n,e,i)})},o.prototype.onAdStartBefore=function(t,e,i,n){var o=this,s=function(s){var r={id:null,triggered:!1};r.id=o.pubsub.subscribe("progress",function(a,l){"ad"!==l.featuring&&l.episodeSecondsPassed+s>=t&&!r.triggered&&(r.triggered=!0,e.call(o,i,n))}),o.triggers.add(r)};o.pubsub.subscribe("motion.content.started",function(t,e){var i=e.nextEpisode;i&&"ad"===i.featuring&&i.mediaId?s(1):setTimeout(function(){i&&"ad"===i.featuring&&i.mediaId?s(.5):o.pubsub.subscribe("motion.ad.placed",function(t,e){s(0)})},500)})},o.prototype.onAdEnd=function(t,e,i){var n=this;this.pubsub.subscribe("motion.ad.ended",function(o,s){t.call(n,e,i)})},o.prototype.onContentStart=function(t,e,i){var n=this;this.pubsub.subscribe("motion.content.started",function(o,s){t.call(n,e,i)})},o.prototype.onContentResume=function(t,e,i){var n=this;this.pubsub.subscribe("motion.content.resumed",function(o,s){t.call(n,e,i)})},o.prototype.onContentEnd=function(t,e,i){var n=this;this.pubsub.subscribe("motion.content.ended",function(o,s){t.call(n,e,i)})},o.prototype.onMotionEnd=function(t,e,i){var n=this;this.pubsub.subscribe("motion.ended",function(o,s){t.call(n,e,i)})},o.prototype.onMotionSuspend=function(t,e,i){var n=this;this.pubsub.subscribe("motion.ended",function(o,s){s.forced||t.call(n,e,i)})},o.prototype.onAdStartAfter=function(t,e,i,n){var o=this;this.pubsub.subscribe("motion.ad.started",function(s,r){var a={id:null,triggered:!1};a.id=o.pubsub.subscribe("progress",function(s,r){r.episodeSecondsPassed&&r.episodeSecondsPassed+.3>=t&&!a.triggered&&(a.triggered=!0,e.call(o,i,n,r))}),o.triggers.add(a)})},o.prototype.onContentStartAfter=function(t,e,i,n){var o=this;this.pubsub.subscribe("motion.content.started",function(s,r){var a={id:null,triggered:!1};a.id=o.pubsub.subscribe("progress",function(s,r){r.episodeSecondsPassed+.3>=t&&!a.triggered&&(a.triggered=!0,e.call(o,i,n))}),o.triggers.add(a)})},o.prototype.onContentResumeAfter=function(t,e,i,n){var o=this;this.pubsub.subscribe("motion.content.resumed",function(s,r){var a={id:null,triggered:!1};a.id=o.pubsub.subscribe("progress",function(s,r){r.episodeSecondsPassed+.3>=t&&!a.triggered&&(a.triggered=!0,e.call(o,i,n))}),o.triggers.add(a)})},o.prototype.onAdOverAfter=function(t,e,i,n){var o=this;this.pubsub.subscribe("motion.ad.ended",function(s,r){r.nextEpisode&&"ad"===r.nextEpisode.featuring||setTimeout(function(){var s={id:null,triggered:!1};s.id=o.pubsub.subscribe("progress",function(r,a){a.episodeSecondsPassed+.3>=t&&!s.triggered&&(s.triggered=!0,e.call(o,i,n))}),o.triggers.add(s)},0)})},o.prototype.onNoAdToPlayAfter=function(t,e,i,n){var o=this;this.pubsub.subscribe("motion.ad.missed",function(s,r){var a={id:null,triggered:!1};a.id=o.pubsub.subscribe("progress",function(s,r){r.episodeSecondsPassed+.3>=t&&!a.triggered&&(a.triggered=!0,e.call(o,i,n))}),o.triggers.add(a)})},o.prototype.onNoAdToPlay=function(t,e,i){var n=this;this.pubsub.subscribe("motion.ad.missed",function(o,s){t.call(n,e,i)})},o.prototype.onReady=function(t,e,i){var n=this;this.pubsub.subscribe("ready",function(){t.call(n,e,i)})},o.prototype.onContentClick=function(t,e,i){this.controls.makeClickthroughPauseMotion(!1);var n=this;this.pubsub.subscribe("controls.clickthrough",function(o,s){"content"==n.sequencer.episodeIterator.getCurrent().featuring&&t.call(n,e,i)})},o.prototype.onAdClick=function(t,e,i){this.controls.makeClickthroughPauseMotion(!1);var n=this;this.pubsub.subscribe("controls.clickthrough",function(o,s){"ad"==n.sequencer.episodeIterator.getCurrent().featuring&&t.call(n,e,i)})},o.prototype.onSkipButtonClick=function(t,e,i){var n=this;this.pubsub.subscribe("controls.skip",function(o,s){t.call(n,e,i)})},o.prototype.onPause=function(t,e,i){var n=this;this.pubsub.subscribe("video.pause",function(o,s){t.call(n,e,i)})},o.prototype.onPlaying=function(t,e,i){var n=this;this.pubsub.subscribe("video.playing",function(o,s){t.call(n,e,i)})},o.prototype.onPlayButtonClick=function(t,e,i){var n=this;this.pubsub.subscribe("controls.play",function(o,s){t.call(n,e,i)})},o.prototype.onClick2PlayButtonClick=function(t,e,i){var n=this;this.pubsub.subscribe("controls.clickToPlay",function(o,s){"string"==typeof t?n.pubsub.publish(t):t.call(n,e,i)})},o.prototype.onClick2UnmuteButtonClick=function(t,e,i){var n=this;this.pubsub.subscribe("controls.clickToPlay",function(o,s){"string"==typeof t?n.pubsub.publish(t):t.call(n,e,i)})},o.prototype.onReplayButtonClick=function(t,e,i){var n=this;this.pubsub.subscribe("controls.replay",function(o,s){t.call(n,e,i)})},o.prototype.onClick2ContinueButtonClick=function(t,e,i){var n=this;this.pubsub.subscribe("controls.continue",function(o,s){t.call(n,e,i)})},o.prototype.onFullScreenButtonClick=function(t,e,i){var n=this;this.controls.makeFullscreenToggleReflectFullscreenState(!1);var o=this.pubsub.subscribe("video.playing",function(t,e){n.controls.show("#control-fullscreen-on"),n.controls.pubsub.unsubscribe(o)});this.pubsub.subscribe("controls.fullscreen.on",function(o,s){t.call(n,e,i)})},o.prototype.onContentComplete=function(t,e,i){var n=this;this.pubsub.subscribe("video.ended",function(o,s){"content"==n.sequencer.episodeIterator.getCurrent().featuring&&t.call(n,e,i)})},o.prototype.onNextVideoButtonClick=function(t,e,i){var n=this;this.pubsub.subscribe("controls.next",function(o,s){t.call(n,e,i)})},o.prototype.openURL=function(t){(window.top||window).location.href=t},t.exports=o},function(t,e,i){var n=i(67),o=i(68),s=i(69),r=function(t,e,i,n,o,s,r,a){if(this.skinType=i,this.isBigPlayer="big"===i,this.onHoverUnMuteScenario=n,this.opacityFadeOut=s,this.contentTitleEnabled=r,this.controls=t,this.pubsub=t.pubsub,this.isClick2Play=a,this.isFirstClickToPlay=!0,this.isMobile=e,!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){var l=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"classList");Object.defineProperty(SVGElement.prototype,"classList",l)}this.isSmilSupported=function(){return!!document.createElementNS&&/SVGAnimate/.test(document.createElementNS("http://www.w3.org/2000/svg","animate").toString())}};r.prototype.createHost=function(){var t=this,e=document.createElement("div");e.setAttribute("id","controls-host"),e.classList.add("skin-"+(this.skinType?this.skinType.toString():"default")),this.closeOnHover=!1;var i=document.body.offsetWidth;(this.isMobile||i>0&&i<=300)&&e.classList.add("mobile");var n,o,s='<div id="control-shadow" class="shadow hidden"></div><div class="controls-wrap-top"><div class="controls-top-right"></div><div class="controls-top-left"></div></div><div class="controls-wrap-bottom"><div class="nonlinear-slot square hidden"><div class="nonlinear-container"></div><div class="square-shape nonlinear-icon-close"><svg><use xlink:href="#icon-close" /></svg></div><div class="square-shape nonlinear-icon-show hidden"><svg><use xlink:href="#icon-arrow-up" /></svg></div></div><div class="controls-bottom"><div class="controls-left"></div><div class="controls-center"></div><div class="controls-right"></div></div></div>';s+=this.isSmilSupported?'<div id="control-loading" class="square control-centered hidden"><div class="square-shape"><svg><use xlink:href="#loader" /></svg></div></div>':'<div id="control-loading" class="loading hidden"><div class="square"><div class="square-shape"><span>Loading...</span></div></div></div>',e.innerHTML=s,this.host=e,this.insertControls(),e.addEventListener("click",function(e){e.stopPropagation(),t.pubsub.publish("controls.host.click",e)}),e.addEventListener("mouseenter",function(e){e.stopPropagation(),t.pubsub.publish("controls.host.mouseenter",e)}),e.addEventListener("mouseleave",function(e){e.stopPropagation(),t.pubsub.publish("controls.host.mouseleave",e)}),e.addEventListener("touchstart",function(e){e.stopPropagation(),t.pubsub.publish("controls.host.touchstart",e)}),window.onload=function(e){t.pubsub.publish("window.onload",e)},window.addEventListener("mousemove",function(e){t.pubsub.publish("window.mousemove",e)},!1),window.addEventListener("keydown",function(e){t.pubsub.publish("window.keydown",e,e.keyCode)},!1),document.body.addEventListener("mouseenter",function(e){e.stopPropagation(),t.pubsub.publish("body.mouseenter",e)}),document.body.addEventListener("mouseleave",function(e){e.stopPropagation(),t.pubsub.publish("body.mouseleave",e)}),this.pubsub.subscribe("player.setCloseOnHover",function(e,i){t.closeOnHover=!0}),this.pubsub.subscribe("controls.off",function(e,i){t.controls.hide(".controls-top-left"),t.controls.hide(".controls-top-right"),t.closeOnHover&&(n=t.pubsub.subscribe("body.mouseenter",function(e){t.controls.show(".controls-top-right")}),o=t.pubsub.subscribe("body.mouseleave",function(e){t.controls.hide(".controls-top-right")})),t.controls.hide(".controls-center"),t.isBigPlayer?(t.controls.hide("#control-duration"),t.controls.hide("#control-fullscreen"),t.controls.hide("#control-volume"),t.controls.hide(".controls-left")):t.controls.hide("#control-volume"),t.controls.hide("#control-playerclick"),t.controls.hide("#control-clickToPlay"),t.controls.hide("#control-clickthrough"),t.controls.hide("#control-progress"),t.controls.hide("#control-shadow")}),this.pubsub.subscribe("controls.offOnPause",function(e,i){t.controls.hide(".controls-wrap-top"),t.controls.hide(".controls-wrap-bottom"),t.controls.hide("#control-clickthrough"),t.controls.hide("#control-progress"),t.controls.show("#control-shadow")}),this.pubsub.subscribe("controls.onOnPlay",function(e,i){t.controls.show(".controls-wrap-top"),t.controls.show(".controls-wrap-bottom");var n=t.host.querySelector("#control-clickthrough");if(n){var o=n.getAttribute("href");""!=o&&"#"!=o&&t.controls.show("#control-clickthrough")}t.controls.show("#control-progress"),t.controls.hide("#control-shadow")}),this.pubsub.subscribe("controls.on",function(e,i){t.controls.show(".controls-top-left"),t.controls.show(".controls-top-right"),t.closeOnHover&&(n&&t.pubsub.unsubscribe(n),o&&t.pubsub.unsubscribe(o)),t.controls.show(".controls-center"),t.isBigPlayer?(t.controls.show("#control-duration"),t.controls.show("#control-fullscreen"),t.controls.show("#control-volume"),t.controls.show(".controls-left")):(t.controls.show("#control-volume"),t.controls.show(".controls-right")),t.controls.show("#control-progress"),t.controls.hide("#control-playerclick");var s=t.host.querySelector("#control-clickthrough");if(s){var r=s.getAttribute("href");""!=r&&"#"!=r&&t.controls.show("#control-clickthrough")}}),this.pubsub.subscribe("controls.click.off",function(e,i){t.controls.hide("#control-playerclick"),t.controls.hide("#control-clickthrough")}),this.pubsub.subscribe("controls.click.on",function(e,i){t.controls.hide("#control-playerclick");var n=t.host.querySelector("#control-clickthrough");if(n){var o=n.getAttribute("href");""!=o&&"#"!=o&&t.controls.show("#control-clickthrough")}}),this.pubsub.subscribe("control",function(e,i){"control.play.on"===e&&(t.isBigPlayer?t.controls.show("#control-clickToPlay"):(t.controls.show("#control-play"),t.controls.clickToPlayButtonWasShowed&&t.controls.show("#control-clickToPlay"))),"control.play.off"===e&&(t.isBigPlayer&&!t.controls.isHidden("#control-clickToPlay")?t.controls.hide("#control-clickToPlay"):(t.controls.isHidden("#control-play")||t.controls.hide("#control-play"),t.controls.clickToPlayButtonWasShowed&&!t.controls.isHidden("#control-clickToPlay")&&t.controls.hide("#control-clickToPlay"))),"control.pause.on"===e&&t.controls.show("#control-pause"),"control.pause.off"===e&&t.controls.hide("#control-pause"),"control.volume.on"===e&&t.controls.show("#control-volume"),"control.volume.off"===e&&t.controls.hide("#control-volume"),"control.fullscreen.on"===e&&t.controls.show("#control-fullscreen"),"control.fullscreen.off"===e&&t.controls.hide("#control-fullscreen"),"control.tilladcountdown.on"===e&&t.controls.show("#control-countdown"),"control.tilladcountdown.off"===e&&t.controls.hide("#control-countdown")}),this.pubsub.subscribe("video.pause",function(e,i){t.controls.hide("#control-pause"),t.controls.show("#control-play")}),this.pubsub.subscribe("controls.pause",function(e,i){t.controls.hide("#control-pause"),t.isBigPlayer||(t.pubsub.publish("controls.onBigPlayButton"),t.pubsub.publish("controls.offOnPause")),t.controls.foundation.intentPause()}),this.pubsub.subscribe("controls.onBigPlayButton",function(e,i){var n=t.host.querySelector("#control-clickToPlay");t.controls.showClickToPlayButton(),!0!==t.controls.isBouncingPlayButtonEnabled||t.host.classList.contains("__is-fullscreen")||t.isMobile||(n.classList.add("animated"),n.classList.contains("goDown")&&n.classList.remove("goDown"))});var r=null;if(this.pubsub.subscribe("controls.close",function(e,i){var n=t.controls.sequencer.getStatus().currentEpisode.featuring;"show"==i&&"ad"!=n?(r=!0,t.controls.show("#control-close")):t.controls.hide("#control-close")}),this.pubsub.subscribe("controls.clickthrough",function(t,e){pubtagGateway().message({intent:"clickThrough",url:e&&e.target&&e.target.href})}),this.pubsub.subscribe("motion.episode.started",function(i,n){if(t.contentTitleEnabled&&n.episode.mediaId&&"content"===n.episode.featuring){var o=t.controls.sequencer.getMedia(n.episode.mediaId);o.title&&(e.querySelector("#content-title").innerHTML=o.title)}else t.contentTitleEnabled&&"content"!==n.episode.featuring&&(e.querySelector("#content-title").innerHTML="");r&&("content"===n.episode.featuring?t.controls.show("#control-close"):"ad"===n.episode.featuring&&t.controls.hide("#control-close"))}),this.pubsub.subscribe("spot.oneMediaInPlaylist",function(e,i){t.controls.removeControlElement("#control-next, #control-prev")}),this.contentTitleEnabled&&(this.token_addMedia=this.pubsub.subscribe("sequencer.media.added",function(i,n){if("content"===n.what&&(t.pubsub.unsubscribe(t.token_addMedia),e.querySelector("#control-clickToPlay"))){var o=document.createElement("div");o.classList.add("clickToPlay-title"),o.innerHTML=n.media.title,e.querySelector("#control-clickToPlay").appendChild(o)}})),this.onHoverUnMuteScenario){function a(){t.pubsub.unsubscribe(t.token_onHoverUnmute),t.pubsub.unsubscribe(t.token_onHoverMute),t.pubsub.unsubscribe(t.token_mute)}this.token_onHoverUnmute=this.pubsub.subscribe("body.mouseenter",function(e){!0===t.controls.foundation.clickToPlayUserAction||!1===t.controls.duplex.onHoverUnmuteSupported||t.controls.duplex.isMobile?a():t.controls.duplex.visible().paused||t.controls.duplex.unmute()}),this.token_onHoverMute=t.pubsub.subscribe("body.mouseleave",function(e){t.controls.duplex.visible().paused||t.controls.duplex.mute(!0)}),this.token_mute=this.pubsub.subscribe("controls.mute",function(){a()})}if(t.pubsub.subscribe("controls.playerclick",function(e,i){t.controls.duplex.visible().paused?t.isBigPlayer?t.pubsub.publish("controls.play"):t.pubsub.publish("controls.pause"):t.isBigPlayer?t.pubsub.publish("controls.pause"):t.pubsub.publish("controls.play")}),this.isBigPlayer){if(this.controls.setupCustomBehaviourForSkin(),0==this.opacityFadeOut&&e.classList.add("__full-hide"),this.toggleWatchingMode=function(i){e.classList.contains("__is-watchingMode")||e.classList.add("__is-watchingMode");for(var n=e.querySelectorAll(".__is-watchingMode > div, .__is-watchingMode > a, .__is-watchingMode > button, .__is-watchingMode .controls-bottom"),o=0;o<n.length;o++)"control-clickToPlay"==n[o].getAttribute("id")||"control-clickToUnmute"==n[o].getAttribute("id")||"control-shadow"==n[o].getAttribute("id")||n[o].classList.contains("controls-top-left")||n[o].classList.contains("nonlinear-slot")||n[o].classList.contains("controls-wrap-bottom")||"control-loading"==n[o].getAttribute("id")||(!0===i?n[o].classList.add(t.controls.branding.fadeOutClass):n[o].classList.remove(t.controls.branding.fadeOutClass));i||e.classList.remove("__is-watchingMode")},this.isMobile)this.token_windowLoad=t.pubsub.subscribe("window.onload",function(){t.toggleWatchingMode(!0),t.pubsub.unsubscribe(t.token_windowLoad),t.pubsub.subscribe("controls.host.touchstart",function(e){t.toggleWatchingMode(),setTimeout(function(){t.controls.isShown("#control-pause")&&t.toggleWatchingMode(!0)},1e3)})});else{t.pubsub.subscribe("controls.host.mouseenter",function(e){t.toggleWatchingMode()}),t.pubsub.subscribe("controls.host.mouseleave",function(e){t.controls.isShown("#control-pause")&&t.toggleWatchingMode(!0)}),this.token_windowLoad=t.pubsub.subscribe("window.onload",function(){t.toggleWatchingMode(!0),t.pubsub.unsubscribe(t.token_windowLoad)});var l="";t.pubsub.subscribe("window.mousemove",function(){e.classList.contains("__is-watchingMode")&&t.toggleWatchingMode(),l=(new Date).getTime(),setTimeout(function(){(new Date).getTime()-l>=1e3&&t.controls.isShown("#control-pause")&&t.toggleWatchingMode(!0)},1e3)})}t.pubsub.subscribe("window.keydown",function(e,i,n){var o=t.controls.duplex.visible();if(32===n||13===n)t.controls.duplex.visible().paused?(t.controls.hide("#control-clickToPlay, #control-shadow"),t.controls.foundation.intentPlay()):t.controls.foundation.intentPause();else if(77===n)t.controls.duplex.visible().muted?t.pubsub.publish("controls.unmute"):t.pubsub.publish("controls.mute");else if(70===n)t.controls.isShown("#control-fullscreen-off")?t.pubsub.publish("controls.fullscreen.off",i):t.pubsub.publish("controls.fullscreen.on",i);else if(38===n||40===n){var s=t.controls.duplex.visible().volume,r=1!==s?(100*s+10)/100:1;40===n&&(r=(100*s-10)/100),r>=0&&r<=1&&t.controls.onVolumeChange(i,r)}else if(40===n);else if(37===n||39===n){var a=(o.currentTime-5)/o.duration;39===n&&(a=(o.currentTime+5)/o.duration),t.controls.setCurrentTime(a,!0)}else if(n>=49&&n<=57){var l=i.key/10;t.controls.setCurrentTime(l)}})}else t.pubsub.subscribe("controls.playerclick",function(e,i){t.pubsub.publish("controls.clickthrough")});return e},r.prototype.insertControls=function(t){for(var e=t||this.getDefaultListControls(),i=0;i<e.length;i++)this.appendControl(e[i].type,e[i].position)},r.prototype.appendControl=function(t,e){var i,n,o=this;if("clickthrough"===t)(i=document.createElement("a")).setAttribute("id","control-clickthrough"),i.setAttribute("class","clickthrough hidden"),i.setAttribute("href","#"),i.setAttribute("target","_blank"),i.innerHTML="&nbsp;",i.addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.clickthrough",t)});else if("volumeBar"===t)(i=document.createElement("div")).setAttribute("id","control-volume"),i.setAttribute("class","square square_smaller-icon volume volume-bar hidden"),n='<div class="square-shape"><div class="volume-range-wrap"><input id="control-volume-range" class="volume-range" type="range" min="0" step="0.1" max="1" orient="vertical" value="0"></div><svg id="control-muted" class="volume-icon-muted"><use xlink:href="#icon-muted" /></svg><svg id="control-unmuted" class="volume-icon-unmuted hidden"><use xlink:href="#icon-unmuted" /></svg></div>',i.innerHTML=n,i.querySelector("#control-muted").addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.unmute",t)}),i.querySelector("#control-unmuted").addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.mute",t)}),i.querySelector("#control-volume-range").addEventListener("input",function(t){t.stopPropagation(),o.controls.onVolumeChange(t)});else if("playerclick"===t)(i=document.createElement("div")).setAttribute("id","control-playerclick"),i.addEventListener("click",function(t){t.stopPropagation(),o.isMobile&&o.isBigPlayer?o.toggleWatchingMode():(o.controls.foundation.pausedUserAction=!0,o.pubsub.publish("controls.playerclick",t))});else if("volumeButtons"===t)(i=document.createElement("div")).setAttribute("id","control-volume"),i.setAttribute("class","square square_smaller-icon volume volume-buttons hidden"),n='<div class="square-shape"><svg id="control-muted" class="volume-icon-muted"><use xlink:href="#icon-muted" /></svg><svg id="control-unmuted" class="volume-icon-unmuted hidden"><use xlink:href="#icon-unmuted" /></svg></div>',i.innerHTML=n,i.querySelector("#control-muted").addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.unmute",t)}),i.querySelector("#control-unmuted").addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.mute",t)});else if("fullscreen"===t)(i=document.createElement("span")).setAttribute("id","control-fullscreen"),n='<button id="control-fullscreen-on" class="square hidden"><div class="square-shape"><svg><use xlink:href="#icon-fullscreen-on" /></svg></div></button><button id="control-fullscreen-off" class="square hidden"><div class="square-shape"><svg><use xlink:href="#icon-fullscreen-off" /></svg></div></button>',i.innerHTML=n,i.querySelector("#control-fullscreen-on").addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.fullscreen.on",t)}),i.querySelector("#control-fullscreen-off").addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.fullscreen.off",t)});else if("play"===t)(i=document.createElement("button")).setAttribute("id","control-play"),i.setAttribute("class","square hidden"),n='<div class="square-shape"><svg><use xlink:href="#icon-play" /></svg></div><span class="caption"></span>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation(),o.controls.foundation.pausedUserAction=!1,o.pubsub.publish("controls.play",t)});else if("replay"===t)(i=document.createElement("button")).setAttribute("id","control-replay"),i.setAttribute("class","control-centered square hidden"),n='<div class="square-shape"><svg><use xlink:href="#icon-replay" /></svg></div>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.replay",t),i.classList.add("hidden")});else if("clickToPlay"===t)(i=document.createElement("button")).setAttribute("id","control-clickToPlay"),i.setAttribute("class","control-centered square hidden"),n='<div class="square-shape"><svg><use xlink:href="#icon-play" /></svg></div><span class="caption"></span>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation(),o.clickToPlayActions(t,i)});else if("clickToUnmute"===t)(i=document.createElement("button")).setAttribute("id","control-clickToUnmute"),i.setAttribute("class","control-centered square hidden"),n='<div class="square-shape"><svg><use xlink:href="#icon-muted" /></svg></div><span class="caption"></span>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation(),o.clickToPlayActions(t,i)});else if("pause"===t)(i=document.createElement("button")).setAttribute("id","control-pause"),i.setAttribute("class","square hidden"),n='<div class="square-shape"><svg><use xlink:href="#icon-pause" /></svg></div><span class="caption"></span>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation(),o.controls.foundation.pausedUserAction=!0,o.pubsub.publish("controls.pause",t)});else if("prev"===t)(i=document.createElement("button")).setAttribute("id","control-prev"),i.setAttribute("class","square hidden"),n='<div class="square-shape"><svg><use xlink:href="#icon-prev" /></svg></div><span class="caption"></span>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.prev",t)});else if("nextIcon"===t)(i=document.createElement("button")).setAttribute("id","control-next"),i.setAttribute("class","square hidden"),n='<div class="square-shape"><svg><use xlink:href="#icon-next" /></svg></div><span class="caption"></span>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.next",t)});else if("next"===t)(i=document.createElement("button")).setAttribute("id","control-next"),i.setAttribute("class","square hidden"),n='<div class="square-shape"><span class="caption">next</span></div>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.next",t)});else if("skip"===t)(i=document.createElement("button")).setAttribute("id","control-skip"),i.setAttribute("class","square hidden"),n='<div class="square-shape"><span class="caption">skip</span></div>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.skip",t)});else if("continue"===t)(i=document.createElement("button")).setAttribute("id","control-continue"),i.setAttribute("class","square hidden"),n='<div class="square-shape"><span class="caption">continue</span></div>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.continue",t)});else if("countdown"===t)(i=document.createElement("div")).setAttribute("id","control-countdown"),i.setAttribute("class","square hidden"),n='<div class="square-shape"><span class="caption"></span></div>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation()});else if("time"===t)(i=document.createElement("div")).setAttribute("id","control-time"),i.setAttribute("class","square"),n='<div class="square-shape"><span class="caption"></span></div>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation()});else if("duration"===t)(i=document.createElement("div")).setAttribute("id","control-duration"),i.setAttribute("class","square"),n='<div class="square-shape"><span class="caption"></span></div>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation()});else if("playlist"===t){(i=document.createElement("button")).setAttribute("id","control-playlist-on"),i.setAttribute("class","square square_smaller-icon hidden"),n='<div class="square-shape"><svg><use xlink:href="#icon-playlist" /></svg></div>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation()});var s=document.createElement("div");s.setAttribute("id","control-playlist"),s.setAttribute("class","playlist hidden");s.innerHTML='<button id="control-playlist-off" class="square square_smaller-icon"><div class="square-shape"><svg><use xlink:href="#icon-close" /></svg></div></button><div class="playlist-block"><div class="playlist-block-item prev hidden"><div class="playlist-item"><div class="title-wrap"><div class="head-title"></div><div class="title"></div></div></div></div><div class="playlist-block-item middle"></div><div class="playlist-block-item next hidden"><div class="playlist-item"><div class="title-wrap"><div class="head-title"></div><div class="title"></div></div></div></div></div><div class="playlist-loader hidden"><svg class="square-shape"><use xlink:href="#loader" /></svg></div>',this.host.appendChild(s),setTimeout(function(){o.controls.enablePlaylist()},0)}else if("sharing"===t){(i=document.createElement("button")).setAttribute("id","control-share-button-on"),i.setAttribute("class","square square_smaller-icon hidden"),n='<div class="square-shape"><svg><use xlink:href="#icon-share" /></svg></div>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.sharing.on",t)});var r=document.createElement("div");r.setAttribute("id","control-sharing"),r.setAttribute("class","sharing hidden");var a='<button id="control-share-button-off" class="square square_smaller-icon"><div class="square-shape"><svg><use xlink:href="#icon-close" /></svg></div></button><div class="sharing-box"><a class="sharing-link" href="#" target="_blank" data-href-template="https://twitter.com/home?status=%text%"><svg><use xlink:href="#icon-twitter" /></svg></a><a class="sharing-link" href="#" target="_blank" data-href-template="https://www.facebook.com/sharer/sharer.php?u=%text%"><svg><use xlink:href="#icon-facebook" /></svg></a>'+(this.isMobile?'<a class="sharing-link" href="#" target="_blank" data-href-template="whatsapp://send?text=%text%"><svg><use xlink:href="#icon-whatsapp" /></svg></a>':"")+'<a class="sharing-link" href="#" target="_blank" data-href-template="mailto:?body=%text%"><svg><use xlink:href="#icon-mail" /></svg></a></div>';r.innerHTML=a,this.host.appendChild(r),r.querySelector("#control-share-button-off").addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("controls.sharing.off",t)}),setTimeout(function(){o.controls.enableSharing()},0)}else"progress"===t?((i=document.createElement("div")).setAttribute("id","control-progress"),i.setAttribute("class","progress hidden"),n='<div class="progress-boundary"><span class="progress-bar"></span></div><span class="progress-suffix"></span>',i.innerHTML=n):"close"===t?((i=document.createElement("button")).setAttribute("id","control-close"),i.setAttribute("class","square square_smaller-icon"),n='<div class="square-shape"><svg><use xlink:href="#icon-close" /></svg></div>',i.innerHTML=n,i.addEventListener("click",function(t){t.stopPropagation(),o.pubsub.publish("player.destroy",t)})):"title"===t&&((i=document.createElement("div")).setAttribute("id","content-title"),i.setAttribute("class","square-title"));i&&("host"===e?this.host.appendChild(i):this.host.querySelector(".controls-"+e).appendChild(i))},r.prototype.clickToPlayActions=function(t,e){e.classList.contains("animated")?e.classList.toggle("goDown"):e.classList.toggle("hidden"),(this.isClick2Play||this.controls.isClick2Unmute)&&this.isFirstClickToPlay&&(this.controls.duplex.videoIsMuted=!1,this.isFirstClickToPlay=!1,this.pubsub.publish("controls.clickToPlay",t)),this.controls.foundation.pausedUserAction=!1,this.controls.foundation.clickToPlayUserAction=!0,e.querySelector(".caption").classList.add("hidden"),this.pubsub.publish("controls.play",t),this.isBigPlayer||this.pubsub.publish("controls.onOnPlay")},r.prototype.reduceDefaultListControls=function(){},r.prototype.extendDefaultListControls=function(){},r.prototype.getDefaultListControls=function(){var t=document.body.offsetWidth;return this.isBigPlayer&&(this.isMobile||t>0&&t<=300)?o:this.isBigPlayer?n:s},t.exports=r},function(t,e){var i=function(t){this.controls=t,this.valueElement=this.controls.host.querySelector("#control-countdown .caption"),this.initialValue=null,this.value=null,this.seconds=null,this.title=null,this.textTemplate={},this.pubsubTokenProgress=null,this.pubsubTokenEpisodeEnded=null,this.dontShowCountdown=!1;var e=this;this.controls.pubsub.subscribe("motion.ad.missed",function(){e.dontShowCountdown=!0,e.dispose()}),this.controls.pubsub.subscribe("motion.ad.started",function(t,i){i.nextEpisode&&"ad"===i.nextEpisode.featuring&&(e.dontShowCountdown=!0,e.dispose())})};i.prototype.setType=function(t){this.type=t},i.prototype.onProgressEvent=function(t){if(this.dontShowCountdown)this.dontShowCountdown=!1;else{if("ad"===t.featuring){var e=this.controls.sequencer.episodeIterator.getNext();if(e&&"ad"===e.featuring)return}null==this.initialValue?this.initialValue=t.episodeSecondsPassed:(this.value=this.seconds-(t.episodeSecondsPassed-this.initialValue),this.textTemplate[this.type]&&this.textTemplate[this.type].indexOf("%title%")>=0&&!this.title&&this.setTitleToTemplate(),this.setValue(Math.ceil(this.value)))}},i.prototype.start=function(t){this.dispose(),this.seconds=t;var e=this;this.pubsubTokenProgress=this.controls.pubsub.subscribe("progress",function(t,i){e.onProgressEvent(i)}),this.pubsubTokenEpisodeEnded=this.controls.pubsub.subscribe("motion.episode.ended",function(){e.dispose()})},i.prototype.dispose=function(){this.pubsubTokenProgress&&(this.controls.pubsub.unsubscribe(this.pubsubTokenProgress),this.pubsubTokenProgress=null),this.pubsubTokenEpisodeEnded&&(this.controls.pubsub.unsubscribe(this.pubsubTokenEpisodeEnded),this.pubsubTokenEpisodeEnded=null),this.initialValue=null,this.value=null,this.seconds=null,this.title=null,this.hide()},i.prototype.setValue=function(t){var e=(this.textTemplate[this.type]?this.textTemplate[this.type]:"%x% sec").replace("%x%",t).replace("%title%",this.title);this.valueElement.innerHTML=e,t<=0?this.hide():t>0&&!0!==this.valueElement.isVisible&&this.show()},i.prototype.setTitleToTemplate=function(){var t="",e=this.controls.sequencer.episodeIterator.getNext();if(!e||e&&!e.mediaId)this.title=t;else if(t=this.controls.sequencer.getMedia(e.mediaId).title){this.controls.host.querySelector("#control-countdown").classList.add("has-title");var i=document.createElement("div"),n=document.createElement("div");n.style.opacity=0,n.style.fontSize="initial",i.style.opacity=0,i.style.fontSize="initial",i.innerText=t,this.valueElement.appendChild(i),this.valueElement.appendChild(n),this.controls.show("#control-countdown");var o=this.controls.host.clientWidth-80;if(this.valueElement.clientWidth>o){var s,r=t.split(""),a="";n.style.maxWidth=o+"px";for(var l=0;l<r.length;l++)if(a+=r[l],n.innerHTML=a,s||(s=n.clientHeight),n.clientHeight>s){a=a.slice(0,-3),a+="...";break}this.valueElement.removeChild(i),this.valueElement.removeChild(n),this.title="<div>"+a+"</div>"}else this.title="<div>"+t+"</div>"}else this.title=""},i.prototype.show=function(){this.controls.show("#control-countdown"),this.valueElement.isVisible=!0},i.prototype.hide=function(){this.controls.hide("#control-countdown"),this.valueElement.isVisible=!1},t.exports=i},function(t,e){var i=function(t){this.controls=t,this.isFullscreenSupported=document.fullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled;var e=this;this.fullscreenChangeListener=function(t){e.onFullscreenChangeEvent(t)}};i.prototype.makeReflectState=function(t){if(!1===t)return this.token1&&this.controls.pubsub.unsubscribe(this.token1),this.token2&&this.controls.pubsub.unsubscribe(this.token2),document.removeEventListener("webkitfullscreenchange",this.fullscreenChangeListener),document.removeEventListener("mozfullscreenchange",this.fullscreenChangeListener),document.removeEventListener("fullscreenchange",this.fullscreenChangeListener),void document.removeEventListener("MSFullscreenChange",this.fullscreenChangeListener);document.addEventListener("webkitfullscreenchange",this.fullscreenChangeListener),document.addEventListener("mozfullscreenchange",this.fullscreenChangeListener),document.addEventListener("fullscreenchange",this.fullscreenChangeListener),document.addEventListener("MSFullscreenChange",this.fullscreenChangeListener);var e=this;this.token2=this.controls.pubsub.subscribe("video.playing",function(t,i){e.onFullscreenChangeEvent(),e.controls.pubsub.unsubscribe(e.token2)}),this.token1=this.controls.pubsub.subscribe("controls.fullscreen",function(t,i){"controls.fullscreen.on"==t?e.toggleFullscreen(!0):"controls.fullscreen.off"==t&&e.toggleFullscreen(!1)})},i.prototype.onFullscreenChangeEvent=function(t,e){if(void 0===e){var i=!(document.fullscreenElement||document.fullScreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement);this.toggleFullscreenButtons(i)}else this.toggleFullscreenButtons(e)},i.prototype.toggleFullscreenButtons=function(t){t?(this.controls.hide("#control-fullscreen-off"),this.controls.show("#control-fullscreen-on"),this.controls.host.classList.remove("__is-fullscreen")):(this.controls.show("#control-fullscreen-off"),this.controls.hide("#control-fullscreen-on"),this.controls.host.classList.add("__is-fullscreen"))},i.prototype.toggleFullscreen=function(t){var e=document.body,i=document;if(!1===t){if(!this.isFullscreenSupported)return pubtagGateway().setFullscreenOff(),void this.onFullscreenChangeEvent(null,!0);pubtagGateway().setFullscreenOff(!0),i.exitFullscreen?i.exitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen?i.webkitExitFullscreen():i.msExitFullscreen&&i.msExitFullscreen()}else{if(!this.isFullscreenSupported)return pubtagGateway().setFullscreenOn(),void this.onFullscreenChangeEvent(null,!1);pubtagGateway().setFullscreenOn(null,!0),e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},t.exports=i},function(t,e){var i=function(t){this.controls=t,this.foundation=t.foundation,this.pubsub=t.pubsub,this.host=t.host,this.sequencer=t.sequencer,this.isMobile=this.foundation.isMobile};i.prototype.show=function(){for(var t=[],e=this.sequencer.contentMediaIterator.getCurrent(),i=this.foundation.duplex.visible().mediaId;e;)this.sequencer.mediaProps.get(e.id,"readyState")>=2?e=this.sequencer.contentMediaIterator.getNext(e):e.poster&&(t.push(e.id),e=this.sequencer.contentMediaIterator.getNext(e));var n=this.host.querySelector("#control-playlist .playlist-block");if(t.length<3){this.pubsub.publish("player.getContent"),this.host.querySelector(".playlist .playlist-loader").classList.remove("hidden");var o=this.pubsub.subscribe("spot.setContentToPlayer",function(t,e){setTimeout(function(){s.show(),s.host.querySelector(".playlist .playlist-loader").classList.add("hidden")},0),s.pubsub.unsubscribe(o)})}var s=this,r=n.querySelector(".middle"),a=this.sequencer.contentMediaIterator.getPrev(i),l=n.querySelector(".prev");for(a&&this.setDataPrevNext(l,a,"Preview Up");r.firstChild;)r.removeChild(r.firstChild);for(var d=1;d<t.length;d++)if(!(d>4)){e=this.sequencer.getMedia(t[d]);var u=document.createElement("div");u.setAttribute("class","middle-item"),u.style.backgroundImage="url("+e.poster+")",u.mediaId=e.id,u.onclick=function(t){s.pubsub.publish("controls.playlist.off",t),s.foundation.intentMedia(this.mediaId)};var c=document.createElement("div");c.setAttribute("class","title "+this.controls.branding.previewPlaylistClass),c.innerHTML=e.title,u.appendChild(c),r.appendChild(u)}if(t.length-1==2){var p=document.createElement("div");p.setAttribute("class","middle-item"),r.appendChild(p)}var h=this.sequencer.getMedia(t[0]),m=n.querySelector(".next");this.setDataPrevNext(m,h,"Next Up"),t.length-1==1?n.classList.add("__is_alone"):n.classList.remove("__is_alone")},i.prototype.setDataPrevNext=function(t,e,i){var n=this,o=t.querySelector("img");o&&t.firstElementChild.removeChild(o);var s=document.createElement("img");s.src=e.poster,s.classList.add("poster"),t.firstElementChild.mediaId=e.id,t.firstElementChild.onclick=function(t){n.pubsub.publish("controls.playlist.off",t),n.foundation.intentMedia(this.mediaId)},t.querySelector(".head-title").innerHTML=i,t.querySelector(".title").innerHTML=e.title;var r=t.querySelector(".title-wrap");t.firstElementChild.insertBefore(s,r),t.classList.remove("hidden")},t.exports=i},function(t,e){var i=function(t,e,i){this.duplex=e,this.playerHost=this.duplex.host.parentNode,this.aspectRatio=i;var n,o=this,s=null;window.addEventListener("resize",function(){clearTimeout(s),s=setTimeout(function(){o.duplex.visible().readyState>=1?o.scale(o.duplex.visible()):o.duplex.hidden().readyState>=1&&o.scale(o.duplex.hidden())},100)}),t.subscribe("video.playing",function(e,i){o.duplex.visible().readyState>=1&&!o.duplex.visible().classList.contains("canvas-container")?o.scale(o.duplex.visible()):n=t.subscribe("video",function(e,i){i.target.readyState>=1&&(t.unsubscribe(n),o.scale(o.duplex.visible()))})});var r=t.subscribe("video.timeupdate",function(e,i){o.duplex.visible().videoWidth&&o.duplex.visible().videoHeight&&(o.scale(o.duplex.visible()),t.unsubscribe(r))})};i.prototype.scale=function(t){if(!(t.readyState<1)){var e=parseInt(t.videoWidth),i=parseInt(t.videoHeight),n=parseFloat(e/i),o=document.documentElement.clientWidth,s=document.documentElement.clientHeight,r=o/s,a=t.parentNode;r>=n?(t.style.width=Math.floor(e*(s/i)).toString()+"px",t.style.height=Math.floor(i*(s/i)).toString()+"px",a.style.top="auto"):(t.style.height=Math.floor(i*(o/e)-1).toString()+"px",t.style.width="100%",a.style.top=Math.floor((s-parseInt(t.style.height))/2).toString()+"px")}},t.exports=i},function(t,e){t.exports=[{type:"duration",position:"right"},{type:"fullscreen",position:"right"},{type:"volumeBar",position:"right"},{type:"playerclick",position:"host"},{type:"clickthrough",position:"host"},{type:"sharing",position:"top-right"},{type:"playlist",position:"top-right"},{type:"time",position:"left"},{type:"countdown",position:"top-left"},{type:"title",position:"top-left"},{type:"skip",position:"left"},{type:"prev",position:"center"},{type:"play",position:"center"},{type:"clickToPlay",position:"host"},{type:"clickToUnmute",position:"host"},{type:"replay",position:"host"},{type:"pause",position:"center"},{type:"nextIcon",position:"center"},{type:"continue",position:"top-right"},{type:"close",position:"top-right"},{type:"progress",position:"host"}]},function(t,e){t.exports=[{type:"countdown",position:"top-left"},{type:"title",position:"top-left"},{type:"fullscreen",position:"right"},{type:"volumeButtons",position:"right"},{type:"playerclick",position:"host"},{type:"clickthrough",position:"host"},{type:"sharing",position:"top-right"},{type:"playlist",position:"top-right"},{type:"close",position:"top-right"},{type:"play",position:"left"},{type:"pause",position:"left"},{type:"nextIcon",position:"left"},{type:"time",position:"left"},{type:"clickToPlay",position:"host"},{type:"clickToUnmute",position:"host"},{type:"replay",position:"host"},{type:"progress",position:"host"}]},function(t,e){t.exports=[{type:"playerclick",position:"host"},{type:"clickthrough",position:"host"},{type:"volumeButtons",position:"left"},{type:"title",position:"top-left"},{type:"fullscreen",position:"right"},{type:"close",position:"top-right"},{type:"countdown",position:"top-right"},{type:"play",position:"left"},{type:"clickToPlay",position:"host"},{type:"clickToUnmute",position:"host"},{type:"replay",position:"host"},{type:"pause",position:"left"},{type:"next",position:"right"},{type:"skip",position:"right"},{type:"continue",position:"right"},{type:"progress",position:"host"}]},function(t,e){var i=function(t,e,i){this.pubsub=e,this.duplex=i,this.videoHost=t,this.snapshotElement=document.createElement("canvas"),this.snapshotElement.setAttribute("id","snapshot"),t.insertBefore(this.snapshotElement,t.firstChild)};i.prototype.enableBlur=function(){var t=this;this.pubsub.subscribe("motion.episode.started",function(e,i){"video"!=t.duplex.visible().tagName.toLowerCase()||t.duplex.visible().poster?t.duplex.visible().poster?t.makeOnLoad(t.duplex.visible().poster,!0,t.duplex.visible()):setTimeout(function(){t.duplex.visible().poster&&t.makeOnLoad(t.duplex.visible().poster,!0)},100):t.makeNow(t.duplex.visible(),!0)});var e=this.pubsub.subscribe("sequencer.media.added",function(i,n){"content"!=n.what&&"stitched"!=n.what||(t.pubsub.unsubscribe(e),n.media.poster&&t.makeOnLoad(n.media.poster,!0))})},i.prototype.makeOnLoad=function(t,e,i){var n=this,o=function(){n.makeNow(this,!!this._blur),this.removeEventListener("load",o)},s=new Image;s._blur=e,s.addEventListener("load",o),s.addEventListener("error",function(t){i&&n.makeNow(i,!!this._blur)}),s.src=t},i.prototype.makeNow=function(t,e){var i=this;if("video"==t.tagName.toLowerCase()&&t.readyState<1)return this.token&&this.pubsub.unsubscribe(this.token),void(this.token=this.pubsub.subscribe("video",function(n){"video.loadeddata"==n&&(i.makeNow(t,e),i.pubsub.unsubscribe(i.token),i.token=null)}));this.token&&this.pubsub.unsubscribe(this.token);var n=t.videoWidth?t.videoWidth:t.width,o=t.videoHeight?t.videoHeight:t.height,s=this.snapshotElement.getContext("2d");s.clearRect(0,0,this.snapshotElement.width,this.snapshotElement.height),this.snapshotElement.width=n,this.snapshotElement.height=o;var r=function(){if("video"!=t.tagName.toLowerCase()||t.poster)s.drawImage(t,0,0,n,o);else{var e=function(){s.drawImage(t,0,0,n,o),t.removeEventListener("timeupdate",e)};t.addEventListener("timeupdate",e)}};try{r()}catch(t){"NS_ERROR_NOT_AVAILABLE"==t.name&&setTimeout(r,100)}!0===e?this.snapshotElement.classList.add("is-blurred"):this.snapshotElement.classList.remove("is-blurred")},t.exports=i},function(t,e){(function(){var e;e=function(){return function(){this.attributes={},this.children=[]}}(),t.exports=e}).call(this)},function(t,e){(function(){var e;e=function(){return function(){this.name=null,this.value=null,this.attributes={}}}(),t.exports=e}).call(this)},function(t,e){t.exports=function(t,e,i){t[0];for(var n=parseFloat(e/i),o=n>=1?"width":"height",s=n>=1?e:i,r=[],a=0;a<t.length;a++)~~(s/t[a][o])>1?r.push(1/0):r.push(s%t[a][o]);var l=r.indexOf(Math.min.apply(null,r));return t[l>0?l:0]}},function(t,e){t.exports=function(t){if(!t)throw new Error;return((new Date).getTime()-t)/1e3}},function(t,e){t.exports=function(t,e){var i,n,o,s=e?t.slice(0,e):[],r=t.slice(e);for(o=r.length-1;o>0;o--)i=Math.floor(Math.random()*(o+1)),n=r[o],r[o]=r[i],r[i]=n;return s.concat(r)}},function(t,e){t.exports=function(){if("isWebglSupportedForShowheroes"in window)return window.isWebglSupportedForShowheroes;var t=document.createElement("canvas"),e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{});return e&&(e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"))?(window.isWebglSupportedForShowheroes=!0,!0):(window.isWebglSupportedForShowheroes=!1,!1)}},function(t,e){t.exports=function(){"move"in Array.prototype||(Array.prototype.move=function(t,e){if(e>=this.length)for(var i=e-this.length;1+i--;)this.push(void 0);return this.splice(e,0,this.splice(t,1)[0]),this})}},function(t,e){t.exports=function(){var t=function(){};"console"in window||(window.console={}),"log"in window.console||(window.console.log=t),"warn"in window.console||(window.console.warn=t),"error"in window.console||(window.console.error=t),"group"in window.console||(window.console.group=t),"groupCollapsed"in window.console||(window.console.groupCollapsed=t),"groupEnd"in window.console||(window.console.groupEnd=t)}},function(t,e){t.exports=function(){"isArray"in Array.prototype||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)})}},,function(t,e,i){i(22),t.exports=i(20)}]);
        !function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/public/",i(i.s=45)}([function(t,e){t.exports=function(t,e){t=t.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}},function(t,e){t.exports=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}},function(t,e,i){var s,n;n=function(){return function(){return function t(e,i,n){function r(a,d){if(!i[a]){if(!e[a]){if(!d&&"function"==typeof s&&s)return s(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=i[a]={exports:{}};e[a][0].call(l.exports,function(t){return r(e[a][1][t]||t)},l,l.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof s&&s,a=0;a<n.length;a++)r(n[a]);return r}}()({1:[function(t,e,i){function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},s.prototype.emit=function(t){var e,i,s,a,d,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(o(i=this._events[t]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(r(i))for(a=Array.prototype.slice.call(arguments,1),s=(u=i.slice()).length,d=0;d<s;d++)u[d].apply(this,a);return!0},s.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(i=o(this._maxListeners)?s.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.trace),this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var i=!1;function s(){this.removeListener(t,s),i||(i=!0,e.apply(this,arguments))}return s.listener=e,this.on(t,s),this},s.prototype.removeListener=function(t,e){var i,s,o,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(o=(i=this._events[t]).length,s=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(i)){for(a=o;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){s=a;break}if(s<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(s,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},s.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},s.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},s.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},s.listenerCount=function(t,e){return t.listenerCount(e)}},{}],2:[function(t,e,i){var s;s=function(){return function(){this.id=null,this.sourceUrl=null,this.sequence=null,this.system=null,this.title=null,this.description=null,this.advertiser=null,this.pricing=null,this.survey=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.viewableImpressionURLTemplates={},this.creatives=[],this.verifications=[],this.extensions=[]}}(),e.exports=s},{}],3:[function(t,e,i){var s,n,r;n=t("./parser"),r=t("./util"),s=function(){function t(){}var e,s;return t.cappingFreeLunch=0,t.cappingMinimumTimeInterval=0,t.options={withCredentials:!1,timeout:0},t.get=function(t,e,s){var r,o,a,d;if(o=+new Date,r=i.extend=function(t,e){var i,s;for(i in e)s=e[i],t[i]=s;return t},s||("function"==typeof e&&(s=e),a={}),(a=r(this.options,e)).vastId=e.vastId,this.totalCallsTimeout<o?(this.totalCalls=1,this.totalCallsTimeout=o+36e5):this.totalCalls++,!(this.cappingFreeLunch>=this.totalCalls)){if((d=o-this.lastSuccessfullAd)<0)this.lastSuccessfullAd=0;else if(d<this.cappingMinimumTimeInterval)return void s(null,new Error("VAST call canceled – ("+this.cappingMinimumTimeInterval+")ms minimum interval reached"));return n.parse(t,a,e.vastId,function(t,e,i){return s(t,e,i)})}s(null,new Error("VAST call canceled – FreeLunch capping not reached yet "+this.totalCalls+"/"+this.cappingFreeLunch))},s=r.storage,e=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(i){e(t,i,{get:function(){return s.getItem(i)},set:function(t){return s.setItem(i,t)},configurable:!1,enumerable:!0})}),null==t.lastSuccessfullAd&&(t.lastSuccessfullAd=0),null==t.totalCalls&&(t.totalCalls=0),null==t.totalCallsTimeout&&(t.totalCallsTimeout=0),t}(),e.exports=s},{"./parser":12,"./util":18}],4:[function(t,e,i){var s;s=function(){return function(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.altText=null,this.companionClickThroughURLTemplate=null,this.companionClickTrackingURLTemplates=[],this.trackingEvents={}}}(),e.exports=s},{}],5:[function(t,e,i){var s,n,r,o,a=function(t,e){for(var i in e)d.call(e,i)&&(t[i]=e[i]);function s(){this.constructor=t}return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},d={}.hasOwnProperty;s=function(){return function(t){null==t&&(t={}),this.id=t.id||null,this.adId=t.adId||null,this.sequence=t.sequence||null,this.apiFramework=t.apiFramework||null,this.trackingEvents={},this.universalAdId=t.universalAdId||null}}(),r=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null,this.icons=[]}return a(e,s),e}(),o=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="nonlinear",this.variations=[],this.nonlinearClickTrackingURLTemplates=[]}return a(e,s),e}(),n=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="companion",this.variations=[]}return a(e,s),e}(),e.exports={VASTCreativeLinear:r,VASTCreativeNonLinear:o,VASTCreativeCompanion:n}},{}],6:[function(t,e,i){var s;s=function(){return function(){this.attributes={},this.children=[]}}(),e.exports=s},{}],7:[function(t,e,i){var s;s=function(){return function(){this.name=null,this.value=null,this.attributes={}}}(),e.exports=s},{}],8:[function(t,e,i){var s;s=function(){return function(){this.program=null,this.height=0,this.width=0,this.xPosition=0,this.yPosition=0,this.apiFramework=null,this.offset=null,this.duration=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.iconClickThroughURLTemplate=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null}}(),e.exports=s},{}],9:[function(t,e,i){e.exports={client:t("./client"),tracker:t("./tracker"),parser:t("./parser"),util:t("./util")}},{"./client":3,"./parser":12,"./tracker":14,"./util":18}],10:[function(t,e,i){var s;s=function(){return function(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null}}(),e.exports=s},{}],11:[function(t,e,i){var s;s=function(){return function(){this.id=null,this.width=0,this.height=0,this.expandedWidth=0,this.expandedHeight=0,this.scalable=!0,this.maintainAspectRatio=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null}}(),e.exports=s},{}],12:[function(t,e,i){var s,n,r,o,a,d,u,l,p,c,h,b,f,g,m,v,y=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};n=t("./urlhandler"),m=t("./response"),r=t("./ad"),o=t("./extension"),a=t("./extensionchild"),v=t("./util"),p=t("./creative").VASTCreativeLinear,l=t("./creative").VASTCreativeCompanion,c=t("./creative").VASTCreativeNonLinear,b=t("./mediafile"),d=t("./verification").VASTAdVerificationJavaScript,h=t("./icon"),u=t("./companionad"),f=t("./nonlinear"),s=t("events").EventEmitter,g=function(){var t;function e(){}return t=[],e.addURLTemplateFilter=function(e){"function"==typeof e&&t.push(e)},e.removeURLTemplateFilter=function(){return t.pop()},e.countURLTemplateFilters=function(){return t.length},e.clearUrlTemplateFilters=function(){return t=[]},e.parse=function(t,e,i,s){return s||("function"==typeof e&&(s=e),e={}),this._parse(t,null,e,function(t,e){return null!=e&&(e.vastId=i),s(e,t,i)})},e.load=function(t,e,i){return i||("function"==typeof e&&(i=e),e={}),this.parseXmlDocument(null,[],e,t,i)},e.vent=new s,e.track=function(t,e,i){return this.vent.emit("VAST-error",e),v.track(t,e,i)},e.on=function(t,e){return this.vent.on(t,e)},e.once=function(t,e){return this.vent.once(t,e)},e.off=function(t,e){return this.vent.removeListener(t,e)},e._parse=function(e,i,s,r,o){var a,d,u,l;for(r||("function"==typeof s&&(r=s),s={}),d=0,u=t.length;d<u;d++)a=t[d],e=a(e);return null==i&&(i=[]),null==o&&(o=[]),i.push(e),n.get(e,s,(l=this,function(t,n){return null!=t&&(o=null),null!=t?r(t):l.parseXmlDocument(e,i,s,n,r,o)}))},e.parseXmlDocument=function(t,i,s,n,r,o){var a,d,u,l,p,c,h,b,f,g,v,w,A,T,k,C,I,R,E,x,S,L,U,_;if(L=new m,null==(null!=n?n.documentElement:void 0)||"VAST"!==n.documentElement.nodeName)return r(new Error("Invalid VAST XMLDocument"));for(c=0,g=(E=n.documentElement.childNodes).length;c<g;c++)"Error"===(R=E[c]).nodeName&&(("function"==typeof s.checkApprovedDomain?s.checkApprovedDomain(e.parseNodeText(R)):void 0)?L.errorURLTemplates.push(e.parseNodeText(R)):null==s.checkApprovedDomain&&L.errorURLTemplates.push(e.parseNodeText(R)));for(u=[],h=0,v=(x=n.documentElement.childNodes).length;h<v;h++)"Ad"===(R=x[h]).nodeName&&u.push(R);for(b=0,w=u.length;b<w;b++)if(d=u[b],null!=(a=e.parseAdElement(d))){for(null!=s.wrapperSequence&&null==a.sequence&&1===u.length&&(a.sequence=s.wrapperSequence,s.wrapperSequence=null),L.ads.push(a),f=0,A=(S=a.extensions).length;f<A;f++)if("SmartMacros"===(p=S[f]).attributes.type){for(I={},C=0,T=(U=p.children).length;C<T;C++)I["[sas_"+(_=U[C]).name.replace(/ID$/g,"Id")+"]"]=_.value;o.push(I)}}else e.track(L.errorURLTemplates,{ERRORCODE:101});for(l=function(t,i,s){var n,o,d,u,l;if(null==t&&(t=null),null==i&&(i=!1),L){for(u=!0,n=!1,d=0,o=(l=L.ads).length;d<o;d++){if(null!=(a=l[d]).nextWrapperURL)return;a.creatives.length>0&&(u=!1)}return u&&(i||e.track(L.errorURLTemplates,{ERRORCODE:303},s)),0===L.ads.length&&(L=null,n=!0,null==t&&(t=new Error("No ads: no valid <inline> has been found"))),r(t,L,n)}},k=L.ads.length;k--;)null!=(a=L.ads[k]).nextWrapperURL&&function(n){var r;i.length>(null!==s.wrapperLimit?s.wrapperLimit:9)||(r=n.nextWrapperURL,y.call(i,r)>=0)?(e.track(n.errorURLTemplates,{ERRORCODE:302},o),L.ads.splice(L.ads.indexOf(n),1),l(new Error("Wrapper limit reached, as defined by the video player"))):(null!=t&&n.nextWrapperURL&&(n.nextWrapperURL=e.resolveVastAdTagURI(n.nextWrapperURL,t)),n.sourceUrl=n.nextWrapperURL||t,s.wrapperSequence=n.sequence,e._parse(n.nextWrapperURL,i,s,function(t,i,s){var r,a,d,u,p,c;if(r=!1,null==t||s)if(null==i)e.track(n.errorURLTemplates,{ERRORCODE:303},o),L.ads.splice(L.ads.indexOf(n),1),r=!0;else for(L.errorURLTemplates=L.errorURLTemplates.concat(i.errorURLTemplates),a=L.ads.indexOf(n),L.ads.splice(a,1),u=0,d=(p=i.ads).length;u<d;u++)c=p[u],e.mergeWrapperAdData(c,n),L.ads.splice(++a,0,c);else e.track(n.errorURLTemplates,{ERRORCODE:301},o),L.ads.splice(L.ads.indexOf(n),1),r=!0;return delete n.nextWrapperURL,l(t,r,o)},o))}(a);return l()},e.resolveVastAdTagURI=function(t,e){return 0===t.indexOf("//")?""+location.protocol+t:-1===t.indexOf("://")?e.slice(0,e.lastIndexOf("/"))+"/"+t:t},e.mergeWrapperAdData=function(t,e){var i,s,n,r,o,a,d,u,l,p,c,h,b,f,g,m,v,w,A,T,k,C,I,R,E,x,S,L,U,_,P,D,O,N,V,M,F;for(t.errorURLTemplates=e.errorURLTemplates.concat(t.errorURLTemplates),t.impressionURLTemplates=e.impressionURLTemplates.concat(t.impressionURLTemplates),o=[],u=0,h=(C=e.extensions).length;u<h;u++)a=C[u],o.push(a.attributes.type);for(d=[],l=0,b=(I=t.extensions).length;l<b;l++)S=(a=I[l]).attributes.type,y.call(o,S)<0&&d.push(a);for(t.extensions=d.concat(e.extensions),t.sourceUrl=t.sourceUrl||e.sourceUrl,p=0,f=(L=t.creatives).length;p<f;p++)if(n=L[p],null!=(null!=(U=e.trackingEvents)?U[n.type]:void 0))for(r in _=e.trackingEvents[n.type])M=_[r],(i=n.trackingEvents)[r]||(i[r]=[]),n.trackingEvents[r]=n.trackingEvents[r].concat(M);for(F in e.viewableImpressionURLTemplates)(s=t.viewableImpressionURLTemplates)[F]||(s[F]=[]),t.viewableImpressionURLTemplates[F]=e.viewableImpressionURLTemplates[F].concat(t.viewableImpressionURLTemplates[F]);if(null!=(P=e.videoClickTrackingURLTemplates)?P.length:void 0)for(c=0,g=(D=t.creatives).length;c<g;c++)"linear"===(n=D[c]).type&&(n.videoClickTrackingURLTemplates=n.videoClickTrackingURLTemplates.concat(e.videoClickTrackingURLTemplates));if(null!=(O=e.nonlinearClickTrackingURLTemplates)?O.length:void 0)for(A=0,m=(N=t.creatives).length;A<m;A++)"nonlinear"===(n=N[A]).type&&(n.nonlinearClickTrackingURLTemplates=n.nonlinearClickTrackingURLTemplates.concat(e.nonlinearClickTrackingURLTemplates));if(null!=(R=e.videoCustomClickURLTemplates)?R.length:void 0)for(T=0,v=(E=t.creatives).length;T<v;T++)"linear"===(n=E[T]).type&&(n.videoCustomClickURLTemplates=n.videoCustomClickURLTemplates.concat(e.videoCustomClickURLTemplates));if(null!=e.videoClickThroughURLTemplate){for(V=[],k=0,w=(x=t.creatives).length;k<w;k++)"linear"===(n=x[k]).type&&null==n.videoClickThroughURLTemplate?V.push(n.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate):V.push(void 0);return V}},e.childByName=function(t,e){var i,s,n,r;for(s=0,n=(r=t.childNodes).length;s<n;s++)if((i=r[s]).nodeName===e)return i},e.childsByName=function(t,e){var i,s,n,r,o;for(s=[],n=0,r=(o=t.childNodes).length;n<r;n++)(i=o[n]).nodeName===e&&s.push(i);return s},e.childsByNames=function(t,e){var i,s,n,r,o,a;for(s=[],n=0,r=(o=t.childNodes).length;n<r;n++)a=(i=o[n]).nodeName,y.call(e,a)>=0&&s.push(i);return s},e.parseAdElement=function(t){var e,i,s,n,r;for(i=0,s=(n=t.childNodes).length;i<s;i++)if("Wrapper"===(r=(e=n[i]).nodeName)||"InLine"===r){if(this.copyNodeAttribute("id",t,e),this.copyNodeAttribute("sequence",t,e),"Wrapper"===e.nodeName)return this.parseWrapperElement(e);if("InLine"===e.nodeName)return this.parseInLineElement(e)}},e.parseWrapperElement=function(t){var e,i,s,n,r,o,a,d,u,l,p,c,h,b,f,g,m,v,y,w,A,T,k,C,I,R;for(e=this.parseInLineElement(t),null!=(R=this.childByName(t,"VASTAdTagURI"))?e.nextWrapperURL=this.parseNodeText(R):null!=(R=this.childByName(t,"VASTAdTagURL"))&&(e.nextWrapperURL=this.parseNodeText(this.childByName(R,"URL"))),e.sourceUrl=e.nextWrapperURL||e.sourceUrl,r=0,l=(m=e.creatives).length;r<l;r++)if("linear"===(v=(I=m[r]).type)||"nonlinear"===v){if(null!=I.trackingEvents)for(n in e.trackingEvents||(e.trackingEvents={}),(i=e.trackingEvents)[g=I.type]||(i[g]={}),y=I.trackingEvents)for(C=y[n],(s=e.trackingEvents[I.type])[n]||(s[n]=[]),a=0,p=C.length;a<p;a++)k=C[a],e.trackingEvents[I.type][n].push(k);if(null!=I.videoClickTrackingURLTemplates)for(e.videoClickTrackingURLTemplates||(e.videoClickTrackingURLTemplates=[]),d=0,c=(w=I.videoClickTrackingURLTemplates).length;d<c;d++)o=w[d],e.videoClickTrackingURLTemplates.push(o);if(null!=I.nonlinearClickTrackingURLTemplates)for(e.nonlinearClickTrackingURLTemplates||(e.nonlinearClickTrackingURLTemplates=[]),u=0,h=(A=I.nonlinearClickTrackingURLTemplates).length;u<h;u++)o=A[u],e.nonlinearClickTrackingURLTemplates.push(o);if(null!=I.videoClickThroughURLTemplate&&(e.videoClickThroughURLTemplate=I.videoClickThroughURLTemplate),null!=I.videoCustomClickURLTemplates)for(e.videoCustomClickURLTemplates||(e.videoCustomClickURLTemplates=[]),f=0,b=(T=I.videoCustomClickURLTemplates).length;f<b;f++)o=T[f],e.videoCustomClickURLTemplates.push(o)}if(null!=e.nextWrapperURL)return e},e.parseInLineElement=function(t){var e,i,s,n,o,a,d,u,l,p,c,h,b,f,g,m,v,y,w,A,T,k,C,I,R,E,x,S,L,U,_;for((e=new r).id=t.getAttribute("id")||null,e.sequence=t.getAttribute("sequence")||null,l=0,b=(k=t.childNodes).length;l<b;l++)switch((T=k[l]).nodeName){case"Error":e.errorURLTemplates.push(this.parseNodeText(T));break;case"Impression":e.impressionURLTemplates.push(this.parseNodeText(T));break;case"ViewableImpression":for(p=0,f=(C=T.childNodes).length;p<f;p++)switch((_=C[p]).nodeName){case"Viewable":(i=e.viewableImpressionURLTemplates).impressionViewable||(i.impressionViewable=[]),e.viewableImpressionURLTemplates.impressionViewable.push(this.parseNodeText(_));break;case"NotViewable":(s=e.viewableImpressionURLTemplates).impressionNotViewable||(s.impressionNotViewable=[]),e.viewableImpressionURLTemplates.impressionNotViewable.push(this.parseNodeText(_));break;case"ViewUndetermined":(n=e.viewableImpressionURLTemplates).impressionViewUndetermined||(n.impressionViewUndetermined=[]),e.viewableImpressionURLTemplates.impressionViewUndetermined.push(this.parseNodeText(_))}break;case"Creatives":for(c=0,g=(I=this.childsByName(T,"Creative")).length;c<g;c++)for(a={id:(d=I[c]).getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(d),sequence:d.getAttribute("sequence")||null,apiFramework:d.getAttribute("apiFramework")||null},null!=(S=this.childByName(d,"UniversalAdId"))&&(a.universalAdId={idRegistry:S.getAttribute("idRegistry")||null,idValue:S.getAttribute("idValue")||null}),h=0,m=(R=d.childNodes).length;h<m;h++)switch((u=R[h]).nodeName){case"Linear":(o=this.parseCreativeLinearElement(u,a))&&e.creatives.push(o);break;case"NonLinearAds":(o=this.parseNonLinear(u,a))&&e.creatives.push(o);break;case"CompanionAds":(o=this.parseCompanionAd(u,a))&&e.creatives.push(o)}break;case"Extensions":this.parseExtension(e.extensions,this.childsByName(T,"Extension"));break;case"AdVerifications":for(w=0,v=(E=this.childsByName(T,"Verification")).length;w<v;w++)for(A=0,y=(x=E[w].childNodes).length;A<y;A++)switch((U=x[A]).nodeName){case"JavaScriptResource":(L=this.parseJavaScriptResource(U))&&e.verifications.push(L)}break;case"AdSystem":e.system={value:this.parseNodeText(T),version:T.getAttribute("version")||null};break;case"AdTitle":e.title=this.parseNodeText(T);break;case"Description":e.description=this.parseNodeText(T);break;case"Advertiser":e.advertiser=this.parseNodeText(T);break;case"Pricing":e.pricing={value:this.parseNodeText(T),model:T.getAttribute("model")||null,currency:T.getAttribute("currency")||null};break;case"Survey":e.survey=this.parseNodeText(T)}return e},e.parseExtension=function(t,e){var i,s,n,r,d,u,l,p,c,h,b,f,g,m,v,y,w,A,T;for(A=[],l=0,b=e.length;l<b;l++){if(d=e[l],s=new o,d.attributes)for(p=0,f=(v=d.attributes).length;p<f;p++)u=v[p],s.attributes[u.nodeName]=u.nodeValue;for(c=0,g=(y=d.childNodes).length;c<g;c++)if(i=y[c],T=this.parseNodeText(i),"#comment"!==i.nodeName&&""!==T){if((n=new a).name=i.nodeName,n.value=T,i.attributes)for(h=0,m=(w=i.attributes).length;h<m;h++)r=w[h],n.attributes[r.nodeName]=r.nodeValue;s.children.push(n)}A.push(t.push(s))}return A},e.parseCreativeLinearElement=function(t,e){var i,s,n,r,o,a,d,u,l,c,f,g,m,v,y,w,A,T,k,C,I,R,E,x,S,L,U,_,P,D,O,N,V,M,F,H,B,W,q,G,j,z,Q,X,K,J,Y,$,Z,tt,et,it,st,nt,rt,ot,at,dt,ut;if((r=new p(e)).duration=this.parseDuration(this.parseNodeText(this.childByName(t,"Duration"))),-1===r.duration&&"Wrapper"!==t.parentNode.parentNode.parentNode.nodeName)return null;if(null==(nt=t.getAttribute("skipoffset"))?r.skipDelay=null:"%"===nt.charAt(nt.length-1)?(W=parseInt(nt,10),r.skipDelay=r.duration*(W/100)):r.skipDelay=this.parseDuration(nt),null!=(ut=this.childByName(t,"VideoClicks"))){for(r.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(ut,"ClickThrough")),u=0,T=(j=this.childsByName(ut,"ClickTracking")).length;u<T;u++)n=j[u],r.videoClickTrackingURLTemplates.push(this.parseNodeText(n));for(y=0,k=(z=this.childsByName(ut,"CustomClick")).length;y<k;y++)o=z[y],r.videoCustomClickURLTemplates.push(this.parseNodeText(o))}for(null!=(i=this.childByName(t,"AdParameters"))&&(r.adParameters=this.parseNodeText(i)),w=0,I=(X=this.childsByName(t,"TrackingEvents")).length;w<I;w++)for(at=X[w],A=0,R=(K=this.childsByName(at,"Tracking")).length;A<R;A++)if(a=(ot=K[A]).getAttribute("event"),dt=this.parseNodeText(ot),null!=a&&null!=dt){if("progress"===a){if(!(H=ot.getAttribute("offset")))continue;a="%"===H.charAt(H.length-1)?"progress-"+H:"progress-"+Math.round(this.parseDuration(H))}null==(s=r.trackingEvents)[a]&&(s[a]=[]),r.trackingEvents[a].push(dt)}for(P=0,E=(J=this.childsByName(t,"MediaFiles")).length;P<E;P++)for(V=J[P],M=0,x=(Y=this.childsByNames(V,["MediaFile","InteractiveCreativeFile"])).length;M<x;M++)N=Y[M],(O=new b).id=N.getAttribute("id"),O.fileURL=this.parseNodeText(N),O.deliveryType=N.getAttribute("delivery"),O.codec=N.getAttribute("codec"),O.mimeType=N.getAttribute("type"),O.apiFramework=N.getAttribute("apiFramework"),O.bitrate=parseInt(N.getAttribute("bitrate")||0),O.minBitrate=parseInt(N.getAttribute("minBitrate")||0),O.maxBitrate=parseInt(N.getAttribute("maxBitrate")||0),O.width=parseInt(N.getAttribute("width")||0),O.height=parseInt(N.getAttribute("height")||0),(st=N.getAttribute("scalable"))&&"string"==typeof st&&("true"===(st=st.toLowerCase())?O.scalable=!0:"false"===st&&(O.scalable=!1)),(D=N.getAttribute("maintainAspectRatio"))&&"string"==typeof D&&("true"===(D=D.toLowerCase())?O.maintainAspectRatio=!0:"false"===D&&(O.maintainAspectRatio=!1)),r.mediaFiles.push(O);if(null!=(m=this.childByName(t,"Icons")))for(F=0,S=($=this.childsByName(m,"Icon")).length;F<S;F++){for(g=$[F],(l=new h).program=g.getAttribute("program"),l.height=parseInt(g.getAttribute("height")||0),l.width=parseInt(g.getAttribute("width")||0),l.xPosition=this.parseXPosition(g.getAttribute("xPosition")),l.yPosition=this.parseYPosition(g.getAttribute("yPosition")),l.apiFramework=g.getAttribute("apiFramework"),l.offset=this.parseDuration(g.getAttribute("offset")),l.duration=this.parseDuration(g.getAttribute("duration")),B=0,L=(Z=this.childsByName(g,"HTMLResource")).length;B<L;B++)d=Z[B],l.type=d.getAttribute("creativeType")||"text/html",l.htmlResource=this.parseNodeText(d);for(q=0,U=(tt=this.childsByName(g,"IFrameResource")).length;q<U;q++)v=tt[q],l.type=v.getAttribute("creativeType")||0,l.iframeResource=this.parseNodeText(v);for(G=0,_=(et=this.childsByName(g,"StaticResource")).length;G<_;G++)rt=et[G],l.type=rt.getAttribute("creativeType")||0,l.staticResource=this.parseNodeText(rt);if(null!=(f=this.childByName(g,"IconClicks")))for(l.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(f,"IconClickThrough")),it=0,C=(Q=this.childsByName(f,"IconClickTracking")).length;it<C;it++)c=Q[it],l.iconClickTrackingURLTemplates.push(this.parseNodeText(c));l.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(g,"IconViewTracking")),r.icons.push(l)}return r},e.parseNonLinear=function(t,e){var i,s,n,r,o,a,d,u,l,p,h,b,g,m,v,y,w,A,T,k,C,I,R,E,x,S,L,U,_,P,D,O,N,V,M;for(r=new c(e),d=0,b=(x=this.childsByName(t,"TrackingEvents")).length;d<b;d++)for(V=x[d],l=0,g=(S=this.childsByName(V,"Tracking")).length;l<g;l++){if(o=(N=S[l]).getAttribute("event"),M=this.parseNodeText(N),null!=o&&null!=M&&"progress"===o){if(!(E=N.getAttribute("offset")))continue;o="%"===E.charAt(E.length-1)?"progress-"+E:"progress-"+Math.round(this.parseDuration(E))}null==(s=r.trackingEvents)[o]&&(s[o]=[]),r.trackingEvents[o].push(M)}for(p=0,m=(L=this.childsByName(t,"NonLinear")).length;p<m;p++){for(I=L[p],(C=new f).id=I.getAttribute("id")||null,C.width=I.getAttribute("width"),C.height=I.getAttribute("height"),C.expandedWidth=I.getAttribute("expandedWidth"),C.expandedHeight=I.getAttribute("expandedHeight"),C.scalable=this.parseBoolean(I.getAttribute("scalable")),C.maintainAspectRatio=this.parseBoolean(I.getAttribute("maintainAspectRatio")),C.minSuggestedDuration=this.parseDuration(I.getAttribute("minSuggestedDuration")),C.apiFramework=I.getAttribute("apiFramework"),h=0,v=(U=this.childsByName(I,"HTMLResource")).length;h<v;h++)a=U[h],C.type=a.getAttribute("creativeType")||"text/html",C.htmlResource=this.parseNodeText(a);for(T=0,y=(_=this.childsByName(I,"IFrameResource")).length;T<y;T++)u=_[T],C.type=u.getAttribute("creativeType")||"iframe",C.iframeResource=this.parseNodeText(u);for(k=0,w=(P=this.childsByName(I,"StaticResource")).length;k<w;k++)O=P[k],C.type=O.getAttribute("creativeType")||0,C.staticResource=this.parseNodeText(O);for(null!=(i=this.childByName(I,"AdParameters"))&&(C.adParameters=this.parseNodeText(i)),C.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(I,"NonLinearClickThrough")),R=0,A=(D=this.childsByName(I,"NonLinearClickTracking")).length;R<A;R++)n=D[R],r.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(n));r.variations.push(C)}return r},e.parseCompanionAd=function(t,e){var i,s,n,r,o,a,d,p,c,h,b,f,g,m,v,y,w,A,T,k,C,I,R,E,x,S,L,U,_,P,D,O,N,V,M,F,H;for(a=new l(e),c=0,m=(S=this.childsByName(t,"Companion")).length;c<m;c++){for(o=S[c],(r=new u).id=o.getAttribute("id")||null,r.width=o.getAttribute("width"),r.height=o.getAttribute("height"),r.companionClickTrackingURLTemplates=[],b=0,v=(L=this.childsByName(o,"HTMLResource")).length;b<v;b++)p=L[b],r.type=p.getAttribute("creativeType")||"text/html",r.htmlResource=this.parseNodeText(p);for(f=0,y=(U=this.childsByName(o,"IFrameResource")).length;f<y;f++)h=U[f],r.type=h.getAttribute("creativeType")||0,r.iframeResource=this.parseNodeText(h);for(g=0,w=(_=this.childsByName(o,"StaticResource")).length;g<w;g++){for(V=_[g],r.type=V.getAttribute("creativeType")||0,I=0,A=(P=this.childsByName(o,"AltText")).length;I<A;I++)s=P[I],r.altText=this.parseNodeText(s);r.staticResource=this.parseNodeText(V)}for(R=0,T=(D=this.childsByName(o,"TrackingEvents")).length;R<T;R++)for(F=D[R],E=0,k=(O=this.childsByName(F,"Tracking")).length;E<k;E++)d=(M=O[E]).getAttribute("event"),H=this.parseNodeText(M),null!=d&&null!=H&&(null==(i=r.trackingEvents)[d]&&(i[d]=[]),r.trackingEvents[d].push(H));for(x=0,C=(N=this.childsByName(o,"CompanionClickTracking")).length;x<C;x++)n=N[x],r.companionClickTrackingURLTemplates.push(this.parseNodeText(n));r.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(o,"CompanionClickThrough")),r.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(o,"CompanionClickTracking")),a.variations.push(r)}return a},e.parseJavaScriptResource=function(t){var e,i;return(e=this.parseNodeText(t))?((i=new d).url=e,i):null},e.parseDuration=function(t){var e,i,s,n,r;return null==t?-1:v.isNumeric(t)?parseInt(t):3!==(e=t.split(":")).length?-1:(r=e[2].split("."),n=parseInt(r[0]),2===r.length&&(n+=parseFloat("0."+r[1])),s=parseInt(60*e[1]),i=parseInt(60*e[0]*60),isNaN(i)||isNaN(s)||isNaN(n)||s>3600||n>60?-1:i+s+n)},e.parseXPosition=function(t){return"left"===t||"right"===t?t:parseInt(t||0)},e.parseYPosition=function(t){return"top"===t||"bottom"===t?t:parseInt(t||0)},e.parseBoolean=function(t){return"true"===t||"TRUE"===t||"1"===t},e.parseNodeText=function(t){return t&&(t.textContent||t.text||"").trim()},e.copyNodeAttribute=function(t,e,i){var s;if(s=e.getAttribute(t))return i.setAttribute(t,s)},e.parseCreativeAdIdAttribute=function(t){return t.getAttribute("AdID")||t.getAttribute("adID")||t.getAttribute("adId")||null},e}(),e.exports=g},{"./ad":2,"./companionad":4,"./creative":5,"./extension":6,"./extensionchild":7,"./icon":8,"./mediafile":10,"./nonlinear":11,"./response":13,"./urlhandler":15,"./util":18,"./verification":19,events:1}],13:[function(t,e,i){var s;s=function(){return function(){this.ads=[],this.errorURLTemplates=[],this.macros={}}}(),e.exports=s},{}],14:[function(t,e,i){var s,n,r,o,a,d,u,l={}.hasOwnProperty;n=t("./client"),u=t("./util"),o=t("./creative").VASTCreativeLinear,a=t("./nonlinear"),r=t("./companionad"),s=t("events").EventEmitter,d=function(t){function e(t,e,i,s){var d,u,l;for(d in this.ad=t,this.creative=e,this.variation=null!=i?i:null,this.macros=null!=s?s:{},this.muted=!1,this.impressed=!1,this.viewImpressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],this._alreadyTriggeredQuartiles={},l=this.creative.trackingEvents)u=l[d],this.trackingEvents[d]=u.slice(0);this.creative instanceof o?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1,this.clickTrackingURLTemplates=this.creative.nonlinearClickTrackingURLTemplates,this.variation&&(this.variation instanceof a?this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate:this.variation instanceof r&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates))),this.on("start",function(){n.lastSuccessfullAd=+new Date})}return function(t,e){for(var i in e)l.call(e,i)&&(t[i]=e[i]);function s(){this.constructor=t}s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype}(e,s),e.off=function(t,e){return this.removeListener(t,e)},e.prototype.setDuration=function(t){return this.assetDuration=t,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},e.prototype.setProgress=function(t){var e,i,s,n,r,o,a,d,u;if(-1===(d=null===this.skipDelay?this.skipDelayDefault:this.skipDelay)||this.skipable||(d>t?this.emit("skip-countdown",d-t):(this.skipable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){if(i=[],t>0)for(o in i.push("start"),r=Math.round(t/this.assetDuration*100),i.push("progress-"+r+"%"),i.push("progress-"+Math.round(t)),a=this.quartiles)u=a[o],this.isQuartileReached(o,u,t)&&(i.push(o),this._alreadyTriggeredQuartiles[o]=!0);for(s=0,n=i.length;s<n;s++)e=i[s],this.track(e,!0);t<this.progress&&this.track("rewind")}return this.progress=t},e.prototype.isQuartileReached=function(t,e,i){var s;return s=!1,e<=i&&!this._alreadyTriggeredQuartiles[t]&&(s=!0),s},e.prototype.setMuted=function(t){return this.muted!==t&&this.track(t?"mute":"unmute"),this.muted=t},e.prototype.setPaused=function(t){return this.paused!==t&&this.track(t?"pause":"resume"),this.paused=t},e.prototype.setFullscreen=function(t){return this.fullscreen!==t&&this.track(t?"fullscreen":"exitFullscreen"),this.fullscreen=t},e.prototype.setExpand=function(t){return this.expanded!==t&&this.track(t?"expand":"collapse"),this.expanded=t},e.prototype.setSkipDelay=function(t){if("number"==typeof t)return this.skipDelay=t},e.prototype.load=function(t){if(null==t&&(t=!0),!this.impressed&&(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),t))return this.track("creativeView")},e.prototype.errorWithCode=function(t){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:t})},e.prototype.complete=function(){return this.track("complete")},e.prototype.close=function(){return this.track(this.linear?"closeLinear":"close")},e.prototype.stop=function(){},e.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},e.prototype.click=function(){var t,e,i;if((null!=(e=this.clickTrackingURLTemplates)?e.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate)return this.linear&&(i={CONTENTPLAYHEAD:this.progressFormated()}),t=u.resolveURLTemplates([this.clickThroughURLTemplate],i)[0],this.emit("clickthrough",t)},e.prototype.track=function(t,e){var i,s;null==e&&(e=!1),"closeLinear"===t&&null==this.trackingEvents[t]&&null!=this.trackingEvents.close&&(t="close"),s=this.trackingEvents[t],i=this.emitAlwaysEvents.indexOf(t),null!=s?(this.emit(t,""),this.trackURLs(s)):-1!==i&&this.emit(t,""),!0===e&&(delete this.trackingEvents[t],i>-1&&this.emitAlwaysEvents.splice(i,1))},e.prototype.trackViewabilityImpression=function(t){return this.viewImpressed||(this.viewImpressed=!0),this.ad.viewableImpressionURLTemplates[t]&&this.trackURLs(this.ad.viewableImpressionURLTemplates[t]),this.track(t)},e.prototype.trackURLs=function(t,e){var i;return null==e&&(e={}),this.linear&&(null!=(null!=(i=this.creative.mediaFiles[0])?i.fileURL:void 0)&&(e.ASSETURI=this.creative.mediaFiles[0].fileURL),e.CONTENTPLAYHEAD=this.progressFormated()),u.track(t,e,this.macros)},e.prototype.progressFormated=function(){var t,e,i,s;return(t=(s=parseInt(this.progress))/3600).length<2&&(t="0"+t),(e=s/60%60).length<2&&(e="0"+e),(i=s%60).length<2&&(i="0"+e),t+":"+e+":"+i+"."+parseInt(100*(this.progress-s))},e}(),e.exports=d},{"./client":3,"./companionad":4,"./creative":5,"./nonlinear":11,"./util":18,events:1}],15:[function(t,e,i){var s,n,r;r=t("./urlhandlers/xmlhttprequest"),n=t("./urlhandlers/flash"),s=function(){function e(){}return e.get=function(e,i,s){var o,a;return s||("function"==typeof i&&(s=i),i={}),null!=i.response?(a=i.response,delete i.response,s(null,a)):(null!=(o=i.urlhandler)?o.supported():void 0)?i.urlhandler.get(e,i,s):"undefined"==typeof window||null===window?t("./urlhandlers/node").get(e,i,s):r.supported()?r.get(e,i,s):n.supported()?n.get(e,i,s):s(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))},e}(),e.exports=s},{"./urlhandlers/flash":16,"./urlhandlers/xmlhttprequest":17}],16:[function(t,e,i){var s;s=function(){function t(){}return t.xdr=function(){var t;return window.XDomainRequest&&(t=new XDomainRequest),t},t.supported=function(){return!!this.xdr()},t.get=function(t,e,i){var s,n;return(n="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(n.async=!1,(s=this.xdr()).open("GET",t),s.timeout=e.timeout||0,s.withCredentials=e.withCredentials||!1,s.send(),s.onprogress=function(){},s.onload=function(){return n.loadXML(s.responseText),i(null,n)}):i(new Error("FlashURLHandler: Microsoft.XMLDOM format not supported"))},t}(),e.exports=s},{}],17:[function(t,e,i){var s;s=function(){function t(){}return t.xhr=function(){var t;if("withCredentials"in(t=new window.XMLHttpRequest))return t},t.supported=function(){return!!this.xhr()},t.get=function(t,e,i){var s;if("https:"===window.location.protocol&&0===t.indexOf("http://"))return i(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{return(s=this.xhr()).open("GET",t),s.timeout=e.timeout||0,s.withCredentials=e.withCredentials||!1,s.overrideMimeType&&s.overrideMimeType("text/xml"),s.onreadystatechange=function(){if(4===s.readyState)return 200===s.status?i(null,s.responseXML):i(new Error("XHRURLHandler: "+s.statusText))},s.send()}catch(t){return i(new Error("XHRURLHandler: Unexpected error"))}},t}(),e.exports=s},{}],18:[function(t,e,i){var s;s=function(){function t(){}return t.track=function(t,e,i){var s,n,r,o,a,d;for(d=[],o=0,a=(n=this.resolveURLTemplates(t,e,i)).length;o<a;o++)s=n[o],"undefined"!=typeof window&&null!==window&&(r=new Image,d.push(r.src=s));return d},t.resolveURLTemplates=function(t,e){var i,s,n,r,o,a,d,u;for(null==e&&(e={}),i=[],null!=e.ASSETURI&&(e.ASSETURI=this.encodeURIComponentRFC3986(e.ASSETURI)),null!=e.CONTENTPLAYHEAD&&(e.CONTENTPLAYHEAD=this.encodeURIComponentRFC3986(e.CONTENTPLAYHEAD)),null==e.ERRORCODE||/^[0-9]{3}$/.test(e.ERRORCODE)||(e.ERRORCODE=900),e.CACHEBUSTING=this.leftpad(Math.round(1e8*Math.random()).toString()),e.TIMESTAMP=this.encodeURIComponentRFC3986((new Date).toISOString()),e.RANDOM=e.random=e.CACHEBUSTING,s=0,r=t.length;s<r;s++)if(d=t[s]){for(n in e)u=e[n],o="["+n+"]",a="%%"+n+"%%",d=(d=d.replace(o,u)).replace(a,u);i.push(d)}return i},t.encodeURIComponentRFC3986=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})},t.leftpad=function(t){return t.length<8?function(){var e,i,s;for(s=[],e=0,i=8-t.length;0<=i?e<i:e>i;0<=i?e++:e--)s.push("0");return s}().join("")+t:t},t.storage=function(){var t,e;try{e="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(t){t,e=null}return(null==e||function(t){var e;try{if(e="__VASTUtil__",t.setItem(e,e),t.getItem(e)!==e)return!0}catch(t){return t,!0}return!1}(e))&&(t={},e={length:0,getItem:function(e){return t[e]},setItem:function(e,i){t[e]=i,this.length=Object.keys(t).length},removeItem:function(e){delete t[e],this.length=Object.keys(t).length},clear:function(){t={},this.length=0}}),e}(),t.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},t}(),e.exports=s},{}],19:[function(t,e,i){var s,n,r={}.hasOwnProperty;s=function(){return function(){this.url=null,this.type=null}}(),n=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.type="javascript"}return function(t,e){for(var i in e)r.call(e,i)&&(t[i]=e[i]);function s(){this.constructor=t}s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype}(e,s),e}(),e.exports={VASTAdVerificationJavaScript:n}},{}]},{},[9])(9)},t.exports=n()},function(t,e,i){i(44);var s=i(0),n=function(){};n.prototype.checkUrl=function(t){var e=this.getVendorData(t);return!e||(!e.restrictions||this.checkVendorLegitimate(e))},n.prototype.checkVendorLegitimate=function(t){if(void 0===window.publisherPolicy)return!0;if(void 0===window.publisherPolicy.publisherRestriction)return!0;var e=window.publisherPolicy.publisherRestriction;if(!e[0].consentObtained.length)return!1;function i(){for(var i=[],s=0;s<e[0].consentObtained.length;s++){var n=e[0].consentObtained[s];t.restrictions.indexOf(n)>=0&&i.push(n)}return i.length===t.restrictions.length}if(!e[t.id])return i();if(e[t.id]){for(var s=!1,n=0;n<t.restrictions.length;n++){var r=t.restrictions[n];e[t.id].notAllowed.indexOf(r)>=0&&(s=!0)}return!s&&i()}},n.prototype.getVendorData=function(t){var e=s("vendorId",t),i=(s("vendorRestr",t)||"").split(",");return!!e&&{id:e,restrictions:i}},t.exports=n},function(t,e){t.exports=function(t,e){return t&&t.length>e?t.substring(0,e-"...too_long".length)+"...too_long":t}},function(t,e,i){"use strict";function s(){}function n(t,e,i){var s=document.createElement("iframe");return s.src=e||"about:blank",s.marginWidth="0",s.marginHeight="0",s.frameBorder="0",s.width="100%",s.height="100%",r(s),i&&(s.style.zIndex=i),s.setAttribute("SCROLLING","NO"),s.setAttribute("allowfullscreen","true"),s.setAttribute("allow","autoplay; fullscreen;"),t.innerHTML="",t.appendChild(s),s}function r(t){t&&(t.style.position="absolute",t.style.left="0",t.style.top="0",t.style.margin="0px",t.style.padding="0px",t.style.border="none",t.style.width="100%",t.style.height="100%")}function o(t,e){return Object.keys(e).forEach(function(i){var s="object"==typeof s?JSON.stringify(e[i]):e[i];t=t.replace(new RegExp("{{"+i+"}}","g"),s)}),t}function a(t,e){var i=t.contentWindow&&t.contentWindow.document;return!!i&&(i.write(e),i.close(),!0)}t.exports={noop:s,validate:function(t,e){return t?null:new Error(e)},callbackTimeout:function(t,e,i){var n;return n=setTimeout(function(){e=s,i()},t),function(){e.apply(this,arguments)&&clearTimeout(n)}},createElementInEl:function(t,e,i){var s=document.createElement(e);return i&&(s.id=i),t.appendChild(s),s},createIframeWithContent:function(t,e,i){var s=n(t,null,i.zIndex);if(a(s,o(e,i)))return s},createIframe:n,setFullSizeStyle:r,simpleTemplate:o,setIframeContent:a,extend:function(t,e){return Object.keys(e).forEach(function(i){t[i]=e[i]}),t},unique:function(t){var e=-1;return function(){return t+"_"+ ++e}}}},function(t,e){var i=function(){};i.prototype.getArvisterData=function(t,e){return t=t||";",window.SH_ARVISTER&&window.SH_ARVISTER.pp?e>=0?window.SH_ARVISTER.pp.c_kwrds&&window.SH_ARVISTER.pp.c_kwrds.length&&window.SH_ARVISTER.pp.c_kwrds[e]||"":(window.SH_ARVISTER.pp.c_kwrds||[]).join(t):""},i.prototype.getEmetriqData=function(t){return t=t||";",(window.emq_sh||"").replace(/,/g,t)},i.prototype.getMixTgtData=function(t){return t=t||";",[this.getArvisterData(t),this.getEmetriqData(t)].filter(function(t){return t}).join(t)},i.prototype.getMixGamDataEncoded=function(t){t=t||";";var e=[];return this.getEmetriqData(t)&&e.push("emeq="+this.getEmetriqData(t)),this.getArvisterData(t)&&e.push("arvs="+this.getArvisterData(t)),encodeURIComponent(e.filter(function(t){return t}).join("&"))},t.exports=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"INSTREAM_FORMATS",function(){return s});var s={linear:10,nonlinear:12}},function(t,e){t.exports=function(t){var e=/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/g.exec(t);return e&&e.length>1?e[1]:""}},function(t,e,i){var s=i(25),n=i(26),r=i(21),o=i(30),a=i(24),d=i(27),u=(i(19),i(17)),l=i(23),p=i(18),c=i(3),h=i(20),b=i(35),f=3e3,g=3e3;window.currentCreative="";var m=function(t,e,i,s){this.config=t,this.prebidConfig=e,this.eventBus=i,this.customMacros=s,window.SH_DEBUG=t.debug;this.noadPassbackReadyToSet=!1,this.nonlinearEnabled=t.adConfig.nonLinear&&10==t.adConfig.nonLinear.position,this.nonlinear=!1,this.adOnly=!t.playlistVASTURL,this.contentOnly=(!1===t.adConfig.enabled||!t.adConfig.VASTs.length)&&void 0===e,this.hasDisplayBidders=void 0!==e&&(e.adUnits.display&&e.adUnits.display.bids.length||e.smartAdServerTag.enabled&&e.smartAdServerTag.displayFormatId),this.hasVideoBidders=void 0!==e&&(e.adUnits.video&&e.adUnits.video.bids.length||e.smartAdServerTag.enabled&&e.smartAdServerTag.videoFormatId),this.hasNonLinearBidders=void 0!==e&&e.adUnits.nonLinear&&e.adUnits.nonLinear.bids.length&&this.nonlinearEnabled,this.hasSasVideoFormat=void 0!==e&&e.smartAdServerTag.enabled&&e.smartAdServerTag.videoFormatId,this.videoTagsDefaultCPM=void 0!==e&&e.videoTagsDefaultCPM||10,this.noadWasCalled=!1,this.displayOrSasIsShowed=!1,this.aspectRatio=t.aspectRatio,this.googleTagAdsEnabled=t.adConfig.GoogleTagAdsEnabled&&t.adConfig.GoogleTagAdsScriptSettings&&t.adConfig.GoogleTagAdsScriptSettings.adsUnitPath,this.switchInAdsEnabled=t.adConfig.switchIn&&t.adConfig.switchIn.recognified&&t.adConfig.switchIn.recognified.enabled,this.prefetchingMode=t.adConfig.prefetchingMode,this.playerWidth=this.config.size.width||document.body.clientWidth,this.playerHeight=this.config.size.height||document.body.clientHeight,this.playerFixedSizes=this.config.size.width&&this.config.size.height,this.waitTgt=!0;var n=this.hasDisplayBidders&&!this.config.adConfig.display.displayVPAIDXML;this.previewCoverEnabled=(this.hasVideoBidders||this.switchInAdsEnabled||this.config.playerOptions.advasttag||this.config.adConfig.VASTs.length||this.config.adConfig.display.displayVPAIDXML)&&!n&&!this.config.playerOptions.vpaid&&!this.config.playerOptions.noad&&!this.adOnly,this.auctionRequests=function(){if(!this.notLoadingPrebid)if(this.waitTgt)setTimeout(this.auctionRequests.bind(this),50);else if(void 0!==this.prebidConfig&&(this.hasDisplayBidders||this.hasVideoBidders||this.hasNonLinearBidders)){this.pubtag.message({intent:"setKeywords",config:{keywords:{arv:window.SH_ARVISTER&&window.SH_ARVISTER.pp&&window.SH_ARVISTER.pp.c_kwrds?window.SH_ARVISTER.pp.c_kwrds:[],emetrq:window.emq_sh?window.emq_sh.split(","):[]}}}),this.hasVideoBidders?this.pubtag.startVideoAuction():this.hasDisplayBidders&&!this.config.adConfig.VASTs.length&&this.pubtag.startDisplayAuction(),this.hasNonLinearBidders&&this.pubtag.startNonLinearAuction()}},this.adsRequests=function(){if(this.waitTgt)setTimeout(this.adsRequests.bind(this),50);else{if(this.config.playerOptions.advasttag){var t=this.config.playerOptions.advasttag;return!1===/commercial\/wrapper/g.test(t)&&this.prebidConfig&&(t=this.prebidConfig.adserverMasterTag+encodeURIComponent(t)),this.requester.makeRequest(t,{method:"GET",priorityTimeout:6e3,bid:{bidder:"showheroes",cpm:"",defaultCpm:this.videoTagsDefaultCPM,adId:"vast_bs"}}),void(this.config.playerOptions.advasttag=null)}if(this.config.adConfig.VASTs.length)for(var e=0;e<this.config.adConfig.VASTs.length;e++)this.requester.makeRequest(this.config.adConfig.VASTs[e],{method:"GET",priorityTimeout:0===e?6e3:null,bid:{bidder:"showheroes",cpm:"",defaultCpm:this.videoTagsDefaultCPM,adId:"vast_"+(e+1)},sourceUrl:this.config.adConfig.origVASTs[e]});this.config.adConfig.display.displayVPAIDXML&&this.requester.makeRequest(this.config.adConfig.display.displayVPAIDXML,{method:"inline",bid:{bidder:"showheroes",cpm:this.config.adConfig.display.cpm,adId:"vast_display"},extraAd:!0})}},this.setCMPData=function(t){window.gdpr={consentData:t.consentData?t.consentData:"",gdprApplies:void 0!==t.gdprApplies?t.gdprApplies?1:0:"",hasGlobalScope:t.hasGlobalScope?t.hasGlobalScope:""},t.publisherPolicy&&(window.publisherPolicy=t.publisherPolicy)},this.setNoad=function(){this.noadWasCalled=!0,this.pubtag.setNoadPassback(this.config.playerOptions.vpaid,this.macro.replace(this.config.tracking.video.noadPassback),this.macro.replace(t.tracking.video.noadPassbackError))}};m.prototype.init=function(){var t=this;this.gdprPurposes=new c,this.setCMPData(this.config.playerOptions);var e="//dyn.emetriq.de/loader/44907/default.js?vendorId=213&vendorRestr=1,9";if(!0===this.gdprPurposes.checkVendorLegitimate({id:111,restrictions:["4"]})&&!0===this.gdprPurposes.checkUrl(e)&&1==this.config.macros.opt_state){var i=document.createElement("script"),h="";window.gdpr.consentData&&void 0!==window.gdpr.gdprApplies&&(h="&gdpr_consent="+window.gdpr.consentData+"&gdpr="+window.gdpr.gdprApplies),i.src=e+h,document.head.appendChild(i)}this.pubsub=new s(this.config.debug),this.pubtag=new n(this.pubsub,this.config.debug,this.eventBus,this.config.aspectRatio),this.pubtag.setupMessagesListner(),window.pubtagGateway=function(){return t.pubtag};window.Image=class extends window.Image{constructor(){super();var t=this;this.addEventListener("error",function(e){!window.trackerDebugPixel&&t.src&&t.src.indexOf("showheroes")>=0&&window.pubtagGateway&&(window.trackerDebugPixel=!0,window.pubtagGateway().sendDebugMessage(t.src))})}},this.config.playerOptions.vpaid&&this.pubtag.message({intent:"vpaidMode",active:!0}),this.config.adConfig.ampActMode&&this.pubtag.message({intent:"ampActivationMode",mode:this.config.adConfig.ampActMode}),this.pubtag.message({intent:"stickySettings",config:{closeOnSwipe:this.config.closeOnSwipe}}),this.macro=new r(this.pubtag,this.config.macros,this.config.aspectRatio,this.config.size,this.config.isHTTPS),this.macro.extendMacros(this.customMacros);var f,m,v=this.config.tracking;this.config.adConfig.nonLinear&&(v=Object.assign(v,{nonLinear:this.config.adConfig.nonLinear.tracking})),this.tracker=new o(this.macro,this.pubsub,v,this.config.playerId),this.tracker.setEventListeners(),this.adQueue=new u(this.pubsub),this.requester=new d(this.pubsub,this.tracker,this.macro,this.adQueue,function(e){if(t.token_getAds=!1,!t.displayOrSasIsShowed){var i=100;e&&(t.hasVideoBidders||t.nonlinearEnabled)&&(i=g),t.pubtag.getReadyAdFromFlow(i)}},this.config,this.playerWidth,this.playerHeight,this.pubtag,this.adOnly),this.requester.setEventListeners(),this.playerController=new l(this.pubsub,this.tracker,this.config,this.pubtag,this.adOnly,this.contentOnly,this.previewCoverEnabled),this.pubtag.addPlayerController(this.playerController),this.playerController.init(),this.playerController.setEventListeners(),this.AdVerification=new p(this.pubsub,this.playerController,this.pubtag),this.AdVerification.setEventListeners(),this.notLoadingPrebid=!1,this.hasNonLinearBidders&&(m=(f=this.prebidConfig.adUnits.nonLinear.bids).find(function(t){return"adways"===t.bidder})),void 0!==this.prebidConfig&&!this.hasDisplayBidders&&!this.hasVideoBidders&&this.hasNonLinearBidders&&1===f.length&&m&&(this.notLoadingPrebid=!0),m&&this.pubtag.message({intent:"adways.renderAd",params:m.params}),void 0!==this.prebidConfig&&(this.hasDisplayBidders||this.hasVideoBidders||this.hasNonLinearBidders)&&!this.notLoadingPrebid&&(this.prebidConfig.sizes={maxHeight:this.config.adConfig.display.maxHeight,maxWidth:this.config.adConfig.display.maxWidth,responsiveBidders:this.config.adConfig.display.responsiveBidders,spotAdAlign:this.config.adConfig.display.spotAdAlign},this.prebidConfig.gdpr=window.gdpr,this.prebidConfig.playerWidth=this.playerWidth,this.pubtag.message({intent:"setupPrebid",config:this.prebidConfig}),this.prebid=new a(this.pubsub,this.requester,this.pubtag,this.adQueue,this.config,this.prebidConfig),this.prebid.setEventListeners()),this.switchInAdsEnabled&&this.pubtag.message({intent:"renderSwitchInAd",partner:"recognified",pubId:this.config.adConfig.switchIn.recognified.pubId,src:"https://cdn.recognified.net/rd.loader.php?pub_id="+this.config.adConfig.switchIn.recognified.pubId});var y=0,w=setInterval(function(){y++,(window.emq_sh&&window.SH_ARVISTER||y>6)&&(t.waitTgt=!1,clearInterval(w))},50);b(function(e){e&&t.tracker.trackBlockedPlayer(e)})},m.prototype.run=function(){var t=this;"click"===this.prefetchingMode?(f=30,this.pubsub.subscribe("controls.clickToPlay",function(){g=99999,document.querySelector("#control-clickToPlay").classList.add("hidden"),document.querySelector("#control-loading").classList.remove("hidden"),t.runAds()})):"viewport"===this.prefetchingMode?(f=30,this.viewportAdPrefetch_token=this.pubsub.subscribe("pubtag.play",function(){document.querySelector("#control-loading").classList.remove("hidden"),g=99999,t.runAds(),t.pubsub.unsubscribe(t.viewportAdPrefetch_token),t.adPlaced_token=t.pubsub.subscribe("motion.ad.placed",function(){document.querySelector("#control-loading").classList.add("hidden"),t.pubsub.unsubscribe(t.adPlaced_token)}),t.adMissed_token=t.pubsub.subscribe("spot.adIsMissed",function(){document.querySelector("#control-loading").classList.add("hidden"),t.pubsub.unsubscribe(t.adMissed_token)})})):this.runAds(),!this.contentOnly&&(this.hasDisplayBidders||this.hasVideoBidders||this.switchInAdsEnabled||this.googleTagAdsEnabled||this.config.playerOptions.advasttag||this.config.adConfig.VASTs.length||this.config.playerOptions.vpaid||this.config.playerOptions.noad||this.adOnly)||(this.pubsub.publish("spot.adIsMissed"),this.pubsub.publish("player.start")),!0===this.previewCoverEnabled&&this.pubsub.publish("player.start")},m.prototype.runAds=function(){this.pubtag.setAdSettings({timeout:f,noadJS:this.config.adConfig.noadJS,noadFallbackPlayer:this.config.adConfig.noadPassbackPlayerId}),this.adsRequests(),this.auctionRequests(),this.nonlinearEnabled&&this.config.adConfig.nonLinear.backfill&&this.config.adConfig.nonLinear.backfill.enabled&&this.config.adConfig.nonLinear.backfill.html&&this.requester.makeRequest(this.requester.getNonlinearWrapper(this.config.adConfig.nonLinear.backfill.html,this.config.adConfig.nonLinear.backfill.width,this.config.adConfig.nonLinear.backfill.height),{method:"inline",bid:{bidder:"showheroes-nl",cpm:this.config.adConfig.nonLinear.backfill.cpm||.1,adId:"vast_nonlinear",isBackfill:!0}}),this.config.playerOptions.sasCookieSync&&this.config.playerOptions.sasCookieSync.enabled&&(this.pubtag.sasCookieSync(this.config.playerOptions.sasCookieSync,window.gdpr),this.config.tracking.debug["sas-cookie-sync"]&&this.tracker.sendPixel(this.config.tracking.debug["sas-cookie-sync"]))},m.prototype.setEventListeners=function(){var t=this;Math.floor(20*Math.random())+1==1&&this.pubsub.subscribe("spot.adToPlay",function(e,i){var s,n=i.ads,r={};if(n&&n.creative&&(s=i.ads.creative.duration),n&&n.tracker){var o=i.ads.tracker.macros;o&&(r.level1=o["[sas_advertiserId]"]||"111",r.level2=o["[sas_campaignId]"]||"111",r.level3=o["[sas_insertionId]"]||"111",r.level4=o["[sas_rtb_externalDealId]"]||"111",r.slicer1=o["[sas_siteId]"]||"111",r.slicer2=o["[sas_pageId]"]||"111")}new h(t.pubsub,r,s)}),this.pubsub.subscribe("spot.close",function(e,i){t.pubtag.setShape({aspectRatio:0,width:t.playerFixedSizes&&1,height:t.playerFixedSizes&&1}),t.pubtag.setHeader(""),t.pubtag.removeCaptions()}),this.pubsub.subscribe("pubtag.cmpData",function(e,i){t.setCMPData(i.data)}),this.pubsub.subscribe("pubtag.aspectRatio",function(e,i){t.aspectRatio=i.value}),this.pubsub.subscribe("player.carousel.stopped",function(e){t.adOnly||t.pubtag.setCarouselPassback(t.macro.replace(t.config.tracking.video.carouselPassback))}),this.pubsub.subscribe("pubtag.vpaid.AdClickThru",function(e,i){t.pubtag.openUrl(i.url)}),this.pubsub.subscribe("spot.checkAdInQueue",function(e){t.pubtag.getReadyAdFromFlow(100)});var e=this.pubsub.subscribe("spot.adVastResponse",function(){t.pubtag.message({intent:"adIsReady"}),t.pubtag.sendMessageToPubtagApi("spot.video.ready"),t.pubsub.unsubscribe(e)}),i=this.pubsub.subscribe("spot.setAdToPlayer",function(){!t.frameViewableCalled&&t.config.adConfig.oovaMode&&(Math.floor(100*Math.random())+1<=100*t.config.adConfig.oovaModePerc&&(t.pubtag.pubtagPlayerApi.incomingIntent("mute"),t.pubsub.publish("pubtag.play",{params:"&shps=oova:1"})));t.pubsub.unsubscribe(i)});this.pubsub.publish("spot.loaded",{params:(t.config.playerOptions.noad?"&shps=nap:1":"")+(t.config.playerOptions.safeframe?"&sfd=1":"")}),this.pubsub.subscribe("spot.adAddedInQueue",function(e,i){t.pubtag.addAdToFlow(i)}),this.pubsub.subscribe("pubtag.adIsReadyToShow",function(e,i){i.ad&&t.adQueue.showAd(i.ad)}),this.pubsub.subscribe("pubtag.gptRendered",function(e,i){t.googleTagAdsRendered=!0,t.pubtag.sendMessageToPubtagApi("spot.display.ready")}),this.pubsub.subscribe("pubtag.gptNoad",function(e,i){t.googleTagAdsRendered=!1,t.pubtag.getReadyAdFromFlow(300)}),this.token_getAds=!1,this.pubsub.subscribe("spot.requestToAd",function(e,i){t.pubsub.publish("player.adRequestIsWating",{paused:t.playerController.playerPaused}),t.adQueue.lastAdVastIdSetted=null,t.requester.resetAds(),t.pubtag.getReadyAdFromFlow(null,"video"),t.token_getAds||(t.token_getAds=t.pubsub.subscribe("pubtag.nothingToShow",function(e,i){t.pubtag.clearAdsFromAdFlow("video"),t.adsRequests(),t.hasVideoBidders&&t.pubtag.startVideoAuction(),t.pubsub.unsubscribe(t.token_getAds)}))});var s=this.pubsub.subscribe("spot.nonlinear.add",function(e,i){t.nonlinear=!0,t.pubsub.unsubscribe(s)});this.pubsub.subscribe("pubtag.noadNotSetted",function(e,i){!0===t.adOnly||t.config.playerOptions.vpaid||(t.pubsub.publish("player.start"),t.pubsub.publish("spot.adIsMissed"))}),this.pubsub.subscribe("pubtag.nothingToShow",function(e,i){t.adOnly&&t.config.playerOptions.vpaid&&t.playerController.playerStarted&&!t.token_getAds?t.pubtag.sendMessageToPubtagApi("player.stopped",{playerId:t.config.playerId}):t.noadPassbackReadyToSet||t.googleTagAdsRendered||(t.hasSasVideoFormat&&!t.videoAuctionIsEndedWithoutAds&&!1===t.playerController.playerStarted?(t.pubtag.message({intent:"checkSmartHBVideoAds"}),t.pubtag.getReadyAdFromFlow(2e3),t.videoAuctionIsEndedWithoutAds=!0):!1===t.playerController.playerStarted||!0===t.playerController.playerStarted&&!0===t.adOnly?!t.hasDisplayBidders||t.displayOrSasIsShowed||t.displayAuctionIsEndedWithoutAds||t.nonlinear?t.displayOrSasIsShowed||t.config.adConfig.postNoAdAttemptsEnabled||t.config.adConfig.display.displayVPAIDXML||t.googleTagAdsLoaded||!t.googleTagAdsEnabled?t.config.playerOptions.noad&&!t.displayOrSasIsShowed&&!t.config.adConfig.postNoAdAttemptsEnabled&&!t.config.adConfig.display.displayVPAIDXML&&!t.nonlinear||t.config.playerOptions.vpaid?(t.pubtag.sendMessageToPubtagApi("spot.noad",{playerId:t.config.playerId}),"load"===t.config.adConfig.noadTriggerMode||"viewport"===t.config.adConfig.noadTriggerMode&&!0===t.frameViewableCalled||t.config.playerOptions.vpaid?t.noadWasCalled||("viewport"!==t.config.adConfig.noadTriggerMode||t.config.playerOptions.vpaid?t.setNoad():setTimeout(function(){t.setNoad()},300)):t.noadPassbackReadyToSet=!0):"click"===t.prefetchingMode?t.pubsub.publish("player.start"):!0!==t.adOnly?(t.adQueue.hasExtra()?t.adQueue.addExtraAdToQueue():(t.pubsub.publish("spot.adIsMissed"),t.nonlinear&&t.requester.allAdVastsEmpty&&!t.config.adConfig.postNoAdAttemptsEnabled&&t.pubsub.publish("spot.ad.nonlinearOnly")),t.pubsub.publish("player.start")):!0!==t.playerController.playerStarted||!0!==t.adOnly||t.token_getAds?!0===t.adOnly&&t.pubtag.sendMessageToPubtagApi("spot.noad",{playerId:t.config.playerId}):(t.pubsub.publish("spot.stopPlayer"),t.pubsub.publish("spot.close")):(t.pubtag.message({intent:"showGoogleAd",adsUnitPath:t.config.adConfig.GoogleTagAdsScriptSettings.adsUnitPath,adsSizes:t.config.adConfig.GoogleTagAdsScriptSettings.adsSizes}),t.googleTagAdsLoaded=!0):(t.pubtag.startDisplayAuction(),t.pubtag.getReadyAdFromFlow(3e3)):!0!==t.playerController.playerStarted||!0===t.adOnly||t.token_getAds||(t.adQueue.hasExtra()?t.adQueue.addExtraAdToQueue():t.pubsub.publish("spot.adIsMissed")))}),this.pubsub.subscribe("pubtag.auctionIsEnded",function(e,i){"display"!==i.type||t.playerController.playerStarted||t.pubtag.getReadyAdFromFlow(f),"display"===i.type&&!0===i.empty&&(t.displayAuctionIsEndedWithoutAds=!0),"video"===i.type&&!0===i.empty?t.videoAuctionIsEndedWithoutAds=!0:"video"!==i.type||i.empty||(t.videoAuctionIsEndedWithoutAds=!1)}),this.pubsub.subscribe("spot.getReadyDisplayAd",function(e,i){t.hasDisplayBidders?(t.pubtag.startDisplayAuction(),t.pubtag.clearAdsFromAdFlow("video"),t.pubtag.getReadyAdFromFlow(3e3)):t.pubsub.publish("spot.close")}),this.pubsub.subscribe("player.ad.getFromCache",function(e,i){t.requester.parseAdFromCache(i.vastId),t.pubtag.getReadyAdFromFlow(5e3)}),this.pubsub.subscribe("player.prefetchVast",function(e,i){!0!==t.adOnly&&t.pubtag.getNextReadyAdFromFlow()}),this.pubsub.subscribe("pubtag.nextAdReadyToShow",function(e,i){t.adQueue.lastAdVastIdSetted&&(i.ad&&t.adQueue.lastAdVastIdSetted===i.ad.vastId||t.requester.doubleRequest(t.adQueue.lastAdVastIdSetted))}),this.pubsub.subscribe("spot.requestToContent",function(e,i){t.pubsub.publish("player.contenRequestIsWating"),t.requester.makeRequest(i.url,{isContent:!0})});var n=this.pubsub.subscribe("pubtag.play",function(){t.frameViewableCalled=!0,!0!==t.noadPassbackReadyToSet||t.noadWasCalled||setTimeout(function(){t.setNoad()},300),t.pubsub.unsubscribe(n)});if(this.config.adConfig.enabled&&this.config.adConfig.fastAdDeliveryEnabled&&"load"===this.prefetchingMode&&!this.config.playerOptions.vpaid)var r=this.pubsub.subscribe("pubtag.play",function(e,i){t.playerController.playerStarted||t.displayOrSasIsShowed||t.noadPassbackReadyToSet||t.googleTagAdsRendered||t.pubtag.getReadyAdFromFlow(f),t.pubsub.unsubscribe(r)});this.pubsub.subscribe("spot.displayRendered",function(e,i){t.displayOrSasIsShowed=!0,t.pubtag.sendMessageToPubtagApi("spot.display.ready")}),this.pubsub.subscribe("pubtag.smartFormatWon",function(e,i){t.displayOrSasIsShowed=!0,t.pubtag.sendMessageToPubtagApi("spot.display.ready")}),this.pubsub.subscribe("spot.open",function(e,i){t.spotOpened=!0,i&&i.display?(t.config.displayFrameHeaderHtml&&t.pubtag.setHeader(t.config.displayFrameHeaderHtml),1==t.config.playerOptions.footer&&1==t.config.displayFooterPoweredByPosition?t.pubtag.setCaptions(t.config.playerOptions.poweredBy):t.pubtag.removeCaptions()):t.config.playerOptions.vpaid||(t.config.frameHeaderHtml&&t.pubtag.setHeader(t.config.frameHeaderHtml),1==t.config.playerOptions.footer&&1==t.config.footerPoweredByPosition&&t.pubtag.setCaptions(t.config.playerOptions.poweredBy)),i&&i.display&&i.dontRenderInframe?t.pubtag.setShape({aspectRatio:0}):i&&i.display&&t.prebidConfig&&t.prebidConfig.sizes&&t.prebidConfig.sizes.responsiveBidders.indexOf(i.adId)<0&&t.prebidConfig.sizes.maxWidth&&t.prebidConfig.sizes.maxHeight?t.pubtag.setShape({aspectRatio:1/(t.prebidConfig.sizes.maxHeight/t.prebidConfig.sizes.maxWidth),width:t.prebidConfig.sizes.maxWidth,height:t.prebidConfig.sizes.maxHeight}):t.pubtag.setShape({aspectRatio:1/t.aspectRatio,width:t.config.size.width,height:t.config.size.height,maxWidth:t.config.size.max_width}),t.pubtag.message({intent:"setAnimation"})}),this.pubtag.message({intent:"viewability",intentParam1:this.config.viewability.viewport,intentParam2:this.config.viewability.delay})},window.initSetup=function(t,e){t.dispatchEvent("spot.loaded",{iframeId:window.name});var i=new m(window.SH_playerConfig,window.SH_prebidConfig,t,e);i.init(),i.setEventListeners(),i.run()}},function(t,e,i){var s;window,s=function(){return(i={},t.m=e=[function(t,e,i){"use strict";i.r(e);var s={};function n(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(){if(p()){for(var t,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];(t=console).log.apply(t,n(l.apply(void 0,["MESSAGE:","color: darkseagreen;"].concat(i))))}}function o(){if(p()){for(var t,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];(t=console).log.apply(t,n(l.apply(void 0,["EVENT:","color: lightsteelblue;"].concat(i))))}}function a(){if(p()){for(var t,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];(t=console).info.apply(t,n(l.apply(void 0,["INFO:","color: powderblue;"].concat(i))))}}function d(){if(p()){for(var t,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];(t=console).warn.apply(t,n(l.apply(void 0,["WARNING:","color: lightsalmon;"].concat(i))))}}function u(){if(p()){for(var t,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];(t=console).error.apply(t,n(l.apply(void 0,["ERROR:","color: mediumvioletred;"].concat(i))))}}function l(t,e){for(var i=arguments.length,s=new Array(2<i?i-2:0),n=2;n<i;n++)s[n-2]=arguments[n];var r=s;return r.unshift(e),r.unshift("display: inline-block; color: #fff; background: #00c3dd; padding: 2px 5px 2px 4px; border-radius: 2px;"),r.unshift("%cSH%c ".concat(t)),r}function p(){return window.SH_DEBUG}i.r(s),i.d(s,"logMessage",function(){return r}),i.d(s,"logEvent",function(){return o}),i.d(s,"logInfo",function(){return a}),i.d(s,"logWarn",function(){return d}),i.d(s,"logError",function(){return u});var c=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),s.forEach(function(e){var s,n,r;s=t,r=i[n=e],n in s?Object.defineProperty(s,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[n]=r})}return t}({},s,{EventBus:function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={},this.globalListeners=[]}return function(t,e,i){e&&function(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}(t.prototype,e)}(t,[{key:"addEventListener",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=3<arguments.length&&void 0!==arguments[3]&&arguments[3],n=t,r=!1;t.endsWith(".*")&&(n=t.substring(0,t.length-2),r=!0),this.events[n]||(this.events[n]=[]);var o={handler:e,once:i,withSubEvents:r};return s?this.events[n].unshift(o):this.events[n].push(o),this}},{key:"addGlobalEventListener",value:function(t){var e={handler:t,once:1<arguments.length&&void 0!==arguments[1]&&arguments[1]};return 2<arguments.length&&void 0!==arguments[2]&&arguments[2]?this.globalListeners.unshift(e):this.globalListeners.push(e),this}},{key:"once",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return this.addEventListener(t,e,!0,i)}},{key:"removeEventListener",value:function(t,e){return this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t.handler!==e})),this}},{key:"removeGlobalEventListener",value:function(t){return this.globalListeners=this.globalListeners.filter(function(e){return e.handler!==t}),this}},{key:"dispatchEvent",value:function(t){for(var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=function(s){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];s.forEach(function(s){(n||s.withSubEvents)&&(s.toRemove||e.asyncCall(s.handler,t,i),s.once&&(s.toRemove=!0))}),s=s.filter(function(t){return!0!==t.toRemove})},n=t.split(".");n.length;){var r=n.join(".");this.events[r]&&s(this.events[r],r===t),n.pop()}return s(this.globalListeners),this}},{key:"asyncCall",value:function(t,e,i){setTimeout(t.bind(this,e,i),0)}},{key:"clearEvent",value:function(t){return delete this.events[t],this}},{key:"clearAll",value:function(){return this.events={},this.globalListeners=[],this}}]),t}()});e.default=c}],t.c=i,t.d=function(e,i,s){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:s})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var n in e)t.d(s,n,function(t){return e[t]}.bind(null,n));return s},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="",t(t.s=0)).default;function t(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var e,i},t.exports=s()},function(t,e,i){"use strict";var s=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"];function n(t,e,i){}n.prototype.handshakeVersion=function(t,e){},n.prototype.initAd=function(t,e,i,s,n,r,o){},n.prototype.startAd=function(t){},n.prototype.stopAd=function(t){},n.prototype.skipAd=function(t){},n.prototype.resizeAd=function(t,e,i,s){},n.prototype.pauseAd=function(t){},n.prototype.resumeAd=function(t){},n.prototype.expandAd=function(t){},n.prototype.collapseAd=function(t){},n.prototype.subscribe=function(t,e,i){},n.prototype.unsubscribe=function(t,e){},n.prototype.getAdLinear=function(t){},n.prototype.getAdWidth=function(t){},n.prototype.getAdHeight=function(t){},n.prototype.getAdExpanded=function(t){},n.prototype.getAdSkippableState=function(t){},n.prototype.getAdRemainingTime=function(t){},n.prototype.getAdDuration=function(t){},n.prototype.getAdVolume=function(t){},n.prototype.getAdCompanions=function(t){},n.prototype.getAdIcons=function(t){},n.prototype.setAdVolume=function(t,e){},o(n,"METHODS",s),o(n,"GETTERS",["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"]),o(n,"SETTERS",["setAdVolume"]),o(n,"EVENTS",["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError","AdVastEmpty"]);var r=s.filter(function(t){return-1===["skipAd"].indexOf(t)});function o(t,e,i){Object.defineProperty(t,e,{writable:!1,configurable:!1,value:i})}o(n,"checkVPAIDInterface",function(t){return r.every(function(e){return"function"==typeof t[e]})}),t.exports=n},function(t,e,i){"use strict";var s=i(11),n=i(14),r=s.checkVPAIDInterface,o=i(5),a=(s.METHODS,"AdError"),d="AdClickThru",u=s.EVENTS.filter(function(t){return t!=d});function l(t,e,i,s){this._isValid=r(t),this._isValid&&(this._creative=t,this._el=e,this._videoEl=i,this._iframe=s,this._subscribers=new n,o.setFullSizeStyle(e),function(){if(u.forEach(function(t){this._creative.subscribe(function(t){this._subscribers.trigger(t,Array.prototype.slice(arguments,1))}.bind(this,t),t)}.bind(this)),this._creative.subscribe(function(t,e,i){this._subscribers.triggerSync(d,{url:t,id:e,playerHandles:i})}.bind(this),d),this._videoEl){var t=this._iframe.contentDocument.documentElement,e=this._videoEl;t.addEventListener("click",function(i){i.target===t&&e.click()})}}.call(this))}function p(t,e,i,s){t?t(i,s):i&&e.trigger(a,i)}l.prototype=Object.create(s.prototype),l.prototype.isValidVPAIDAd=function(){return this._isValid},s.METHODS.forEach(function(t){-1===["subscribe","unsubscribe","initAd"].indexOf(t)&&(l.prototype[t]=function(){var e=s.prototype[t].length,i=Array.prototype.slice.call(arguments),n=e===i.length?i.pop():void 0;setTimeout(function(){var e,s=null;try{e=this._creative[t].apply(this._creative,i)}catch(t){s=t}p(n,this._subscribers,s,e)}.bind(this),0)})}),l.prototype.initAd=function(t,e,i,s,n,r,a){n=n||{},r=o.extend({slot:this._el,videoSlot:this._videoEl},r||{}),setTimeout(function(){var o;try{this._creative.initAd(t,e,i,s,n,r)}catch(t){o=t}p(a,this._subscribers,o)}.bind(this),0)},l.prototype.subscribe=function(t,e,i){this._subscribers.subscribe(e,t,i)},l.prototype.unsubscribe=function(t,e){this._subscribers.unsubscribe(e,t)},l.prototype.on=l.prototype.subscribe,l.prototype.off=l.prototype.unsubscribe,s.GETTERS.forEach(function(t){l.prototype[t]=function(e){setTimeout(function(){var i,s=null;try{i=this._creative[t]()}catch(t){s=t}p(e,this._subscribers,s,i)}.bind(this),0)}}),l.prototype.setAdVolume=function(t,e){setTimeout(function(){var i,s=null;try{this._creative.setAdVolume(t),i=this._creative.getAdVolume()}catch(t){s=t}s||(s=o.validate(i===t,"failed to apply volume: "+t)),p(e,this._subscribers,s,i)}.bind(this),0)},l.prototype._destroy=function(){this.stopAd(),this._subscribers.unsubscribeAll()},t.exports=l},function(t,e,i){"use strict";var s=i(5),n=s.unique("vpaidIframe"),r=i(12),o='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><div class="ad-element"></div><script type="text/javascript" src="{{iframeURL_JS}}"><\/script><script type="text/javascript">window.parent.postMessage(\'{"event": "ready", "id": "{{iframeID}}"}\', \'{{origin}}\');<\/script></body></html>',a="AdStopped";function d(t,e,i,r){i=i||{},this._id=n(),this._destroyed=!1,this._frameContainer=s.createElementInEl(t,"div"),this._videoEl=e,this._vpaidOptions=r||{timeout:1e4},this._templateConfig={template:i.template||o,extraOptions:i.extraOptions||{}}}function u(){l.call(this),function(){this._adUnit&&(this._adUnit.stopAd(),delete this._adUnit)}.call(this)}function l(){(function(t){var e=this[t];e&&e.parentNode&&(e.parentNode.removeChild(e),delete this[t])}).call(this,"_frame"),p.call(this)}function p(){this._onLoad&&(window.removeEventListener("message",this._onLoad),delete this._onLoad)}function c(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}d.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,u.call(this))},d.prototype.isDestroyed=function(){return this._destroyed},d.prototype.loadAdUnit=function(t,e){if(!this._onLoad){(function(){if(this._destroyed)throw new Error("VPAIDHTML5Client already destroyed!")}).call(this),u.call(this);var i=this,n=s.createIframeWithContent(this._frameContainer,this._templateConfig.template,s.extend({iframeURL_JS:t,iframeID:this.getID(),origin:c()},this._templateConfig.extraOptions));this._frame=n,this._onLoad=s.callbackTimeout(this._vpaidOptions.timeout,function(t){if(t.origin!==c())return;var n,o,d,u;try{n=JSON.parse(t.data)}catch(t){}if(!n||n&&n.id!==i.getID())return;i._frame.contentWindow?(u=i._frame.contentWindow.getVPAIDAd,d=s.validate("function"==typeof u,"the ad didn't return a function to create an ad")):d="the iframe is not anymore in the DOM tree";if(!d){var h=i._frame.contentWindow.document.querySelector(".ad-element");(o=new r(u(),h,i._videoEl,i._frame)).subscribe(a,function(){l.call(this),delete this._adUnit}.bind(i)),d=s.validate(o.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification")}return i._adUnit=o,p.call(i),e(d,d?null:o),!0}.bind(this),function(){e("timeout",null)}.bind(this)),window.addEventListener("message",this._onLoad)}},d.prototype.unloadAdUnit=function(){u.call(this)},d.prototype.getID=function(){return this._id},t.exports=d,window.VPAIDHTML5Client=d},function(t,e,i){"use strict";function s(){this._subscribers={}}s.prototype.subscribe=function(t,e,i){this.isHandlerAttached(t,e)||this.get(e).push({handler:t,context:i,eventName:e})},s.prototype.unsubscribe=function(t,e){this._subscribers[e]=this.get(e).filter(function(e){return t!==e.handler})},s.prototype.unsubscribeAll=function(){this._subscribers={}},s.prototype.trigger=function(t,e){var i=this;this.get(t).concat(this.get("*")).forEach(function(t){setTimeout(function(){i.isHandlerAttached(t.handler,t.eventName)&&t.handler.call(t.context,e)},0)})},s.prototype.triggerSync=function(t,e){this.get(t).concat(this.get("*")).forEach(function(t){t.handler.call(t.context,e)})},s.prototype.get=function(t){return this._subscribers[t]||(this._subscribers[t]=[]),this._subscribers[t]},s.prototype.isHandlerAttached=function(t,e){return this.get(e).some(function(e){return t===e.handler})},t.exports=s},function(t,e){var i=function(t,e){this.pubsub=t,this.playerController=e,this.listeners={},this.onceFired={},this.remainingTime=0};i.prototype.subscribe=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},i.prototype.unsubscribe=function(t,e){if(this.listeners[t]){var i=this.listeners[t].indexOf(e);-1!==i&&this.listeners[t].splice(i,1)}},i.prototype.fireEvent=function(t,e){this.listeners[t]&&this.listeners[t].forEach(function(t){setTimeout(function(){t(e)},0)})},i.prototype.unsubscribeAll=function(){this.listeners={}},i.prototype.getAdVolume=function(){var t=this.playerController.foundation.duplex.visible();return t.muted?0:t.volume},i.prototype.getAdRemainingTime=function(){return this.remainingTime},i.prototype.setEventListeners=function(){var t=this;this.pubsub.subscribe("player.timeupdate",function(e,i){t.remainingTime=i.remainingTime}),this.pubsub.subscribe("motion.ad.placed",function(e,i){t.fireEvent("AdLoaded")}),this.pubsub.subscribe("motion.ad.started",function(e,i){t.fireEvent("AdStarted")}),this.pubsub.subscribe("motion.ad.ended",function(e,i){t.fireEvent("AdStopped")}),this.pubsub.subscribe("video.volumechange",function(e,i){var s=i.target.muted?0:i.target.volume;t.fireEvent("AdVolumeChange",s)}),this.pubsub.subscribe("motion.ad.placed",function(e,i){t.fireEvent("AdImpression")}),this.pubsub.subscribe("video.play",function(e,i){t.fireEvent("AdVideoStart")}),this.pubsub.subscribe("progress",function(e,i){"ad"===i.featuring&&(i.featurePercentPassed>=25&&!t.onceFired.AdVideoFirstQuartile&&(t.onceFired.AdVideoFirstQuartile=!0,t.fireEvent("AdVideoFirstQuartile")),i.featurePercentPassed>=50&&!t.onceFired.AdVideoMidpoint&&(t.onceFired.AdVideoMidpoint=!0,t.fireEvent("AdVideoMidpoint")),i.featurePercentPassed>=75&&!t.onceFired.AdVideoThirdQuartile&&(t.onceFired.AdVideoThirdQuartile=!0,t.fireEvent("AdVideoThirdQuartile")),i.featurePercentPassed>=100&&!t.onceFired.AdVideoComplete&&(t.onceFired.AdVideoComplete=!0,t.fireEvent("AdVideoComplete")))}),this.pubsub.subscribe("motion.paused",function(e,i){t.fireEvent("AdPaused")}),this.pubsub.subscribe("motion.resumed",function(e,i){t.fireEvent("AdPlaying")}),this.pubsub.subscribe("motion.ad.error",function(e,i){t.fireEvent("AdError")})},t.exports=i},function(t,e){var i=function(t,e,i){this.slot=null,this.container=null,this.tracker=e,this.pubsub=i,this.iconOptions=t,this.rendered=!1,this.destroyed=!1};i.prototype.init=function(t){var e=this;this.token_progress=this.pubsub.subscribe("progress",function(i,s){!e.rendered&&this.iconOptions.offset>0&&s.episodeSecondsPassed>=this.iconOptions.offset&&e.render(t),e.progress(s.episodeSecondsPassed)}),this.token_adEnded=this.pubsub.subscribe("motion.ad.ended",function(){e.destroyed||e.destroy()}),this.iconOptions.offset<0&&this.render(t)},i.prototype.render=function(t){this.rendered=!0;var e=this;this.slot=t;var i=document.createElement("div");if(this.container=i,this.slot.appendChild(this.container),this.container.style.position="absolute",this.container.style.zIndex=9,this.container.style.width=this.iconOptions.width+"px",this.container.style.height=this.iconOptions.height+"px","number"==typeof this.iconOptions.yPosition?this.container.style.top=this.iconOptions.yPosition+"px":"string"==typeof this.iconOptions.yPosition&&(this.container.style[this.iconOptions.yPosition]=0),"number"==typeof this.iconOptions.xPosition?this.container.style.left=this.iconOptions.xPosition+"px":"string"==typeof this.iconOptions.xPosition&&(this.container.style[this.iconOptions.xPosition]=0),this.iconOptions.iframeResource)(s=document.createElement("iframe")).src=this.iconOptions.iframeResource,s.setAttribute("scrolling","no"),s.setAttribute("frameborder","0"),s.setAttribute("allowTransparency","true"),s.setAttribute("allowFullscreen","true"),s.setAttribute("style","width: "+width+"px;height: "+height+"px;position: absolute;"),s.onload=function(){s.contentWindow.document.body.style.margin=0,e.onLoad()},s.onerror=this.onError.bind(this,502),this.container.appendChild(s);else if(this.iconOptions.htmlResource){var s;(s=document.createElement("iframe")).src="javascript:void(0)",s.setAttribute("scrolling","no"),s.setAttribute("frameborder","0"),s.setAttribute("allowTransparency","true"),s.setAttribute("allowFullscreen","true"),s.setAttribute("style","width: "+width+"px;height: "+height+"px;position: absolute;"),s.onload=function(){s.contentWindow.document.body.style.margin=0,e.onLoad()},s.onerror=this.onError.bind(this,502),this.container.appendChild(s);var n=this.iconOptions.htmlResource;n=this.tracker.macro.replace(n),s.contentWindow.document.write(n),s.contentWindow.document.close()}else if(this.iconOptions.staticResource){var r=document.createElement("a");r.setAttribute("target","_blank"),r.style.display="block",r.href=this.tracker.macro.replace(this.iconOptions.iconClickThroughURLTemplate,this.tracker.macros),r.onclick=this.onClick.bind(this);var o=document.createElement("img");o.src=this.iconOptions.staticResource,o.setAttribute("style","width: 100%;height: 100%;"),o.onload=this.onLoad.bind(this),o.onerror=this.onError.bind(this,502),this.container.appendChild(r),r.appendChild(o)}},i.prototype.onLoad=function(){this.iconOptions.iconViewTrackingURLTemplate&&this.tracker.sendPixel(this.iconOptions.iconViewTrackingURLTemplate)},i.prototype.onError=function(t){this.destroy()},i.prototype.onClick=function(){var t=this.iconOptions.iconClickTrackingURLTemplates;if(t&&t.length)for(var e=0;e<t.length;e++)this.tracker.sendPixel(t[e])},i.prototype.progress=function(t){t>=this.iconOptions.duration&&this.destroy()},i.prototype.destroy=function(){this.pubsub.unsubscribe(this.token_progress),this.pubsub.unsubscribe(this.token_adEnded),this.slot.removeChild(this.container),this.destroyed=!0};var s=function(t,e,i){this.icons=t,this.pubsub=e,this.tracker=i};s.prototype.init=function(){for(var t=document.getElementById("video-host"),e=0;e<this.icons.length;e++){new i(this.icons[e],this.tracker,this.pubsub).init(t)}},t.exports=s},function(t,e){var i=function(t){this.pubsub=t,this.ads={},this.extraAds=[],this.lastAdVastIdSetted=null};i.prototype.add=function(t){var e=t.adId+"_"+Math.random().toString().substring(2);t.ads&&(t.ads.bid=t.bid),this.ads[e]=t,t.extra?this.extraAds.push(t):this.pubsub.publish("spot.adAddedInQueue",{adId:e,type:t.type,cpm:parseFloat(t.cpm),bid:t.bid,vastId:t.vastId})},i.prototype.showAd=function(t){var e=this.ads[t.adId];this.pubsub.publish("spot.adToPlay",e),"function"==typeof e.render?(e.render(),this.pubsub.publish("spot.open",{display:"display"===e.type,adId:e.adId})):("showheroes"===e.bid.bidder&&(this.lastAdVastIdSetted=e.vastId),e.ads.bid=e.bid,this.pubsub.publish("spot.setAdToPlayer",e.ads))},i.prototype.hasExtra=function(){return this.extraAds.length>0},i.prototype.addExtraAdToQueue=function(){var t=this.extraAds.shift();t.extra=!1,this.add(t)},i.prototype.remove=function(t){delete this.ads[t]},t.exports=i},function(t,e,i){var s=i(15),n=function(t,e,i){this.pubsub=t,this.playerController=e,this.pubtag=i,this.verifications={},this.initData={},this.remainingTime=0};n.prototype.create=function(t,e){var i=this;this.verifications[t]=[],(e||[]).forEach(function(e){var s=document.createElement("iframe");s.id="AdVerification_"+Math.random().toString().substring(2),s.onload=function(){s.contentWindow.document.write('<script src="'+e.url+'"><\/script>')},document.body.appendChild(s),s.src="javascript:void(0)";var n=function(){var e,r=s.contentWindow.getAdVerification;r&&"function"==typeof r?(e=r(),i.verifications[t].push(e),i.initData[t]&&i.initAd(t,e)):setTimeout(n,100)};setTimeout(n,10)})},n.prototype.initAd=function(t,e){var i=this,s=this.initData[t];"function"==typeof s&&(s=s()),e.initAd(s.width,s.height,"normal",1e3,{AdParameters:s.adParameters||""},{slot:s.slot,videoSlot:s.videoSlot}),e.subscribe(function(){e.initEventsWiring(s.eventDispatcher),i.signalViewable(e)},"AdVerificationLoaded")},n.prototype.signalViewable=function(t){var e;"function"==typeof t.signalViewableImpression&&(this.pubsub.subscribe("pubtag.play",function(i,s){e=setTimeout(function(){t.signalViewableImpression()},2e3)}),this.pubsub.subscribe("pubtag.pause",function(t,i){clearTimeout(e)}))},n.prototype.setInitData=function(t,e){this.initData[t]=e},n.prototype.setDefaultInitData=function(t){var e=this,i=new s(this.pubsub,this.playerController);i.setEventListeners(),this.initData[t]=function(){return{width:document.querySelector("#video-host").offsetWidth,height:document.querySelector("#video-host").offsetHeight,adParameters:"",slot:document.querySelector("#video-host"),videoSlot:e.playerController.foundation.duplex.visible(),eventDispatcher:i}}},n.prototype.dispose=function(t){this.verifications[t].forEach(function(t){t.dispose()}),this.verifications[t]=[],this.initData[t]=null},n.prototype.disposeAll=function(){var t=this;Object.keys(this.verifications).forEach(function(e){t.dispose(e)})},n.prototype.setEventListeners=function(){var t=this;this.pubsub.subscribe("spot.adToPlay",function(e,i){i.ads&&i.ads.response&&i.ads.response.verifications&&i.ads.response.verifications.length&&(t.pubtag&&t.pubtag.sendAdVerification(JSON.stringify(i.ads.response.verifications)),t.create(i.adId,i.ads.response.verifications),i.ads.creative.wrapper&&"function"==typeof i.ads.creative.wrapper.getInitData?t.setInitData(i.adId,i.ads.creative.wrapper.getInitData()):t.setDefaultInitData(i.adId))}),this.pubsub.subscribe("spot.close",function(e,i){t.disposeAll()}),this.pubsub.subscribe("motion.ad.ended",function(e,i){t.disposeAll()})},t.exports=n},function(t,e){t.exports=function(){this.log=function(t,e,i){this.name}}},function(t,e){var i=function(t,e,i){this.lastQuartileIndex=0,this.quartileEvents=[{event:"AdVideoStart",value:0},{event:"AdVideoFirstQuartile",value:25},{event:"AdVideoMidpoint",value:50},{event:"AdVideoThirdQuartile",value:75},{event:"AdVideoComplete",value:100}],this.volume=0,this.ids=e,this.adDuration=i,this.pubsub=t,this.adIsPlaying=!1;var s=document.querySelector("#video-host");this.moatApiReference=this.initMoatTracking(s,this.ids,this.adDuration,"showheroesjsvid842806343329"),this.addAdEventsListener()};i.prototype.initMoatTracking=function(t,e,i,s,n,r){var o,a,d=document.createElement("script"),u=[],l={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:e,duration:i,url:n},dispatchEvent:function(t){l.sendEvent?(u&&(u.push(t),t=u,u=!1),l.sendEvent(t)):u&&u.push(t)},clientCallback:r};e="_moatApi"+Math.floor(1e8*Math.random());try{a=(o=t.ownerDocument).defaultView||o.parentWindow}catch(t){o=document,a=window}return a[e]=l,d.type="text/javascript",t&&t.insertBefore(d,t.childNodes[0]||null),d.src="https://z.moatads.com/"+s+"/moatvideo.js#"+e,l},i.prototype.addAdEventsListener=function(){var t=this;var e=this.pubsub.subscribe("motion.ad.started",function(e,i){t.adIsPlaying=!0}),i=this.pubsub.subscribe("video.volumechange",function(e,i){t.volume=!0===i.target.muted?0:1,t.adIsPlaying&&t.moatApiReference.dispatchEvent({type:"AdVolumeChange",adVolume:t.volume})}),s=this.pubsub.subscribe("video.timeupdate",function(e,i){t.adIsPlaying&&function(e,i){if(!(t.lastQuartileIndex>=t.quartileEvents.length)&&100*e/i>=t.quartileEvents[t.lastQuartileIndex].value){var s=t.quartileEvents[t.lastQuartileIndex].event;t.moatApiReference.dispatchEvent({type:s,adVolume:t.volume}),t.lastQuartileIndex+=1}}(i.target.currentTime,i.target.duration)}),n=this.pubsub.subscribe("video.playing",function(e,i){t.adIsPlaying&&t.moatApiReference.dispatchEvent({type:"AdPlaying",adVolume:t.volume})}),r=this.pubsub.subscribe("video.pause",function(e,i){t.adIsPlaying&&t.moatApiReference.dispatchEvent({type:"AdPaused",adVolume:t.volume})}),o=this.pubsub.subscribe("motion.ad.ended",function(a,d){t.moatApiReference.dispatchEvent({type:"AdStopped",adVolume:t.volume}),t.pubsub.unsubscribe(o),t.pubsub.unsubscribe(r),t.pubsub.unsubscribe(n),t.pubsub.unsubscribe(s),t.pubsub.unsubscribe(i),t.pubsub.unsubscribe(e)})},t.exports=i},function(t,e,i){var s=i(1),n=(i(40),i(4)),r=i(6),o=function(t,e,i,o,a){for(var d in this.macros={},this.targeting=new r,this.notEncodedMacros=["[SHMC_TGT]","[SHC_TGT]","[SHC_TGT_CS]","[SHMC_TGT_CS]","[SHC_TGT1]","[EMETRIQ_USEG]","[EMETRIQ_USEG_CS]"],this.macroParams=e,this.macroParams)this.macroParams.hasOwnProperty(d)&&(this.macros["["+d.toUpperCase()+"]"]=this.macroParams[d]);var u=this;this.getPublisherPageUrl=function(){if(u.macroParams)return u.macroParams.pageurl||"";if(window.top===window)return window.location.href.replace(window.location.hash,"");try{return window.top.location.href.replace(window.top.location.hash,"")}catch(t){return window.location.href.replace(window.location.hash,"")}},this.getRPublisherPageUrl=function(){if(u.macroParams&&u.macroParams.rpageurl)return u.macroParams.rpageurl;if(u.macroParams&&u.macroParams.pageurl)return u.macroParams.pageurl;if(window.top===window)return window.location.href.replace(window.location.hash,"");try{return window.top.location.href.replace(window.top.location.hash,"")}catch(t){return window.location.href.replace(window.location.hash,"")}};var l=function(){return Math.floor(1e8*Math.random())},p=function(){return parseInt((new Date).getTime()/1e3)},c=function(t,e){if(i&&t>2&&1.3*i<t/e)return{width:t,height:Math.floor(t/i)};if(t&&t>2&&e&&e>2){var s=e;return 1==i&&t!=e&&(s=t),{width:t,height:s}}return t&&t>2&&i?{width:t,height:Math.floor(t/i)}:e&&e>2&&i?{width:Math.floor(e*i),height:e}:{width:o.expected_width,height:o.expected_height}},h=function(){return c(document.querySelector("#video-host").offsetWidth,document.querySelector("#video-host").offsetHeight).width},b=function(){return c(document.querySelector("#video-host").offsetWidth,document.querySelector("#video-host").offsetHeight).height},f=function(t){return window.gdpr&&window.gdpr[t]||""},g=function(){return window.gdpr?void 0===window.gdpr.gdprApplies?"":window.gdpr.gdprApplies:""},m={"[PAGEURL]":n(this.getPublisherPageUrl,300),"[RPAGEURL]":this.getRPublisherPageUrl,"[PAGEURL_E2]":function(){return encodeURIComponent(u.getPublisherPageUrl())},"[PAGEDOMAIN]":function(){if(u.macroParams&&u.macroParams.pagedomain)return u.macroParams.pagedomain;if(window.top===window)return window.location.host;try{return window.top.location.host}catch(t){return window.location.host}},"[[PUBLISHER_PAGE_URL]]":this.getPublisherPageUrl,"[DO_NOT_TRACK]":function(){return!0===navigator.doNotTrack||1==navigator.doNotTrack||"1"==navigator.doNotTrack||"yes"==navigator.doNotTrack?1:0},"[TIMESTAMP]":p,"[ZEITSTEMPEL]":p,"[CACHEBUSTER]":l,"[CACHEBUSTING]":l,"[NONCE]":l,"[RANDOM]":l,"[VIEWPORT_WIDTH]":function(){if(window.top===window)return window.document.documentElement.clientWidth;try{return window.top.document.documentElement.clientWidth}catch(t){return""}},"[VIEWPORT_HEIGHT]":function(){if(window.top===window)return window.document.documentElement.clientHeight;try{return window.top.document.documentElement.clientHeight}catch(t){return""}},"[VBLTY]":function(){return"function"!=typeof t.getViewabilitySize?0:t.getViewabilitySize()||0},"[PLAYER_TYPE]":function(){return u.macroParams?u.macroParams.player_type:""},"[PLAYER_ENGINE]":function(){return u.macroParams?u.macroParams.player_engine:""},"[VPW]":h,"[VPH]":b,"[VPWXH]":function(){return h()+"x"+b()},"[PLAYER_WIDTH]":h,"[PLAYER_HEIGHT]":b,"[DEVICE_SIZE]":function(){return u.macroParams?u.macroParams.device_size:""},"[USER_CONSENT_STRING]":f.bind(null,"consentData"),"[GDPR_CONSENT_\\d*]":f.bind(null,"consentData"),"[ADDTL_CONSENT_STRING]":function(){return window.publisherPolicy&&window.publisherPolicy.addtlConsent?window.publisherPolicy.addtlConsent:""}.bind(null),"[GDPR_APPLIES]":g.bind(null),"[GDPR]":g.bind(null),"[EMETRIQ_USEG]":this.targeting.getEmetriqData.bind(this.targeting),"[EMETRIQ_USEG_CS]":this.targeting.getEmetriqData.bind(this.targeting,","),"[SHC_TGT]":this.targeting.getArvisterData.bind(this.targeting),"[SHMC_TGT]":this.targeting.getMixTgtData.bind(this.targeting),"[SHC_TGT1]":this.targeting.getArvisterData.bind(this.targeting,null,0),"[SHC_TGT_CS]":this.targeting.getArvisterData.bind(this.targeting,","),"[SHMC_TGT_CS]":this.targeting.getMixTgtData.bind(this.targeting,","),"[SHMC_GAM]":this.targeting.getMixGamDataEncoded.bind(this.targeting,","),"[HAS_CONSENT_GLOBAL_SCOPE]":f.bind(null,"hasGlobalScope"),"[SH_PVR]":"0.2"};if(this.macros=s(this.macros,m),this.extendMacros=function(t){this.macro=s(this.macros,t)},this.resetMacros=function(t){for(var e in t)t.hasOwnProperty(e)&&delete this.macro[e]},u.macroParams)for(var d in u.macroParams)this.macros["["+d.toUpperCase()+"]"]||(this.macros["["+d.toUpperCase()+"]"]=u.macroParams[d]);this.replace=function(t,e,i){e&&this.extendMacros(e);var s=this.getReplacedUrl(t,this.macros);return!0!==a||"http://"!=s.substr(0,7)||i||(s="https://"+s.slice(7)),e&&this.resetMacros(e),s},this.table=function(){for(var t,e={},i=Object.keys(this.macros),s=0;s<i.length;s++)e[t=i[s]]={result:this.replace(t)}}};o.prototype.getReplacedUrl=function(t,e){for(var i,s,n,r=t.replace(/\${/g,"[").replace(/\}/g,"]"),o=Object.keys(e),a=0;a<o.length;a++){i=o[a],s=o[a].toLowerCase(),n=e[o[a]];var d=i.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),u=new RegExp(d,"g"),l=new RegExp(i,"g"),p=new RegExp(s,"g");-1!=r.indexOf(i)&&(r=r.replace(u,this.getValue(i,"function"==typeof n?n.apply(this):e[o[a]]))),-1!=r.indexOf(s)&&(d=s.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),u=new RegExp(d,"g"),r=r.replace(u,this.getValue(i,"function"==typeof n?n.apply(this):e[o[a]]))),-1!=r.indexOf(encodeURIComponent(i))&&(u=new RegExp(encodeURIComponent(i),"g"),r=r.replace(u,this.getValue(i,"function"==typeof n?n.apply(this):e[o[a]]))),-1!=r.indexOf(encodeURIComponent(s))&&(u=new RegExp(encodeURIComponent(s),"g"),r=r.replace(u,this.getValue(i,"function"==typeof n?n.apply(this):e[o[a]]))),-1!=r.indexOf(encodeURIComponent(encodeURIComponent(i)))&&(u=new RegExp(encodeURIComponent(encodeURIComponent(i)),"g"),r=r.replace(u,this.getValue(i,encodeURIComponent("function"==typeof n?n.apply(this):e[o[a]])))),-1!=r.indexOf(encodeURIComponent(encodeURIComponent(s)))&&(u=new RegExp(encodeURIComponent(encodeURIComponent(s)),"g"),r=r.replace(u,this.getValue(i,encodeURIComponent("function"==typeof n?n.apply(this):e[o[a]])))),l.test(r)&&(r=r.replace(u,this.getValue(i,"function"==typeof n?n.apply(this):e[o[a]]))),p.test(r)&&(d=s.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),u=new RegExp(d,"g"),r=r.replace(u,this.getValue(i,"function"==typeof n?n.apply(this):e[o[a]])))}return r},o.prototype.getValue=function(t,e){return this.notEncodedMacros.indexOf(t)>=0?e:encodeURIComponent(e)},o.prototype.getMacrosObject=function(){for(var t,e={},i=Object.keys(this.macros),s=0;s<i.length;s++){t=i[s];try{e[t.replace(/\[/g,"").replace(/\]/g,"").toLowerCase()]=this.replace(t)}catch(t){}}return e},o.prototype.getScemaTypeMacro=function(t,e,i){var s="";return"m1"===this.macroParams.sh_shcn||"m2"===this.macroParams.sh_shcn||"m3"===this.macroParams.sh_shcn?s="click":i?s="adonly":t?s="bmp":0===e?s="pre":e>0?s="mid"+e:e<0&&(s="post"),{"[SH_CRTP]":s}},o.prototype.setDynamicMacro=function(){},t.exports=o},function(t,e){var i=function(t,e,i,s){this.slot=null,this.container=null,this.closeIcon=null,this.showIcon=null,this.pubsub=e,this.macro=i,this.clickThroughProxyURL=s,this.creative=t.variation,this.tracker=t.tracker,this.cpm=t.cpm,this.isBackfill=t.isBackfill,this.maxValidWidth=t.maxValidWidth,this.duration=this.creative&&this.creative.minSuggestedDuration||15,this.passed=0,this.wasClosed=!1,this.isAdways="adways"===t.bidder,this.tracker&&this.tracker.setDuration(this.duration)};i.prototype.render=function(t){var e=this;this.isRendered=!0,this.slot=t,this.container=this.slot.querySelector(".nonlinear-container"),this.closeIcon=this.slot.querySelector(".nonlinear-icon-close"),this.showIcon=this.slot.querySelector(".nonlinear-icon-show"),this.isBackfill?this.closeIcon.classList.add("hidden"):this.closeIcon.classList.remove("hidden"),this.closeIcon.addEventListener("click",this.onClose.bind(this)),this.showIcon.addEventListener("click",this.onShow.bind(this)),this.pubsub.subscribe("spot.nonlinear.skip",this.onSkip.bind(this));var i=this.creative.width/this.creative.height,s=this.creative.width>this.maxValidWidth?"100%":this.creative.width,n=this.creative.width>this.maxValidWidth?this.maxValidWidth:this.creative.width,r=n/i,o=this.creative.width>=this.maxValidWidth-20?n-20:n;if(this.slot.style.width=s+"px",this.slot.style.height=this.creative.height>r?this.creative.height:r+"px","iframe"===this.creative.type)(a=document.createElement("iframe")).src=this.creative.iframeResource,a.setAttribute("scrolling","no"),a.setAttribute("frameborder","0"),a.setAttribute("allowTransparency","true"),a.setAttribute("allowFullscreen","true"),a.setAttribute("style","width: "+o+"px;position: absolute; left: 50%; -webkit-transform: translate(-50%);-ms-transform: translate(-50%);transform: translate(-50%);"),a.onload=function(){a.contentWindow.document.body.style.margin=0,e.onLoad()},a.onerror=this.onError.bind(this,502),this.container.appendChild(a);else if("text/html"===this.creative.type){var a;(a=document.createElement("iframe")).src="javascript:void(0)",a.setAttribute("scrolling","no"),a.setAttribute("frameborder","0"),a.setAttribute("allowTransparency","true"),a.setAttribute("allowFullscreen","true"),a.setAttribute("style","width: "+o+"px;position: absolute; left: 50%; -webkit-transform: translate(-50%);-ms-transform: translate(-50%);transform: translate(-50%);"),a.onload=function(){a.contentWindow.document.body.style.margin=0,e.onLoad()},a.onerror=this.onError.bind(this,502),this.container.appendChild(a);var d=/\[countgo\]|\[COUNTGO\]/g,u=this.creative.htmlResource;d.test(this.creative.htmlResource)&&(u=this.creative.htmlResource.replace(d,encodeURIComponent(this.macro.replace(this.clickThroughProxyURL,this.tracker.macros)))),u=this.macro.replace(u),a.contentWindow.document.write(u),a.contentWindow.document.close()}else if("application/x-javascript"===this.creative.type);else{var l=document.createElement("a");l.setAttribute("target","_blank"),l.style.display="block",l.href=this.macro.replace(this.clickThroughProxyURL,this.tracker.macros)+encodeURIComponent(this.creative.nonlinearClickThroughURLTemplate),l.onclick=this.onClick.bind(this);var p=document.createElement("img");p.src=this.creative.staticResource,p.setAttribute("style","width: 100%;height: 100%;"),p.onload=this.onLoad.bind(this),p.onerror=this.onError.bind(this,502),this.container.appendChild(l),l.appendChild(p)}},i.prototype.onLoad=function(){this.slot.classList.remove("hidden"),this.tracker.load()},i.prototype.onError=function(t){this.tracker.errorWithCode(t),this.destroy()},i.prototype.onClick=function(){this.tracker.click()},i.prototype.onClose=function(){this.wasClosed=!0,this.tracker.close(),this.container.classList.add("hidden"),this.closeIcon.classList.add("hidden"),this.showIcon.classList.remove("hidden")},i.prototype.onShow=function(){this.showIcon.classList.add("hidden"),this.container.classList.remove("hidden"),this.closeIcon.classList.remove("hidden")},i.prototype.onSkip=function(){this.tracker.close(),this.slot.classList.add("hidden"),this.slot.querySelector(".nonlinear-container").innerHTML="",this.slot.setAttribute("style","")},i.prototype.progress=function(){if(this.passed>=this.duration)return this.tracker.complete(),void this.destroy();this.passed+=.215,this.wasClosed||this.tracker.setProgress(this.passed)},i.prototype.destroy=function(){this.slot.classList.add("hidden"),this.slot.querySelector(".nonlinear-container").innerHTML="",this.slot.setAttribute("style",""),this.pubsub.publish("spot.nonlinear.ended")};var s=function(t,e,i,s){this.pubsub=t,this.pubtagGateway=s,this.macro=e,this.clickThroughProxyURL=i,this.slot=null,this.queue=[],this.queueIsEmpty=null,this.fullscreenModeEnabled=!1};s.prototype.setEventListeners=function(){var t=this;this.pubsub.subscribe("spot.nonlinear.ended",function(e,i){t.log("is ended"),t.pubsub.unsubscribe(t.token_progress),t.getNext()}),this.pubsub.subscribe("spot.nonlinear.add",function(e,s){t.queue.push(new i(s,t.pubsub,t.macro,t.clickThroughProxyURL)),t.pubsub.publish("spot.nonlinear.addedInQueue")}),this.pubsub.subscribe("player.nonlinear.show",function(e,i){!0!==t.fullscreenModeEnabled&&(t.slot||(t.slot=document.querySelector(".nonlinear-slot")),t.queue.length?t.show():t.token_addNonLinear=t.pubsub.subscribe("spot.nonlinear.addedInQueue",function(){t.log("Nonlinear added"),t.show(),t.pubsub.unsubscribe(t.token_addNonLinear)}))}),this.pubsub.subscribe("motion.ended",function(e,i){t.slot&&!t.slot.classList.contains("hidden")&&(t.log("is skiped"),t.pubsub.publish("spot.nonlinear.skip")),t.queue=[],t.queueIsEmpty=null,t.pubsub.unsubscribe(t.token_addNoad)}),this.pubsub.subscribe("controls.fullscreen.on",function(e,i){t.fullscreenModeEnabled=!0,t.slot&&!t.slot.classList.contains("hidden")&&(t.log("is skiped"),t.pubsub.publish("spot.nonlinear.skip"))}),this.pubsub.subscribe("controls.fullscreen.off",function(e,i){t.fullscreenModeEnabled=!1})},s.prototype.getCreativeByCpm=function(){return this.queue=this.sortBy(this.queue,"cpm","desc"),this.queue.shift()},s.prototype.show=function(){var t=this,e=this.getCreativeByCpm();e?e.isAdways?this.pubtagGateway.message({intent:"adways.renderAd"}):this.token_progress=this.pubsub.subscribe("progress",function(i,s){if(t.queueIsEmpty)t.pubsub.unsubscribe(t.token_progress);else{if(s.episodeSecondsLeft<e.duration)return t.log("duration is too long, checking next...",!0),t.getNext(),void t.pubsub.unsubscribe(t.token_progress);e.isRendered||e.render(t.slot),e.progress()}}):this.log("no creative. Nothing to show")},s.prototype.getNext=function(){if(!this.queue.length)return this.queueIsEmpty=!0,void this.log("queue is empty. Nothing to show");this.show()},s.prototype.sortBy=function(t,e,i){return t.sort(function(t,s){var n=0;return t[e]>s[e]?n="desc"===i?-1:1:t[e]<s[e]&&(n="desc"===i?1:-1),n})},s.prototype.log=function(t,e){},t.exports=s},function(t,e,i){var s=i(22),n=i(16),r=i(0),o=i(3),a=function(t,e,i,s,n,r,o){this.pubsub=t,this.tracker=e,this.config=i,this.pubtagGateway=s,this.contentUrl=null,this.playerStarted=!1,this.playerPaused=!1,this.adOnly=n,this.contentOnly=r,this.previewCoverEnabled=o,this.playerContainer=null,this.customisedScriptsContainer=null,this.input=null,this.customisedScriptsRemovingTimer=0};a.prototype.init=function(){this.gdprPurposes=new o,this.playerContainer=document.querySelector("#video-host"),this.playerContainer.style.visibility="hidden";var t=this,e=this.config;new s(this.pubsub,this.tracker.macro,e.adConfig.customTracking.commercial.clickThrough,this.pubtagGateway).setEventListeners(),this.foundation=new Foundation(this.pubsub,e.playerOptions.canvas,e.playbackSettings.maxCarouselVideos,10==e.viewability.mode,this.adOnly,e.adConfig.maxVideoAds,e.adConfig.vtrOptMode,e.adConfig.prefetchingMode,"click"===e.playbackSettings.playOn&&this.previewCoverEnabled,e.playerOptions.heavyAdsOpt);var i=new Tracker(e.playerOptions.clicktracking,this.tracker);i.setupListeners(this.pubsub,this.foundation.sequencer,this.pubtagGateway),e.tracking.ad&&i.appendExtraPixels("ad",e.tracking.ad);var n=new PubtagPlayerApi(this.foundation,this.pubsub,this.pubtagGateway);n.ready(),this.pubtagGateway.setPlayerPubtagApi(n);var r=new Controls(this.foundation,e.playerOptions.pageurl,e.skinType,e.playbackSettings.onHoverUnMuteScenario,e.contentClickoutUrl,e.playerBranding.opacityFadeOut,e.playerBranding.contentTitleEnabled,e.adConfig.keepOverlay4Vpaid,"click"===e.playbackSettings.playOn&&this.previewCoverEnabled,"click"===e.playbackSettings.playOn);"big"!==e.skinType&&r.centerClick2playButton();var a=new ControlsBehaviour(this.foundation,r),d=new Branding(e.playerBranding);r.setBranding(d);e.playerOptions.canvas||new Scaler(this.pubsub,this.foundation.duplex,e.aspectRatio);var u=new Snapshot(this.foundation.playerHost,this.pubsub,this.foundation.duplex);e.playerBranding.backgroundBlur&&u.enableBlur();var l=new SchemaParser(this.foundation,r,a,e.adConfig.enabled,e.adConfig.skipMode);this.input=new Input(this.pubsub,this.foundation.sequencer.contentMediaCollection,this.foundation.sequencer.adMediaCollection,this.foundation.sequencer.stitchedMediaCollection,function(e,i){t.foundation.sequencer.addMedia(e,i)},l,function(e){t.foundation.sequencer.addEpisode(e)},function(){t.foundation.ready()},i,this.adOnly,this.contentOnly,e.adConfig.maxVideoAds,e.adConfig.twoAdsEnabled&&!this.adOnly?2:1,e.adConfig.postNoAdAttemptsEnabled,e.playbackSettings.firstVideos),this.previewCoverEnabled&&this.showPreviewImage(e.playbackSettings.coverUrl),this.input.setupListeners(this.pubsub)},a.prototype.showPreviewImage=function(t){var e=this,i=document.querySelector("#video-host"),s=document.querySelector("#duplex-host"),n=document.createElement("img"),r=document.createElement("div");r.setAttribute("style","position: absolute;"),n.setAttribute("style","position: absolute;width: 100%; height: 100%;");var o=new Poster(n,this.pubsub);r.appendChild(n),s.parentNode.insertBefore(r,s),o.load(t),o.scalePoster(r),this.token_motionStarted=this.pubsub.subscribe("motion.started",function(){i.removeChild(r),e.pubsub.unsubscribe(e.token_motionStarted)})},a.prototype.setEventListeners=function(){var t=this;this.token_mediaAdded=this.pubsub.subscribe("motion.content.started",function(e,i){if(i.currentEpisode&&i.currentEpisode.episode.mediaId){var s=t.foundation.sequencer.getMedia(i.currentEpisode.episode.mediaId);s&&t.pubsub.publish("player.content.macros",{macros:s.macros})}}),this.pubsub.subscribe("player.getAd",function(e,i){t.pubsub.publish("spot.requestToAd")}),this.pubsub.subscribe("player.getContent",function(e,i){t.pubsub.publish("spot.requestToContent",{url:t.getContentVastUrl(t.config.playlistVASTURL,i&&i.page)})}),this.pubsub.subscribe("player.start",function(){t.pubtagGateway.playerStarted(),t.playerStarted=!0,t.playerContainer.style.visibility="visible",t.pubsub.publish("spot.open"),t.input.startWatching()}),this.pubsub.subscribe("player.stopped",function(){t.pubtagGateway.playerStopped(),t.playerContainer.style.visibility="hidden",t.pubsub.publish("spot.getReadyDisplayAd")}),this.pubsub.subscribe("player.nocontent",function(){t.pubsub.publish("player.stopped")}),this.config.playerOptions.vpaid?(this.pubsub.subscribe("pubtag.vpaidPlay",function(){t.foundation.onViewportIn()}),this.pubsub.subscribe("pubtag.vpaidPause",function(){t.foundation.onViewportOut()}),this.pubsub.subscribe("player.timeupdate",function(e,i){t.pubtagGateway.playerTimeupdate(i.remainingTime,i.duration)})):(this.pubsub.subscribe("pubtag.play",function(){t.foundation.onViewportIn()}),this.pubsub.subscribe("pubtag.pause",function(){t.foundation.onViewportOut()}),this.pubsub.subscribe("pubtag.adPlay",function(){t.foundation.intentAdPlay()}),this.pubsub.subscribe("pubtag.adPause",function(){t.foundation.intentAdPause()}));var e=this.pubsub.subscribe("spot.setAdToPlayer",function(i,s){t.playerStarted||t.pubsub.publish("player.start"),t.pubsub.unsubscribe(e)}),i=this.pubsub.subscribe("spot.setContentToPlayer",function(e,s){s.tracker.track("placed"),t.pubsub.unsubscribe(i)});this.pubsub.subscribe("motion.paused",function(){t.playerPaused=!0}),this.pubsub.subscribe("motion.resumed",function(){t.playerPaused=!1}),this.pubsub.subscribe("motion.episode.started",function(e,i){window.currentCreative=i.creativeId,t.pubtagGateway.message({intent:"spot.currentCreative",id:i.creativeId})}),this.pubsub.subscribe("player.putInDuplexHidden",function(e,i){t.addCurentCreatives(i.creativeId)}),this.pubsub.subscribe("spot.initSdkVpaid",function(e,i){t.addCurentCreatives(i.creativeId)}),this.pubsub.subscribe("motion.ad.started",function(e,i){i.icons&&i.icons.length&&new n(i.icons,t.pubsub,t.tracker).init();i.customisedScripts&&i.customisedScripts.length&&t.applyCustomizedScripts(i.customisedScripts,i.videoWrapper)}),this.pubsub.subscribe("motion.ad.ended",function(e,i){setTimeout(function(){var t=document.getElementById("customized-script");t&&t.remove()},t.customisedScriptsRemovingTimer)}),this.pubsub.subscribe("spot.stopPlayer",function(){t.playerContainer.style.visibility="hidden"}),this.pubsub.subscribe("user.interaction.callback",function(e,i){i&&i.callback&&t.foundation.addToUserInteractionCallbacks(i.callback)})},a.prototype.getContentVastUrl=function(t,e){var i=t;return e&&(i+="&sh_vpag="+e),i},a.prototype.applyCustomizedScripts=function(t,e){for(var i=0;i<t.length;i++)for(var s=t[i].split(/\|\||\|/g),n=0;n<s.length;n++){var o=document.createElement("script");o.setAttribute("id","customized-script");var a=s[n];if(!0===this.gdprPurposes.checkUrl(a)){var d=r("event",a);"http://"==a.substr(0,7)&&(a="https://"+a.slice(7)),o.src=this.tracker.macro.replace(a),d?this.triggerCustomizedScriptsByEvent(d,o,e):document.getElementById(e).appendChild(o)}}},a.prototype.triggerCustomizedScriptsByEvent=function(t,e,i){var s=this;"complete"!==t&&"skip"!==t||(this.customisedScriptsRemovingTimer=3e3,this.adEnded_token=this.pubsub.subscribe("motion.ad.ended",function(t,n){document.getElementById(i).appendChild(e),s.pubsub.unsubscribe(s.adEnded_token)}))},a.prototype.addCurentCreatives=function(t){window.putCreatives=window.putCreatives||[],!t||window.putCreatives.indexOf(t)>=0||(window.putCreatives.push(t),this.pubtagGateway.message({intent:"spot.putCreatives",ids:window.putCreatives}))},t.exports=a},function(t,e){var i=function(t,e,i,s,n,r){this.pubsub=t,this.requester=e,this.pubtagGateway=i,this.adQueue=s,this.config=n,this.prebidConfig=r,this.displayOrSasVideoIsShowed=!1};i.prototype.setEventListeners=function(){var t=this;this.pubsub.subscribe("pubtag.smartFormatWon",function(e,i){i.intentParam.tagId.indexOf("display")>=0&&t.config.displayFrameHeaderHtml&&t.pubtagGateway.setHeader(t.config.displayFrameHeaderHtml),t.displayOrSasRendered({bidder:"smartadserver",adId:i.intentParam.formatId})}),this.pubsub.subscribe("pubtag.wonDisplayBidder",function(e,i){t.displayOrSasRendered(i.bid),t.pubsub.publish("spot.displayRendered")}),t.prebidConfig.bidTracking.request&&this.pubsub.subscribe("pubtag.bidRequested",function(e,i){t.pubsub.publish("bid.track.request",{bid:i.bid,urls:t.prebidConfig.bidTracking.request})}),t.prebidConfig.bidTracking.response&&this.pubsub.subscribe("pubtag.bidResponse",function(e,i){t.pubsub.publish("bid.track.response",{bid:i.bid,urls:t.prebidConfig.bidTracking.response})}),t.prebidConfig.bidTracking.error&&this.pubsub.subscribe("pubtag.bidError",function(e,i){t.pubsub.publish("bid.track.error",{bid:i.bid,urls:t.prebidConfig.bidTracking.error,errorCode:1301})}),this.pubsub.subscribe("pubtag.wonBidder",function(e,i){"video"===i.bid.mediaType?t.prepareVideoBidder(i.bid):i.bid.adUnitCode.indexOf("nonlinear")>=0?"adways"===i.bid.bidder?(t.pubsub.publish("spot.nonlinear.add",i.bid),t.pubsub.publish("prebid.adwaysPlaced",{partner:"adways",pubId:i.bid.pubId})):t.requester.makeRequest(t.requester.getNonlinearWrapper(i.bid.ad,i.bid.width,i.bid.height),{method:"inline",bid:i.bid}):(t.prepareDisplayBidder(i.bid),t.adQueue.add({adId:i.bid.bidder,type:"display",cpm:i.bid.cpm,render:function(){t.displayOrSasRendered(i.bid),t.pubsub.publish("spot.displayRendered")}}))})},i.prototype.prepareVideoBidder=function(t){var e=null;try{if(e=t.vastUrl,/^\/\//.test(e))e=(config.isHTTPS?"https:":"http:")+e}catch(t){}if(e){var i=this.prebidConfig.adserverMasterTag+encodeURIComponent(e);this.requester.makeRequest(i,{bid:t,sourceUrl:e})}else this.config.tracking.ad.error&&this.pubsub.publish("bid.track.error",{bid:t,urls:this.config.tracking.ad.error,errorCode:303})},i.prototype.prepareDisplayBidder=function(t){var e=document.getElementById("display");if("outbrain-wrapper"===t.bidder){var i=document.createElement("script");i.src="https://widgets.outbrain.com/outbrain.js",i.async="async";var s=document.createElement("div");s.setAttribute("class","OUTBRAIN"),s.setAttribute("data-src",t.contentPageUrl),s.setAttribute("data-widget-id",t.widgetId),s.setAttribute("data-ob-template",t.widgetObTemplate),this.pubsub.subscribe("spot.displayRendered",function(t,n){e.appendChild(i),e.appendChild(s)})}},i.prototype.displayOrSasRendered=function(t){var e=[this.prebidConfig.displayTracking.impression];this.prebidConfig.bidTracking.impression&&e.push(this.prebidConfig.bidTracking.impression),this.displayOrSasVideoIsShowed=!0,this.pubsub.publish("bid.track.impression",{bid:t,urls:e}),this.pubsub.publish("spot.stopPlayer"),58248!=t.adId&&this.pubsub.publish("spot.open",{display:!0,adId:t.bidder,dontRenderInframe:!0}),this.pubtagGateway.stopWatchingAdFlow()},t.exports=i},function(t,e,i){var s=i(10),n=function(){this.topics={},this.subUid=-1};n.prototype.subscribe=function(t,e){this.topics[t]||(this.topics[t]=[]);var i=(++this.subUid).toString();return this.topics[t].push({token:i,func:e}),i},n.prototype.publish=function(t,e,i,n){if("motion.progress"!==t&&"player.timeupdate"!==t&&"progress"!==t&&"window.mousemove"!==t&&"controls.host.mouseleave"!==t&&"controls.host.mouseenter"!==t&&"body.mouseenter"!==t&&"body.mouseleave"!==t&&"duplex"!==t&&"pubtag.pubtag-player-api.event"!==t&&"video.timeupdate"!==t){s.logEvent(t,e||"")}var r=t.split(".");1==r.length?this._publish(r[0],t,e,i,n):2==r.length?(this._publish(r[0],t,e,i,n),this._publish(r[0]+"."+r[1],t,e,i,n)):3==r.length&&(this._publish(r[0],t,e,i,n),this._publish(r[0]+"."+r[1],t,e,i,n),this._publish(r[0]+"."+r[1]+"."+r[2],t,e,i,n))},n.prototype._publish=function(t,e,i,s,n){if(!this.topics[t])return!1;for(var r=this.topics[t],o=r?r.length:0;o--;)try{r[o].func(e,i,s,n)}catch(t){}return!0},n.prototype.unsubscribe=function(t){for(var e in this.topics)if(this.topics[e])for(var i=0,s=this.topics[e].length;i<s;i++)if(this.topics[e][i].token===t)return this.topics[e].splice(i,1),t;return!1},t.exports=n},function(t,e,i){var s=i(6),n=function(t,e,i,n){this.pubsub=t,this.eventBus=i,this.debug=e,this.iframeId=window.name,this.onViewportIn=null,this.onViewportOut=null,this.viewabilitySize=0,this.targeting=new s,this.aspectRatio=n};n.prototype.setPlayerPubtagApi=function(t){this.pubtagPlayerApi=t},n.prototype.message=function(t){if(this.debug&&"pubtag-player-api.event"!==t.intent&&"iframeResized"!==t.intent)t.intent,JSON.stringify(t);t.publisherIframeId=this.iframeId,this.eventBus.dispatchEvent(t.intent,t)},n.prototype.incomingMessage=function(t,e){if("viewability-size"===t?this.viewabilitySize=e.value:"pubtag-player-api.intent"===t?this.pubtagPlayerApi.incomingIntent(e.intentName,e.intentParam1):this.pubsub.publish("pubtag."+t,e),"setHoverCloseControl"===t)if(this.playerController)this.pubsub.publish("player.setCloseOnHover",e);else var i=setInterval(function(){this.playerController&&(this.pubsub.publish("player.setCloseOnHover",e),clearInterval(i))},100)},n.prototype.setupMessagesListner=function(){var t=this;this.eventBus.addGlobalEventListener(function(e,i){t.incomingMessage(e,i)}),window.addEventListener("resize",function(){t.message({intent:"iframeResized"})})},n.prototype.getViewabilitySize=function(){return this.viewabilitySize},n.prototype.addAdToFlow=function(t,e){this.message({intent:"addAdToFlow",adId:t.adId,type:t.type,cpm:t.cpm,renderIntoSpot:e,vastId:t.vastId})},n.prototype.setAdSettings=function(t){this.message({intent:"setAdSettings",options:t})},n.prototype.getReadyAdFromFlow=function(t,e,i){this.message({intent:"getReadyAdFromFlow",timeout:t,type:e,forceTimer:i})},n.prototype.startVideoAuction=function(){this.message({intent:"startVideoAuction",targetingData:this.targeting.getMixTgtData()}),this.pubsub.publish("pubtag.videoAuctionWasStarted")},n.prototype.getNextReadyAdFromFlow=function(){this.message({intent:"getNextReadyAdFromFlow"})},n.prototype.stopWatchingAdFlow=function(){this.message({intent:"stopWatchingAdFlow"})},n.prototype.startDisplayAuction=function(){this.message({intent:"startDisplayAuction",targetingData:this.targeting.getMixTgtData()}),this.pubsub.publish("pubtag.displayAuctionWasStarted")},n.prototype.startNonLinearAuction=function(){this.message({intent:"startNonLinearAuction"}),this.pubsub.publish("pubtag.nonLinearAuctionWasStarted")},n.prototype.sasCookieSync=function(t,e){this.message({intent:"sasCookieSync",config:t,gdpr:e}),this.pubsub.publish("pubtag.sasCookieSync",{config:t,gdpr:e})},n.prototype.clearAdsFromAdFlow=function(t){this.message({intent:"clearAdsFromAdFlow",type:t})},n.prototype.playerStarted=function(){this.message({intent:"playerStarted"})},n.prototype.openUrl=function(t){this.message({intent:"openUrl",url:t})},n.prototype.playerTimeupdate=function(t,e){this.message({intent:"motionTimeupdate",remainingTime:t,duration:e})},n.prototype.playerStopped=function(){this.message({intent:"playerStopped"})},n.prototype.setHeader=function(t){this.message({intent:"setHeader",headerHtml:t})},n.prototype.setCaptions=function(t){this.message({intent:"setCaptions",config:t})},n.prototype.removeCaptions=function(){this.message({intent:"removeCaptions"})},n.prototype.setShape=function(t){void 0!==(t=t||{}).width&&parseInt(t.width)>0&&void 0!==t.height&&parseInt(t.height)>0?this.message({intent:"makeShapeFixed",aspectRatio:parseFloat(t.aspectRatio),width:parseInt(t.width),height:parseInt(t.height)}):this.message({intent:"makeShapeResponsive",aspectRatio:parseFloat(t.aspectRatio),maxWidth:void 0!==t.maxWidth&&parseInt(t.maxWidth)>0?parseInt(t.maxWidth):null})},n.prototype.setFullscreenOn=function(t,e){this.message({intent:"setFullscreenOn",mobileClickoutUrl:t,native:e})},n.prototype.setFullscreenOff=function(t){this.message({intent:"setFullscreenOff",native:t})},n.prototype.setNoadPassback=function(t,e,i){t&&e&&((new Image).src=e);this.message({intent:"runPassbackListener",type:"noad",pixel:e,pixelError:i,backMessageName:"noadNotSetted"})},n.prototype.setCarouselPassback=function(t){this.message({intent:"runPassbackListener",type:"carouselStopped",pixel:t})},n.prototype.sendMessageToPubtagApi=function(t,e){this.message({intent:"pubtag-player-api.event",eventType:t,event:e})},n.prototype.destroyPlayer=function(){this.message({intent:"destroyPlayer"})},n.prototype.addPlayerController=function(t){this.playerController=t},n.prototype.sendDebugMessage=function(t){this.message({intent:"debugPixel",message:t})},n.prototype.sendAdVerification=function(t){this.message({intent:"аdVerificationFounded",message:t})},t.exports=n},function(t,e,i){var s=i(32),n=i(31),r=function(t,e,i,s,r,o,a,d,u,l){this.adVastsAuctionTimeOut=1e4,this.allAdVastsEmpty=!1,this.adPriorityTimer=null,this.watchAdsInterval=null,this.vasts={},this.adResponses={},this.pubsub=t,this.pubtag=u,this.macro=i,this.tracker=e,this.adQueue=s,this.amountFirstContentVideos=o.playbackSettings.firstVideos,this.firstContentIds=[],this.trackingDomainWhiteList=o.tracking.whitelist_domains,this.onGetReadyAdFromFlow=r,this.tracking=o.tracking,this.bumperAdsEnabled=o.adConfig.bumperAdsEnabled,this.nonLinearConfig=o.adConfig.nonLinear,this.parser=new n(this.pubsub,this.macro,o.playerOptions.canvas,o.stitching.proxyPixelURL,this.trackingDomainWhiteList,o.playbackSettings.playlistMode,o.playbackSettings.doNotShuffleXVideos,o.isHTTPS,this.tracking,o.adConfig.nonLinear&&10==o.adConfig.nonLinear.position,this.bumperAdsEnabled,o.stitching.adOffset,a,o.adConfig.customTracking.commercial.clickThrough,o.adConfig.keepOverlay4Vpaid,o.playbackSettings.contentQualityMode,o.aspectRatio,this.pubtag,l)};r.prototype.setEventListeners=function(){var t=this;this.pubsub.subscribe("spot.adVastResponse",function(e,i){var s=i.response;t.vasts[s.vastId].setAd(s),t.bumperAdsEnabled&&!t.bumperSetted&&i.isBumper?(t.pubsub.publish("spot.setAdToPlayer",i),t.bumperSetted||(t.bumperSetted=!0)):t.adQueue.add({bid:t.vasts[s.vastId].bid,vastId:s.vastId,adId:s.vastId,type:t.vasts[s.vastId].highPriority&&!0!==i.isRTBCreative?"priority-video":"video",ads:i,cpm:parseFloat(t.vasts[s.vastId].bid.cpm),extra:t.vasts[s.vastId].extra})}),this.pubsub.subscribe("spot.contentVastResponse",function(e,i){t.pubsub.publish("spot.setContentToPlayer",i)}),this.pubsub.subscribe("spot.setAdToPlayer",function(e,i){clearInterval(t.watchAdsInterval),t.watchAdsInterval=null}),this.pubsub.subscribe("vastParser.content.firstArray",function(e,i){t.firstContentIds=i.array})},r.prototype.makeRequest=function(t,e){var i=new s(t,(e=e||{}).method,e.priorityTimeout,e.bid,e.sourceUrl,e.isContent,this.amountFirstContentVideos,this.firstContentIds,this);e.bid&&(this.vasts[i.vastId]=i,this.vasts[i.vastId].extra=e.extraAd),i.request(),!this.watchAdsInterval&&e.bid&&this.watchAds()},r.prototype.doubleRequest=function(t){this.vasts[t].request()},r.prototype.resetAds=function(){this.vasts={}},r.prototype.watchAds=function(){var t=this,e=(new Date).getTime(),i=[],s=[],n=!1;this.watchAdsInterval=setInterval(function(){var r=(new Date).getTime();t.adVastsAuctionTimeOut;for(var o in t.vasts)if(t.vasts.hasOwnProperty(o)){if(t.vasts[o].ad&&t.vasts[o].highPriority){t.onGetReadyAdFromFlow(),clearInterval(t.watchAdsInterval),t.watchAdsInterval=null;break}t.vasts[o].empty&&t.vasts[o].highPriority&&!n?n=!0:!0===t.vasts[o].fetched&&s.indexOf(o)<0?s.push(o):!0===t.vasts[o].empty&&i.indexOf(o)<0&&i.push(o)}if(i.length>0&&i.length===Object.keys(t.vasts).length||s.length>0&&s.length===Object.keys(t.vasts).length)return t.onGetReadyAdFromFlow(),clearInterval(t.watchAdsInterval),void(t.watchAdsInterval=null);r-e>=t.adVastsAuctionTimeOut&&t.watchAdsInterval&&(t.onGetReadyAdFromFlow(),clearInterval(t.watchAdsInterval),t.watchAdsInterval=null)},100)},r.prototype.approvedDomain=function(t){if(!this.trackingDomainWhiteList||this.trackingDomainWhiteList&&!this.trackingDomainWhiteList.length)return!0;var e=/([\w-]+[.][\w]+)[\/\s]/g.exec(t),i=e&&e.length>1?e[1]:"";return this.trackingDomainWhiteList.indexOf(i)>=0},r.prototype.getDummyWrapper=function(t){return'<?xml version="1.0" encoding="UTF-8"?>         <VAST xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="vast.xsd" version="3.0">           <Ad id="SDK">             <InLine>               <AdSystem>SHOWHEROES</AdSystem>               <AdTitle>SHOWHEROES SDK</AdTitle>               <Creatives>                 <Creative>                     <Linear>                       <Duration>00:00:30</Duration>                       <TrackingEvents />                       <MediaFiles>                         <MediaFile                           width="640"                           height="480"                           delivery="progressive"                           type="application/javascript"                           apiFramework="SDK">                               <![CDATA['+t+"]]>                         </MediaFile>                       </MediaFiles>                     </Linear>                 </Creative>               </Creatives>             </InLine>           </Ad>         </VAST>"},r.prototype.getNonlinearWrapper=function(t,e,i){var s=this.nonLinearConfig.vastWrapper.templateXML,n=this.nonLinearConfig.vastWrapper.defaultPlaceholders.duration;return e=e||this.nonLinearConfig.vastWrapper.defaultPlaceholders.width,i=i||this.nonLinearConfig.vastWrapper.defaultPlaceholders.height,s=s.replace("%%CREATIVE_HTML%%",t).replace("%%WIDTH%%",e).replace("%%HEIGHT%%",i).replace("%%DURATION%%",n)},r.prototype.saveAdToCache=function(t,e){this.adResponses[t]=e},r.prototype.parseAdFromCache=function(t){var e=this.adResponses[t];this.parser.parse(e.response,e.bid,e.extraMacros,e.sourceUrl,e.firstContentIds)},t.exports=r},function(t,e){var i=function(){};i.prototype.fromVastExtentions=function(t){for(var e=[],i=0;i<t.length;i++){var s=t[i].attributes.action,n=t[i].attributes.event,r=t[i].attributes.eventOffset,o=t[i].attributes.parameter1,a=t[i].value;r=r?parseInt(r):null,parseInt(o).toString()===o.toString()&&(o=parseInt(o)),o=o||null,parseInt(a).toString()===a.toString()&&(a=parseInt(a)),a&&"."!=a||(a=null),e.push({action:s,event:n,eventOffset:r,parameter1:o,parameter2:a})}return e},i.prototype.fromText=function(t){for(var e=t.split(/\s{2,}/g),i=[],s=0;s<e.length;s++)i.push(this.parseLine(e[s]));return i},i.prototype.parseLine=function(t){var e,i,s,n,r,o,a,d=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},u=t.split(">"),l=d(u[0]),p=d(u[1]);return-1!=l.indexOf("+")?(e=d((i=l.split("+"))[0]),s=parseInt(d(i[1]))):(e=l,s=0),-1!=p.indexOf("(")?(n=d((r=p.split("("))[0]),-1!=(r=d(r[1]).substr(0,d(r[1]).length-1)).indexOf(",")?(o=d((r=r.split(","))[0]),a=d(r[1]),parseInt(o).toString()===o.toString()&&(o=parseInt(o)),parseInt(a).toString()===a.toString()&&(a=parseInt(a))):(o=d(r),a=null,parseInt(o).toString()===o.toString()&&(o=parseInt(o)))):(n=p,o=null,a=null),{event:e,action:n,eventOffset:s,parameter1:o,parameter2:a}},t.exports=i},function(t,e){var i=function(t,e,i){this.pubsub=t,this.pubtag=e,this.tracker=i,this.skipped=!1,this.duration=0,this.currentTime=0,this.muted=!0,this.volume=0,this.episodeId=null,this.mediaId=null,this.adId=null};i.prototype.init=function(t,e,i,s){var n=this;this.adId=e,this.onLoadErrorCallback=i,this.onLoadCallback=s,this.pubtag.message({intent:"googleIMASDK.init",adTagUrl:t,adId:e,playerAspectRatio:this.pubtag.aspectRatio}),this.imasdkEvents_token=this.pubsub.subscribe("pubtag.googleIMASDK",function(t,e){e.adId===n.adId&&"pubtag.googleIMASDK.init"!==t&&("pubtag.googleIMASDK.ready"===t&&n.onLoadCallback(),"pubtag.googleIMASDK.loadError"===t&&(n.onLoadErrorCallback(),n.pubsub.unsubscribe(n.imasdkEvents_token)),"pubtag.googleIMASDK.error"===t&&n.onError(e.error),"pubtag.googleIMASDK.progress"===t&&n.onCurrentTime(e.currentTime),"pubtag.googleIMASDK.started"===t&&(n.sendDuplexEvent("play"),n.sendDuplexEvent("playing"),n.pubsub.publish("controls.off")),"pubtag.googleIMASDK.completed"===t&&(n.sendDuplexEvent("ended"),n.destroy()),"pubtag.googleIMASDK.click"===t&&n.tracker.click(),"pubtag.googleIMASDK.skipped"===t&&(n.skipped=!0,n.sendDuplexEvent("ended"),n.destroy(),n.pubsub.publish("controls.skip",{type:"ima-sdk"})),"pubtag.googleIMASDK.volumechanged"===t&&n.sendDuplexEvent("volumechange"),"pubtag.googleIMASDK.durationchanged"===t&&(n.duration=e.duration,n.sendDuplexEvent("durationchange")))})},i.prototype.setRequirements=function(t){this.episodeId=t.episodeId,this.mediaId=t.mediaId,this.sendDuplexEvent("loadedmetadata"),this.sendDuplexEvent("loadeddata")},i.prototype.play=function(){this.pubtag.message({intent:"googleIMASDK.play",adId:this.adId})},i.prototype.pause=function(){this.pubtag.message({intent:"googleIMASDK.pause",adId:this.adId}),this.sendDuplexEvent("pause")},i.prototype.resume=function(){this.pubtag.message({intent:"googleIMASDK.resume",adId:this.adId}),this.sendDuplexEvent("playing")},i.prototype.setVolume=function(t){var e=t?1:0;"number"==typeof t&&(e=t),this.muted=0===e,this.volume=e,this.pubsub.publish("user.interaction.callback",{callback:function(){this.pubtag.message({intent:"googleIMASDK.setVolume",adId:this.adId,volume:this.volume,muted:this.muted})}.bind(this)})},i.prototype.onCurrentTime=function(t){this.currentTime=t,this.sendDuplexEvent("timeupdate")},i.prototype.sendDuplexEvent=function(t){this.pubsub&&this.pubsub.publish("duplex",{type:t,sdk:!0,target:{duration:this.duration,currentTime:this.currentTime,mediaId:this.mediaId,episodeId:this.episodeId,readyState:2,volume:this.volume,muted:this.muted,forced:this.skipped}},this.episodeId,this.mediaId)},i.prototype.destroy=function(t){this.pubsub.publish("controls.on"),this.pubsub.unsubscribe(this.imasdkEvents_token)},i.prototype.onError=function(t){"function"==typeof t.getError&&t.getError().toString(),this.sendDuplexEvent("error")},t.exports=i},function(t,e,i){var s=i(2),n=i(1),r=i(7),o=function(t,e,i,s){this.macro=t,this.config=i,this.pubsub=e,this.playerId=s};o.prototype.setEventListeners=function(){var t=this;this.patchDMVAST(),this.trackUnfriendly();var e=this.pubsub.subscribe("spot.loaded",function(i,s){t.sendPixel(t.config.video.loaded,s&&s.params||""),t.pubsub.unsubscribe(e)}),i=this.pubsub.subscribe("pubtag.play",function(e,s){t.sendPixel(t.config.video.frameViewable,s&&s.params||""),t.pubsub.unsubscribe(i)}),s=this.pubsub.subscribe("player.loaded",function(e,i){t.sendPixel(t.config.video.playerLoaded),t.pubsub.unsubscribe(s)}),o=this.pubsub.subscribe("player.nocontent",function(e,i){t.sendPixel(t.config.debug["no-content-fallback"]),t.pubsub.unsubscribe(o)}),a=this.pubsub.subscribe("bid.track.impression",function(e,i){t.sendPixel(i.urls,null,{"[AD_BIDDER]":i.bid.bidder,"[AD_ID]":i.bid.adId||"","[AD_BID_CPM]":i.bid.cpm||"","[sas_insertionId]":i.macro&&i.macro.sas_insertionId||"","[SH_FRMTID]":i.formatId,"[SH_CRFMT]":i.format}),t.pubsub.unsubscribe(a)});this.pubsub.subscribe("bid.track",function(e,i){if("bid.track.impression"!==e){var s={"[AD_BIDDER]":i.bid.bidder,"[AD_ID]":i.bid.adId||"","[AD_BID_CPM]":i.bid.cpm||"","[ERRORCODE]":i.errorCode||"","[SH_FRMTID]":i.formatId,"[SH_CRFMT]":i.format};i.macros&&(s=n(s,i.macros)),t.sendPixel(i.urls,null,s)}}),this.config.ad.vidOpportunity&&this.pubsub.subscribe("player.ad.opportunity",function(e,i){t.sendPixel(t.config.ad.vidOpportunity,i&&i.params||"")}),this.pubsub.subscribe("pubtag.gptTrack",function(e,i){t.pubsub.publish("bid.track."+i.type,{bid:{bidder:"gpt-fallback",adId:i.adId},urls:t.config.fallback[i.type]})}),this.pubsub.subscribe("pubtag.switchInTrack",function(e,i){t.pubsub.publish("bid.track."+i.type,{bid:{bidder:i.partner,cpm:5,adId:i.pubId},urls:t.config.custom_ad[i.type],formatId:r.INSTREAM_FORMATS.nonlinear,format:"switch-in"})}),this.pubsub.subscribe("pubtag.adwaysTrack",function(e,i){var s;!t.config.ad||"request"!==i.type&&"response"!==i.type?t.config.nonLinear&&(s=t.config.nonLinear[i.type]):s=t.config.ad[i.type],s&&t.pubsub.publish("bid.track."+i.type,{bid:{bidder:i.partner,cpm:5,adId:i.pubId},urls:s,formatId:r.INSTREAM_FORMATS.nonlinear,format:"adways"})}),this.pubsub.subscribe("prebid.adwaysPlaced",function(e,i){t.config.nonLinear&&t.config.nonLinear.placed&&t.pubsub.publish("bid.track.placed",{bid:{bidder:i.partner,cpm:5,adId:i.pubId},urls:t.config.nonLinear.placed,formatId:r.INSTREAM_FORMATS.nonlinear,format:"adways"})}),this.pubsub.subscribe("player.content.macros",function(e,i){var s={};for(var n in i.macros)i.macros.hasOwnProperty(n)&&n.toUpperCase().indexOf("SHG_")>=0&&(s[n.toUpperCase()]=i.macros[n]);t.macro.extendMacros(s)}),this.pubsub.subscribe("spot.tag.blocked",function(e,i){t.trackBlockedTags()})},o.prototype.sendPixel=function(t,e,i){if("[object Array]"===Object.prototype.toString.call(t))for(var s=0;s<t.length;s++){(new Image).src=this.macro.replace(t[s]+(e||""),i)}else(new Image).src=this.macro.replace(t+(e||""),i)},o.prototype.patchDMVAST=function(){var t=this;s.util.resolveURLTemplates=function(e,i,s){var n,r,o,a,d,u,l,p,c=s;for(s&&s.length?c=s[0]:s&&0===s.length&&(c=null),null==i&&(i={}),n=[],null!=i.ASSETURI&&(i.ASSETURI=this.encodeURIComponentRFC3986(i.ASSETURI)),null!=i.CONTENTPLAYHEAD&&(i.CONTENTPLAYHEAD=this.encodeURIComponentRFC3986(i.CONTENTPLAYHEAD)),null==i.ERRORCODE||/^[0-9]{3}$/.test(i.ERRORCODE)||(i.ERRORCODE=900),i.CACHEBUSTING=this.leftpad(Math.round(1e8*Math.random()).toString()),i.TIMESTAMP=this.encodeURIComponentRFC3986((new Date).toISOString()),i.RANDOM=i.random=i.CACHEBUSTING,r=0,a=e.length;r<a;r++)if(l=e[r]){for(o in i)p=i[o],d="["+o+"]",u="%%"+o+"%%",macro3="%5B"+o+"%5D",l=(l=(l=l.replace(d,p)).replace(u,p)).replace(macro3,p);l=t.macro.replace(l,c),n.push(l)}return n}},o.prototype.trackUnfriendly=function(){var t=!0;try{window.parent.parent.parent.parent.parent.frameElement}catch(e){t=!1}if(!1===t){var e=this.config.debug["unfriendly-iframe-wrap-detected"],i=window.location.href||window.parent.origin;i.indexOf("showheroes.com")>=0&&(e=this.config.debug["unfriendly-iframe-detected"]),this.sendPixel(e,"&origin="+encodeURIComponent(i))}},o.prototype.trackBlockedTags=function(){var t=this.config.debug["unfriendly-iframe-detected"].replace("unfriendly-iframe-detected","vast-blocked");this.sendPixel(t)},o.prototype.trackBlockedPlayer=function(t){var e=this.config.debug["unfriendly-iframe-detected"].replace("unfriendly-iframe-detected","player-blocked"),i={cid:window.currentCreative||"",cids:window.putCreatives||[],s:"s"};this.sendPixel(e,"&message="+t+"&sh_md="+btoa(JSON.stringify(i)))},t.exports=o},function(t,e,i){var s=i(2),n=i(36),r=i(37),o=i(28),a=i(34),d=i(41),u=i(8),l=i(0),p=i(42),c=i(43),h=i(38),b=i(4),f=i(29),g=i(33),m=i(1),v=i(7),y=i(39),w=i(3),A=function(t,e,i,n,r,o,a,d,u,l,p,c,h,b,f,g,m,v,y){this.gdprPurposes=new w,this.pubsub=t,this.pubtag=v,this.macro=e,this.isCanvas=i,this.proxyPixelURL=n,this.trackingDomainWhiteList=r,this.playlistMode=o,this.doNotShuffleXVideos=a,this.isHTTPS=d,this.tracking=u,this.nonlinearEnabled=l,this.bumperAdsEnabled=p,this.adOffset=c,this.playerWidth=h,this.aspectRatio=m,this.contentQualityMode=g,this.clickThroughProxyURL=b,this.keepOverlay4Vpaid=f,this.isAdOnly=y,this.vpaidHighPrioDomains=["connected-stories.hypertvx.com","unified.adsafeprotected.com"],!0!==s.parser.patched&&(s.parser.patched=!0,this.patchParseExtension())};A.prototype.parse=function(t,e,i,n,r,d){var w,A,T,k,C,I,R=this,E="ShowHeroes Playlist Server"==t.ads[0].system.value;E&&r.length>0&&(t.ads=c(t.ads,r,"id")),!E||0!==this.playlistMode&&5!==this.playlistMode||(t.ads=p(t.ads,this.doNotShuffleXVideos)),E&&1===t.ads.length&&this.pubsub.publish("spot.oneMediaInPlaylist");for(var x=0;x<t.ads.length;x++)for(var S=0;S<t.ads[x].creatives.length;S++)if("nonlinear"==t.ads[x].creatives[S].type&&this.nonlinearEnabled&&this.parseNonlinear(S,t.ads[x],t.ads[x].creatives[S],e,i),"linear"==t.ads[x].creatives[S].type){var L=t.ads[x];t.ads[x].vastId=t.vastId;var U=[],_=[],P=u(t.ads[x].sourceUrl);w=A=H=null;for(var D=0;D<t.ads[x].creatives[S].mediaFiles.length;D++){var O=this.vpaidHighPrioDomains.indexOf(P)>=0,N=a(t.ads[x].creatives[S].mediaFiles[D].mimeType,this.isCanvas,O),V=N>0;V&&(V&&(_.push(t.ads[x].creatives[S].mediaFiles[D]),U.push(N)),null===w?w=D:parseInt(t.ads[x].creatives[S].mediaFiles[D].width)&&parseInt(t.ads[x].creatives[S].mediaFiles[w].width)&&parseInt(t.ads[x].creatives[S].mediaFiles[D].width)<parseInt(t.ads[x].creatives[S].mediaFiles[w].width)&&(w=D))}for(var M=null,F=null,H=[],B=0;B<t.ads[x].extensions.length;B++){if("PreviewImages"==t.ads[x].extensions[B].attributes.type)for(var W=0;W<t.ads[x].extensions[B].children.length;W++)H.push(t.ads[x].extensions[B].children[W]);if("StitchingScheme"==t.ads[x].extensions[B].attributes.type&&(M=t.ads[x].extensions[B].children),"StitchingParams"==t.ads[x].extensions[B].attributes.type&&t.ads[x].extensions[B].attributes.contentDuration&&t.ads[x].extensions[B].attributes.adDuration&&(F={contentDuration:parseInt(t.ads[x].extensions[B].attributes.contentDuration,10),adDuration:parseInt(t.ads[x].extensions[B].attributes.adDuration,10)}),"SmartMacros"===t.ads[x].extensions[B].attributes.type){for(var q=0;q<t.ads[x].extensions[B].children.length;q++)if("rtb_advertiserId"===t.ads[x].extensions[B].children[q].name&&t.ads[x].extensions[B].children[q].value){I=!0;break}T=this.reformatExtMacros(t.ads[x].extensions[B].children,"sas_")}"customisedScript"===t.ads[x].extensions[B].attributes.type&&(C=this.getCustomisedScripts(t.ads[x].extensions[B].children)),"SHMacro"===t.ads[x].extensions[B].attributes.type&&(k=this.reformatExtMacros(t.ads[x].extensions[B].children))}M&&!0!==this._alreadyCalled_onStitchingSchemeCallback&&(this.pubsub.publish("spot.setSchemaToPlayer",{stitchingScheme:(new o).fromVastExtentions(M),stitchingParams:F}),this._alreadyCalled_onStitchingSchemeCallback=!0);var G={},j=[];for(var z in t.ads[x].creatives[S].trackingEvents)for(var Q=0;Q<t.ads[x].creatives[S].trackingEvents[z].length;Q++)G[z]||(G[z]=[]),G[z].push(t.ads[x].creatives[S].trackingEvents[z][Q]);for(var X=0;X<t.ads[x].creatives[S].videoClickTrackingURLTemplates.length;X++)j.push(t.ads[x].creatives[S].videoClickTrackingURLTemplates[X]);if((L=this.injectAdditionalPixels(L,E,e,i)).creatives[S].trackingEvents=this.setCustomEvents(G,L),L.creatives[S].trackingEvents=this.checkTraking(L.creatives[S].trackingEvents),L.creatives[S].videoClickTrackingURLTemplates=this.checkTraking(j),L.impressionURLTemplates=this.checkTraking(L.impressionURLTemplates),L.errorURLTemplates=this.checkTraking(L.errorURLTemplates),null!==w){A=new s.tracker(L,t.ads[x].creatives[S]);var K,J=Math.max.apply(null,U),Y=_[U.indexOf(J)],$=t.ads[x],Z=t.ads[x].creatives[S];"SDK"===Y.apiFramework&&"imasdk.googleapis.com"!==u(Y.fileURL)?K=Y.fileURL:"imasdk.googleapis.com"===u(Y.fileURL)&&"ima3vpaid.appspot.com"!==P&&(Y.apiFramework="SDK",K=l("adTagUrl",Y.fileURL));var tt,et={"[SH_CRFMT]":Y.apiFramework||Y.mimeType,"[CONTENT_ID]":$.id,"[VIDEOFILE_URL]":b(K||Y.fileURL,300),"[SH_FRMTID]":v.INSTREAM_FORMATS.linear};Z.universalAdId&&Z.universalAdId.idRegistry&&"unknown"!==Z.universalAdId.idRegistry&&Z.universalAdId.idValue&&"unknown"!==Z.universalAdId.idValue?tt=Z.universalAdId.idRegistry+":"+Z.universalAdId.idValue:Y.id&&Y.id.indexOf("sas")>=0?tt=Y.id:Z.adId?tt=Z.adId:Z.id&&(tt=Z.id);var it=y("rootUrl",Z.adParameters),st=y("cid",Z.adParameters);if(it&&st)tt=st;else if(it){var nt=/.*creatives\/(\d*)/gm.exec(it);2===nt.length&&(tt="adhc"+nt[1])}tt&&(et=m({"[SH_CRTVID]":tt},et)),T&&(et=m(et,T)),k&&(et=m(et,k)),e&&(et=m({"[AD_BIDDER]":e.bidder||"","[AD_BID_CPM]":e.cpm||"","[AD_ID]":e.adId||""},et)),Z.creativeId=tt,A.macros=et;var rt=1===this.contentQualityMode?h(_,this.playerWidth,this.aspectRatio):Y;if("VPAID"===rt.apiFramework||"SDK"===rt.apiFramework)if(this.pubsub.publish("spot.initSdkVpaid",{creativeId:tt}),K){new f(this.pubsub,this.pubtag,A).init(this.macro.replace(K),t.ads[x].vastId+"_"+Math.round(1e4*Math.random()),function(){A.errorWithCode(303),d()},function(){Z.wrapper=this,R.onMediaFile(E,$,Z,rt,H,A,n,C,I),d()})}else{var ot=l("sh_cntrs",$.sourceUrl);new g(t.ads[x].vastId,this.pubsub,this.macro,this.isCanvas,(ot||"").split(","),this.isHTTPS,Z.duration,this.macro.replace(this.clickThroughProxyURL,m(i,et)),T&&T["[sas_templateId]"],this.keepOverlay4Vpaid).init(rt.fileURL,Z.videoClickThroughURLTemplate,Z.adParameters,function(){A.errorWithCode(303),d()},function(){Z.wrapper=this,R.onMediaFile(E,$,Z,rt,H,A,n,C,I),d()})}else this.onMediaFile(E,$,Z,rt,H,A,n,C,I),d()}else if(!E){var at=m(i,k);this.pubsub.publish("bid.track.error",{bid:e,urls:L.errorURLTemplates,errorCode:401,macros:m(at,T)})}}},A.prototype.onMediaFile=function(t,e,i,s,n,r,o,a,d){if(t)this.pubsub.publish("spot.contentVastResponse",{response:e,creative:i,mediaFile:s,previewImage:n,tracker:r,originVastUrl:o});else{var u=this.bumperAdsEnabled&&i.duration<=7&&!s.apiFramework;r.macros=m(r.macros,this.macro.getScemaTypeMacro(u,this.adOffset,this.isAdOnly)),r.track("placed"),this.pubsub.publish("spot.adVastResponse",{response:e,creative:i,mediaFile:s,previewImage:n,tracker:r,originVastUrl:o,isBumper:u,customisedScripts:a,isRTBCreative:d}),this.bumperAdsEnabled=!1}},A.prototype.setCustomEvents=function(t,e){for(var i=0;i<16;i++){if("played"+i+"seconds"in t){"progress-"+i in t||(t["progress-"+i]=[]);for(var s=0;s<t["played"+i+"seconds"].length;s++)t["progress-"+i].push(t["played"+i+"seconds"][s]);delete t["played"+i+"seconds"]}if("video"+i+"sec"in t){"progress-"+i in t||(t["progress-"+i]=[]);for(var n=0;n<t["video"+i+"sec"].length;n++)t["progress-"+i].push(t["video"+i+"sec"][n]);delete t["video"+i+"sec"]}}for(var r=0;r<e.extensions.length;r++)if(e.extensions[r].children.length>0&&"SmartMetrics"==e.extensions[r].attributes.type)for(var o=e.extensions[r].children,a=0;a<o.length;a++){var d=o[a].name;if(d){if("timeToClick"==(d=d.replace(/^v_/,"")))continue;"firstSecond"==d?d="progress-1":"viewcount"==d&&(d="smartImpressionViewable"),d in t||(t[d]=[]);var u=o[a].value;d in t&&this.approvedDomain(u)&&t[d].push(u)}}return t},A.prototype.injectAdditionalPixels=function(t,e,i,s){if(!e){var n={"[AD_BIDDER]":i.bidder||"","[AD_BID_CPM]":i.cpm||"","[AD_ID]":i.adId||""};for(var r in this.tracking.ad)this.tracking.ad.hasOwnProperty(r)&&("error"===r?("errorURLTemplates"in t||(t.errorURLTemplates=[]),t.errorURLTemplates.push(this.macro.replace(this.tracking.ad[r],m(s,n)))):"impression"===r&&("errorURLTemplates"in t||(t.impressionURLTemplates=[]),t.impressionURLTemplates.push(this.macro.replace(this.tracking.ad[r],m(s,n)))))}return t},A.prototype.replaceUrlToProxy=function(t){return this.proxyPixelURL?this.proxyPixelURL+t:t},A.prototype.checkTraking=function(t){var e=this.trackingDomainWhiteList&&this.trackingDomainWhiteList.length;if(!0===Array.isArray(t)){for(var i=[],s=0;s<t.length;s++)(e&&this.approvedDomain(t[s])&&!0===this.gdprPurposes.checkUrl(t[s])||!e&&!0===this.gdprPurposes.checkUrl(t[s]))&&i.push(t[s]);t=i}else for(var n in t)if(t.hasOwnProperty(n)){var r=[];for(s=0;s<t[n].length;s++)(e&&this.approvedDomain(t[n][s])&&!0===this.gdprPurposes.checkUrl(t[n][s])||!e&&!0===this.gdprPurposes.checkUrl(t[n][s]))&&r.push(t[n][s]);t[n]=r}return t},A.prototype.replaceMacro=function(t,e,i){var s={"[SH_CRFMT]":e};if(i&&(s=m({"[AD_BIDDER]":i.bidder||"","[AD_BID_CPM]":i.cpm||"","[AD_ID]":i.adId||""},s)),!0===Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=this.macro.getReplacedUrl(t[n],s);else for(var r in t)if(t.hasOwnProperty(r))for(n=0;n<t[r].length;n++)t[r][n]=this.macro.getReplacedUrl(t[r][n],s)},A.prototype.approvedDomain=function(t){if(!this.trackingDomainWhiteList||this.trackingDomainWhiteList&&!this.trackingDomainWhiteList.length)return!0;var e=/([\w-]+[.][\w]+)[\/\s]/g.exec(t),i=e&&e.length>1?e[1]:"";return this.trackingDomainWhiteList.indexOf(i)>=0},A.prototype.patchParseExtension=function(){s.parser.parseExtension=function(t,e){var i,s,o,a,d,u,l,p,c,h,b,f,g,m,v,y,w,A,T;for(A=[],l=0,b=e.length;l<b;l++){if(d=e[l],s=new n,d.attributes){if(!(v=d.attributes).length)for(var k=0;k<d.childNodes.length;k++)"#text"!=d.childNodes[k].nodeName&&(s.attributes.type||(s.attributes.type=d.childNodes[k].nodeName));for(p=0,f=v.length;p<f;p++)u=v[p],s.attributes[u.nodeName]=u.nodeValue}for(c=0,g=(y=d.childNodes).length;c<g;c++)if(i=y[c],T=this.parseNodeText(i),"#comment"!==i.nodeName&&""!==T)for(var C=0;C<i.childNodes.length;C++)if("#text"!=i.childNodes[C].nodeName)if(o=new r,"#cdata-section"==i.childNodes[C].nodeName){if(o.name=i.nodeName,o.value=T,i.attributes)for(h=0,m=(w=i.attributes).length;h<m;h++)a=w[h],o.attributes[a.nodeName]=a.nodeValue;s.children.push(o)}else{d.attributes&&"undefined"==d.attributes.type&&(d.attributes.type=i.nodeName);var I=i.childNodes[C].nodeName;if(i.childNodes[C].getAttribute&&i.childNodes[C].getAttribute("name")&&(I=i.childNodes[C].getAttribute("name")),"SmartMacros"===s.attributes.type&&"RtbMacros"===d.childNodes[c].nodeName){var R=I;I="rtb_"+R.charAt(0).toLowerCase()+R.substring(1)}o.name=I,o.value=this.parseNodeText(i.childNodes[C]),s.children.push(o)}A.push(t.push(s))}return A}},A.prototype.reformatExtMacros=function(t,e){for(var i={},s=0;s<t.length;s++)i["["+(e||"")+t[s].name.replace(/ID$/g,"Id")+"]"]=t[s].value;return i},A.prototype.getCustomisedScripts=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].value);return e},A.prototype.parseNonlinear=function(t,e,i,n,r){this.tracking.ad.response&&n&&n.bidder&&this.pubsub.publish("bid.track.response",{bid:n,urls:this.tracking.ad.response,macros:r});for(var o={},a=0;a<e.extensions.length;a++)"SmartMacros"==e.extensions[a].attributes.type&&(o=this.reformatExtMacros(e.extensions[a].children,"sas_"));(e=this.injectAdditionalPixels(e,!1,n,r)).creatives[t].trackingEvents=this.setCustomEvents(e.creatives[t].trackingEvents,e),e.creatives[t].trackingEvents=this.checkTraking(e.creatives[t].trackingEvents),e.impressionURLTemplates=this.checkTraking(e.impressionURLTemplates),e.errorURLTemplates=this.checkTraking(e.errorURLTemplates);for(var u=[],l=this.playerWidth,p=0;p<i.variations.length;p++)parseInt(i.variations[p].width,10)>l||(i.variations[p].iframeResource&&(i.variations[p].type="iframe"),u.push(d(i.variations[p].type)),i.variations[p].nonlinearClickTrackingURLTemplates=this.checkTraking(i.variations[p].nonlinearClickTrackingURLTemplates));var c=Math.max.apply(null,u),h=u.indexOf(c),b=i.variations[h]||i.variations[0],f=new s.tracker(e,i,b),g={"[SH_CRFMT]":b.type,"[SH_FRMTID]":v.INSTREAM_FORMATS.nonlinear};o&&(g=m(g,o)),r&&(g=m(g,r)),f.macros=g,u.length?c<0?f.errorWithCode(503):(f.track("placed"),this.pubsub.publish("spot.nonlinear.add",{tracker:f,variation:b,cpm:n.cpm,bidder:n.bidder,isBackfill:n.isBackfill,maxValidWidth:l})):f.errorWithCode(501)},t.exports=A},function(t,e,i){var s=i(8),n=i(0),r=i(4),o=i(2),a=function(t,e,i,s,n,o,a,d,u){this.requester=u,this.pubsub=u.pubsub,this.parser=u.parser,this.tracking=u.tracking,this.approvedDomain=u.approvedDomain,this.macro=u.macro,this.getDummyWrapper=u.getDummyWrapper,this.isContent=o,this.firstContentIds=d,this.amountFirstContentVideos=a,this.url=t,this.method=e||"GET",this.highPriority=Boolean(i),this.sourceUrl=n,this.withCredentials=!0,this.empty=!1,this.ad=null,this.fetched=!1,this.extraMacros={},this.bid=s,s&&(this.vastId=s.bidder+"_"+Math.random().toString().substring(2),this.vastNo="showheroes"===s.bidder?s.adId:null,this.extraMacros={"[SOURCE_URL]":r(this.sourceUrl||"",1300)}),o&&(this.vastId="content")};a.prototype.request=function(){if(this.tracking.ad.request&&this.bid&&this.bid.bidder&&this.pubsub.publish("bid.track.request",{bid:this.bid,urls:this.tracking.ad.request,macros:this.extraMacros}),"inline"===this.method){var t=this.url;o.client.get("",{checkApprovedDomain:this.approvedDomain,vastId:this.vastId,response:(new DOMParser).parseFromString(t,"text/xml")},this.onVastResponse.bind(this))}else o.client.get(this.url,{urlhandler:this.vastUrlHandler(),withCredentials:this.withCredentials,method:this.method,checkApprovedDomain:this.approvedDomain,vastId:this.vastId},this.onVastResponse.bind(this))},a.prototype.onVastResponse=function(t,e,i){if(e)return this.fetched=!0,"content"!==i||this.withCredentials||this.pubsub.publish("player.nocontent"),void this.onError(e,i);if(this.bid&&this.findCreativeCPM(t),this.tracking.ad.response&&this.bid&&this.bid.bidder&&this.pubsub.publish("bid.track.response",{bid:this.bid,urls:this.tracking.ad.response,macros:this.extraMacros}),this.url.indexOf("sh_vpag")>=0&&this.amountFirstContentVideos>0&&this.isContent){for(var s=[],n=0;n<t.ads.length;n++)s.push(t.ads[n].id);this.pubsub.publish("vastParser.content.firstArray",{array:s})}else this.url.indexOf("sh_vpag")<0&&t.ads.length<=this.amountFirstContentVideos&&this.isContent?this.firstContentIds=[]:this.url.indexOf("sh_vpag")<0&&t.ads.length>this.amountFirstContentVideos&&this.isContent&&this.pubsub.publish("vastParser.content.firstArray",{array:[]});this.requester.saveAdToCache(i,{response:t,bid:this.bid,extraMacros:this.extraMacros,sourceUrl:this.sourceUrl,firstContentIds:this.firstContentIds});var r=this;this.parser.parse(t,this.bid,this.extraMacros,this.sourceUrl,this.firstContentIds,function(){r.fetched=!0})},a.prototype.setAd=function(t){this.ad=t},a.prototype.onError=function(t,e){if(t.message&&"XHRURLHandler: "==t.message.substr(0,15)){if(!t.message.slice(15)&&!0===this.withCredentials)return this.withCredentials=!1,void this.request();this.withCredentials||this.pubsub.publish("spot.tag.blocked")}this.empty=!0,this.tracking.ad.error&&this.bid&&this.bid.bidder&&this.pubsub.publish("bid.track.error",{bid:this.bid,urls:this.tracking.ad.error,macros:this.extraMacros,errorCode:303})},a.prototype.vastUrlHandler=function(){var t=this;return{supported:function(){return!0},get:function(e,i,n){if(!1===t.approvedDomain(e))return n(new Error("XHRURLHandler2: VAST domain is not approved. Skipped!"));var r=t.macro.replace(e,t.extraMacros);if(!(s(e).indexOf("doubleclick.net")>=0)){var o=new window.XMLHttpRequest;o.open(i.method,r),o.timeout=i.timeout||0;var a=null;return"POST"==i.method&&(a=JSON.stringify({comMacros:t.macro.getMacrosObject()})),o.withCredentials=i.withCredentials||!1,o.overrideMimeType&&o.overrideMimeType("text/xml"),o.onreadystatechange=function(){if(4===o.readyState)return 200===o.status?n(null,o.responseXML):400===o.status||204===o.status?n(null,null):n(new Error("XHRURLHandler: "+o.statusText))},o.send(a)}setTimeout(function(){return n(null,(new DOMParser).parseFromString(t.getDummyWrapper(r),"text/xml"))},100)}}},a.prototype.findCreativeCPM=function(t){for(var e,i,s={},r=0;r<t.ads.length;r++)for(var o=0;o<t.ads[r].extensions.length;o++){if("SmartMacros"===t.ads[r].extensions[o].attributes.type)for(var a=0;a<t.ads[r].extensions[o].children.length;a++)"rtb_advertiserId"===t.ads[r].extensions[o].children[a].name&&t.ads[r].extensions[o].children[a].value?e=!0:"rtb_externalDealID"===t.ads[r].extensions[o].children[a].name&&t.ads[r].extensions[o].children[a].value&&(i=!0);if("SHCpm"===t.ads[r].extensions[o].attributes.type)for(a=0;a<t.ads[r].extensions[o].children.length;a++){var d=t.ads[r].extensions[o].children[a];switch(d.name){case"base_cpm":s.baseCpm=d.value;break;case"io_cpm":s.ioCpm=d.value;break;case"pmp_cpm":s.pmpCpm=d.value;break;case"omp_cpm":s.ompCpm=d.value}}}var u=n("sh_acpm",this.sourceUrl);u?this.bid.cpm=u:!e&&s.ioCpm?this.bid.cpm=s.ioCpm:e&&i&&s.pmpCpm?this.bid.cpm=s.pmpCpm:e&&s.ompCpm&&!i?this.bid.cpm=s.ompCpm:s.baseCpm?this.bid.cpm=s.baseCpm:this.bid.defaultCpm&&(this.bid.cpm=this.bid.defaultCpm)},t.exports=a},function(t,e,i){var s=i(13),n=i(0),r=i(1),o=function(t,e,i,s,n,r,o,a,d,u){this.log("initialization..."),this.START_CREATIVE_TIME=15e3,this.id=t,this.pubsub=e,this.macro=i,this.pageUrl=i.getPublisherPageUrl(),this.isCanvas=s,this.isHTTPS=r,this.smartTemplateId=d,this.keepOverlay=u,this.adIsReady=!1,this.url=null,this.isPaused=null,this.adParameters="",this.adIsLoaded=!1,this.adIsCompleted=!1,this.adWasStarted=!1,this.adWasPlayed=!1,this.adIsStopped=!1,this.adHadError=!1,this.creativeTimeout=null,this.initData=null,this.endCard=!1,this.controls=n,this.adVastDuration=o||10,this.duration=0,this.currentTime=0,this.muted=!0,this.volume=0,this.episodeId=null,this.mediaId=null,this.isGWDVpaid=!1,this.clickThroughProxyURL=a,this.intervalTimer=null,this.vpaidsContainer=document.getElementById("vpaids-container"),this.video=document.createElement("video"),this.video.setAttribute("playsinline","true"),this.video.setAttribute("webkit-playsinline","true"),this.video.setAttribute("preload","auto"),this.video.setAttribute("muted","true"),this.video.muted=!0,this.video.volume=0,this.el=document.createElement("div"),this.el.id=t,this.el.classList.add("vpaid-el"),this.el.setAttribute("style","opacity: 0;height: 0;"),this.vpaidsContainer.appendChild(this.el),this.el.appendChild(this.video),this.vpaidsBlackList=[]};o.prototype.init=function(t,e,i,o,a){this.url=t,this.vastClickThroughURL=e,this.adParameters=i||"",this.onLoadErrorCallback=o,this.onLoadCallback=a,this.endCard="stickyadstv.com"===this.getDomain(t)||"viralize.tv"===this.getDomain(t),this.url.indexOf("vpaid-gwd.js")>=0&&(this.isGWDVpaid=!0);try{var d=this.adParameters?JSON.parse(this.adParameters):"",u=n("adp",this.url);if(u){var l=JSON.parse(u);d=r(d||{},l)}d.clickoutUrl&&(this.vastClickThroughURL=d.clickoutUrl),1==d.endCard&&(this.endCard=!0),this.adParameters=d?JSON.stringify(d):""}catch(t){}!0===this.isHTTPS&&"http://"==this.url.substr(0,7)&&(this.url="https://"+this.url.slice(7)),this.client=new s(this.el,this.video,{}),this.client.loadAdUnit(this.url,this.onUnitLoad.bind(this))},o.prototype.setRequirements=function(t,e){this.episodeId=t.episodeId,this.mediaId=t.mediaId;var i=this.adUnit?this.adUnit._creative.getAdDuration():0;this.duration=i&&i>0?i:e,this.sendDuplexEvent("durationchange"),this.sendDuplexEvent("loadedmetadata"),this.sendDuplexEvent("loadeddata")},o.prototype.isDirtyDomain=function(t){var e=this.getDomain(t);return this.vpaidsBlackList.indexOf(e)>=0},o.prototype.getDomain=function(t){var e=/([\w-]+[.][\w]+)[\/\s]/g.exec(t);return e&&e.length>1?e[1]:""},o.prototype.onUnitLoad=function(t,e){if(t)this.onLoadError(t);else{var i=this;this.adUnit=e,this.adUnit.subscribe("AdLoaded",function(){i.adIsLoaded=!0,i.onAdLoaded()}),this.adUnit.subscribe("AdError",function(t){!1===i.adIsLoaded?i.onLoadError():i.onAdError(t)}),this.adUnit.handshakeVersion("2.0",function(t,e){t?i.onLoadError(t):i.initAd()}),this.onAdEvents()}},o.prototype.initAd=function(){var t=this;this.initData={width:640,height:360,adParameters:this.adParameters,slot:this.el,videoSlot:this.video,eventDispatcher:this.adUnit},this.adUnit.initAd(640,360,"normal",1e3,{AdParameters:this.adParameters},{vastClickThroughURL:t.vastClickThroughURL?t.macro.replace(t.vastClickThroughURL):null,widthAd:640,heightAd:360,click2playMode:t.isCanvas,videoSlotCanAutoPlay:!t.isCanvas,adDuration:t.adVastDuration,pageUrl:t.pageUrl,gdpr:window.gdpr,managerMacro:t.macro,trackBidder:function(e,i){t.pubsub.publish("bid.track."+e,{bid:i.bid,urls:i.urls,errorCode:i.errorCode,macro:i.macro})}},function(e){e&&t.onLoadError(e)})},o.prototype.onAdLoaded=function(){var t=this;if(this.log("loaded"),this.adIsReady=!0,!0===t.isDirtyDomain(t.url)){var e=(new Date).getTime();this.loadCreativeTimeout=setInterval(function(){(new Date).getTime()-e>=5e3&&(clearInterval(t.loadCreativeTimeout),"function"==typeof t.onLoadCallback&&t.onLoadCallback()),!0===t.adIsStopped&&(clearInterval(t.loadCreativeTimeout),t.onLoadError())},300)}else"function"==typeof t.onLoadCallback&&t.onLoadCallback()},o.prototype.play=function(){var t=this;this.creativeTimeout=setTimeout(function(){t.onAdError("creative tag communication timeout",902)},this.START_CREATIVE_TIME),this.adUnit&&(this.onResize(),this.adUnit.startAd(function(e){if(e||!0===t.adIsCompleted)t.onAdError(e);else if(!0!==t.adHadError){t.adWasStarted=!0,t.keepOverlay?t.pubsub.publish("controls.click.off"):(t.pubsub.publish("controls.off"),t.pubsub.publish("control.volume.off"),t.pubsub.publish("control.pause.off"),t.pubsub.publish("control.fullscreen.off"));for(var i=0;i<t.controls.length;i++)"v"===t.controls[i]?t.pubsub.publish("control.volume.on"):"f"===t.controls[i]&&t.pubsub.publish("control.fullscreen.on");82194!=t.smartTemplateId&&86544!=t.smartTemplateId||t.pubsub.publish("control.volume.on"),t.log("play"),t.vpaidsContainer.setAttribute("style","opacity:1;z-index: 1;"),t.el.setAttribute("style","background: #000;opacity:1; position:absolute; z-index:1; width:100%; height: 100%;"),t.isGWDVpaid&&(t.el.style.backgroundColor="none"),t.video.setAttribute("style","display:block; width:100%; height: 100%; min-width:100%; max-width:100%;"),t.intervalTimer=setInterval(function(){t.adUnit?t.onCurrentTime(t.adUnit._creative.getAdRemainingTime()):clearInterval(t.intervalTimer)},300)}else t.destroy()}))},o.prototype.pause=function(){this.isPaused=!0,this.adUnit.pauseAd(),this.keepOverlay||this.pubsub.publish("control.play.on")},o.prototype.resume=function(){this.isPaused=!1,this.adUnit.resumeAd(),this.keepOverlay||this.pubsub.publish("control.play.off")},o.prototype.onCurrentTime=function(t){this.isPaused||t<=0||(this.currentTime=Math.round(this.duration-t),this.sendDuplexEvent("timeupdate"))},o.prototype.setVolume=function(t){!0!==this.adIsCompleted&&this.adUnit&&("number"==typeof t?(this.muted=0===t,this.volume=t):(this.muted=!t,this.volume=t?1:0),this.sendDuplexEvent("volumechange"),this.log("volumechange from "+this.adUnit._creative.getAdVolume()+" to "+this.volume),this.pubsub.publish("user.interaction.callback",{callback:function(){this.adUnit.setAdVolume(this.volume)}.bind(this)}))},o.prototype.skipAd=function(t){this.adUnit.skipAd()},o.prototype.complete=function(){this.adIsCompleted=!0,clearInterval(this.intervalTimer),this.destroy()},o.prototype.onResize=function(){if(this.adUnit){var t=document.querySelector("body").offsetWidth,e=document.querySelector("body").offsetHeight,i=/([\w-]+[.][\w]+)[\/\s]/g.exec(this.url),s=i&&i.length>1?i[1]:"";"web.wagawin.com".indexOf(s)>=0&&!this.resized?(this.adUnit.resizeAd(t,e),this.resized=!0):"web.wagawin.com".indexOf(s)<0&&this.adUnit.resizeAd(t,e)}},o.prototype.onAdEvents=function(){var t=this;this.adUnit.subscribe("AdClickThru",function(e){t.pubsub.publish("vpaid.AdClickThru"),t.pause();var i=e.url;i||(i=t.vastClickThroughURL),e.playerHandles&&i&&t.pubsub.publish("pubtag.vpaid.AdClickThru",{url:t.macro.replace(i)})}),this.adUnit.subscribe("AdImpression",function(){clearTimeout(t.creativeTimeout),t.log("AdImpression")}),this.adUnit.subscribe("AdPaused",function(){t.log("paused")}),this.adUnit.subscribe("AdPlaying",function(){clearTimeout(t.creativeTimeout),t.log("playing"),!0!==t.adIsCompleted&&(t.adWasPlayed=!0,t.keepOverlay||t.pubsub.publish("control.play.off"),t.pubsub.publish("vpaid.AdPlaying"))}),this.adUnit.subscribe("AdVideoStart",function(){clearTimeout(t.creativeTimeout),t.adWasPlayed=!0,t.pubsub.publish("user.interaction.callback",{callback:function(){t.adUnit._creative.setAdVolume(t.volume)}.bind(this)}),t.log("AdVideoStart"),t.pubsub.publish("vpaid.AdVideoStart"),!0===t.keepOverlay&&t.sendDuplexEvent("playing")}),this.adUnit.subscribe("AdDurationChange",function(){t.log("AdDurationChange"),t.duration=t.adUnit._creative.getAdDuration(),t.sendDuplexEvent("durationchange")}),this.adUnit.subscribe("AdVideoFirstQuartile",function(){t.log("AdVideoFirstQuartile"),t.pubsub.publish("vpaid.AdVideoFirstQuartile")}),this.adUnit.subscribe("AdVideoMidpoint",function(){t.log("AdVideoMidpoint"),t.pubsub.publish("vpaid.AdVideoMidpoint")}),this.adUnit.subscribe("AdVideoThirdQuartile",function(){t.log("AdVideoThirdQuartile"),t.pubsub.publish("vpaid.AdVideoThirdQuartile")}),this.adUnit.subscribe("AdVolumeChange",function(){t.log("AdVolumeChange"),t.pubsub&&(0===t.adUnit._creative.getAdVolume()?t.pubsub.publish("vpaid.AdVolumeChange.mute"):t.adUnit._creative.getAdVolume()>0&&t.pubsub.publish("vpaid.AdVolumeChange.unmute"))}),this.adUnit.subscribe("AdStopped",function(){t.adIsLoaded&&(t.log("stopped"),t.adIsStopped=!0,!0!==t.adIsCompleted&&!0===t.adWasPlayed?t.complete():!0===t.adWasStarted&&!0!==t.adWasPlayed?t.onAdError("was started but not played",303):!0!==t.adWasStarted&&(t.START_CREATIVE_TIME=300))}),this.adUnit.subscribe("AdVideoComplete",function(){t.log("complete"),t.pubsub.publish("vpaid.AdVideoComplete",{mediaId:this.mediaId}),!0===t.adIsCompleted||t.endCard||t.complete()}),this.adUnit.subscribe("AdSizeChange",function(){t.log("AdSizeChange")}),this.adUnit.subscribe("AdSkipped",function(){!0!==t.adIsCompleted&&!0!==t.destroyed&&(t.log("AdSkipped"),t.pubsub.publish("vpaid.AdSkipped"),t.complete())}),this.adUnit.subscribe("AdRemainingTimeChange",function(){!0!==t.adIsCompleted&&!0!==t.destroyed&&t.adUnit._creative.isDisplayAd&&(t.log("AdSkiAdRemainingTimeChangepped Fake"),t.pubsub.publish("vpaid.AdRemainingTimeChange",{isDisplayAd:t.adUnit._creative.isDisplayAd}))})},o.prototype.sendDuplexEvent=function(t){this.pubsub&&this.pubsub.publish("duplex",{type:t,vpaid:!0,target:{duration:this.duration,currentTime:this.currentTime,mediaId:this.mediaId,episodeId:this.episodeId,readyState:2,volume:this.volume,muted:this.muted}},this.episodeId,this.mediaId)},o.prototype.onLoadError=function(t){this.log(t||"Loading Error",!0),"function"==typeof this.onLoadErrorCallback&&this.onLoadErrorCallback(),this.destroy()},o.prototype.onAdError=function(t,e){if(this.log(t||"Ad Error",!0),this.adHadError=!0,this.adWasStarted&&this.destroy(),this.pubsub){this.pubsub.publish("vpaid.AdError",{errorCode:e||901,mediaId:this.mediaId}),this.keepOverlay?this.pubsub.publish("controls.click.on"):(this.pubsub.publish("controls.on"),this.pubsub.publish("control.volume.on"),this.pubsub.publish("control.fullscreen.on"),this.pubsub.publish("control.play.off"),this.pubsub.publish("control.pause.on"))}},o.prototype.getInitData=function(){return this.initData},o.prototype.destroy=function(){this.destroyed=!0,clearTimeout(this.creativeTimeout),document.getElementById(this.id).remove(),this.vpaidsContainer.hasChildNodes()||this.vpaidsContainer.setAttribute("style","opacity:0;z-index: 0;"),this.pubsub&&this.mediaId&&this.pubsub.publish("vpaid.completed",{mediaId:this.mediaId}),this.pubsub&&!this.keepOverlay?this.pubsub.publish("controls.on"):this.keepOverlay&&this.pubsub.publish("controls.click.on"),this.adUnit.unsubscribe(["AdStopped","AdSkipped"]),this.adUnit=null},o.prototype.log=function(t,e){},t.exports=o},function(t,e){var i=document.createElement("video"),s=-1!=window.navigator.userAgent.indexOf("Safari")&&-1==window.navigator.userAgent.indexOf("Chrome");t.exports=function(t,e,n){var r=i.canPlayType(t);if(e&&("video/mp4"===t||"application/javascript"===t))return 1;if(e)return 0;if("application/javascript"===t)return n?999:3;if(!r)return 0;if("video/mp4"===t)return 4;if("application/x-mpegurl"===t&&s)return 5;if("application/octet-stream"===t&&window.libde265)return 6;if("application/dash+xml"===t&&"function"==typeof(window.MediaSource||window.WebKitMediaSource)&&window.dashjs)return 3;if("video/3gpp"===t&&"maybe"==r)return 0;if("application/dash+xml"===t&&("maybe"==r||"probably"==r))return 0;switch(r){case"probably":return 2;case"maybe":return 1;default:return 0}return 0}},function(t,e){t.exports=function(t){if(void 0===window.ReportingObserver)return!1;new ReportingObserver(function(e,i){!function(e){for(var i of e)i&&i.body&&"HeavyAdIntervention"===i.body.id&&t(i.body.message)}(e)},{buffered:!0}).observe()}},function(t,e){(function(){var e;e=function(){return function(){this.attributes={},this.children=[]}}(),t.exports=e}).call(this)},function(t,e){(function(){var e;e=function(){return function(){this.name=null,this.value=null,this.attributes={}}}(),t.exports=e}).call(this)},function(t,e){t.exports=function(t,e,i){for(var s=parseFloat(e/i),n=Math.round(100*(i+Number.EPSILON))/100,r=e,o=[],a=[],d=0;d<t.length;d++){var u=(b=Math.round(100*(t[d].width/t[d].height+Number.EPSILON))/100)<1?"width":"height";t[d+1]?a.push((t[d+1][u]-t[d][u])/2):a.push(0)}for(var l=0;l<t.length;l++){var p=t[l].width,c=t[l].height,h=p,b=Math.round(100*(p/c+Number.EPSILON))/100;n>=1?b<1&&(h=c):b<1&&(h=c,r=s),h+=a[l],Math.round(h/r*10)/10>1?o.push(1/0):o.push(h%r)}var f=o.indexOf(Math.max.apply(null,o));return t[f>0?f:0]}},function(t,e){t.exports=function(t,e){try{return JSON.parse(e)[t]}catch(t){}return null}},function(t,e){t.exports=function(t,e){var i={};for(var s in t)i[s]=t[s];for(var s in e)i[s]=e[s];return i}},function(t,e){t.exports=function(t){return"iframe"===t?3:"text/html"===t?2:"application/x-javascript"===t?-1:"image/png"===t||"image/jpg"===t||"image/jpeg"===t||"image/gif"===t?0:-1}},function(t,e){t.exports=function(t,e){var i,s,n,r=e?t.slice(0,e):[],o=t.slice(e);for(n=o.length-1;n>0;n--)i=Math.floor(Math.random()*(n+1)),s=o[n],o[n]=o[i],o[i]=s;return r.concat(o)}},function(t,e){t.exports=function(t,e,i){for(var s=[],n=0;n<t.length;n++)e.length&&e.indexOf(t[n][i])>=0||s.push(t[n]);return s}},function(t,e){t.exports={213:{pixels:[1,3],scripts:[1,9]},111:{appends:[4]}}},function(t,e,i){t.exports=i(9)}]);




<!--- Arvister script --->
injectScript("//arv2.showheroes.com/v1/pcmd.js?ref=https%3A%2F%2Fwww.slate.fr%2Fstory%2F209735%2Fross-friends-monter-canape-escalier-mathematicienne");

function injectScript (src, onload) {
    var script = document.createElement('script');
    script.src = src;
    script.async = true;
    if (typeof onload === 'function') {
        script.onload = onload;
    }
    document.head.appendChild(script);
}



triggerPixel("https://sync.showheroes.com/getuid?gdpr=1&gdpr_consent=CPHD0HAPHD0HVBcAFBFRBcCgAP_AAH_AAAqIHYwNQABAAKAAeABWADIANAAcABAACQAFUALAAtABjADQANQAeAA-gCIAJIATAAngBWAC3AF4AX4AwgDEAGyANwA3wByAHOAO4A8AB8AD9AIAAhABIQCkAKUAXAA4gB6AD9AIGAQgAjoBOgCeAFXAKyAXUAwIBogDaAH1AR6Al4BP4C8wGLgMZAcmB2MB8AB4AFQAMgAcABAADGAGgAagA8AB9AEQARQAmABPACsAF8AMQAbwA5gCEAFKAP0AgYBCACrgF1AMCAaIA2gB5AEegLzgcmBygAA");

function triggerPixel (src, onload) {
    var image = document.createElement('img');
    image.src = src;
    if (typeof onload === 'function') { image.onload = onload; }
}
