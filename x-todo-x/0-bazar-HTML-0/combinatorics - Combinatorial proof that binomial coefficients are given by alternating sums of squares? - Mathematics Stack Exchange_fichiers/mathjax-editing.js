"use strict";StackExchange.mathjaxEditing=function(){function e(){v.disabled=!0,m.resetEquationNumbers()}function t(){v.disabled=!1}function n(e,t){var n=l.slice(e,t+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(p&&(n=n.replace(/\n    /g,"\n")),x.Browser.isMSIE&&(n=n.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));t>e;)l[t--]="";l[e]="@@"+g.length+"@@",g.push(n),u=d=h=null}function r(e){u=d=h=p=null,g=[],l=w(e.replace(/\r\n?/g,"\n"),S);for(var t=1,r=l.length;r>t;t+=2){var i=l[t];"@"===i.charAt(0)?(l[t]="@@"+g.length+"@@",g.push(i)):u?i===d?f>0?h=t:0===f?n(u,t):u=d=h=null:i.match(/\n.*\n/)||t+2>=r?(h&&(t=h,f>=0&&n(u,t)),u=d=h=null,f=0):"{"===i&&f>=0?f++:"}"===i&&f>0&&f--:i===k||"$$"===i?(u=t,d=i,f=0):"begin"===i.substr(1,5)?(u=t,d="\\end"+i.substr(6),f=0):"`"===i.charAt(0)?(u=h=t,d=i,f=-1):"\n"===i.charAt(0)&&i.match(/    $/)&&(p=!0)}return h&&n(u,h),l.join("")}function i(e){return e=e.replace(/@@(\d+)@@/g,function(e,t){return g[t]}),g=null,e}function o(n,r){y=!1,x.cancelTypeset=!1,x.Queue(e,[r,x,n],t)}function a(e,t){y||(y=e,b&&(x.Cancel(),x.Queue([o,e,t])))}function s(e){return k.startsWith("\\")?e:e.replace(/\\\$/g,"\\\\$")}function c(e,t,n){var c=document.getElementById("wmd-preview"+t);k=n[0][0];var l=e.getConverter();l.hooks.chain("preConversion",r),l.hooks.chain("preConversion",s),l.hooks.chain("preSafe",i),e.hooks.chain("onPreviewRefresh",function(){a(c,"Typeset")}),x.Queue(function(){c&&c.querySelector(".mjx-noError")&&o(c,"Reprocess")})}var l,u,d,h,f,p,g,m,v,b=!1,y=null,k="$",x=MathJax.Hub;x.Queue(function(){return m=MathJax.InputJax.TeX,v=m.config.noErrors,b=!0,x.processUpdateTime=50,x.processSectionDelay=0,MathJax.Extension["fast-preview"].Disable(),x.Config({"HTML-CSS":{"EqnChunk":10,"EqnChunkFactor":1},"CommonHTML":{"EqnChunk":10,"EqnChunkFactor":1},"SVG":{"EqnChunk":10,"EqnChunkFactor":1}}),y?o(y,"Typeset"):void 0});var w,S=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[\\{}$]|[{}]|(?:\n\s*)+|@@\d+@@|`+)/i;return w=3==="aba".split(/(b)/).length?function(e,t){return e.split(t)}:function(e,t){var n,r=[];if(!t.global){var i=t.toString(),o="";i=i.replace(/^\/(.*)\/([im]*)$/,function(e,t,n){return o=n,t}),t=new RegExp(i,o+"g")}t.lastIndex=0;for(var a=0;n=t.exec(e);)r.push(e.substring(a,n.index)),r.push.apply(r,n.slice(1)),a=n.index+n[0].length;return r.push(e.substring(a)),r},{"prepareWmdForMathJax":c}}(),function(){var e=MathJax.Hub;if(!e.Cancel){e.cancelTypeset=!1;var t="MathJax Canceled";e.Register.StartupHook("HTML-CSS Jax Config",function(){var n=MathJax.OutputJax["HTML-CSS"],r=n.Translate;n.Augment({"Translate":function(i,o){if(e.cancelTypeset||o.cancelled)throw Error(t);return r.call(n,i,o)}})}),e.Register.StartupHook("SVG Jax Config",function(){var n=MathJax.OutputJax.SVG,r=n.Translate;n.Augment({"Translate":function(i,o){if(e.cancelTypeset||o.cancelled)throw Error(t);return r.call(n,i,o)}})}),e.Register.StartupHook("CommonHTML Jax Config",function(){var n=MathJax.OutputJax.CommonHTML,r=n.Translate;n.Augment({"Translate":function(i,o){if(e.cancelTypeset||o.cancelled)throw Error(t);return r.call(n,i,o)}})}),e.Register.StartupHook("PreviewHTML Jax Config",function(){var n=MathJax.OutputJax.PreviewHTML,r=n.Translate;n.Augment({"Translate":function(i,o){if(e.cancelTypeset||o.cancelled)throw Error(t);return r.call(n,i,o)}})}),e.Register.StartupHook("TeX Jax Config",function(){var n=MathJax.InputJax.TeX,r=n.Translate;n.Augment({"Translate":function(i,o){if(e.cancelTypeset||o.cancelled)throw Error(t);return r.call(n,i,o)}})});var n=e.processError;e.processError=function(r,i,o){return r.message!==t?n.call(e,r,i,o):(MathJax.Message.Clear(0,0),i.jaxIDs=[],i.jax={},i.scripts=[],i.i=i.j=0,i.cancelled=!0,null)},e.Cancel=function(){this.cancelTypeset=!0}}}();