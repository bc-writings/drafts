(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{213:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r,a,i,s,o,c=n(3),l=n.n(c),u=n(5),p=n.n(u),f=n(6),h=n.n(f),d=n(10),m=n.n(d),g=n(7),v=n.n(g),b=n(2),E=n.n(b),y=n(0),w=n.n(y),T=n(264),S=n.n(T),R=n(1),k=n.n(R),L=n(85),x=n(8),O="jLatexMath",j=x.a?(r="https://".concat("www.geogebra.org","/libraries/jlatexmath/jlatexmath.nocache.js"),a=O,i=function(e){window.jlmOnInit=function(t){N.jlmlib=t,e.dispatch(Object(L.a)(O))}},s=n(22),o=!1,function(e){o||(o=!0,e.dispatch(Object(L.b)(a)),i&&"function"==typeof i&&i(e),s.ajax({url:r,dataType:"script",crossDomain:!0}).done((function(){"function"!=typeof i&&e.dispatch(Object(L.a)(a))})).fail((function(e,t,n){console.error(a+" failed to load:",n)})))}):function(){},_=n(16);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var N=function(e){h()(n,e);var t=C(n);function n(e){return l()(this,n),t.call(this,e)}return p()(n,[{key:"componentDidMount",value:function(){j(this.context.store),!0===this.props.jLatexMath&&!x.b&&n.jlmlib&&this.drawLatexOnCanvas(this.canvas)}},{key:"componentDidUpdate",value:function(){!0===this.props.jLatexMath&&!x.b&&n.jlmlib&&this.drawLatexOnCanvas(this.canvas)}},{key:"render",value:function(){var e=this;return w.a.createElement("canvas",{height:"1",width:"1",ref:function(t){return e.canvas=t},"data-content":this.props.children})}},{key:"drawLatexOnCanvas",value:function(e){var t,r=e.getAttribute("data-content"),a=e.getContext("2d"),i={context:a,latex:r,size:17,x:0,y:0,type:0,foregroundColor:"#000000",insets:{top:0,right:0,bottom:0,left:0}};r?(t=n.jlmlib.drawLatex(i))?(e.width=t.width,e.height=t.height,e.style.lineHeight=t.height+"px",e.style.verticalAlign=-100+Math.round(100*t.baseline)+"%",this.initializeCanvas(e,t.pixelRatio||1),n.jlmlib.drawLatex(i)):(e.width=70,e.height=30,a.strokeText("LaTeX error",0,25)):console.log("empty latex added.....")}},{key:"initializeCanvas",value:function(e,t){e.style.width=e.width+"px",e.style.height=e.height+"px",e.width*=t,e.height*=t}}]),n}(w.a.Component);E()(N,"contextType",_.b),E()(N,"propTypes",{jLatexMath:k.a.bool}),E()(N,"jlmlib",null);var A=Object(_.c)((function(e){return{jLatexMath:e.resourceState.jLatexMath}}))(N),P=n(265),q=n.n(P),D=n(14);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var a=v()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var M=function(e){h()(n,e);var t=X(n);function n(){return l()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this;return w.a.Children.count(this.props.children)?w.a.createElement("span",null,w.a.Children.map(this.props.children,(function(t){return w.a.isValidElement(t)?t:w.a.createElement(q.a,{properties:{target:"_blank"},className:"Linkify bbcode-adjustments"},S()(n.getHTMLFromBBCode(t),{replace:function(t){return"jlatexmath"===t.name?w.a.createElement(A,null,(t.children[0]||{data:""}).data):e.props.hideImages&&"img"===t.name?w.a.createElement("span",null):"bbcodeerror"===t.name?w.a.createElement("div",{className:"materialize-red"},w.a.createElement(D.b,{id:"bbcode-tags.error"})):void 0}}))}))):null}}],[{key:"escapeHTML",value:function(e){var t=e;return t=(t=(t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")).replace(/'/g,"&#39;")).replace(/\$/g,"&#36;")}},{key:"getHTMLFromBBCode",value:function(e){var t=this;try{if(null===e||""===e||void 0===e)return"";"string"!=typeof e&&(e=e.toString()),e=e.replace(/\[br\]/g,"\r\n"),e=n.escapeHTML(e);var r={math:{transform:{"<JLatexMath>{SELTEXT}</JLatexMath>":"[math]{SELTEXT}[/math]"}},bold:{transform:{"<b>{SELTEXT}</b>":"[b]{SELTEXT}[/b]","<strong>{SELTEXT}</strong>":"[b]{SELTEXT}[/b]"}},italic:{transform:{"<i>{SELTEXT}</i>":"[i]{SELTEXT}[/i]","<em>{SELTEXT}</em>":"[i]{SELTEXT}[/i]"}},underline:{transform:{"<u>{SELTEXT}</u>":"[u]{SELTEXT}[/u]"}},strike:{transform:{"<strike>{SELTEXT}</strike>":"[s]{SELTEXT}[/s]","<s>{SELTEXT}</s>":"[s]{SELTEXT}[/s]"}},sup:{transform:{"<sup>{SELTEXT}</sup>":"[sup]{SELTEXT}[/sup]"}},sub:{transform:{"<sub>{SELTEXT}</sub>":"[sub]{SELTEXT}[/sub]"}},link:{transform:{'<a href="{URL}" target="_blank" rel="noreferrer">{SELTEXT}</a>':"[url={URL}]{SELTEXT}[/url]",'<a href="{URL}" target="_blank" rel="noreferrer">{URL}</a>':"[url]{URL}[/url]"}},img:{transform:{'<img src="{SRC}" />':"[img]{SRC}[/img]",'<img src="{SRC}" width="{WIDTH}" height="{HEIGHT}"/>':"[img width={WIDTH},height={HEIGHT}]{SRC}[/img]"}},bullist:{transform:{'<ul class="bbcode-list">{SELTEXT}</ul>':"[list]{SELTEXT}[/list]","<li>{SELTEXT}</li>":"[*]{SELTEXT}[/*]"}},numlist:{transform:{'<ol class="bbcode-list">{SELTEXT}</ol>':"[list=1]{SELTEXT}[/list]","<li>{SELTEXT}</li>":"[*]{SELTEXT}[/*]"}},letterlist:{buttonHTML:'<span class="fonticon ve-tlb-numlist1"></span>',excmd:"insertOrderedList",transform:{'<ol class="bbcode-list type-a" type="a">{SELTEXT}</ol>':"[list=a]{SELTEXT}[/list]","<li>{SELTEXT}</li>":"[*]{SELTEXT}[/*]"}},quote:{transform:{"<blockquote>{SELTEXT}</blockquote>":"[quote]{SELTEXT}[/quote]"}},code:{transform:{"<code>{SELTEXT}</code>":"[code]{SELTEXT}[/code]"}},offtop:{transform:{'<span style="font-size:10px;color:#ccc">{SELTEXT}</span>':"[offtop]{SELTEXT}[/offtop]"}},fontcolor:{transform:{'<font color="{COLOR}">{SELTEXT}</font>':"[color={COLOR}]{SELTEXT}[/color]"}},table:{transform:{"<td nowrap>{SELTEXT}</td>":"[td nowrap]{SELTEXT}[/td]","<td>{SELTEXT}</td>":"[td]{SELTEXT}[/td]","<tr>{SELTEXT}</tr>":"[tr]{SELTEXT}[/tr]",'<tr class="{ID}">{SELTEXT}</tr>':"[tr id={ID}]{SELTEXT}[/tr]",'<table class="wbb-table"><tbody>{SELTEXT}</tbody></table>':"[table]{SELTEXT}[/table]"},skipRules:!0},fontsize:{type:"select",options:"fs_verysmall,fs_small,fs_normal,fs_big,fs_verybig"},fontfamily:{transform:{'<font face="{FONT}">{SELTEXT}</font>':"[font={FONT}]{SELTEXT}[/font]"}},justify:{transform:{'<p style="text-align:justify;">{SELTEXT}</p>':"[justify]{SELTEXT}[/justify]"}},justifyleft:{transform:{'<p style="text-align:left;">{SELTEXT}</p>':"[left]{SELTEXT}[/left]"}},justifyright:{transform:{'<p style="text-align:right">{SELTEXT}</p>':"[right]{SELTEXT}[/right]"}},justifycenter:{transform:{'<p style="text-align:center;">{SELTEXT}</p>':"[center]{SELTEXT}[/center]"}},video:{transform:{'<iframe src="https://www.youtube.com/embed/{SRC}" width="640" height="480" frameborder="0"></iframe>':"[video]{SRC}[/video]"}},fs_verysmall:{transform:{'<span class="font-size-1">{SELTEXT}</span>':"[size=50]{SELTEXT}[/size]"}},fs_small:{transform:{'<span class="font-size-2">{SELTEXT}</span>':"[size=85]{SELTEXT}[/size]"}},fs_normal:{transform:{'<span class="font-size-3">{SELTEXT}</span>':"[size=100]{SELTEXT}[/size]"}},fs_big:{transform:{'<span class="font-size-4">{SELTEXT}</span>':"[size=150]{SELTEXT}[/size]"}},fs_verybig:{transform:{'<span class="font-size-5">{SELTEXT}</span>':"[size=200]{SELTEXT}[/size]"}},icon:{transform:{'<img class="toolbar-img" src="{SRC}" alt="Toolbar Image"/>':"[icon]{SRC}[/icon]"}},button:{transform:{'<a class="button">{SELTEXT}</a>':"[button]{SELTEXT}[/button]"}},button_small:{transform:{'<a class="button tiny">{SELTEXT}</a>':"[button_small]{SELTEXT}[/button_small]"}},hl_button:{transform:{'<a class="button highlight">{SELTEXT}</a>':"[hl_button]{SELTEXT}[/hl_button]"}},hl_button_small:{transform:{'<a class="button tiny highlight">{SELTEXT}</a>':"[hl_button_small]{SELTEXT}[/hl_button_small]"}}},a={"<br />":"[br]","<li>":"[*]",'<span class="wbbtab">{SELTEXT}</span>':"   {SELTEXT}"};return e=this._changeIn(e,"code",(function(e){return e.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")})),e=this._changeIn(e,"math",(function(e){return e.replace(/\[br\]/g," ")})),["bold","italic","underline","strike","sup","sub","img","video","link","bullist","numlist","letterlist","fontcolor","fontsize","fontfamily","justify","justifyleft","justifycenter","justifyright","quote","code","table","math","fs_verysmall","fs_small","fs_normal","fs_big","fs_verybig","icon","button","button_small","hl_button","hl_button_small"].forEach((function(n){if(!r[n]||!r[n].transform)return!0;Object.keys(r[n].transform).forEach((function(a){var i,s=r[n].transform[a],o=a,c=[];for(s=(s=s.replace(/(\(|\)|\[|\]|\.|\*|\?|\:|\\|\\)/g,"\\$1")).replace(/\{(.*?)(\\\[.*?\\\])*\}/gi,(function(e,t,n){return c.push(t),n?"("+(n=n.replace(/\\/g,""))+"*?)":"([\\s\\S]*?)"}));null!==(i=new RegExp(s,"mgi").exec(e));)i&&function(){var n={};c.forEach((function(e,t){n[e]=i[t+1]}));var r=o;r=r.replace(/\{(.*?)(\[.*?\])\}/g,"{$1}"),r=t._strf(r,n),e=e.replace(i[0],r)}()}))})),Object.keys(a).forEach((function(t){var n=a[t].replace(/(\(|\)|\[|\]|\.|\*|\?|\:|\\|\\)/g,"\\$1").replace(" ","\\s");e=e.replace(new RegExp(n,"g"),t)})),e}catch(t){return console.log(t),"<bbcodeerror></bbcodeerror>"+e}}},{key:"_keysToLower",value:function(e){return Object.keys(e).forEach((function(t){var n=e[t];t!==t.toLowerCase()&&(delete e[t],e[t.toLowerCase()]=n)})),e}},{key:"_strf",value:function(e,t){return t=this._keysToLower(Object.assign({},t)),e.replace(/\{([\w\.]*)\}/g,(function(e,n){var r=(n=n.toLowerCase()).split("."),a=t[r.shift().toLowerCase()];return r.forEach((function(e){a=a[e]})),null==a?"":a}))}},{key:"_changeIn",value:function(e,t,n){return e.replace(new RegExp("\\["+t+"\\]([\\s\\S]*?)\\[/"+t+"\\]","g"),(function(e){return e=n(e.substr(t.length+2,e.length-2*t.length-2-3)),"["+t+"]"+e+"[/"+t+"]"}))}}]),n}(y.Component);E()(M,"propTypes",{hideImages:k.a.bool})},215:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(31),a=n.n(r),i=n(0),s=n.n(i),o=n(1),c=n.n(o),l=n(37),u=n(78);function p(e){return s.a.createElement(l.b,a()({onClick:function(){return Object(u.c)(e.to)},target:"_blank",rel:"noreferrer"},e))}p.propTypes={to:c.a.string.isRequired}},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(3),a=n.n(r),i=n(5),s=n.n(i),o=n(6),c=n.n(o),l=n(10),u=n.n(l),p=n(7),f=n.n(p),h=n(2),d=n.n(h),m=n(0),g=n.n(m),v=n(1),b=n.n(v),E=n(37),y=n(14),w=n(215),T=n(218);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var R=function(e){c()(n,e);var t=S(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){return g.a.createElement("div",{className:"col s12 extra-footer"},g.a.createElement("div",{className:"row content mb-0"},g.a.createElement("ul",{className:"col s12 m4"},g.a.createElement("li",null,g.a.createElement(T.a,null))),g.a.createElement("ul",{className:"col s12 m4"},g.a.createElement("li",null,g.a.createElement("a",{href:"/tos"},g.a.createElement(y.b,{id:"side-nav.terms"}))," ",g.a.createElement(E.b,{to:"/privacy"},g.a.createElement(y.b,{id:"side-nav.privacy"}))," ",g.a.createElement(E.b,{to:"/license"},g.a.createElement(y.b,{id:"side-nav.license"})))),g.a.createElement("ul",{className:"col s12 m4"},g.a.createElement("li",null,g.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://www.facebook.com/geogebra"},"Facebook")," ",g.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://www.twitter.com/geogebra"},"Twitter")," ",g.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://www.youtube.com/user/GeoGebraChannel"},"YouTube"))),g.a.createElement("div",{className:"container-extender grey darken-2"})))}}]),n}(g.a.PureComponent);function k(){var e=Object(y.g)().formatMessage;return g.a.createElement("footer",{className:"row content-footer w-100 mw-1080px mx-a"},g.a.createElement("div",{className:"col s12 m4"},g.a.createElement("h3",null,"GeoGebra"),g.a.createElement("ul",null,g.a.createElement("li",null,g.a.createElement(E.b,{to:"/about"},g.a.createElement(y.b,{id:"footer.about"}))),g.a.createElement("li",null,g.a.createElement(E.b,{to:"/partners"},g.a.createElement(y.b,{id:"general.partners"}))),g.a.createElement("li",null,g.a.createElement(E.b,{to:"/m/".concat(e({id:"apps.exam-page"}))},g.a.createElement(y.b,{id:"apps.exam"}))),g.a.createElement("li",null,g.a.createElement(E.b,{to:"/newsfeed"},g.a.createElement(y.b,{id:"side-nav.newsfeed"}))),g.a.createElement("li",null,g.a.createElement(E.b,{to:"/download"},g.a.createElement(y.b,{id:"side-nav.downloads"}))))),g.a.createElement("div",{className:"col s12 m4"},g.a.createElement(y.b,{id:"footer.apps",tagName:"h3"}),g.a.createElement("ul",null,g.a.createElement("li",null,g.a.createElement(w.a,{to:"/calculator"},g.a.createElement(y.b,{id:"apps.suite-calculator"}))),g.a.createElement("li",null,g.a.createElement(w.a,{to:"/graphing"},g.a.createElement(y.b,{id:"apps.graphing"}))),g.a.createElement("li",null,g.a.createElement(w.a,{to:"/3d"},g.a.createElement(y.b,{id:"apps.3d"}))),g.a.createElement("li",null,g.a.createElement(w.a,{to:"/cas"},g.a.createElement(y.b,{id:"apps.cas"}))),g.a.createElement("li",null,g.a.createElement(w.a,{to:"/scientific"},g.a.createElement(y.b,{id:"apps.calculator"}))))),g.a.createElement("div",{className:"col s12 m4"},g.a.createElement(y.b,{id:"side-nav.materials",tagName:"h3"}),g.a.createElement("ul",null,g.a.createElement("li",null,g.a.createElement(E.b,{to:"/materials"},g.a.createElement(y.b,{id:"swimlane.classroom_resources"}))),g.a.createElement("li",null,g.a.createElement(E.b,{to:"/m/".concat(e({id:"footer.learn-geogebra-page"}))},g.a.createElement(y.b,{id:"footer.learn-geogebra"}))),g.a.createElement("li",null,g.a.createElement(E.b,{to:"/classroom"},g.a.createElement(y.b,{id:"side-nav.lessons"}))),g.a.createElement("li",null,g.a.createElement(w.a,{to:"/geometry"},g.a.createElement(y.b,{id:"apps.geometry"}))),g.a.createElement("li",null,g.a.createElement(w.a,{to:"/notes"},g.a.createElement(y.b,{id:"apps.notes"}))))),g.a.createElement(R,null),g.a.createElement("div",{className:"container-extender grey lighten-2 mt-3"}))}var L=n(209);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var O=function(e){c()(n,e);var t=x(n);function n(){return a()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:"xi-grow-1"},g.a.createElement(L.a,null,this.props.children)),this.props.additionalFooter&&g.a.createElement(L.a,null,this.props.additionalFooter),!this.props.skipDefaultFooter&&g.a.createElement(k,null))}}]),n}(g.a.Component);d()(O,"propTypes",{additionalFooter:b.a.node,skipDefaultFooter:b.a.bool}),d()(O,"defaultProps",{skipDefaultFooter:!1})},256:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(30);function a(e,t){return r.d(e,"/meta",{url:t,skipErrors:!0})}},260:function(e,t,n){"use strict";n.d(t,"a",(function(){return ve})),n.d(t,"b",(function(){return be})),n.d(t,"c",(function(){return Ee}));var r=n(31),a=n.n(r),i=n(3),s=n.n(i),o=n(5),c=n.n(o),l=n(6),u=n.n(l),p=n(10),f=n.n(p),h=n(7),d=n.n(h),m=n(2),g=n.n(m),v=n(0),b=n.n(v),E=n(1),y=n.n(E),w=n(14);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var S=function(e){u()(n,e);var t=T(n);function n(){return s()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){return b.a.createElement("section",{className:"row element-layout"+(this.props.fullsize?" fullsize":"")},b.a.createElement("div",{className:"col s12"},(this.props.title||this.props.taskIndex)&&b.a.createElement("h2",{className:"element-title"},this._renderTitle()),this.props.children))}},{key:"_renderTitle",value:function(){return this.props.taskIndex?this.props.title?b.a.createElement(w.b,{id:"task-title.task_with_title",values:{$1:this.props.taskIndex,$2:this.props.title}}):b.a.createElement(w.b,{id:"task-title.task_with_no_title",values:{$1:this.props.taskIndex}}):this.props.title}}]),n}(b.a.Component);g()(S,"propTypes",{fullsize:y.a.any,title:y.a.string,taskIndex:y.a.number});var R=n(429),k=n(213);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var x=function(e){u()(n,e);var t=L(n);function n(){return s()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){return b.a.createElement("figure",{className:"element image-element full-width-on-mobile"},b.a.createElement("img",{alt:this.props.title||this.props.text||"Image",src:this.props.url}),this.props.text&&b.a.createElement("figcaption",null,b.a.createElement(k.a,null,this.props.text)))}}]),n}(b.a.Component);g()(x,"propTypes",{url:y.a.string.isRequired,title:y.a.string,text:y.a.string});var O=n(19),j=n.n(O),_=n(237),C=n(79),N=n(277);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var P=function(e){return b.a.createElement("svg",e,b.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}))};P.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var q=function(e){u()(n,e);var t=A(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).state={modal:!1},r._modalClose=r._modalClose.bind(j()(r)),r}return c()(n,[{key:"render",value:function(){var e={title:this.props.settings.name,thumbUrl:this.props.thumbUrl,url:this.props.url,openInNewTab:!0,hideUrl:!0,onClick:this._handleClick.bind(this)},t=b.a.createElement("div",{className:"pdf-view"},b.a.createElement("embed",{src:this.props.url,width:"100%",height:"100%"})),n=this.props.title?this.props.title:this.props.settings.name;return b.a.createElement("div",{className:"element pdf-element full-width-on-mobile"},b.a.createElement(N.a,a()({},e,{external:!0})),this.state.modal&&b.a.createElement(C.a,{inDuration:0,outDuration:0,endingTop:"0px",className:"pdf-modal",onClose:this._modalClose},b.a.createElement("div",{className:"pdf-header"},b.a.createElement("h4",null,n),b.a.createElement("a",{className:"icon-container",onClick:this._modalClose},b.a.createElement(P,{className:"icon"}))),t))}},{key:"_handleClick",value:function(e){Object(_.c)()||Object(_.b)()||(e.preventDefault(),this.setState({modal:!0}))}},{key:"_modalClose",value:function(){this.setState({modal:!1})}}]),n}(b.a.Component);g()(q,"propTypes",{settings:y.a.shape({name:y.a.string.isRequired}).isRequired,url:y.a.string.isRequired,thumbUrl:y.a.string.isRequired,title:y.a.string});var D=n(54),X=n.n(D);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var I=function(e){return b.a.createElement("svg",e,b.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}))};I.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var U=function(e){return b.a.createElement("svg",e,b.a.createElement("path",{d:"M21 7L9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7z"}))};U.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var z=function(e){return b.a.createElement("svg",e,b.a.createElement("path",{d:"M12.5 8c-2.65 0-5.05 1-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}))};z.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var G=function(e){u()(n,e);var t=M(n);function n(){return s()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){return b.a.createElement("div",{className:"element question-element"},b.a.createElement("p",{className:"question-text bbcode-adjustments"},b.a.createElement(k.a,null,this.props.question.question)),this.props.question.choices?b.a.createElement(V,{order:this.props.order,question:this.props.question,onChange:this.props.onChange}):b.a.createElement(B,{order:this.props.order,question:this.props.question,onChange:this.props.onChange}))}}]),n}(b.a.Component);g()(G,"propTypes",{order:y.a.number.isRequired,question:y.a.shape({question:y.a.oneOfType([y.a.string,y.a.number]).isRequired,hasAnswer:y.a.bool,choices:y.a.array}).isRequired,onChange:y.a.func});var V=function(e){u()(n,e);var t=M(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).state={checked:e.question.choices.map((function(t,n){return e.question.hasStudentAnswer&&e.question.studentAnswer.choices[n]||!1})),valid:e.question.choices.map((function(){return""})),validated:!1},r.checkAnswer=r.checkAnswer.bind(j()(r)),r.changeValue=r.changeValue.bind(j()(r)),r}return c()(n,[{key:"render",value:function(){var e=this;return b.a.createElement("div",{className:"question-multiple-choice"},b.a.createElement("fieldset",null,b.a.createElement(w.b,{id:"question-element.tick_answer_here"},(function(e){return b.a.createElement("legend",null,e)})),b.a.createElement("ul",null,this.props.question.choices.map((function(t,n){var r="";"valid"===e.state.valid[n]?r=b.a.createElement(w.b,{id:"question-element.check_correct_answer"},(function(e){return b.a.createElement(U,{className:"icon left green-fill non-transparent no-stretch",title:e})})):"invalid"===e.state.valid[n]&&(r=b.a.createElement(w.b,{id:"question-element.check_incorrect_answer"},(function(e){return b.a.createElement(I,{className:"icon left red-fill non-transparent no-stretch",title:e})})));var a="";e.state.validated&&e.props.question.answer[n]&&(a="green lighten-3");var i="answer-"+e.props.order+"-"+n;return b.a.createElement("li",{key:n,className:X()(a,"bbcode-adjustments")},b.a.createElement("input",{type:"checkbox",id:i,checked:e.state.checked[n],disabled:e.state.validated,onChange:function(t){return e.changeValue(t,n)}}),b.a.createElement("label",{htmlFor:i},b.a.createElement(k.a,null,String(t.choice))),r)})))),this.props.question.answer&&b.a.createElement(F,{enabled:this.state.validated,check:this.checkAnswer}))}},{key:"changeValue",value:function(e,t){var n=this.state.checked;n[t]=e.target.checked,this.props.onChange&&this.props.onChange((function(){return{studentAnswer:n}})),this.setState({checked:n})}},{key:"checkAnswer",value:function(){var e=this.props.question.answer;if(this.state.validated)this.setState({checked:e.map((function(){return!1})),valid:e.map((function(){return""})),validated:!1});else{var t=this.state.checked;this.setState({valid:e.map((function(e,n){return e===t[n]?"valid":"invalid"})),validated:!0})}}}]),n}(b.a.Component);g()(V,"propTypes",{order:y.a.number.isRequired,question:y.a.shape({question:y.a.oneOfType([y.a.string,y.a.number]).isRequired,hasAnswer:y.a.bool,allowMultipleAnswers:y.a.bool.isRequired,choices:y.a.array,answer:y.a.array,hasStudentAnswer:y.a.bool,studentAnswer:y.a.object}).isRequired,onChange:y.a.func});var B=function(e){u()(n,e);var t=M(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).state={text:e.question.hasStudentAnswer?e.question.studentAnswer.text:"",valid:""},r.checkAnswer=r.checkAnswer.bind(j()(r)),r.changeValue=r.changeValue.bind(j()(r)),r}return c()(n,[{key:"render",value:function(){var e=this,t="answer-"+this.props.order;return b.a.createElement("div",{className:"question-open-question"},b.a.createElement("p",{className:"input-field"},b.a.createElement("textarea",{id:t,className:X()("materialize-textarea",this.state.valid),value:this.state.text,disabled:""!==this.state.valid,onChange:this.changeValue}),!this.state.text&&b.a.createElement(w.b,{id:"question-element.type_answer_here"},(function(e){return b.a.createElement("label",{htmlFor:t},e)}))),""===this.state.valid||b.a.createElement(w.b,{id:"question-element.correct_answer"},(function(t){return b.a.createElement("div",{className:"green lighten-3"},t,": ",b.a.createElement(k.a,null,e.props.question.answer))})),this.props.question.answer&&b.a.createElement(F,{enabled:""!==this.state.valid,check:this.checkAnswer}))}},{key:"changeValue",value:function(e){var t=e.target.value;this.props.onChange&&this.props.onChange((function(){return{studentAnswer:t}})),this.setState({text:t})}},{key:"checkAnswer",value:function(){if(""===this.state.valid){var e=this.props.question.answer,t=this.state.text;this.setState({valid:e===t?"valid":"invalid"})}else this.setState({valid:""})}}]),n}(b.a.PureComponent);g()(B,"propTypes",{order:y.a.number.isRequired,question:y.a.shape({question:y.a.string.isRequired,hasAnswer:y.a.bool,answer:y.a.string,hasStudentAnswer:y.a.bool,studentAnswer:y.a.object}).isRequired,onChange:y.a.func});var F=function(e){u()(n,e);var t=M(n);function n(){return s()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this,t=this.props.enabled?"question-element.try_again":"question-element.check_answer",n=this.props.enabled?z:U;return b.a.createElement(w.b,{id:t},(function(t){return b.a.createElement("button",{className:"btn",onClick:e.props.check},b.a.createElement(n,{className:"icon left no-stretch non-transparent white-fill"}),t)}))}}]),n}(b.a.PureComponent);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}g()(F,"propTypes",{enabled:y.a.bool.isRequired,check:y.a.func.isRequired});var W=function(e){u()(n,e);var t=H(n);function n(){return s()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){return b.a.createElement("div",{role:"paragraph",className:"text-element bbcode-adjustments element"},b.a.createElement(k.a,null,this.props.text))}}]),n}(b.a.Component);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}g()(W,"propTypes",{text:y.a.string.isRequired});var Q=function(e){u()(r,e);var t=J(r);function r(e){return s()(this,r),t.call(this,e,r)}return c()(r,null,[{key:"importer",value:function(){return Promise.all([n.e(68),n.e(57)]).then(n.bind(null,671)).then((function(e){var t=e.default;return r.Component=t}))}}]),r}(n(12).a),K=n(256);function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var Z=function(e){u()(n,e);var t=Y(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),g()(j()(e),"state",{height:0}),e}return c()(n,[{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,!this._getInnerIframe()&&this.props.height<=0)var t=10,n=setInterval((function(){if(--t<=0||!e._isMounted)clearInterval(n);else{var r=e.frame.contentDocument.body,a=getComputedStyle(r),i=r.clientHeight+parseInt(a.marginTop)+parseInt(a.marginBottom);e.setState({height:Math.min(i,750)})}}),1e3)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.props,n=t.code,r=t.width,a=t.height,i=this._getInnerIframe();return i&&(i.style.maxWidth="100%",r=this._overwriteDimension(i,"width"),a=this._overwriteDimension(i,"height"),n=i.outerHTML),b.a.createElement("iframe",{ref:function(t){return e.frame=t},srcDoc:n,src:this.props.src,height:Math.max(150,this.state.height||a+20),width:r?r+20:"100%",style:{border:0,maxWidth:"100%"}})}},{key:"_getInnerIframe",value:function(){return(new DOMParser).parseFromString(this.props.code,"text/html").querySelector("iframe")}},{key:"_overwriteDimension",value:function(e,t){return this.props[t]>0?(e.removeAttribute(t),e.style[t]=this.props[t]+"px",this.props[t]):parseInt(e.style[t]||e[t],10)}}]),n}(b.a.Component);function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}g()(Z,"propTypes",{code:y.a.string.isRequired,src:y.a.string.isRequired,height:y.a.number,width:y.a.number});var ee=function(e){u()(n,e);var t=$(n);function n(){return s()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){return this.props.code?b.a.createElement(Z,this.props):b.a.createElement("iframe",{src:this.props.src,width:this.props.width||"100%",height:this.props.height||500})}}]),n}(b.a.Component);g()(ee,"propTypes",{src:y.a.string.isRequired,width:y.a.number.isRequired,height:y.a.number.isRequired,code:y.a.string});var te=n(8),ne=n(491),re=n(16);function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var ie=function(e){u()(n,e);var t=ae(n);function n(e){var r;return s()(this,n),(r=t.call(this,e))._openPopup=r._openPopup.bind(j()(r)),r}return c()(n,[{key:"render",value:function(){var e=this;return this.props.popup?b.a.createElement("div",{className:"col s12"},b.a.createElement(N.a,a()({},this.props,{onClick:this._openPopup,external:!0})),b.a.createElement(ne.a,{ref:function(t){return e.popup=t},lazyLoadContent:!0,title:this.props.title},this.props.children)):this.props.children}},{key:"_openPopup",value:function(e){0!==e.button||e.ctrlKey||e.shiftKey||(this.popup.open(),e.stopPropagation(),e.preventDefault())}}]),n}(b.a.Component);g()(ie,"contextType",re.b),g()(ie,"propTypes",{url:y.a.string.isRequired,title:y.a.string.isRequired,width:y.a.number.isRequired,height:y.a.number.isRequired,thumbUrl:y.a.string,description:y.a.string,hostName:y.a.string,provider:y.a.string,popup:y.a.bool});var se=n(366),oe=n(212);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var pe=function(e){return b.a.createElement("svg",e,b.a.createElement("path",{d:"M14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3m-2 16H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7h-2v7z"}))};pe.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var fe=function(e){u()(n,e);var t=ue(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),g()(j()(e),"state",{meta:void 0,loading:!0,error:!1}),e}return c()(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,te.a&&Object(K.a)(this.context.store,this.props.settings.url).then((function(t){e._isMounted&&e.setState({meta:t,loading:!1})})).catch((function(t){console.error("fetching meta failed",t),e._isMounted&&e.setState({error:t||!0})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e,t=this.props.settings,n=this.state.meta&&this.state.meta.title||this.props.title||this.props.intl.formatMessage({id:"website-element.link"});return e=this.state.loading?{url:t.popup?t.url:"",title:n,width:t.width,height:t.height,frameAllowed:!0}:le(le({},this.state.meta),{},{width:t.width,height:t.height}),b.a.createElement("div",{className:"element website-element full-width-on-mobile"},b.a.createElement(se.a,null,this.state.loading&&b.a.createElement(oe.a,null,b.a.createElement("div",{className:"progress ggb-teal lighten-4"},b.a.createElement("div",{className:"indeterminate ggb-teal"})))),this.state.error||!e.frameAllowed?b.a.createElement("div",null,b.a.createElement("p",null,b.a.createElement(w.b,{id:"iframe.page_not_loaded"})),b.a.createElement("a",{href:t.url,target:"_blank",rel:"noreferrer",className:"btn",title:t.url},b.a.createElement(pe,{className:"icon right white-fill non-transparent no-stretch"}),b.a.createElement(w.b,{id:"iframe.open_in_new_tab"}))):b.a.createElement(ie,a()({},e,{popup:t.popup}),b.a.createElement(ee,{src:e.url,width:t.width,height:t.height,code:e.embed&&e.embed.code})))}}]),n}(b.a.Component);g()(fe,"contextType",re.b),g()(fe,"propTypes",{settings:y.a.shape({url:y.a.string.isRequired,width:y.a.number.isRequired,height:y.a.number.isRequired,popup:y.a.bool}).isRequired,title:y.a.string,intl:w.d}),g()(fe,"defaultProps",{settings:{}});var he=Object(w.e)(fe),de=n(207),me=n(343);function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var ve="G",be="Q",Ee=function(e){u()(n,e);var t=ge(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).state={worksheetId:e.worksheet.id,scriptType:me.b.getScriptTypeOfWorksheet(r.props.worksheet)},r}return c()(n,[{key:"render",value:function(){var e=this,t=this.props.worksheet;return t.elements.map((function(n,r){var i;-1===n.id&&(n.id="".concat(t.id,"_").concat(r));var s=e.props.onChange&&e.props.onChange.bind(null,n.id);switch(n.type){case ve:i=b.a.createElement(R.a,a()({},n,{scriptType:e.state.scriptType,onChange:s}));break;case"I":i=b.a.createElement(x,n);break;case"P":i=b.a.createElement(q,n);break;case be:i=b.a.createElement(G,a()({},n,{onChange:s}));break;case"T":i=b.a.createElement(W,n);break;case"V":i=b.a.createElement(Q,n);break;case"W":"NaN"===n.settings.width&&(n.settings.width=0),"NaN"===n.settings.height&&(n.settings.height=0),i=b.a.createElement(he,n);break;default:i=b.a.createElement("p",null,"The element type (",n.type,") is not supported!")}return b.a.createElement(S,{key:n.id<0?r:n.id,title:n.title,taskIndex:n.taskIndex},i)}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.worksheet.id!==t.worksheetId?{worksheetId:e.worksheet.id,scriptType:me.b.getScriptTypeOfWorksheet(e.worksheet)}:null}}]),n}(b.a.Component);g()(Ee,"propTypes",{worksheet:y.a.oneOfType([y.a.instanceOf(de.h),y.a.instanceOf(de.i)]).isRequired,onChange:y.a.func}),g()(Ee,"contextType",re.b)},277:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(31),a=n.n(r),i=n(3),s=n.n(i),o=n(5),c=n.n(o),l=n(6),u=n.n(l),p=n(10),f=n.n(p),h=n(7),d=n.n(h),m=n(2),g=n.n(m),v=n(0),b=n.n(v),E=n(1),y=n.n(E),w=n(37);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var S=function(e){return b.a.createElement("svg",e,b.a.createElement("path",{d:"M14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3m-2 16H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7h-2v7z"}))};S.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var R=function(e){u()(n,e);var t=T(n);function n(){return s()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props.thumbUrl?this.props.thumbUrl.replace("$1",""):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAACWBAMAAABp8toqAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURbi4uP///////////+7u7sjIyMPDw+zs7NnZ2dHR0f///97e3v///+6LSN4AAAANdFJOU8CAwEDAwLONwKWjmY2lvbKbAAAEhklEQVRo3u3bMWvjSBQH8H+CJNu4yXMREcfF7UMGs6S7L2BEFlIas4Yt5WaDSbNqsnCVMFnYUqqWI9W63EpudjmuOpchH+qKsaSRHNCEmQSOm6mSCPzLzHvz5mlC8PsrDNArDItYxCIWsYhFLGIRi1jEIhaxyP8D8T9/jl8W8f+KAMC7j18O+Yly3LwQ4qeQRi9+CcSPUBtebB4RxupbfPp8RRlJAXi/iOi0WjHTyC0A/NknojMxjRTAtVnkHABSbIsv0acUwNYokgLopegRkQ8AWBKlygumhpwBXn4UAVmxXLFIhcwgEgGrKLvJ0Sc6QRGNM8Azh4hf/u8jPwJRjvKzcyB7fDSE7Lf6liJPfJOV6dBjfmsEEfmEPt2iQxRJ8c7R5ZD/MYF8Ejtj5QNLokjK3HPM+T1/N4GIonW/olvERDn61aM8DLr8xgBytl8s8ukXEZ1AqllDHoMvDCBitTKi/IaIyF9Kz3acIHxrABGHIRFFWDWfcQCsDSB+sVrnh8VqyGPgmPWRfWmP6VSULGqsFpzWHIZiSHBDJwA6h6uFbmsOQ3W7o58fnFNDHgNwW3O4Hamf7LVHG54BaM9hKNaUYsi1fcQTAGjPYSjG/UMCwLs/lSM/4CkAhRxuRU4E8uXDDOhTfn24WpizLrJPLmedNDsHEXYobJRWJN8jh53WjpP9s7aNAtUMRnO/jzjY/7h1o0Cpch1mVhV2wNVGKuMbPbVJVHajOtJr1sZJ+cgcsmxOZFo+Ci/0EL/8pHoPX4VdYTcqI43VGkgTMYR8PFgtLsMOYG4C6ZOfZvTkblfa8kqB3xJ9yhphT8whPx73TYQf1ycSyPXf0UOYn3xt28lhN4DMAO+88dY+qk8EXU1knRyeujSohV0fmSe4Tpu1cSPnLwBXEzmeouOnjVZoV5+ILhI4v6FP9NOrXQ0NgquFUWQCr7i6Ka9ThswcfJEUPWTSDURpTAHA2xbZxVxLME3EZRF10bQUoRk9bGoJpoeMwQmOSsST9vzUIBJO0as6o+zpLNZF1mOgalqK2I+kwxdAqIkcB0AmncL3zTPrnQGkyzN0pFNYvPvKrUqii0wAnsKTEcS1VsXhYKaPrCfAUu7x6qV+zjzRRALA4Rl6RXaJNJZLfcjMiR7CgMtTYHsqx0SaSJff7HiiiSTAOgD6VVA6NJRalWP+TsyayBRwOAG2UdVJbvidtFpEA9ZriXgMIJwAvTIo2YMUkS5fENEPvZegTQDA4SnwsfjcP1gqW/P2e6h2ZMczAGEwk353uaIwkz4iiq3DpdINWRKd9msoBWQkjo31/pPdO2a5d1S4GlRpUzcBALgh89XXy0uuG47CJacKsi+33ZDFCOQeOFQKeztSVBD3jpk5uJKPqveKE2nv6qvXtsVi0egbFSfSjjQaeKnZCtVSS+kqSi4i8lizWmopIcNaQpXjTnmxlG5TN/L2kwzVxVJCRnyguCGrZpbqNfqw0fm6d/wsQ+1PGw/MHFwtFgvAXXy95Gca9u/xFrGIRSxiEYtYxCIWsYhFLPIfRV7jH1n/BQRMRGU3Qk51AAAAAElFTkSuQmCC",t=this.props.postAttachmentStyle,n={onClick:this.props.onClick,target:this.props.openInNewTab?"_blank":t?void 0:"_self"},r=b.a.createElement("div",{className:"popup-preview ".concat(t?"":"card-panel ","row grey-text text-darken-3 valign-wrapper")},b.a.createElement("div",{className:"col ".concat(t?"s5 m4 post-link-thumb":"s5 m4 l3")},b.a.createElement("img",{className:"thumbnail",alt:this.props.title||"Popup Preview",src:e})),b.a.createElement("div",{className:"col ".concat(t?"s7 m8":"s7 m8 l9")},b.a.createElement("h3",{className:"truncate"},this.props.title," ",this.props.openInNewTab&&b.a.createElement(S,{className:"left icon-container icon small no-stretch"})),this.props.provider&&b.a.createElement("div",{className:"truncate"},this.props.provider),this.props.description&&b.a.createElement("div",{className:"truncate"},this.props.description),this.props.url&&!this.props.hideUrl&&b.a.createElement("div",{className:"truncate light-blue-text text-darken-1",style:{fontSize:"95%"}},this.props.url)));return this.props.external?b.a.createElement("a",a()({href:this.props.url},n),r):b.a.createElement(w.b,a()({to:this.props.url},n),r)}}]),n}(b.a.Component);g()(R,"propTypes",{title:y.a.string.isRequired,url:y.a.string.isRequired,thumbUrl:y.a.string,description:y.a.string,hostName:y.a.string,provider:y.a.string,openInNewTab:y.a.bool,hideUrl:y.a.bool,postAttachmentStyle:y.a.bool,external:y.a.bool,onClick:y.a.func})},343:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(3),a=n.n(r),i=n(5),s=n.n(i),o=n(6),c=n.n(o),l=n(10),u=n.n(l),p=n(7),f=n.n(p),h=n(2),d=n.n(h),m=n(0),g=n.n(m),v=n(1),b=n.n(v),E=n(9),y=n(41),w=n(85),T=n(8),S=n(56),R=n(428),k=n(260),L=n(16);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u()(this,n)}}var O=function(e){c()(n,e);var t=x(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).codebaseURL=r._getCodebaseURL(),r.scriptType=e.scriptType,r.scriptURL="".concat(r.codebaseURL).concat(r.scriptType,"/").concat(r.scriptType,".nocache.js"),r.webfontURL="".concat(r.codebaseURL).concat(r.scriptType,"/js/webfont.js"),r}return s()(n,[{key:"componentDidMount",value:function(){if(this.scriptType!==R.b)if(this._isScriptLoaded(this.scriptType))this._handleRenderGGBElementReady(!1);else{this.context.store.dispatch(Object(w.b)(this.scriptType));var e=this._isScriptLoaded(R.d)&&this.scriptType===R.c;e&&this.context.store.dispatch(Object(w.d)(R.d)),this._handleRenderGGBElementReady(e)}}},{key:"render",value:function(){return this._isScriptLoaded(this.scriptType)?null:g.a.createElement(y.a,null,g.a.createElement("script",{defer:!0,src:this.webfontURL}),g.a.createElement("script",{defer:!0,src:this.scriptURL}))}},{key:"_getCodebaseURL",value:function(){var e=this.props.location?Object(S.parse)(this.props.location.search).cb:void 0,t=function(e){return"www.geogebra.org".startsWith(e)};if(e){var n="jenkins";if(e.startsWith(n)){var r=e.charAt(n.length).toLowerCase()+e.substring(n.length+1);return"https://autotest2.geogebra.org/job/GeoGebra-autotest/".concat(r,"/artifact/web/war/")}return e.split(".").every((function(e){return Number.isInteger(Number(e))}))?"https://".concat("www.geogebra.org","/apps/").concat(e,"/"):t("groot")&&e.startsWith("http")?e:"https://apps-builds.s3-eu-central-1.amazonaws.com/geogebra/branches/".concat(e,"/")}var a=t("stage")?"stage":"latest";return"https://".concat("www.geogebra.org","/apps/").concat(a,"/")}},{key:"_handleRenderGGBElementReady",value:function(e){T.a&&("function"!=typeof window.renderGGBElement||e?window.renderGGBElementReady=this._onGeoGebraReady.bind(this):this._onGeoGebraReady(!0))}},{key:"_isScriptLoaded",value:function(e){return e===R.b||"undefined"!=typeof window&&"function"==typeof window.web3d||this.context.store.getState().resourceState.web3d||e===R.d&&("undefined"!=typeof window&&"function"==typeof window.webSimple||this.context.store.getState().resourceState.webSimple)}},{key:"_onGeoGebraReady",value:function(e){e?console.log("Reusing previously loaded instance of GeoGebra."):console.log("GeoGebra ".concat(this.scriptType," loaded from ").concat(this.codebaseURL)),this.context.store.dispatch(Object(w.a)(this.scriptType))}}],[{key:"getScriptTypeOfWorksheet",value:function(e){for(var t=R.b,r=0;r<e.elements.length&&t!==R.c;r++)e.elements[r].type===k.a&&(t=n.getScriptType(e.elements[r]));return t}},{key:"getScriptType",value:function(e){var t=e.views;return t.is3D||t.AV||t.SV||t.CV||t.EV2||t.CP||t.PC||t.DA||t.FI||t.PV||e.settings.showToolBar||e.settings.showMenuBar||e.settings.showAlgebraInput||e.settings.enableRightClick||e.settings.appName===R.a?R.c:R.d}}]),n}(g.a.Component);d()(O,"propTypes",{scriptType:b.a.string.isRequired}),d()(O,"contextType",L.b),t.b=Object(E.i)(O)},428:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s}));var r="none",a="web3d",i="webSimple",s="notes"},429:function(e,t,n){"use strict";var r=n(31),a=n.n(r),i=n(3),s=n.n(i),o=n(5),c=n.n(o),l=n(19),u=n.n(l),p=n(6),f=n.n(p),h=n(10),d=n.n(h),m=n(7),g=n.n(m),v=n(2),b=n.n(v),E=n(0),y=n.n(E),w=n(1),T=n.n(w),S=n(16),R=n(9),k=n(56),L=n(343),x=n(428),O=n(53),j=n(32),_=n(8),C=n(14),N=n(44);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}var D=function(e){return y.a.createElement("svg",e,y.a.createElement("path",{d:"M12 5V1L7 6l5 5V7a6 6 0 016 6 6 6 0 01-6 6 6 6 0 01-6-6H4a8 8 0 008 8 8 8 0 008-8 8 8 0 00-8-8z"}))};D.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"};var X=800,M=600,I=function(e){f()(n,e);var t=q(n);function n(e){var r;return s()(this,n),(r=t.call(this,e))._appletOnLoad=r._appletOnLoad.bind(u()(r)),r._loadScript=r._loadScript.bind(u()(r)),r._getTitle=r._getTitle.bind(u()(r)),r._onAppletUpdate=r._onAppletUpdate.bind(u()(r)),r.appletObject=null,r.state={showPreview:!0,appletUrl:null,params:n.createAppletParameters(e),triggerScriptLoad:!1},r}return c()(n,[{key:"render",value:function(){var e=n._getDimensions(this.props.settings),t=e.width,r=e.height,a=r/t*50,i=t+"px",s=r+"px",o=_.a&&(this.state.triggerScriptLoad||"true"===Object(j.c)(this.context,j.a)),c=this._isScriptTypeLoaded(),l=!o&&!c,u=this._getTitle();return l&&(u+=" ".concat(this.props.intl.formatMessage({id:"ggb-element.press_enter_to_load"}))),y.a.createElement("div",{className:"element ggb-element full-width-on-mobile",suppressHydrationWarning:!0},o&&y.a.createElement(y.a.Fragment,null,y.a.createElement("link",{rel:"prefetch",href:this.state.appletUrl||this.props.url,crossOrigin:"anonymous"}),y.a.createElement(L.b,{scriptType:this.props.scriptType})),y.a.createElement("div",{id:"ggbElem_".concat(this.props.id),className:"ggb-element-center mw-100",style:{width:i,maxHeight:s}},y.a.createElement("div",{className:"ggb-element-center-crop",style:{maxWidth:i,maxHeight:s}},y.a.createElement("div",{className:"applet_scaler".concat(this.state.showPreview?" previewing":""),style:{padding:"".concat(a,"% 0")}},this.state.showPreview&&y.a.createElement("button",{className:"ggb_preview noscale",onClick:this._loadScript,tabIndex:1,suppressHydrationWarning:!0},y.a.createElement("div",{className:"ggb_preview_border"}),y.a.createElement("img",{src:this.props.previewUrl,className:"ggb_preview_img",alt:u,suppressHydrationWarning:!0}),_.a&&(l?this.renderPreviewOverLay(y.a.createElement(D,{className:"icon no-stretch"})):y.a.createElement(O.a,null))),c&&y.a.createElement(U,{params:this.state.params,appletOnLoad:this._appletOnLoad})))))}},{key:"_appletOnLoad",value:function(e){var t=this;this.setState({showPreview:!1,appletUrl:this.props.url}),e&&this.props.onChange&&(this.appletObject=e,this.appletObject.registerStoreUndoListener(this._onAppletUpdate),this.appletObject.registerClientListener((function(e){!e||"undo"!==e.type&&"redo"!==e.type||t._onAppletUpdate()})))}},{key:"_getTitle",value:function(){return this.props.title||"GeoGebra Applet"}},{key:"_isScriptTypeLoaded",value:function(){return this.props.web3dLoaded&&this.props.scriptType===x.c||this.props.webSimpleLoaded&&this.props.scriptType===x.d||!1}},{key:"_loadScript",value:function(){this.state.showPreview&&(Object(j.e)(this.context,j.a,"true",5184e3),this.setState({triggerScriptLoad:!0}))}},{key:"_onAppletUpdate",value:function(){var e=this,t=n._getDimensions(this.props.settings),r=t.width,a=t.height,i=r>a?512/r:512/a;this.props.onChange((function(){return{file:e.appletObject.getBase64(),thumbnail:e.appletObject.getPNGBase64(i,!0,null),randomSeed:e.state.params["data-param-randomseed"]}}))}},{key:"renderPreviewOverLay",value:function(e){return y.a.createElement("div",{className:"ggb-defer-overlay"},y.a.createElement("div",null,e))}}],[{key:"createAppletParameters",value:function(e){var t=e.location?Object(k.parse)(e.location.search).cb:void 0,r=P(P({enableShiftDragZoom:!1,enableLabelDrags:!1,filename:e.url,preventFocus:!0,prerelease:"beta"===t,canary:"canary"===t,showFullscreenButton:!0,useBrowserForJS:!1,autoScale:!0,scaleContainerClass:"ggb-element-center-crop",noScaleMargin:!0,id:"ggbApplet".concat(e.id),randomSeed:e.settings.randomSeed||Math.round(4294967295*Math.random())},e.settings),n._getDimensions(e.settings)),a={};for(var i in r)r.hasOwnProperty(i)&&"scale"!==i&&"exercise"!==i&&(a["data-param-"+i.toLowerCase()]=r[i]);return a}},{key:"_getDimensions",value:function(e){var t=e.width,n=e.height;return e.appName===x.a&&(t=t||X,n=n||M),{width:t,height:n}}}]),n}(y.a.Component);b()(I,"propTypes",{title:T.a.string,id:T.a.oneOfType([T.a.number,T.a.string]).isRequired,url:T.a.string.isRequired,settings:T.a.object.isRequired,views:T.a.object.isRequired,previewUrl:T.a.string,scriptType:T.a.string.isRequired,intl:C.d,onChange:T.a.func,web3dLoaded:T.a.bool,webSimpleLoaded:T.a.bool}),b()(I,"contextType",N.a);function U(e){var t=Object(E.useRef)(null);return Object(E.useLayoutEffect)((function(){return window.renderGGBElement(t.current,e.appletOnLoad),function(){window[e.params["data-param-id"]]&&"function"==typeof window[e.params["data-param-id"]].remove&&window[e.params["data-param-id"]].remove()}}),[]),Object(E.useMemo)((function(){return y.a.createElement("article",a()({className:"notranslate"},e.params,{ref:t}))}),[])}t.a=Object(C.e)(Object(R.i)(Object(S.c)((function(e){return{web3dLoaded:e.resourceState.web3d,webSimpleLoaded:e.resourceState.webSimple}}))(I))),U.propTypes={appletOnLoad:T.a.func.isRequired}},491:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var r=n(3),a=n.n(r),i=n(5),s=n.n(i),o=n(19),c=n.n(o),l=n(6),u=n.n(l),p=n(10),f=n.n(p),h=n(7),d=n.n(h),m=n(2),g=n.n(m),v=n(0),b=n.n(v),E=n(14),y=n(1),w=n.n(y);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f()(this,n)}}var k=function(t){u()(r,t);var n=R(r);function r(e){var t;return a()(this,r),(t=n.call(this,e)).state={isOpen:!!e.isOpen,isLoaded:!e.lazyLoadContent},t.close=t.close.bind(c()(t)),t}return s()(r,[{key:"open",value:function(){var t=this;this.setState({isLoaded:!0,show:!0}),e.nextTick((function(){t.setState({isOpen:!0})})),"function"==typeof this.props.onOpen&&this.props.onOpen()}},{key:"close",value:function(){var e=this;this.setState({isOpen:!1}),setTimeout((function(){e.setState({show:!1})}),300),"function"==typeof this.props.onClose&&this.props.onClose()}},{key:"render",value:function(){return b.a.createElement("div",{className:"modal-container".concat(this.state.show?" open":"")},this.state.isLoaded&&b.a.createElement("div",{className:"modal-back ".concat(this.state.isOpen?"animate-fade-300-enter-active":"animate-fade-300-exit-active"),onClick:this.close}),this.state.isLoaded&&b.a.createElement("div",{className:"modal animate-modal-300-".concat(this.state.isOpen?"enter":"exit","-active")},b.a.createElement("div",{className:"modal-content",style:S({},this.props.contentStyle)},this.props.title&&b.a.createElement("h4",null,this.props.title),this.props.children),b.a.createElement("div",{className:"divider"}),b.a.createElement("div",{className:"modal-footer"},b.a.createElement("a",{className:"modal-action modal-close btn-flat",onClick:this.close},b.a.createElement(E.b,{id:"general.close"})))),this.state.isOpen&&b.a.createElement("style",null,"body, html {overflow: hidden; position: relative;}"))}}]),r}(b.a.Component);g()(k,"propTypes",{title:w.a.string,isOpen:w.a.bool,lazyLoadContent:w.a.bool,onOpen:w.a.func,onClose:w.a.func,contentStyle:w.a.any}),g()(k,"defaultProps",{lazyLoadContent:!1})}).call(this,n(104))}}]);