(function(){'use strict';function containsHeader(elem){return elem.find('a[href="#"]').length>0;}
function extractHeadingData(container){var topHeaderId="top-placeholder";var dataModel=[];var topHeader=$('<p><a id="'+topHeaderId+'" href="#"></h></p>');container.prepend(topHeader);var children=container.children();var curBody='';var lastHeader;children.each(function(index,elem){if(containsHeader($(elem))){if(lastHeader){dataModel.push({header:lastHeader.find('a[href="#"]').not('[id="'+topHeaderId+'"]').text(),slug:lastHeader.find('a[href="#"]').text().replace(/ +/g,""),body:curBody});}
lastHeader=$(elem);curBody='';}else{curBody+=$('<div>').append($(elem).clone()).html();}});if(lastHeader){dataModel.push({header:lastHeader.find('a[href="#"]').not('[id="'+topHeaderId+'"]').text(),slug:lastHeader.find('a[href="#"]').text().replace(/ +/g,""),body:curBody});}
return dataModel;}
function resetContainerToDefaultAndSetDefault(container){if(container.data('reconfigure-original-text')){container.html(container.data('reconfigure-original-text'));}else{if(typeof container[0]!="undefined"){container.data('reconfigure-original-text',container[0].innerHTML);}}}
function reconfigureAsTabs(container){var data=extractHeadingData(container);if(data.length==0)
return;container.html("<ul class=\"nav nav-tabs\"></ul><div class=\"tab-content\"></div>");var navlist=container.find(".nav.nav-tabs");var contentpanes=container.find(".tab-content");for(var i=0;i<data.length;i++){if(data[i].header&&data[i].slug){navlist.append("<li><a href=\"#"+data[i].slug+"\" data-toggle=\"tab\">"+data[i].header+"</a></li>");contentpanes.append("<div class=\"tab-pane\" id=\""+data[i].slug+"\"><p>"+data[i].body+"</p></div>");}}
navlist.children().first().addClass('active');contentpanes.children().first().addClass('active');}
function reconfigureAsMenu(container){var data=extractHeadingData(container);if(data.length==0)
return;container.html("<div class=\"content-sidebar-nav\"><ul></ul></div>");var navlist=container.find('.content-sidebar-nav > ul');for(var i=0;i<data.length;i++){if(data[i].header&&data[i].slug){navlist.append("<li><a href=\"#"+data[i].slug+"\">"+data[i].header+"</a></li>");container.append("<a name=\""+data[i].slug+"\"></a>");container.append("<h2>"+data[i].header+"</h2>");}
container.append("<p>"+data[i].body+"</p>");}}
$.fn.reconfigure=function(type){var container=$(this);resetContainerToDefaultAndSetDefault(container);switch(type){case'tabs':reconfigureAsTabs(container);break;case'menu':reconfigureAsMenu(container);break;case'original':break;default:}};})();