












	


	

	


	

	

	

	




	(function(w) {

		var LOCALIZATION = {
			'tip.state.unsubscribed': "Subscribe to notifications",
			'tip.state.subscribed': "You're subscribed to notifications",
			'tip.state.blocked': "You've blocked notifications",
			'message.prenotify': "Click to subscribe to notifications",
			'message.action.subscribed': "Thanks for subscribing!",
			'message.action.resubscribed': "You're subscribed to notifications",
			'message.action.unsubscribed': "You won't receive notifications again",
			'dialog.main.title': "Manage Site Notifications",
			'dialog.main.button.subscribe': "SUBSCRIBE",
			'dialog.main.button.unsubscribe': "UNSUBSCRIBE",
			'dialog.blocked.title': "Unblock Notifications",
			'dialog.blocked.message': "Follow these instructions to allow notifications:"
		};

		function getPushNotifications() {
			
				
					return {
						id: "oneSignal",
						conf: {
							
							appId: "8f28e7d6-3bb1-4e01-8d85-ca1c7f514183"
							
						}
					};
				
				
			
		}

		w.marfeel = {
			theme: {
				customBuildNumber: "6903ce2ef",
				buildNumber: 24339,
				deviceType: "d",
				tenantColor: "#FAFAFA"
			},
			tenant: {
				id: "www.zmescience.com"
			},
			definition: {
				name: "index",
				pwa: "7" || 0,
				pushNotifications: getPushNotifications()
			},
			features: {
				swName: "" || "marfeel_sw.js"
			},
			resourcesHost: "https://b.marfeel.com",
			
		};

		
			/*!
 * Copyright (c) 2020 by Marfeel Solutions (http://www.marfeel.com)
 * All Rights Reserved.
 * 
 * NOTICE:  All information contained herein is, and remains
 * the property of Marfeel Solutions S.L and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Marfeel Solutions S.L and its
 * suppliers and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Marfeel Solutions SL.
 * 
 */!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="p/oS")}({"1Pcy":function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},"5Yy7":function(e,t,n){var r=n("695J");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},"695J":function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},AuHH:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},"N+ot":function(e,t,n){var r=n("T0aG"),i=n("1Pcy");e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},PxXD:function(e,t,n){var r=n("AuHH");e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},RhWx:function(e,t,n){var r=n("tGbD"),i=n("twbh"),o=n("peMk"),a=n("d8WC");e.exports=function(e){return r(e)||i(e)||o(e)||a()}},T0aG:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},Ua7V:function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}},VrFO:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},Y9Ll:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},d8WC:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},ddV6:function(e,t,n){var r=n("qPgQ"),i=n("Ua7V"),o=n("peMk"),a=n("f2kJ");e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},f2kJ:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},iQ7j:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},n70c:function(e,t,n){var r=n("PxXD");function i(t,n,o){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},i(t,n,o||t)}e.exports=i},"p/oS":function(e,t,n){"use strict";n.r(t);var r={getEnvironment:function(){var e=document.domain;return"localhost"===e||"localhost.marfeelcache.com"===e||0===e.indexOf("192.")?"localhost":/^(?!www).+\.marfeel(cache|cdn)?\.com/.test(e)?"pre":"pro"},getRuntimeEnvinroment:function(){return"browser"}};window.marfeel.GardaMarfeel=r;var i=function(e,t){this.type=e,this.detail=t};i.prototype={type:null,detail:null,target:null};var o=i,a=function(){};function c(e,t){if(e)for(var n=e.length-1;n>=0;n--)e[n].call(this,t)}a.mixin=function(e){return e.addEventListener=a.prototype.addEventListener,e.hasEventListener=a.prototype.hasEventListener,e.removeEventListener=a.prototype.removeEventListener,e.dispatchEvent=a.prototype.dispatchEvent,e.getEventListeners=a.prototype.getEventListeners,e.removeAllEventListeners=a.prototype.removeAllEventListeners,e.assignEventListeners=a.prototype.assignEventListeners,e.one=a.prototype.one,e.addGlobalListener=a.prototype.addGlobalListener,e.removeGlobalListeners=a.prototype.removeGlobalListeners,e},a.prototype={constructor:a,getEventListeners:function(){return this._listeners},addGlobalListener:function(e){var t=this._globalListeners;void 0===t&&(t=this._globalListeners=[]),t.push(e)},addEventListener:function(e,t){var n=this._listeners;void 0===n&&(n=this._listeners={}),void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},one:function(e,t){var n=function(r){this.removeEventListener(e,n),t.call(this,r)}.bind(this);this.addEventListener(e,n)},hasEventListener:function(e,t){var n=this._listeners;return void 0!==n&&(void 0!==n[e]&&-1!==n[e].indexOf(t))},removeEventListener:function(e,t){if(void 0!==this._listeners){var n,r=this._listeners,i=r[e];void 0!==i&&(void 0!==t?-1!==(n=i.indexOf(t))&&i.splice(n,1):delete r[e])}},removeGlobalListeners:function(e){if(void 0!==this._globalListeners){var t,n=this._globalListeners;e?-1!==(t=n.indexOf(e))&&n.splice(t,1):this._globalListeners=[]}},removeAllEventListeners:function(e){this.listeners&&(this._listeners[e]?this._listeners[e]=void 0:(this._listeners=void 0,this._globalListeners=void 0))},assignEventListeners:function(e){this._listeners=e},dispatchEvent:function(e){if(e.target=this,this._listeners){var t=this._listeners[e.type];c.call(this,t,e)}this._globalListeners&&c.call(this,this._globalListeners,e)}};var s=a.mixin({dispatch:function(e,t){this.dispatchEvent(new o(e,t))}}),u=window,f="localhost",l=n("VrFO"),d=n.n(l),v=n("Y9Ll"),p=n.n(v),h=n("5Yy7"),g=n.n(h),b=n("N+ot"),y=n.n(b),w=n("AuHH"),x=n.n(w);var S=function(e){return new Error("".concat(e," is an abstract method that needs to be implemented"))},k=function(){function e(){d()(this,e)}return p()(e,[{key:"isDevice",value:function(){throw S("isDevice")}},{key:"getDeviceEnvironment",value:function(){var e=u.marfeel.GardaMarfeel.getRuntimeEnvinroment(),t=u.marfeel.GardaMarfeelUtil.navigatorUserAgent;return"browser"===e&&(t.indexOf("Twitter")>-1?e="webview-twitter":t.indexOf("FBAV")>-1?e="webview-facebook":t.indexOf("Pinterest")>-1&&(e="webview-pinterest")),e}},{key:"getDevice",value:function(){throw S("getDevice")}},{key:"getCapabilities",value:function(){throw S("getCapabilities")}},{key:"getDeviceProperties",value:function(){throw S("getDeviceProperties")}},{key:"getBrowser",value:function(){throw S("getBrowser")}},{key:"getDeviceWindowOrientation",value:function(e){var t=e||window.orientation;return 90===Math.abs(t)?"landscape":"portrait"}}]),e}(),E="mrf-progressiveEnhancement__enabled";function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y()(this,n)}}var P,D=["genericDevice",E],L=function(e){g()(n,e);var t=O(n);function n(){return d()(this,n),t.apply(this,arguments)}return p()(n,[{key:"isDevice",value:function(){return!0}},{key:"getDevice",value:function(e){return e&&e("Generic"),"Generic"}},{key:"getDeviceEnvironment",value:function(){return"Generic"}},{key:"getCapabilities",value:function(){return{nativeScroll:!0,browserHistory:window.history&&window.history.pushState,fastRenderPipeline:!0,pushNotifications:"serviceWorker"in navigator&&"showNotification"in ServiceWorkerRegistration.prototype&&"PushManager"in u,fastClick:!0}}},{key:"getDeviceProperties",value:function(){return D}},{key:"getBrowser",value:function(){return"Generic"}}]),n}(k),R=n("n70c"),N=n.n(R);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y()(this,n)}}var C,M=/constructor/i.test(u.HTMLElement),j=!!u.indexedDB,_=function(e){g()(n,e);var t=A(n);function n(){var e;return d()(this,n),e=t.call(this),P=window.marfeel.GardaMarfeel.getDevice(),e.clientHeight=0,e.styleHeight=0,e}return p()(n,[{key:"isDevice",value:function(){return"ipad"===P.name||"iphone"===P.name||"ipod"===P.name}},{key:"getDevice",value:function(e){"ipad"===P.name?this.getiPadDevice(e):this.getiPhoneDevice(e)}},{key:"getCapabilities",value:function(){return{nativeScroll:P.version>5,browserHistory:P.version>4,fastRenderPipeline:!0,pushNotifications:!1,fastClick:void 0!==document.body.style.touchAction,version:P.version}}},{key:"getDeviceProperties",value:function(){var e=[P.name,"ios"+P.version],t=window.marfeel.GardaMarfeel.getRuntimeEnvinroment();return"standalone"!==t&&"app"!==t||e.push("standalone"),6!==P.version&&7!==P.version||e.push("noVhUnits"),e.push(E),e}},{key:"getBrowser",value:function(){return P.browser}},{key:"getiPadDevice",value:function(e){var t="ipad1";window.ondevicemotion=function(n){n.acceleration&&window.devicePixelRatio>=2?t="ipad3":n.acceleration&&(t="ipad2"),window.ondevicemotion=null,e&&e(t)}}},{key:"getiPhoneDevice",value:function(e){var t=P.name;1===window.devicePixelRatio?t+="3GS":480===window.screen.height?t+="4/4S":t+="5",e&&e(t)}},{key:"getDeviceEnvironment",value:function(){var e=u.marfeel.GardaMarfeelUtil.navigatorUserAgent,t=N()(x()(n.prototype),"getDeviceEnvironment",this).call(this);return"browser"===t&&!/Safari/.test(e)&&(M&&!j||u.statusbar&&!u.statusbar.visible||u.webkit&&u.webkit.messageHandlers||!M||j)&&(t="webview"),t}}]),n}(k);function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y()(this,n)}}var G=function(e){g()(n,e);var t=W(n);function n(){var e;return d()(this,n),e=t.call(this),C=u.marfeel.GardaMarfeel.getDevice(),e}return p()(n,[{key:"isDevice",value:function(){return"android"===C.os}},{key:"getDevice",value:function(e){return e&&e(C.name),C.name}},{key:"getCapabilities",value:function(){return{nativeScroll:!0,browserHistory:"chrome"===C.browser||"native"===u.marfeel.GardaMarfeel.getRuntimeEnvinroment(),fastRenderPipeline:"chrome"===C.browser,pushNotifications:"serviceWorker"in navigator&&"showNotification"in ServiceWorkerRegistration.prototype&&"PushManager"in u,fastClick:"chrome"===C.browser,version:C.version}}},{key:"getDeviceProperties",value:function(){var e=["android",C.browser];return C.chromeVersion&&C.chromeVersion<50&&e.push("noVhUnits"),e.push(E),e}},{key:"getBrowser",value:function(){return C.browser}},{key:"getDeviceWindowOrientation",value:function(e){return 90===Math.abs(e)?"landscape":"portrait"}},{key:"getDeviceEnvironment",value:function(){var e=N()(x()(n.prototype),"getDeviceEnvironment",this).call(this);return"browser"===e&&/;\swv\)/.test(u.marfeel.GardaMarfeelUtil.navigatorUserAgent)&&(e="webview"),e}}]),n}(k),H={"https://storify.com":function(e,t,n){if(e&&e.method&&"resize"===e.method){var r={scope:"mrf-resizeIframe",origin:t,source:n,height:e.value};m.w.postMessage(r,"*")}},"https://www.sofascore.com":function(e,t,n){if(e){var r=e.split("height:"),i={scope:"mrf-resizeIframe",origin:t,source:n,height:r.length&&r[1].replace("px","")};window.postMessage(i,"*")}}};n("RhWx");var T=function(e,t){var n=t.width,r=t.height,i=e&&e.parentElement;i&&(i.style.height="".concat(r,"px"),i.style.paddingBottom=0,e.style.height="".concat(r,"px"),n&&(i.style.width="".concat(n,"px"),e.style.width="".concat(n,"px")))},B=window,I={"mrf-windowOpen":function(e,t){var n=e.url,r=e.name,i=e.options;return!!n&&B.open(n,r,i)},"mrf-resizeIframe":function(e,t){T(t,e)},amp:function(e,t){"embed-size"===e.type&&T(t,e)}},U=["mrf-resizeIframe","amp"],V=["marfeel.com","marfeelcache.com","cloudfront.net","googlesyndication.com","mrf.io"],q=null;B.mrfAddEventListener=B.mrfAddEventListener||B.addEventListener,B.addEventListener=function(e,t){q&&(q.windowListeners=q.windowListeners||[],q.windowListeners.push({type:e,listener:t})),B.mrfAddEventListener.apply(B,arguments)},B.mrfAddEventListener("navigationChange",(function(e){return q=e.target})),B.mrfAddEventListener("destroy",(function(e){!function(e){(e.windowListeners||[]).forEach((function(e){return B.removeEventListener(e.type,e.listener)})),e.windowListeners&&delete e.windowListeners}(e.target)})),B.mrfAddEventListener("message",(function(e){if(e.data){var t;try{t=e.data instanceof Object?e.data:JSON.parse(e.data)}catch(e){}var n=H;if(!e.origin||function(e){var t=B.marfeel&&B.marfeel.tenant&&B.marfeel.tenant.id||"";return V.concat(t.replace("www.","")).some((function(t){return e.indexOf(t)>=0}))}(e.origin)){var r=t&&(t.scope||t.sentinel);if(r){var i=U.indexOf(r)>=0,o=t.origin||e.origin,a=t.source||e.source,c=i&&function(e,t){var n=Array.from(document.querySelectorAll("iframe[src*='".concat(e,"'], iframe:not([src])")));return"translate"!==t?function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].contentWindow===t)return e[r];return null}(n,t):function(e,t){for(var n=e.length,r=0;r<n;r++)if(0===e[r].src.indexOf(t))return e[r];return null}(n,e)}(o,a);I[r]&&I[r](t,c)}}else n[e.origin]&&n[e.origin](t||e.data,e.origin,"translate")}}));var F={set currentColumn(e){q=e},get currentColumn(){return q},addTrustedOrigin:function(e){V=V.concat(e)},addWindowEventListener:function(e,t){B.mrfAddEventListener(e,t)},addMessageListener:function(e,t){I[e]=t},removeMessageListener:function(e){I[e]&&delete I[e]}},J=[],z=[];function K(e,t){Array.prototype.push.apply(e,t)}function Q(e,t){e.indexOf(t)<0&&e.push(t)}function $(){for(var e=0;e<J.length;e++)document.body.classList.add(J[e]);for(var t=0;t<z.length;t++)document.body.classList.remove(z[t]);J.length=0,z.length=0}var X={addClassesToAppend:K.bind(null,J),addClassesToRemove:K.bind(null,z),addClassToAppend:function(e){return Q(J,e)},addClassToRemove:function(e){return Q(z,e)},applyClasses:function(){$()}},Y=new function e(){var t=this;d()(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function Z(){for(var e,t=0;t<this.supportedDevices.length;t++)if((e=new this.supportedDevices[t]).isDevice()){this.currentDevice=e;break}}function ee(){var e=u.innerWidth,t=u.innerHeight;return{height:t,width:e,aspectRatio:t/e,orientation:this.getOrientation(e,t,u.orientation)}}var te={supportedDevices:[_,G],currentDevice:new L,viewport:Y.promise,findDevice:function(){Z.call(this),X.addClassesToAppend(this.currentDevice.getDeviceProperties())},findViewPort:function(){var e=function(){Y.resolve(ee.call(this))}.bind(this);return F.addWindowEventListener("mOrientationChange",e),Y.resolve(ee.call(this)),this.viewport},getViewPort:function(){return this.viewport},isiOS:function(){return this.currentDevice instanceof _},isAndroid:function(){return this.currentDevice instanceof G},isGeneric:function(){return this.currentDevice instanceof L},getPlatform:function(){return this.isAndroid()?"android":this.isiOS()?"ios":"generic"},isBrowser:function(){return"browser"===u.marfeel.GardaMarfeel.getRuntimeEnvinroment()},getBrowser:function(){return this.currentDevice.getBrowser()},getUserAgent:function(){return navigator.userAgent},getOrientation:function(e,t,n){var r="portrait",i=n||u.orientation;void 0!==i?r=this.currentDevice.getDeviceWindowOrientation(i):(e||u.innerWidth)>(t||u.innerHeight)&&(r="landscape");return r},hasBigWidth:function(){return u.innerWidth>320}};function ne(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=function(e,t,n,r){var i=document.createElement("link"),o=document.head;i.setAttribute("rel","manifest"),i.setAttribute("href","".concat(n,"/mds/").concat(e,"/").concat(t,"/manifest.json?host=").concat(n,"&buildNumber=").concat(r)),o.insertBefore(i,o.firstElementChild)},oe=function(){return e="swInWebview",t=!1,void 0!==(n=((u.marfeel||{}).features||{})[e])?n:t;var e,t,n};var ae=n("ddV6"),ce=n.n(ae),se=document.createElement("a");var ue=[/\.marfeel\.com/,/facebook/,/ads\.s\.js/,/widgets\.s\.js/,/web-clients\.mynativeplatform\.com/,/script\.ioam\.de/,/gtm\.js/,/OneSignalSDK\.js/,/cdn\.taboola\.com/,/prebid(\.\d+)*\.js/,/gpt.js$/,/cmp.js$/,/consensu\.org/,/static\.addevweb\.com/,/.+\.sunmedia\.tv/,/\.spot\.im\//,/scdn.cxense.com\/cx/,/arianelab\.com/];function fe(e){var t,n=u.marfeel.features.disableProxyScripts;if("true"!==n&&n!==((t=e)?(se.href=t,se.hostname):t)&&!ue.some((function(t){return t.test(e)}))){var r=u.marfeel.externalResourcesHost,i=u.marfeel.theme.buildNumber,o="".concat(r,"/statics").concat(i,"/"),a=document.createElement("a");a.href=e;var c=a.protocol.startsWith("https")?"ps":"p";return"".concat(o,"js/").concat(c,"/").concat(function(e){if(e){var t=e.split("//");if(t.length>1)return t[1]}return e}(e))}return e}var le={};function de(e,t){var n=t.dataAttributes;n&&Object.keys(n).forEach((function(t){return e.setAttribute(t,n[t])})),t.id&&(e.id=t.id),t.textContent&&(e.textContent=t.textContent)}function ve(e,t,n,r,i,o){return new Promise((function(a,c){var s=document.createElement("script"),u=document.getElementsByTagName("script")[0];s.type="text/javascript",e&&s.setAttribute("data-script-id",e),s.async=!0,s.src=function(e){var t=e.startsWith("//");if(e.startsWith("http")||e.startsWith("/")&&!t)return e;var n=t?"":"//",r="https:"===document.location.protocol?"https:":"http:";return"".concat(r).concat(n).concat(e)}(t),s.onload=function(e){n&&n(e),a(e)},s.onerror=function(e){r&&r(e),c(e)},o&&de(s,o),i?i.appendChild(s):u.parentNode.insertBefore(s,u)}))}function pe(e,t,n,r,i,o){return new Promise((function(a,c){var s=o&&o.disableProxy?t:fe(t);ve(e,s,n,r,i,o).then((function(e){a(e)})).catch((function(){ve(e,t,n,r,i,o).then((function(e){a(e)})).catch((function(e){c(e)}))}))}))}var he=function(){function e(){d()(this,e)}return p()(e,[{key:"init",value:function(){throw new Error("init method needs to be implemented.")}},{key:"triggerSubscriptionRequest",value:function(){throw new Error("triggerSubscriptionRequest method needs to be implemented.")}},{key:"getPermissionStatus",value:function(){throw new Error("getPermissionStatus method needs to be implemented.")}},{key:"isPushNotificationsSubscribed",value:function(){throw new Error("isPushNotificationsSubscribed method needs to be implemented.")}},{key:"setSubscription",value:function(){throw new Error("setSubscription method needs to be implemented.")}},{key:"isPushNotificationsMuted",value:function(){throw new Error("isPushNotificationsMuted method needs to be implemented.")}},{key:"isPushNotificationsSupported",value:function(){throw new Error("isPushNotificationsSupported method needs to be implemented.")}},{key:"provideUserConsent",value:function(){throw new Error("provideUserConsent method needs to be implemented.")}}]),e}(),me={"live.mrf.io":"ebf3abcd-39e8-4734-bd81-77a84aed68ba","b.marfeel.com":"e89eb780-404e-4c91-b713-d778659296d7","bc.marfeel.com":"cdb187f1-7a27-47b2-b432-14a8d13742bb","enjoy.marfeel.com":"e526cab5-a6c6-4f1b-9a73-b995ea3bdd33","pre.marfeel.com":"9247f91f-adac-436e-a39b-ce21bd405bba","localhost.marfeelcache.com":"737d16b6-d893-48bb-9bd0-0eedad910c8c"},ge=["A","B","C","D","E"],be=ge.length;function ye(e){var t=e.split("-")[1],n=parseInt(t,16);return ge[n%be]}function we(e){var t,n,r=u.document.cookie.split(";");for(t=0;t<r.length;t+=1)if((n=(n=r[t]).split("="))[0].trim()===e.trim())return n[1];return null}function xe(e,t,n,r){var i=e+"="+t;i+=";expires="+(n>0?new Date(Date.now()+n).toGMTString():0),i+=";domain="+(r||u.document.domain),i+=";path=/",document.cookie=i}function Se(e,t){var n=we(e);return n||xe(e,n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),t),n}var ke,Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mrf-client-id";return Se(e,62208e6)},Oe=("".concat("pushnotifications",":askforsubscription"),"".concat("pushnotifications",":subscription"),"".concat("pushnotifications",":mute"),"".concat("pushnotifications",":usercancelcookie"),"".concat("pushnotifications",":alreadysubscribed"),"".concat("pushnotifications",":cookiestillactive"),"".concat("pushnotifications",":showbanner"),"".concat("pushnotifications",":noadsnobanner"),"".concat("pushnotifications",":clickbanner"),"".concat("pushnotifications",":requestsubscriptionstatus"),"".concat("pushnotifications",":sendsubscriptionstatus"),"".concat("pushnotifications",":permissionchange")),Pe="".concat("pushnotifications",":subscriptionchange"),De=("".concat("pushnotifications",":subscribe"),"".concat("pushnotifications",":notifybuttonclicked"));function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x()(e);if(t){var i=x()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y()(this,n)}}var Re=u.marfeel.features.swName||"marfeel_sw.js",Ne={persistNotification:!1,autoRegister:!1,notifyButton:{enable:!1},welcomeNotification:{disable:!0},requiresUserPrivacyConsent:!0},Ae=function(e){g()(n,e);var t=Le(n);function n(){var e;d()(this,n),e=t.call(this),u.OneSignal=u.OneSignal||[];var r=u.marfeel.staticResourcesHost||u.marfeel.resourcesHost,i=u.marfeel.theme.buildNumber;return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!le[t]||i.reloadScript){var o=[].concat(e),a=o.map((function(e){return pe(t,e,null,null,null,i)}));le[t]=Promise.all(a)}n&&le[t].then(n),r&&le[t].catch(r),le[t]}("".concat(r,"/statics/marfeel/resources/pushNotifications/OneSignalSDK.js?buildNumber=").concat(i),"mrf-oneSignalSDK"),e}return p()(n,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t){var n=Object.assign({},Ne,e),r=u.marfeel.GardaMarfeel.getEnvironment();"pre"!==r&&r!==f||(n.appId=me[u.location.host]),u.OneSignal.push((function(){u.OneSignal.SERVICE_WORKER_UPDATER_PATH=Re,u.OneSignal.SERVICE_WORKER_PATH=Re,u.OneSignal.SERVICE_WORKER_PARAM={scope:"/"}}));var i=Ee(),o=ye(i);u.OneSignal.push((function(){u.OneSignal.sendTags({cid:i,abtest:o})})),u.OneSignal.push((function(){u.OneSignal.init(n).then(t)})),e.promptOptions&&u.OneSignal.push((function(){u.OneSignal.isPushNotificationsEnabled((function(e){return!e&&u.OneSignal.showHttpPrompt()}))})),u.OneSignal.push((function(){u.OneSignal.on("notificationPermissionChange",(function(e){var t=e.to;s.dispatch(Oe,t)}))})),u.OneSignal.push((function(){u.OneSignal.on("subscriptionChange",(function(e){s.dispatch(Pe,e)}))})),u.OneSignal.push((function(){u.OneSignal.on("notifyButtonButtonClick",(function(){s.dispatch(De)}))}))}))}},{key:"triggerSubscriptionRequest",value:function(){var e=this;return new Promise((function(t){u.OneSignal.push((function(){e.isPushNotificationsMuted().then((function(n){n?e.setSubscription(!0).then(t):(u.OneSignal.registerForPushNotifications(),t())}))}))}))}},{key:"getPermissionStatus",value:function(){return new Promise((function(e){u.OneSignal.push((function(){u.OneSignal.getNotificationPermission().then(e)}))}))}},{key:"isPushNotificationsSubscribed",value:function(){return new Promise((function(e){u.OneSignal.push((function(){u.OneSignal.isPushNotificationsEnabled().then(e)}))}))}},{key:"isPushNotificationsMuted",value:function(){return new Promise((function(e){u.OneSignal.push((function(){u.OneSignal.isOptedOut().then(e)}))}))}},{key:"setSubscription",value:function(e){return new Promise((function(t){u.OneSignal.push((function(){u.OneSignal.setSubscription(e).then((function(n){s.dispatch(Pe,e),t(n)}))}))}))}},{key:"isPushNotificationsSupported",value:function(){return new Promise((function(e){u.OneSignal.push((function(){e(u.OneSignal.isPushNotificationsSupported())}))}))}},{key:"provideUserConsent",value:function(){return u.OneSignal.provideUserConsent(!0)}}]),n}(he),Ce={getInstance:function(){return ke||(ke=new Ae),ke},destroy:function(){ke=null}},Me=[{trackCode:"UA-27070218-1",trackEvents:!0,trackErrors:!0,options:{name:"Marfeel"}}];var je={features:{}};function _e(){var e=we("mrf-features");return null===e?je:JSON.parse(e)}function We(){var e,t=((e=document.getElementById("mrf-features-json"))?JSON.parse(e.innerHTML):{}).features,n=_e().features;return n?Object.assign({},t,n):t}function Ge(e){return!!We()[e]}var He=/^#F.?F.?F.?$/;function Te(e,t,n,r,i,o,a){var c=new XMLHttpRequest;return c.timeout=i||1e4,c.open("POST",e),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a&&(c.withCredentials=!0),function(e,t,n,r){e.onreadystatechange=function(){4===e.readyState&&(e.status>=200&&e.status<300?t&&t(r?e.responseXML:e.responseText):n&&n(e))}}(c,n,r,o),c.send(t),c}var Be="https://www.google-analytics.com/collect";var Ie,Ue=((Ie=function(e){for(var t=u.document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].split("="),i=ce()(r,2),o=i[0],a=i[1];if(o.trim()===e.trim())return a}}("mrf-client-id"))||function(e,t,n){var r=e+"="+t+";expires="+new Date(Date.now()+n).toGMTString()+";domain="+u.document.domain+";path=/";u.document.cookie=r}("mrf-client-id",Ie="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),62208e6),Ie),Ve={trackPushNotificationsAskForSubscription:function(){this.trackMarfeelEvent("PushNotifications","ask","bell")},trackPushNotificationsSubscription:function(e){this.trackMarfeelEvent("PushNotifications","subscription",e)},trackPushNotificationsMute:function(e){this.trackMarfeelEvent("PushNotifications","trackPushNotificationsMute",e)},trackJSErrors:function(e){this.trackMarfeelEvent("Error",e)},trackMarfeelEvent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;Me.forEach((function(r){var i=r.trackCode,o="v=1&tid=".concat(i,"&cid=").concat(Ue,"&t=event&ec=").concat(e,"&ea=").concat(t,"&el=").concat(n);Te(Be,o)}))}},qe="granted",Fe="denied",Je="default",ze={init:function(){s.addEventListener(Oe,this.onPermissionChange),s.addEventListener(Pe,this.onSubscriptionChange),s.addEventListener(De,this.onNotyfyButtonClicked)},onPermissionChange:function(e){switch(e.detail){case qe:Ve.trackPushNotificationsSubscription("accept");break;case Fe:Ve.trackPushNotificationsSubscription("block");break;case Je:Ve.trackPushNotificationsSubscription("close")}},onSubscriptionChange:function(e){var t=e.detail;Ve.trackPushNotificationsMute(!t)},onNotyfyButtonClicked:function(){Ve.trackPushNotificationsAskForSubscription()}},Ke=u.marfeel.definition.pwa;"PushManager"in window&&4&Ke&&s.addEventListener("sw:installed",(function(){var e=Ce.getInstance(),t=u.marfeel.theme.tenantColor;e.isPushNotificationsSupported().then((function(n){if(n){var r=(c=t,He.test(c.toUpperCase())?"rgb(84,110,123)":t),i={requiresUserPrivacyConsent:!1,notifyButton:{enable:!0,size:"medium",position:"bottom-left",offset:{bottom:"16px",left:"16px"},prenotify:!0,showCredit:!1,text:LOCALIZATION,colors:{"circle.background":r,"circle.foreground":"white","badge.background":r,"badge.foreground":"white","badge.bordercolor":"white","pulse.color":r,"dialog.button.background.hovering":"rgb(77, 101, 113)","dialog.button.background.active":"rgb(70, 92, 103)","dialog.button.background":"rgb(84,110,123)","dialog.button.foreground":"white"}}},o=u.marfeel.definition.pushNotifications.conf;o.notifyButton=Object.assign(i.notifyButton,o.notifyButton);var a=Object.assign(i,o);e.init(a),ze.init()}var c}))}));var Qe,$e,Xe,Ye,Ze,et,tt,nt,rt,it={install:function(){var e="https:"===document.location.protocol,t=u.marfeel.GardaMarfeel.getEnvironment();if("serviceWorker"in navigator&&e&&"native"!==t){var n=0===te.currentDevice.getDeviceEnvironment().indexOf("webview");if(n&&!oe())navigator.serviceWorker.getRegistrations().then((function(e){var t,n=ne(e);try{for(n.s();!(t=n.n()).done;){t.value.unregister()}}catch(e){n.e(e)}finally{n.f()}}));else{var r=navigator.serviceWorker.register,i=u.marfeel,a=i.theme,c=i.tenant,l=i.definition,d=i.resourcesHost,v=function(e){var t=d,n="",r=c.id,i=l.name;"pre"!==e&&e!==f||(ie(r,i,u.location.origin,a.customBuildNumber),t=n=u.location.origin,r="marfeel",i="index");var o=u.marfeel.definition.pushNotifications?u.marfeel.definition.pushNotifications.id:"",s=["buildNumber=".concat(a.buildNumber),"resourcesHost=".concat(t),"staticResourcesHost=".concat(u.marfeel.staticResourcesHost||""),"marfeeldt=".concat(a.deviceType),"tenantName=".concat(r),"marfeelName=".concat(i),"pwa=".concat(u.marfeel.definition.pwa||""),"pushNotificationsProvider=".concat(o),"version=".concat(a.version||"")].join("&");return"".concat(n,"/").concat(u.marfeel.features.swName,"?").concat(s)};r.call(u.navigator.serviceWorker,"".concat(v(t))).then((function(e){u.navigator.serviceWorker.register=function(){return Promise.resolve(e)},s.dispatchEvent(new o("sw:installed"))})).catch((function(){}))}}}},ot=u.marfeel,at=ot.theme,ct=ot.tenant,st=ot.resourcesHost,ut="".concat(st,"/").concat(ct.id,"/main.").concat(at.deviceType,".js");u.addEventListener("error",(function(e){var t=e.message,n=e.filename,r=e.lineno,i=e.colno;if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return u.location.hostname.indexOf("localhost")&&e.indexOf(ut)>=0}(n)){var o=r&&i?" [".concat(r,":").concat(i,"]"):"",a="Desktop:".concat(o," ").concat(t);Ve.trackJSErrors(a)}})),Qe=u.marfeel,$e=Qe.theme.buildNumber,Xe=Qe.tenant,Ye=Qe.resourcesHost,Ze=Qe.resourcesPath,et=void 0===Ze?"index":Ze,tt=u.document.createElement("link"),nt="".concat(Ye,"/statics/").concat(Xe.id,"/").concat(et),rt="".concat(nt,"/").concat(Ge("useMrf4u")?"manifest-mrf4u":"manifest",".json?build=").concat($e),tt.setAttribute("rel","manifest"),tt.setAttribute("href",rt),u.document.head.appendChild(tt),u.OneSignal||it.install()},peMk:function(e,t,n){var r=n("iQ7j");e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},qPgQ:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},tGbD:function(e,t,n){var r=n("iQ7j");e.exports=function(e){if(Array.isArray(e))return r(e)}},twbh:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}}});
		
	})(window)

