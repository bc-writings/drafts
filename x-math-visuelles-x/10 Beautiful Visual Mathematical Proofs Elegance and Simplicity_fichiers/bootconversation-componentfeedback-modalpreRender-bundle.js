(window.webpackJsonp_spotim_580132258=window.webpackJsonp_spotim_580132258||[]).push([[6],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return E}));var r=n(15),o=n.n(r),i=n(489),a=n.n(i),s=n(96),c=n.n(s),u=n(499),d=n.n(u),f="typing-modules/INIT",l="typing-module/SET";function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{[t.payload]:{Overall:{count:0}}};case l:return o()(e,(function(e){var n=t.payload,r=n.conversationId,o=n.messagesTyping,i=n.currentUserId;e[r]={NewComment:{count:0,users:{}}};var s=0;a()(o,(function(t){var n=t.messageId||"NewComment";if(e[r][n]={count:t.count,users:{}},a()(t.users,(function(t){var o=t.user_id;i===o&&(e[r][n].count-=1,s++)})),e[r][n].count>0){var o=h(t.users,i);o&&(e[r][n].users[o.user_id]={imageId:o.image_id})}})),e[r].Overall.count-=s}));default:return e}}function g(e,t,n){return{type:l,payload:{conversationId:e,messagesTyping:t,currentUserId:n}}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Overall",n=c()(e,'typingUsers["'.concat(e.conversation.id,'"]["').concat(t,'"]'),{});return n.count||0}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NewComment";return b(e,t)?y(e,t):[]}function b(e,t){return d()(e,"conversation")&&d()(e,'typingUsers["'.concat(e.conversation.id,'"]["').concat(t,'"]'))}function y(e,t){var n=[],r=c()(e,"conversation.id"),o=c()(e,"typingUsers[".concat(r,"]")),i=[];return a()(o,(function(e,r){"NewComment"!==t&&t!==r||a()(e.users,(function(e,t){e&&-1===n.indexOf(t)&&(i.push({id:t,imageId:e.imageId}),n.push(t))}))})),i}function v(e){return{type:f,payload:e}}function E(e){return e.typingUsers[e.conversation.id].Overall.count}function h(e,t){var n=e.pop();return n&&n.user_id===t&&(n=e.pop()),n}},102:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return b}));var r=n(22),o=n.n(r),i=n(23),a=n.n(i),s=n(76),c=n(83),u=n(84),d=n(198),f=n(104),l=n(148),p=n(4),g="GET_REPLIES_START",m="GET_REPLIES_END",O="GET_REPLIES_END_ERROR";function b(e){return function(){var t=a()(o.a.mark((function t(n,r){var i,a,f,l,b,E,h,S,_;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p.a.apm.start("show_more_replies"),n({type:g,payload:{parentMessageId:e}}),i=r(),a=i.comments.list,f=i.conversation,l=i.currentUser,b=c.c(a,e),E=s.c(b).map((function(e){return c.d(a,e)})).map((function(e){return e&&s.d(e)})).filter((function(e){return e.isMine&&e.isNew})).length,t.next=8,d.a(f.postId,e,b.message.offset,u.f+E);case 8:h=t.sent,S=v(h.conversation,f,l),_=y(h),n({type:m,payload:{comments:S,parentMessage:b.message,conversation:_.conversation}}),p.a.apm.end("show_more_replies"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),p.a.error("getReplies",t.t0),n({type:O,payload:{error:t.t0},error:!0});case 19:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,n){return t.apply(this,arguments)}}()}function y(e){return{conversation:{hasNext:e.conversation.has_next,offset:e.conversation.offset}}}function v(e,t,n){var r=Object(f.b)(t.id,{comments:Object(l.a)(e.comments),users:e.users}).comments,o={};if(n&&n.messagesVoted)for(var i in o=n.messagesVoted)if(o.hasOwnProperty(i)){var a=o[i];o[i]={isVotedUp:1===a,isVotedDown:-1===a}}return r}},104:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(298),o=n(38),i=n(71),a=n(70),s=n(175);function c(e){return!e.entities||0===e.entities.length||e.entities[0].type===o.entityTypes.TEXT&&""===e.entities[0].text&&1===e.entities.length}function u(e,t){var n=a.a.map(t,{comments:Object(s.b)("comments",{parent_id:"parentMessageId",root_comment:"rootMessageId",has_next:"hasNext","rank.ranked_by_current_user":"meVote","rank.ranks_down":"downVotesCount","rank.ranks_up":"upVotesCount",index:"index"})}).comments,o=void 0===n?[]:n,u=[],d={};return Object.keys(t.users).forEach((function(e){var n=Object.assign(t.users[e],{id:e}),r=Object(i.b)(n);u.push(r),d[r.id]=r})),o.filter((function(e){return!c(e)})).forEach((function(t){var n;(n=t).entities[0].hasOwnProperty("text")&&(n.entities[0].text=n.entities[0].text.replace(/{{um:([^{}]*)}}/gm,'<span data-mention="$1,,"></span>')),t.conversationId=e,Object(r.a)(t,d),t.user||(t.user={id:t.userId}),t.isVotedUp=1===t.meVote,t.isVotedDown=-1===t.meVote,delete t.meVote,t.upVotesCount||(t.upVotesCount=0),t.downVotesCount||(t.downVotesCount=0)})),{comments:o,usersList:u}}},105:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(4),o=function(e){try{window.__SPOTIM__.initApp("registration",e)}catch(t){r.a.error("openRegistrationModal",t,{mode:e.mode})}},i=function(){try{window.__SPOTIM__.initApp("registration",{mode:"signup"})}catch(e){r.a.error("openSignUpModal",e)}},a=function(){try{window.__SPOTIM__.initApp("registration",{mode:"logout"})}catch(e){r.a.error("onLogout",e)}},s=function(){try{window.__SPOTIM__.initApp("registration",{mode:"init-disqus-login"})}catch(e){r.a.error("initDisqusLogin",e)}}},106:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(26),o=n(216),i=n(355);function a(e){try{localStorage.setItem(o.a,e)}catch(e){}}function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,o){var s=o().moduleOptions.postId,c=Object(i.a)(s);n({type:r.lb,payload:e}),c.changeObervingModuleOn(e),t&&a(e)}}function c(e){return{type:r.ob,payload:e}}function u(e){return{type:r.jb,payload:e}}},114:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return b}));var r,o=n(30),i=n.n(o),a=n(13),s=n(15),c=n.n(s),u=n(82),d=n(138);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.LIKED_MESSAGE="liked-message",e.REPLIED_YOUR_MESSAGE="replied-your-message",e.ALSO_REPLIED="also-replied",e.MENTION="user-mentioned"}(r||(r={}));var g={items:{},order:[],isLoading:!1,unseenCount:0,unreadCount:0,totalCount:0,isLoaded:!1};t.b=Object(a.handleActions)({[u.e]:c()((function(e,t){t.payload.isLoaded||Object.assign(e,g),e.isLoaded=t.payload.isLoaded})),[u.b]:c()((function(e){e.isLoading=!0})),[u.a]:c()((function(e,t){var n=t.payload,r=n.unseenCount,o=n.unreadCount,i=n.totalCount,a=n.notifications,s=void 0===a?[]:a,c=n.reset,u=void 0!==c&&c,d=n.offset,f=void 0===d?0:d;u&&Object.assign(e,g),null!=r&&(e.unseenCount=r),null!=o&&(e.unreadCount=o),null!=i&&(e.totalCount=i),e.isLoading=!1,0===f&&s.reverse();var p,m=l(s);try{for(m.s();!(p=m.n()).done;){var O=p.value;e.items[O.id]||(0===f?e.order.unshift(O.id):e.order.push(O.id)),e.items[O.id]=y(O)}}catch(e){m.e(e)}finally{m.f()}})),[u.c]:c()((function(e){for(var t=0,n=Object.values(e.items);t<n.length;t++){n[t].read=!0}})),[u.d]:c()((function(e,t){var n=t.payload.id,r=e.items[n];r&&(r.read=!0)})),[u.f]:c()((function(e,t){var n=t.payload.unseenNotificationsCount;e.unseenCount=n}))},g);function m(e){return{offset:e.order.length,count:10,hasNext:e.order.length<e.totalCount}}function O(e){return e.order.length<e.totalCount}function b(e){return 0===e.order.length}function y(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({read:!1,updatedAt:new Date,conversationId:void 0,conversationUrl:void 0,conversationTitle:void 0,spotId:void 0,userId:void 0,messageId:void 0,users:{},message:void 0,totalCount:0},e);return t.users=Object(d.c)(e.users),t}},115:function(e,t,n){"use strict";function r(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}t.a=function(){var e=r;return e()+e()+e()+e()+e()+e()+e()+e()}},118:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return r}));var r,o="approved",i="blocked",a="pending";!function(e){e.APPROVED="approved",e.BLOCKED="blocked",e.PENDING="pending"}(r||(r={}))},119:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.UPPERCASE="uppercase",e.IMAGE="image",e.VIDEO="video",e.EXTERNAL_LINK="external_link",e.DUPLICATION="duplication",e.PERSPECTIVE="perspective",e.BLACKLISTED="blacklisted_sender",e.SPAM="spam",e.UNSUBSTANTIAL="unsubstantial",e.SUSPENDED="suspended"}(r||(r={}))},121:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var r=n(13),o=n(558),i=n.n(o),a=n(601),s=n.n(a),c=n(2),u=n.n(c),d=n(118),f=n(345),l="UPDATED_MESSAGES",p=Object(r.createAction)(l,s()(i()(f.a),i()((function(e){return u.a.get("init_data.config.policy.roger_mode",!1)&&e&&e.message&&e.message.status!==d.a?null:null==e?void 0:e.message}))))},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="REALTIME_MESSAGE_VOTE"},126:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r='[data-spotim-module="conversation"], [data-spot-im-module-default-area="conversation"]',o="spot-im-forum-claim",i="spot-im-show-more-replies-clicked",a="spot-im-show-more-comments-clicked"},138:function(e,t,n){"use strict";var r=n(30),o=n.n(r),i=n(181);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.length>0&&(e+="."),function(){return Object.assign({is_subscriber:"".concat(e,"isSubscriber")},t)}}var s=n(14),c=n(185);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){return d(d({},Object(s.parseUser)(e)),{},{notificationsCount:e.notifications_counter,isMuted:e.is_muted,messagesVoted:e.rank})}function l(e){return e&&Array.isArray(e)?e.reduce((function(e,t){return e[t.id]=Object(i.a)(t),e}),{}):e}function p(e,t){return Object(c.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.length>0&&(e+="."),function(){return Object.assign({display_name:"".concat(e,"displayName"),id:"".concat(e,"id"),user_id:"".concat(e,"id"),image_id:"".concat(e,"imageId"),background_image_id:"".concat(e,"coverImageId"),about:"".concat(e,"about"),location:"".concat(e,"location"),language:"".concat(e,"language"),workplace:"".concat(e,"workplace"),interests:"".concat(e,"interests"),user_name:"".concat(e,"username"),online:"".concat(e,"isOnline"),points:"".concat(e,"points"),is_moderator:"".concat(e,"isModerator"),is_admin:"".concat(e,"isAdmin"),is_journalist:"".concat(e,"isJournalist"),notifications_counter:"".concat(e,"notificationsCount"),comments_count:"".concat(e,"commentsCount"),up_votes_count:"".concat(e,"upVotesCount"),up_votes_received_count:"".concat(e,"upVotesReceivedCount"),unseen_notifications_count:"".concat(e,"unseenNotificationsCount"),rank:"".concat(e,"messagesVoted"),email:"".concat(e,"email"),verified:"".concat(e,"isEmailVerified"),social:"".concat(e,"socialNetworks"),registered:"".concat(e,"isRegistered"),anonymous:"".concat(e,"isAnonymized"),spot_token:"".concat(e,"token"),"liked-message":"".concat(e,"emailNotifyLikedMessage"),"user-mentioned":"".concat(e,"emailNotifyUserMentioned"),"replied-your-message":"".concat(e,"emailNotifyRepliedYourMessage"),private_profile:"".concat(e,"isPrivate"),sso_user:"".concat(e,"isSsoUser"),is_super_admin:"".concat(e,"isSuperAdmin"),spotim_device_ticket:"".concat(e,"spotimDeviceTicket"),following:"".concat(e,"following"),actions:"".concat(e,"actions"),is_community_moderator:"".concat(e,"isCommunityModerator"),is_muted:"".concat(e,"isMuted"),network_device_ticket:"".concat(e,"networkDeviceTicket"),reputation:"".concat(e,"reputation"),sso_data:a("".concat(e,"ssoData"))},t)}}("",t),e)}n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return p}))},148:function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];if(e){var n,o=r(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;t.push(i),t=t.concat(a(i))}}catch(e){o.e(e)}finally{o.f()}}return t}function a(e){var t=[];if(0===e.replies.length)return t;var n,o=r(e.replies);try{for(o.s();!(n=o.n()).done;){var i=n.value;t.push(i),t=t.concat(a(i))}}catch(e){o.e(e)}finally{o.f()}return t}n.d(t,"a",(function(){return i}))},149:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(13),o=n(15),i=n.n(o),a=n(26);function s(e){return{type:a.Cb,payload:{reportedComments:e}}}t.a=Object(r.handleActions)({[a.Cb]:i()((function(e,t){var n=t.payload.reportedComments;n&&Object.keys(n).forEach((function(t){e[t]=!0}))}))},{})},150:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.APPROVE_ALL="approve_all",e.PUBLISH_AND_MODERATE="publish_and_moderate",e.REQUIRE_APPROVAL="require_approval",e.BLOCK_ALL="block_all",e.FORCE_APPROVE_ALL="force_approve_all",e.FORCE_BLOCK_ALL="force_block_all"}(r||(r={}))},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="DELETE_MESSAGES";function o(e){return function(t){var n=e.map(i);t({type:r,payload:{messages:n}})}}function i(e){return{id:e.id}}},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(2),o=n.n(r),i="REJECT_MESSAGES";function a(e){return function(t){var n=e.map(s);o.a.get("init_data.config.policy.roger_mode",!1)||t({type:i,payload:{messages:n}})}}function s(e){return{id:e.id}}},158:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="EXPAND_AGGREGATED_MESSAGES";function o(){return{type:r}}},159:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var r=n(22),o=n.n(r),i=n(23),a=n.n(i),s=n(4),c=n(84),u=n(198),d=n(104),f=n(148),l="GET_PREVIOUS_REPLIES_END";function p(e){return function(){var t=a()(o.a.mark((function t(n,r){var i,a,d,f,p;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r(),a=i.conversation,t.prev=1,t.next=4,u.a(a.postId,e.message.id,e.message.offset,c.f);case 4:d=t.sent,f=m(d,a),p=g(d),n({type:l,payload:{replies:f,parentMessage:e.message,conversation:p.conversation}}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),n({type:l,payload:{error:t.t0},error:!0}),s.a.error("getPreviousReplies",t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()}function g(e){return{conversation:{hasNext:e.conversation.has_next,offset:e.conversation.offset}}}function m(e,t){return Object(d.b)(t.id,{comments:Object(f.a)(e.conversation.comments),users:e.conversation.users}).comments}},160:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(15),o=n.n(r),i=n(13),a=n(26),s=Object(i.createAction)(a.qb);t.a=Object(i.handleActions)({[a.qb]:o()((function(e,t){return t.payload.isReadOnly}))},!1)},175:function(e,t,n){"use strict";var r=n(185);function o(e,t){return Object(r.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.length>0&&(e+="."),function(){return Object.assign({type:"".concat(e,"type"),id:"".concat(e,"id"),text:"".concat(e,"text"),imageId:"".concat(e,"imageId"),originalHeight:"".concat(e,"originalHeight"),originalWidth:"".concat(e,"originalWidth"),mediaHeight:"".concat(e,"mediaHeight"),mediaWidth:"".concat(e,"mediaWidth"),thumbnailHeight:"".concat(e,"thumbnailHeight"),thumbnailWidth:"".concat(e,"thumbnailWidth"),title:"".concat(e,"title"),description:"".concat(e,"description"),url:"".concat(e,"url"),originalUrl:"".concat(e,"originalUrl"),previewUrl:"".concat(e,"previewUrl"),previewHeight:"".concat(e,"previewHeight"),previewWidth:"".concat(e,"previewWidth"),embed:"".concat(e,"embed"),frameType:"".concat(e,"frameType"),userId:"".concat(e,"userId")},t)}}("",t),e)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.length>0&&(e+="."),function(){return Object.assign({id:"".concat(e,"id"),type:"".concat(e,"type"),status:"".concat(e,"status"),conversation_id:"".concat(e,"conversationId"),"rank.positive":"".concat(e,"upVotesCount"),"rank.negative":"".concat(e,"downVotesCount"),"rank.+":"".concat(e,"upVotesCount"),"rank.-":"".concat(e,"downVotesCount"),"+":"".concat(e,"upVotesCount"),"-":"".concat(e,"downVotesCount"),views:"".concat(e,"viewsCount"),replies_count:"".concat(e,"repliesCount"),user_id:"".concat(e,"userId"),written_at:"".concat(e,"postedAt"),edited:"".concat(e,"isEdited"),deleted:"".concat(e,"isDeleted"),anonymous:"".concat(e,"isAnonymized"),"metadata.version":"".concat(e,"version"),"metadata.reply_to.reply_id":"".concat(e,"parentMessageId"),"metadata.reply_to.user_id":"".concat(e,"replyToUserId"),"metadata.display_name":"".concat(e,"userDisplayName"),content:o("".concat(e,"entities")),stars:"".concat(e,"starsRating"),depth:"".concat(e,"depth"),offset:"".concat(e,"offset"),reply_parent_deleted:"".concat(e,"isReplyParentDeleted"),reply_parent_id:"".concat(e,"parentMessageId"),parent_comment_id:"".concat(e,"rootMessageId"),featured:"".concat(e,"featured"),featuredComment:"".concat(e,"featuredComment"),user_display_name:"".concat(e,"userDisplayName"),published:"".concat(e,"isPublished")},t)}}function a(e,t){return Object(r.a)(i("",t),e)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},176:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),o=n.n(r);function i(){return+(o.a.get("elementOptions.messagesCount")||o.a.get("tenant_config.conversation.read_batch_size",20))}},181:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(30),o=n.n(r),i=n(55),a=n.n(i);n(14),n(254);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){var t=a()({},e);return c({id:(null==e?void 0:e.id)||(null==e?void 0:e.userId),displayName:void 0,imageId:void 0,username:void 0,isModerator:!1,isRegistered:!1,isSuperAdmin:!1,isCommunityModerator:!1,isJournalist:!1,isAdmin:!1,reputation:{total:1},ssoData:{isSubscriber:void 0},email:void 0,isEmailVerified:!1,unseenNotificationsCount:void 0,notificationsCount:null==e?void 0:e.notificationsCount,messagesVoted:null==e?void 0:e.messagesVoted},t)}},185:function(e,t,n){"use strict";function r(e,t){return function(){return Object.assign(e(),{"~":t})}}n.d(t,"a",(function(){return r}))},186:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(30),o=n.n(r);n(187);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PLATFORM":return a(a({},e),{},{type:t.payload.platform});default:return e}};var s=function(e){return{type:"SET_PLATFORM",payload:{platform:e}}}},187:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={MOBILE:"mobile",DESKTOP:"desktop",TABLET:"tablet"}},198:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(44);function o(e,t,n,o,i,a,s,c,u,d){return Object(r.a)("v1.0.0/conversation/read",{method:"POST",postId:t,data:{conversation_id:n||"".concat(e,"_").concat(t),count:c,offset:a,sort_by:u,depth:d}})}function i(e,t,n,o){return Object(r.a)("v1.0.0/conversation/read",{method:"POST",postId:e,data:{count:o,offset:n,parent_id:t}})}},199:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="CLOSE_SIGNUP_WIZARD";function o(){return function(e){e({type:r})}}},216:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(2),o=n.n(r),i=n(51),a="SPOTIM_LAST_COMMUNITY_VIEW",s=o.a.get("tenant_config.shared.default_community_view",i.a.Explore),c=o.a.get("elementOptions.defaultCommunityView",""),u=function(){try{return localStorage.getItem(a)||c||s}catch(e){return i.a.Explore}}()},217:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(322),o=n.n(r);function i(e){return o()(e.split("_"))}},218:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(22),o=n.n(r),i=n(23),a=n.n(i),s=n(3),c=n(43),u=n(51),d=n(26);function f(e){return function(){var t=a()(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(null==e?void 0:e.conversationStatus)===u.c.ERROR&&Object(s.dispatchSpotimEvent)(c.i,"conversation read failed"),n({type:d.mb,payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},253:function(e,t,n){"use strict";var r=n(30),o=n.n(r),i=n(38),a=n(13),s=n(15),c=n.n(s),u=n(83),d=n(76),f=n(84),l=n(102),p=n(159),g=n(121),m=n(125),O=n(156),b=n(158),y=n(26),v=n(199),E=n(49);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){var r=e.findIndex((function(e){return e===t}));-1!==r&&(e[r]=n)}function j(e){return S(S({},e),{},{isReported:!0,isDeleted:!0})}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=Object(a.handleActions)({[Object(a.combineActions)(y.v,y.u).toString()]:{next:c()((function(e,t){var n=t.payload.message;e.message=T(e,n)})),throw:c()((function(e,t){var n=t.payload.message;e.message=T(e,n)}))},[y.cb]:c()((function(e){var t=e.message;e.message=j(t)})),[m.a]:c()((function(e,t){var n=t.payload.message;e.message=T(e,n)})),[y.Gb]:c()((function(e,t){var n=t.payload,r=n.operation,o=n.message,i=o.isVotedDown,a=o.isVotedUp;"up"===r?(i&&(e.message.isVotedDown=!1,e.message.downVotesCount-=1),a?(e.message.isVotedUp=!1,e.message.upVotesCount-=1):(e.message.isVotedUp=!0,e.message.upVotesCount+=1)):"down"===r&&(a&&(e.message.isVotedUp=!1,e.message.upVotesCount-=1),i?(e.message.isVotedDown=!1,e.message.downVotesCount-=1):(e.message.isVotedDown=!0,e.message.downVotesCount+=1))})),[y.xb]:c()((function(e,t){var n=t.payload.message;e.message.isMarked=n.isMarked})),[y.R]:c()((function(e,t){var n=t.payload.message;e.message.isPinned=n.isPinned})),[y.K]:c()((function(e){e.message.user.isMuted=!0})),[y.zb]:c()((function(e){e.message.user.isMuted=!1})),[y.J]:c()((function(e,t){var n=t.payload,r=n.isUserAllowed,o=n.isUserBlocked;e.message.user.isAllowListed=r,e.message.user.isBlockListed=o}))},d.b());function T(e,t){return P(P(P({},e.message),t),{},{depth:e.message.depth,isVotedUp:e.message.isVotedUp,isVotedDown:e.message.isVotedDown,repliesCount:e.message.repliesCount,user:P(P({},e.message.user),t.user)})}var A=n(74),D=n.n(A),R=n(77);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=Object(a.handleActions)({[Object(a.combineActions)(y.G,y.x,y.b)]:c()((function(e,t){var n,r=t.payload,o=r.shouldReloadComments,i=r.comments,a=r.reportedComments,s=N(i);try{for(s.s();!(n=s.n()).done;){var c=n.value;if(o||!e[c.id]){if(a)a[c.id]&&(c=j(c));var u=d.b({id:c.id,message:c,hasNext:c.hasNext});if(c.parentMessageId){var f=e[c.parentMessageId];f&&(e[c.parentMessageId]=d.a(e[c.parentMessageId],c),u=d.f(u,f))}e[c.id]=u}}}catch(e){s.e(e)}finally{s.f()}})),[l.a]:c()((function(e,t){var n,r=t.payload,o=r.comments,i=r.parentMessage,a=r.conversation,s=N(o);try{for(s.s();!(n=s.n()).done;){var c=n.value;if(!e[c.id]){var u=d.b({id:c.id,message:c,hasNext:c.hasNext});if(c.parentMessageId){var f=e[c.parentMessageId];e[c.parentMessageId]=d.a(e[c.parentMessageId],c),u=d.f(u,f)}e[c.id]=u}}}catch(e){s.e(e)}finally{s.f()}e[i.id]=d.g(e[i.id],a)})),[y.q]:{next:c()((function(e,t){var n=t.payload,r=n.message,o=n.isLoggedIn;U(e,n.isRetry,r,o)})),throw:c()((function(e,t){var n=t.payload,r=n.message,o=n.isLoggedIn;U(e,n.isRetry,r,o)}))},[y.l]:c()((function(e,t){var n,r,o=t.payload.message,i=null===(n=e[o.id])||void 0===n||null===(r=n.message)||void 0===r?void 0:r.parentMessageId;if(i){var a=e[i];a.childrenStackIds=a.childrenStackIds.filter((function(e){return e!==o.id})),a.message.repliesCount--}delete e[o.id]})),[Object(a.combineActions)(m.a,y.xb,y.Gb,y.R,y.J,y.cb).toString()]:c()((function(e,t){var n=t.payload.message;e[n.id]=w(e[n.id],t)})),[g.a]:c()((function(e,t){var n,r=N(t.payload);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o&&o.id){var i=e[o.id];i&&(i.message=T(i,o))}}}catch(e){r.e(e)}finally{r.f()}})),[p.a]:c()((function(e,t){var n,r,o=t.payload,i=o.replies,a=void 0===i?[]:i,s=o.parentMessage,c=o.conversation,u=[],f=N(a);try{for(f.s();!(r=f.n()).done;){var l=r.value;if(!e[l.id]){var p=d.b({id:l.id,message:l,hasNext:l.hasNext}),g=e[l.parentMessageId];p=d.f(p,g),l.parentMessageId===s.id?u.push(p.id):e[l.parentMessageId]=d.a(e[l.parentMessageId],l),e[p.id]=p}}}catch(e){f.e(e)}finally{f.f()}var m=e[s.id];m.hasNext=c.hasNext,m.message.offset=c.offset,(n=m.childrenStackIds).unshift.apply(n,D()(u.reverse()))})),[Object(a.combineActions)(y.K,y.zb).toString()]:c()((function(e,t){var n=t.payload.userId;Object.values(e).filter((function(e){return e.message.user.id===n})).forEach((function(n){e[n.id]=w(e[n.id],t)}))}))},{});function U(e,t,n,r){for(var o=d.b({id:n.id,message:M(M({},n),{},{isNew:!0,isMine:!0})}),i=0,a=Object.values(e);i<a.length;i++){a[i].isPostCommentActionEnabled=!1}if(e[n.id]=o,!t&&!Object(R.d)(n)){var s=e[n.parentMessageId];s&&(r||(o.isPostCommentActionEnabled=!0),s.isAggregated&&(o.isAggregated=!0),s.childrenStackIds.unshift(n.id),s.message.repliesCount++)}if(o){e[n.id]=o;var c=o.message.tempMessageId;if(t&&c&&(e[c]=o),!Object(R.d)(n)){var u=e[n.parentMessageId];u&&_(u.childrenStackIds,n.tempId,n.id)}}}function x(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=function(e,t){var n=t.payload,r=n.message,o=n.isRetry;Object(R.d)(r)&&(!o&&Object(R.d)(r)&&e.unshift(r.id),_(e,r.tempId,r.id))},F=Object(a.handleActions)({[Object(a.combineActions)(y.G,y.x,y.b)]:c()((function(e,t){var n=t.payload;n.shouldReloadComments&&(e=[]);var r,o=x(n.comments);try{for(o.s();!(r=o.n()).done;){var i=r.value;Object(R.d)(i)&&!e.includes(i.id)&&e.push(i.id)}}catch(e){o.e(e)}finally{o.f()}return e})),[y.q]:{next:c()(G),throw:c()(G)},[y.l]:c()((function(e,t){var n=t.payload.message;return Object(R.d)(n)?e.filter((function(e){return e!==n.id})):e}))},[]),B=n(157),H=Object(a.handleActions)({[Object(a.combineActions)(y.G,y.x,y.r,y.q,y.l,y.b)]:c()((function(e,t){e.messages=k(e.messages,t),e.rootOrder=F(e.rootOrder,t)})),[y.W]:c()((function(e,t){var n=t.payload,r=n.message,o=n.shouldAggregate,i=n.messageStack;if(0===r.depth)o&&!r.featuredComment?(i.isAggregated=!0,e.aggregatedMessage.push(r.id)):e.rootOrder.unshift(r.id),i.isLastMessage=!0;else{var a=e.messages[r.parentMessageId];if(a){var s=a.message;i.message.depth=s.depth+1,i.message.replyToDisplayName=s.userDisplayName||s.user.displayName,i.message.replyToUsername=s.user.username,a.isLastMessage=!1,a.isAggregated&&(i.isAggregated=!0,e.aggregatedMessage.push(r.id)),a.childrenStackIds.push(r.id),a.message.repliesCount++}}e.messages[r.id]=i})),EDIT_MESSAGE:c()((function(e,t){e.messages[t.payload.message.id]=t.payload.message})),[Object(a.combineActions)(y.v,y.u).toString()]:{next:c()((function(e,t){var n=t.payload.message.id;e.messages[n]=w(e.messages[n],t)})),throw:c()((function(e,t){var n=t.payload.message.id;e.messages[n]=w(e.messages[n],t)}))},[Object(a.combineActions)(g.a,m.a,y.xb,y.Gb,y.R,y.J,l.a,p.a,y.cb,y.K,y.zb).toString()]:c()((function(e,t){e.messages=k(e.messages,t)})),[Object(a.combineActions)(y.t).toString()]:c()((function(e,t){var n=t.payload.message,r=u.c(e,n.id);if(r){var o=0===r.message.depth;if(r.childrenStackIds.length>0)r.message.isDeleted=!0,r.childrenStackIds.map((function(t){return u.d(e,t)})).forEach((function(e){e.message.replyToUsername="",e.message.replyToDisplayName="",e.message.replyToUserId=void 0}));else if(o)r.message.isDeleted=!0;else{var i=u.c(e,n.parentMessageId);i.childrenStackIds=i.childrenStackIds.filter((function(e){return e!==n.id})),i.message.repliesCount--,delete e.messages[n.id]}}})),[B.a]:c()((function(e,t){t.payload.messages.forEach((function(t){var n=u.c(e,t.id);if(n)if(n.childrenStackIds.length>0||n.hasNext)n.message.status=i.statuses.BLOCKED,e.messages[t.id].message.isPublished=!1,n.childrenStackIds.map((function(t){return u.d(e,t)})).forEach((function(e){e.message.replyToUsername="",e.message.replyToDisplayName="",e.message.replyToUserId=void 0}));else{var r,o,a,s,c=null==e||null===(r=e.messages)||void 0===r||null===(o=r[t.id])||void 0===o||null===(a=o.message)||void 0===a?void 0:a.parentMessageId;if(c)(null==e||null===(s=e.messages)||void 0===s?void 0:s[c]).message.repliesCount--,e.messages[t.id].message.status=i.statuses.BLOCKED,e.messages[t.id].message.isPublished=!1;else n.message.status=i.statuses.BLOCKED,e.messages[t.id].message.isPublished=!1}}))})),[O.a]:c()((function(e,t){t.payload.messages.forEach((function(t){var n=u.c(e,t.id);if(n)if(n.childrenStackIds.length>0||n.hasNext)n.message.isDeleted=!0,n.childrenStackIds.map((function(t){return u.d(e,t)})).forEach((function(e){e.message.replyToUsername="",e.message.replyToDisplayName="",e.message.replyToUserId=void 0}));else{var r=e.messages[t.id].message.parentMessageId;if(r)e.messages[r].message.repliesCount--,e.messages[t.id].message.isDeleted=!0;else n.message.isDeleted=!0}}))}))},u.b()),K=n(346),Y=n(347);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"c",(function(){return q})),n.d(t,"e",(function(){return Q})),n.d(t,"d",(function(){return $})),n.d(t,"b",(function(){return Z}));var W={list:u.b(),transferredFromAggregatedStackIds:[],loading:!1,loadingFromShowMore:!1,pagination:Object(Y.a)(),scrollTo:!1,isPostCommentActionEnabled:!1};t.a=Object(a.handleActions)({[y.G]:c()((function(e,t){var n=t.payload,r=n.pagination,o=n.scrollToComments,i=void 0!==o&&o;e.list=H(e.list,t),e.loading=!1,e.pagination=Object(Y.a)(r),e.scrollTo=i})),[y.m]:function(e){return z(z({},e),W)},[y.y]:c()((function(e,t){t.payload.isFromShowMore?e.loadingFromShowMore=!0:e.loading=!0})),[y.x]:{next:c()((function(e,t){var n=t.payload,r=n.pagination,o=n.scrollToComments,i=void 0!==o&&o,a=r.sortBy!==e.pagination.sortBy?u.b():e.list;e.list=H(a,t),e.loading=!1,e.loadingFromShowMore=!1,e.pagination=Object(Y.a)(r),e.scrollTo=i})),throw:c()((function(e){e.loading=!1,e.loadingFromShowMore=!1}))},[y.b]:c()((function(e,t){e.list=H(e.list,t)})),[b.a]:c()((function(e){for(var t=u.e(e.list),n=Math.min(f.a,t.length),r=0;r<n;r++){var o=t[r];o.isAggregated=!1,e.transferredFromAggregatedStackIds.push(o.id),0===o.message.depth&&e.list.rootOrder.unshift(o.id),e.list.aggregatedMessage.shift()}})),[y.nb]:c()((function(e,t){var n=t.payload.currentUser;Object(E.d)(n)&&Object.values(e.list.messages).forEach((function(e){e.isPostCommentActionEnabled=!1}))})),[v.a]:c()((function(e){Object.values(e.list.messages).forEach((function(e){e.isPostCommentActionEnabled=!1})),e.isPostCommentActionEnabled=!1})),[y.r]:c()((function(e,t){e.list=H(e.list,t),e.pagination=Object(K.a)(e.pagination,t),e.failedMessageTemp=void 0})),[y.q]:{next:c()((function(e,t){var n=t.payload,r=n.message,o=n.isLoggedIn;0!==r.depth||o||(e.isPostCommentActionEnabled=!0),e.list=H(e.list,t)})),throw:c()((function(e,t){var n=t.payload,r=n.message,o=n.isLoggedIn;0!==r.depth||o||(e.isPostCommentActionEnabled=!1),e.list=H(e.list,t),t.payload.error&&(e.failedMessageTemp=t.payload)}))},[y.l]:c()((function(e,t){e.failedMessageTemp=void 0,e.list=H(e.list,t),e.pagination=Object(K.a)(e.pagination,t)})),[y.j]:c()((function(e,t){e.list=H(e.list,t)})),[y.ab]:c()((function(e,t){e.list.messages[t.payload.message.id].message.messageModeratingStage=R.b.LOADING})),[y.Y]:c()((function(e,t){e.list.messages[t.payload.message.id].message.messageModeratingStage=R.b.FINISHED,e.list.messages[t.payload.message.id].message.status=i.statuses.BLOCKED,e.list.messages[t.payload.message.id].message.isPublished=!1})),[y.Z]:c()((function(e,t){e.list.messages[t.payload.message.id].message.messageModeratingStage=R.b.FAILED,e.list.messages[t.payload.message.id].message.messageModeratingFailedType=R.a.REJECT})),[Object(a.combineActions)(l.a,p.a,O.a,B.a,y.t,y.cb).toString()]:c()((function(e,t){e.list=H(e.list,t)})),[y.F]:c()((function(e,t){var n=t.payload.message,r=u.c(e.list,n.id);if(r)if(0===n.depth)if(n.isDeleted)r.message=z(z(z({},r.message),n),{},{user:z(z({},r.message.user),n.user)}),r.childrenStackIds.map((function(t){return u.d(e.list,t)})).forEach((function(e){e.message.replyToUsername="",e.message.replyToDisplayName="",e.message.replyToUserId=void 0}));else{var o=e.list.messages[n.id].message.parentMessageId;if(o){var i=e.list.messages[o];i.childrenStackIds=i.childrenStackIds.filter((function(e){return e!==n.id})),i.message.repliesCount--}else e.list.rootOrder=e.list.rootOrder.filter((function(e){return e!==n.id}));delete e.list.messages[n.id]}else{if(n.isDeleted)e.list.messages[n.id]=n,r.childrenStackIds.map((function(t){return u.d(e.list,t)})).forEach((function(e){e.message.replyToUsername="",e.message.replyToDisplayName="",e.message.replyToUserId=void 0}));else{var a=e.list.messages[n.parentMessageId];a.childrenStackIds=a.childrenStackIds.filter((function(e){return e!==n.id})),a.message.repliesCount--}delete e.list.messages[n.id]}})),[Object(a.combineActions)(y.v,y.u).toString()]:{next:c()((function(e,t){e.list=H(e.list,t)})),throw:c()((function(e,t){e.list=H(e.list,t)}))},[y.e]:c()((function(e,t){e.list.messages[t.payload.messageId].message.messageModeratingStage=R.b.LOADING})),[y.c]:c()((function(e,t){e.list.messages[t.payload.messageId].message.messageModeratingStage=R.b.FINISHED,e.list.messages[t.payload.messageId].message.status=i.statuses.APPROVED})),[y.d]:c()((function(e,t){e.list.messages[t.payload.messageId].message.messageModeratingStage=R.b.FAILED,e.list.messages[t.payload.messageId].message.messageModeratingFailedType=R.a.APPROVE})),[Object(a.combineActions)(y.J,y.R,y.xb,y.Gb,g.a,m.a,y.K,y.zb).toString()]:c()((function(e,t){e.list=H(e.list,t)})),[y.wb]:c()((function(e,t){var n=t.payload;e.showReportMessageModal=n})),[y.W]:c()((function(e,t){e.list=H(e.list,t),e.pagination=Object(K.a)(e.pagination,t)})),[y.Bb]:c()((function(e,t){var n=t.payload,r=e.list.rootOrder.indexOf(n.id);e.list.rootOrder.splice(r,1),e.list.rootOrder.unshift(n.id),e.list.messages[n.id].message.featuredComment="top"})),[y.eb]:c()((function(e){e.loading=!0})),[y.hb]:c()((function(e){e.loading=!1})),[y.vb]:c()((function(e,t){t.payload.messages.forEach((function(t){e.list.messages[t.id]=t}))})),[y.a]:c()((function(e,t){var n=t.payload;e.list.messages[n.id].message.featured=!0})),[y.bb]:c()((function(e,t){var n=t.payload;"top"===n.featuredComment?(e.list.messages[n.id].message.featuredComment="",e.list.messages[n.id].message.featured=!0):e.list.messages[n.id].message.featured=!1})),[y.Q]:c()((function(e,t){var n=t.payload;for(var r in e.list.messages)"top"===e.list.messages[r].message.featuredComment&&(e.list.messages[r].message.featuredComment="");var o=e.list.rootOrder.indexOf(n.id);e.list.rootOrder.splice(o,1),e.list.rootOrder.unshift(n.id),e.list.messages[n.id].message.featuredComment="top",e.list.messages[n.id].message.featured=!0}))},W);function q(e,t){return u.c(e.list,t)}function Q(e,t){return e.transferredFromAggregatedStackIds.indexOf(t)>-1}function $(e,t){var n=d.c(t).map((function(t){return u.d(e.list,t)})).filter((function(e){return e&&!e.message.isDeleted})).length;return d.e(t)-n}function Z(e,t){var n=0,r=function(e){return e.list}(e),o=u.c(r,d.d(t).rootMessageId);return o&&(n=d.e(o)),n}},254:function(e,t,n){"use strict";var r=n(136),o=n(22),i=n.n(o),a=n(23),s=n.n(a),c=n(115);var u=function(e){return function(n,r){if(!n)return"";var o,i=["q_70","fl_lossy"],a=(r=Object.assign({width:null,height:null,crop:null,opacity:null,blur:null,colorize:null,extension:null,radius:null,gravity:null,default:null},r)).extension?"."+r.extension:"";if(i.push("dpr_".concat(3)),r.height&&i.push("h_"+t(r.height)),r.width&&i.push("w_"+t(r.width)),r.crop&&i.push("c_"+r.crop),r.blur&&i.push("e_blur:"+r.blur),r.opacity&&i.push("o_"+r.opacity),r.radius&&i.push("r_"+r.radius),r.gravity&&i.push("g_"+r.gravity),r.default&&i.push("d_"+r.default),r.colorize){var s=r.colorize.replace(/#/g,"");i.push("e_colorize"),i.push("co_rgb:"+s)}return o="/"+(i.length>0?i.join(","):""),e+o+"/v200/"+n+a};function t(e){return Math.ceil(1*e)}},d=n(65);function f(e){return l.apply(this,arguments)}function l(){return(l=s()(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)("extract/cloudinary/sign",{method:"POST",data:t});case 2:return n=e.sent,r=n.body,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return g.apply(this,arguments)}function g(){return(g=s()(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.cloudinary.com/v1_1/com-3pix/image/upload",e.next=3,fetch("https://api.cloudinary.com/v1_1/com-3pix/image/upload",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(e,t){return{url:u(e),upload:function(e,n){n||(n=Object(c.a)());var r={public_id:n,timestamp:(new Date).getTime()/1e3};return function(e){return new Promise(function(){var t=s()(i.a.mark((function t(n,r){var o,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={cloudinary_params:e},t.prev=1,t.next=4,f(o);case 4:a=t.sent,n(a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r();case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}())}(r).then((function(n){return r.signature=n.signature,r.file=e,r.api_key=t,new Promise(function(){var e=s()(i.a.mark((function e(t,n){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(r);case 3:o=e.sent,t(o),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n();case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}())}))}}};n.d(t,"a",(function(){return O}));var O=m(r.a.cloudinary.url,r.a.cloudinary.apiKey)},255:function(e,t,n){"use strict";var r=n(74),o=n.n(r);var i=n(36),a=n.n(i);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n={},r=e.indexOf("?");if(r>-1){var o=e.substring(r+1);""!==o&&o.split("&").forEach((function(e){var r=e.split("="),o=a()(r,2),i=o[0],s=o[1];if(!t||-1!==t.indexOf(i))try{n[i]=decodeURIComponent(s)}catch(e){}}))}return n}function c(e){var t=e.indexOf("?");if(-1===t)return{};var n=e.substring(t).slice(1).split("&"),r={};return n.forEach((function(e){""!==(e=e.split("="))[0]&&(r[e[0]]=decodeURIComponent(e[1]||""))})),JSON.parse(JSON.stringify(r))}function u(e,t){var n=e,r={};if(n){var i=n.indexOf("?");i>-1&&(r=c(n),n=n.substring(0,i))}else n="";var a=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object.keys(e).reduce((function(t,n){return[].concat(o()(t),["".concat(n,"=").concat(encodeURIComponent(e[n]))])}),[]).join("&");return t&&n.length>0&&(n="?".concat(n)),n}(Object.assign(r,t));return a.length>0&&(n+=a),n}function d(e,t){return t.reduce((function(e,t){return function(e,t){var n=e,r=e.indexOf("?");if(-1!==r){var o=e.substring(0,r),i=e.substring(r+1),a=new RegExp("&"+t+"(=[^&]*)?|^"+t+"(=[^&]*)?&?");i=i.replace(a,""),n=o+(i.length>0?"?":"")+i}return n}(e,t)}),e)}n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return s}));t.a={parseUrl:c,buildUrl:u,getKey:function(e,t){t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},setKey:function(e,t,n){var r=e,o=new RegExp("([?&])"+t+"=.*?(&|$)","i");if(e.match(o))r=e.replace(o,"$1"+t+"="+n+"$2");else{var i=-1!==e.indexOf("?")?"&":"?";r=e+i+t+"="+n}return r},removeParams:d,hasQueryString:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=c(e),o=!1;return r.hasOwnProperty(t)&&(o=null===n||r[t]===n),o}}},256:function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(23),a=n.n(i),s=n(4),c=n(65);function u(e){var t=e.email,n=e.url,r={email:t,spot_id:e.spotId,referer_url:n};return Object(c.a)("email-connect/verify-start",{method:"POST",data:r})}n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return g}));var d="REQUEST_VERIFY_USERNAME",f="RESPONSE_VERIFY_USERNAME",l="REQUEST_VERIFY_EMAIL",p="RESPONSE_VERIFY_EMAIL";function g(e){var t=e.email,n=e.spotId,r=e.url;return function(){var e=a()(o.a.mark((function e(i){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:l,payload:{email:t,spotId:n,url:r}}),e.prev=1,e.next=4,u({email:t,url:r,spotId:n});case 4:i({type:p,payload:{email:t,spotId:n,url:r}}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),i({type:p,payload:{error:e.t0},error:!0}),s.a.error("verifyEmail",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}},259:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r,o=n(22),i=n.n(o),a=n(23),s=n.n(a),c=n(2),u=n.n(c),d=n(95),f=n(44),l=n(176),p=n(260),g=function(e){return Object.values(d.a).includes(e)};function m(e){var t,n,r=e.isLiveBlog,o=(t=u.a.get("elementOptions.sortBy",""),n=u.a.get("tenant_config.conversation.abTestedSortBy",""),g(t)?t:g(n)?n:void 0),i=null!=o?o:u.a.get("init_data.config.sort_by");if(r)return o||d.a.NEWEST;var a=Object(p.a)();return a&&g(a)?a:i}function O(){var e=u.a.get("host_options.shouldCollapseReplies",!1),t=u.a.get("tenant_config.conversation.abTestedShouldCollapseReplies",!1);return e||t}!function(e){e.Conversation="conversation",e.Post="post"}(r||(r={}));var b=u.a.get("queryParams.spot_im_content_type",r.Conversation);function y(e){return v.apply(this,arguments)}function v(){return(v=s()(i.a.mark((function e(t){var o,a,s,c,d,p,g,y,v,E,h,S,_;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.postId,a=t.element,s=t.isPreview,c=t.isLiveBlog,!s){e.next=6;break}return e.next=4,n.e(54).then(n.bind(null,793));case 4:return d=e.sent,e.abrupt("return",d.default);case 6:return p="true"===a.dataset.ignoreQueryParams,g=m({isLiveBlog:c}),y=Object(l.a)(),v=p||b!==r.Conversation?null:u.a.get("queryParams.spot_im_comment_id")||u.a.get("queryParams.spot_im_reply_id"),(a.dataset.spotImScrollToReply||a.dataset.spotImScrollToComment)&&(v=a.dataset.spotImScrollToComment||a.dataset.spotImScrollToReply),E=u.a.get("queryParams.TEAM_ROUTE","v1.0.0"),h=O()?1:2,S={sort_by:g,offset:0,count:y,message_id:v,depth:h},u.a.get("elementOptions.socialReviews",!1)&&(S.with_star_rating=!0),e.next=18,Object(f.a)("".concat(E,"/conversation/read"),{data:S,method:"POST",postId:o});case 18:return _=e.sent,e.abrupt("return",{data:_});case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},26:function(e,t,n){"use strict";n.d(t,"G",(function(){return r})),n.d(t,"m",(function(){return o})),n.d(t,"H",(function(){return i})),n.d(t,"C",(function(){return a})),n.d(t,"B",(function(){return s})),n.d(t,"eb",(function(){return c})),n.d(t,"hb",(function(){return u})),n.d(t,"db",(function(){return d})),n.d(t,"gb",(function(){return f})),n.d(t,"b",(function(){return l})),n.d(t,"fb",(function(){return p})),n.d(t,"nb",(function(){return g})),n.d(t,"T",(function(){return m})),n.d(t,"E",(function(){return O})),n.d(t,"r",(function(){return b})),n.d(t,"q",(function(){return y})),n.d(t,"l",(function(){return v})),n.d(t,"e",(function(){return E})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return S})),n.d(t,"t",(function(){return _})),n.d(t,"s",(function(){return j})),n.d(t,"ab",(function(){return I})),n.d(t,"Y",(function(){return P})),n.d(t,"Z",(function(){return w})),n.d(t,"v",(function(){return T})),n.d(t,"u",(function(){return A})),n.d(t,"j",(function(){return D})),n.d(t,"xb",(function(){return R})),n.d(t,"cb",(function(){return C})),n.d(t,"Gb",(function(){return M})),n.d(t,"Fb",(function(){return N})),n.d(t,"y",(function(){return L})),n.d(t,"x",(function(){return k})),n.d(t,"W",(function(){return U})),n.d(t,"Bb",(function(){return x})),n.d(t,"V",(function(){return V})),n.d(t,"O",(function(){return G})),n.d(t,"N",(function(){return F})),n.d(t,"P",(function(){return B})),n.d(t,"U",(function(){return H})),n.d(t,"n",(function(){return K})),n.d(t,"p",(function(){return Y})),n.d(t,"A",(function(){return J})),n.d(t,"yb",(function(){return z})),n.d(t,"i",(function(){return W})),n.d(t,"F",(function(){return q})),n.d(t,"kb",(function(){return Q})),n.d(t,"pb",(function(){return $})),n.d(t,"J",(function(){return Z})),n.d(t,"R",(function(){return X})),n.d(t,"D",(function(){return ee})),n.d(t,"vb",(function(){return te})),n.d(t,"wb",(function(){return ne})),n.d(t,"Ab",(function(){return re})),n.d(t,"w",(function(){return oe})),n.d(t,"ib",(function(){return ie})),n.d(t,"a",(function(){return ae})),n.d(t,"bb",(function(){return se})),n.d(t,"Q",(function(){return ce})),n.d(t,"Db",(function(){return ue})),n.d(t,"K",(function(){return de})),n.d(t,"zb",(function(){return fe})),n.d(t,"h",(function(){return le})),n.d(t,"g",(function(){return pe})),n.d(t,"f",(function(){return ge})),n.d(t,"Cb",(function(){return me})),n.d(t,"rb",(function(){return Oe})),n.d(t,"I",(function(){return be})),n.d(t,"o",(function(){return ye})),n.d(t,"L",(function(){return ve})),n.d(t,"X",(function(){return Ee})),n.d(t,"z",(function(){return he})),n.d(t,"Eb",(function(){return Se})),n.d(t,"lb",(function(){return _e})),n.d(t,"S",(function(){return je})),n.d(t,"k",(function(){return Ie})),n.d(t,"ob",(function(){return Pe})),n.d(t,"jb",(function(){return we})),n.d(t,"ub",(function(){return Te})),n.d(t,"mb",(function(){return Ae})),n.d(t,"tb",(function(){return De})),n.d(t,"sb",(function(){return Re})),n.d(t,"M",(function(){return Ce})),n.d(t,"qb",(function(){return Me}));var r="INITIALIZE_CONVERSATION",o="CLEAR_CONVERSATION",i="INITIALIZE_MODULE_OPTIONS",a="GET_BASIC_USER_PROFILE_START",s="GET_BASIC_USER_PROFILE_END",c="REQUEST_TOGGLE_HIDE_CONVERSATION",u="RESPONSE_TOGGLE_HIDE_CONVERSATION",d="REQUEST_GET_UP_VOTES",f="RESPONSE_GET_UP_VOTES",l="ADD_HIGHLIGHTED_MESSAGE",p="RESET_UP_VOTES",g="SET_CURRENT_USER",m="RANK_CONVERSATION",O="GET_STARS_RATING_SUMMARY",b="CREATE_MESSAGE_START",y="CREATE_MESSAGE_END",v="CLEAN_FAILED_MESSAGE",E="APPROVE_MESSAGE_START",h="APPROVE_MESSAGE_END",S="APPROVE_MESSAGE_FAILED",_="DELETE_MESSAGE_START",j="DELETE_MESSAGE_END",I="REJECT_MESSAGE_START",P="REJECT_MESSAGE_END",w="REJECT_MESSAGE_FAILED",T="EDIT_MESSAGE_START",A="EDIT_MESSAGE_END",D="CHANGE_MESSAGE_ID",R="TOGGLE_MARK_MESSAGE",C="REPORT_MESSAGE_END",M="VOTE_TOGGLE_MESSAGE_START",N="VOTE_TOGGLE_MESSAGE_END",L="FETCH_CONVERSATION_START",k="FETCH_CONVERSATION_END",U="REALTIME_MESSAGE_NEW",x="UPDATE_MESSAGE_FEATURED",V="REALTIME_FACE_LIST",G="OPEN_SAY_CONTROL",F="OPEN_EDIT_SAY_CONTROL",B="OPEN_MESSAGE_SAY_CONTROL",H="RANK_CONVERSATION_MESSAGE_SAY_CONTROL",K="CLOSE_EDIT_SAY_CONTROL",Y="CLOSE_REPLY_SAY_CONTROL",J="FOCUS_SAY_CONTROL",z="UNFOCUS_SAY_CONTROL",W="BLUR_SAY_CONTROL",q="GLOBAL_REJECT_MESSAGE_END",Q="SET_COMMUNITY_QUESTION",$="SET_IS_SETTING_COMMUNITY_QUESTION",Z="MODERATION_USER_STATUS",X="PIN_MESSAGE_STATUS",ee="GET_MODERATION_DEFAULT_POLICY",te="SET_USER_VOTES",ne="SHOW_REPORT_MESSAGE_MODAL",re="UPDATE_CONVERSATION_MESSAGES_COUNT",oe="EXPAND_CHILDREN",ie="SAY_CONTROL_RENDERED",ae="ADD_FEATURED_COMMENT",se="REMOVE_FEATURED_COMMENT",ce="PIN_FEATURED_COMMENT",ue="UPDATE_SHOULD_FETCH_FEATURED_COMMENT",de="MUTE_USER",fe="UNMUTE_USER",le="BLOCKLIST_USER_START",pe="BLOCKLIST_USER_FAILED",ge="BLOCKLIST_USER_END",me="UPDATE_REPORTED_COMMENTS",Oe="SET_SIGNUP_WIZARD_MESSAGE_ID",be="MODERATE_MESSAGE_BLOCK",ye="CLOSE_MODERATION_ALERT",ve="NOTIFY_MODERATION_ALERT_RENDERED",Ee="REALTIME_MODERATE",he="FETCH_USER_SUSPENSION_STATUS",Se="UPDATE_USER_SUSPENSION",_e="SET_COMMUNITY_VIEW",je="PRELOAD_CONVERSATION",Ie="CHANGE_USER_DISPLAY_NAME",Pe="SET_FOCUS_SAY_CONTROL",we="SCROLL_TO_HEADER",Te="SET_USER_INITIALIZED",Ae="SET_CONVERSATION_STATUS",De="SET_TRANSLATION_INITIALIZED",Re="SET_TOKEN_INITIALIZED",Ce="NOTIFY_STARS_RATING_FAILED",Me="SET_READ_ONLY_CONVERSATION"},260:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));function r(){var e;try{e=window.localStorage.getItem("SPOTIM_USER_SORTING")}catch(e){}return e}var o=function(e){try{window.localStorage.setItem("SPOTIM_USER_SORTING",e)}catch(e){}}},262:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return l}));var r=n(13),o=n(70),i={reporters:[],location:void 0,isLive:!1},a=Object(r.createAction)("LIVE_BLOG/INIT",(function(e){return o.a.map(e,{id:"id",code:"code",title:"title",where:"location",live:"live",started_at:"startTime",end_date:"endDate",end_hour:"endHour",end_minute:"endMinute",next_occurrence:"nextStartTime",reporters_ids:"reporters",comments_disabled:"commentsDisabled",repeating:"isRepeating",weekly_days:"repeatingDays"})}));function s(e){return e.location}function c(e){return e.reporters}function u(e,t){return c(e).indexOf(t)>-1}function d(e){return e.isLive}function f(e){return e.endDate}function l(e){return e.startTime}t.a=Object(r.handleActions)({"LIVE_BLOG/INIT":function(e,t){var n=t.payload;return{reporters:n.reporters,location:n.location,isLive:n.live,endDate:n.endDate,startTime:n.startTime}}},i)},265:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.shift();return t.forEach((function(e){for(var t in e)e[t]&&e[t].constructor&&e[t].constructor===Object?(o[t]=o[t]||{},r(o[t],e[t])):o[t]=e[t]})),o}n.d(t,"a",(function(){return r}))},273:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="FETCH_AUTHENTICATION_END";function o(e,t){return{type:r,payload:{networkId:e,token:t}}}},298:function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.userId;if(e.user=t[n],e.userDisplayName&&(e.user.displayName=e.userDisplayName),e.entities&&e.entities.forEach((function(e){"user-mention"===e.type.toLowerCase()&&(e.user=t[e.userId])})),e.replyToUserId&&!e.replyToDisplayName){var r=t[e.replyToUserId];r&&(e.replyToDisplayName=r.displayName||r.username)}}n.d(t,"a",(function(){return r}))},299:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(30),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a({id:void 0,spotId:null,postId:null,etag:null,pageUrl:null,messagesCount:-1,commentsCount:-1,averageStarsRating:null,starsRatingCount:0,isHidden:!1,communityQuestion:void 0,shouldFetchFeaturedComment:!1},e)}function c(e,t){var n=e.starsRatingCount,r=e.averageStarsRating;t>0&&(r=(r*n-t)/(n-=1));return s(a(a({},e),{},{starsRatingCount:n,averageStarsRating:r}))}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return e.length>0&&(e+="."),function(){return Object.assign({conversation_id:"".concat(e,"id"),etag:"".concat(e,"etag"),spot_id:"".concat(e,"spotId"),post_id:"".concat(e,"postId"),comments_count:"".concat(e,"commentsCount"),messages_count:"".concat(e,"messagesCount"),"stars.average":"".concat(e,"averageStarsRating"),"stars.count":"".concat(e,"starsRatingCount"),"stars.segments":"".concat(e,"starsRatingSegments"),hidden:"".concat(e,"isHidden"),"metadata.community_question":"".concat(e,"communityQuestion")},t)}}},300:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(74),o=n.n(r),i=n(13),a=n(71),s=n(26),c=n(14),u=[];function d(e){var t;return t=e.map((function(e){return Object(c.parseUser)(e)})),Object.assign(e,t),{type:s.V,payload:e}}function f(e){return e.map(a.a)}t.b=Object(i.handleActions)({[s.G]:function(e,t){var n=t.payload.followers;return f(o()(n))},[s.m]:function(){return u},[s.V]:function(e,t){return f(t.payload)}},u)},345:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(38),o=n(71),i=n(70),a=n(175);function s(e){var t=i.a.map(e,Object(a.a)("message")).message;t.isVotedUp=1===e.rank.ranked_by_current_user,t.isVotedDown=-1===e.rank.ranked_by_current_user,t.downVotesCount=e.rank.ranks_down,t.upVotesCount=e.rank.ranks_up,t.parentMessageId=e.parent_id;var n=Object(o.b)(e.users[e.user_id]);return t.user=n,t.userDisplayName&&(t.user.displayName=t.userDisplayName),t.id!==e.root_comment?(t.depth=(t.depth||0)+1,t.rootMessageId=e.root_comment):(t.depth=0,t.rootMessageId=t.id),n.isOnline=!0,t.status===r.statuses.BLOCKED&&t.isDeleted&&(t.isDeleted=!1),{user:n,message:t}}},346:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(13),o=n(15),i=n.n(o),a=n(26),s=n(77),c=n(347);function u(e){return e.comments.pagination.sortBy}t.a=Object(r.handleActions)({[a.r]:i()((function(e,t){var n=t.payload,r=n.message;!n.isRetry&&Object(s.d)(r)&&e.offset++})),[a.l]:i()((function(e,t){var n=t.payload.message;Object(s.d)(n)&&e.offset--})),[a.W]:i()((function(e,t){var n=t.payload.messageStack,r=0===n.message.depth;r||e.offset++,(n.isAggregated||r)&&e.commentsRead++}))},Object(c.a)())},347:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(30),o=n.n(r),i=n(95);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s({offset:0,commentsRead:0,pageSize:10,sortBy:i.a.BEST,hasNext:!1},e)}},348:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n(15),o=n.n(r),i=n(13),a=n(26),s={isUserInitialized:!1,conversationStatus:n(51).c.FETCHING,isTranslationInitialize:!1,isTokenInitialized:!1},c=Object(i.createAction)(a.sb),u=Object(i.createAction)(a.ub),d=Object(i.createAction)(a.tb);t.a=Object(i.handleActions)({[a.ub]:o()((function(e,t){e.isUserInitialized=t.payload.isUserInitialized})),[a.sb]:o()((function(e,t){e.isTokenInitialized=t.payload.isTokenInitialized})),[a.mb]:o()((function(e,t){e.conversationStatus=t.payload.conversationStatus})),[a.tb]:o()((function(e,t){e.isTranslationInitialize=t.payload.isTranslationInitialize}))},s)},353:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(22),o=n.n(r),i=n(23),a=n.n(i),s=n(82);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){var t=a()(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:s.f,payload:{unseenNotificationsCount:e}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},354:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(22),o=n.n(r),i=n(23),a=n.n(i),s=n(26),c=n(51),u=n(449),d=n(2),f=n.n(d),l=n(82),p=n(100),g=n(149),m=n(218);function O(e){var t;e.pagination.sortBy||(e.pagination.sortBy=f.a.get("init_data.config.sort_by"));try{(t=window.localStorage.getItem("SPOTIM_REPORTED_COMMENTS"))&&(e.reportedComments=JSON.parse(t))}catch(e){}return e}var b=function(e){var t=e.data,n=e.postId,r=e.contentType;return function(){var e=a()(o.a.mark((function e(i,a){var d,f,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f=t.conversation.community_question,(b=O(b=Object(u.a)(t.conversation))).shouldReloadComments=!0,b.conversation.postId=n,b.conversation.contentType=r,(null===(d=b.moduleOptions)||void 0===d?void 0:d.isSterileConversation)?i({type:s.m}):i({type:s.G,payload:b}),i(Object(p.e)(b.conversation.id)),i(Object(g.b)(b.reportedComments)),i({type:s.kb,payload:{moduleOptions:{communityQuestion:f}}}),i({type:l.e,payload:{isLoaded:!1}}),i(Object(m.a)({conversationStatus:c.c.LOADED}));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},355:function(e,t,n){"use strict";var r=n(24),o=n.n(r),i=n(25),a=n.n(i),s=n(611),c=n.n(s),u=n(21),d=n.n(u),f={Conversation:"conversation",Explore:"explore"},l=function(){function e(){o()(this,e),this.element=void 0}return a()(e,[{key:"startObservingOn",value:function(e,t){this.element=e,d.a.startObservingOn(this.element,this.getModuleName(t))}},{key:"changeObervingModuleOn",value:function(e){var t;null===(t=d.a.changeObervingModuleOn)||void 0===t||t.call(d.a,this.element,this.getModuleName(e))}},{key:"getModuleName",value:function(e){return f[e]||e}}],[{key:"getInstance",value:function(t){var n,r,o=null===(n=window.__SPOTIM__)||void 0===n||null===(r=n.ConversationTimeSpent)||void 0===r?void 0:r[t];return o||(o=new e,c()(window,{__SPOTIM__:{ConversationTimeSpent:{[t]:o}}})),o}}]),e}();t.a=function(e){return l.getInstance(e)}},358:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),o=n.n(r),i=o.a.get("queryParams.spot_im_highlight_immediate",!1),a=o.a.get("queryParams.spot_im_redirect_source",""),s=o.a.get("tenant_config.launcher.immediateConfig",[]);function c(e){var t;if(e||!i)return!1;var n=s.find((function(e){return"conversation-page"===e.module}));return!a||(null==n||null===(t=n.excludeSources)||void 0===t?void 0:t.includes(a))}},37:function(e,t,n){"use strict";var r=n(30),o=n.n(r),i=n(16),a=(n(96),n(114)),s=n(186),c=n(13),u=n(273);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={status:{isLoading:!1,error:void 0,hasData:!1},networkId:void 0,token:void 0},m=Object(c.handleActions)({FETCH_AUTHENTICATION_START:function(e){return p(p({},e),{},{status:{isLoading:!0}})},[u.a]:function(e,t){var n=t.payload,r=n.networkId,o=n.token;return""===r&&(r="spotim"),f(f({},e),{},{networkId:r,token:o,status:{isLoading:!1,hasData:!0}})},FETCH_AUTHENTICATION_FAIL:function(e,t){var n=t.payload.error;return p(p({},e),{},{status:{isLoading:!1,error:n}})}},g);var O=n(49),b=n(100),y=n(102);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=Object(c.handleActions)({[y.c]:function(e,t){var n=t.payload.parentMessageId;return E(E({},e),{},{isLoading:!0,rootMessageId:n})},[y.a]:function(e,t){var n=t.payload.parentMessage;return E(E({},e),{},{isLoading:!1,rootMessageId:n.id})}},{rootMessageId:null,isLoading:!1}),S=n(15),_=n.n(S),j=n(299),I=n(26),P=n(77),w=n(104);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=j.a(),R=Object(c.handleActions)({[I.G]:function(e,t){var n=t.payload;return j.a(A(A(A({},D),n.conversation),{},{starRatingSummary:n.starRatingSummary}))},[I.m]:function(){return D},[I.x]:function(e,t){var n=t.payload.conversation;return j.a(A(A({},e),n))},[I.r]:_()((function(e,t){var n=t.payload.message;Object(P.d)(n)?e.isSubmittingComment=!0:(e.isSubmittingReply=!0,e.submittedReplyParentMessageId=n.parentMessageId)})),[I.q]:_()((function(e,t){var n=t.payload,r=n.message;n.isRetry||(Object(w.a)(r)||e.messagesCount++,Object(P.d)(r)&&e.commentsCount++,r.starsRating>0&&(e.starsRatingCount+=1,e.averageStarsRating=(e.averageStarsRating*e.starsRatingCount+r.starsRating)/e.starsRatingCount)),e.hasCommented=!0,Object(P.d)(r)?e.isSubmittingComment=!1:(e.isSubmittingReply=!1,e.submittedReplyParentMessageId=r.parentMessageId)})),[Object(c.combineActions)(I.I,I.Eb)]:_()((function(e,t){var n=t.payload.message;n&&(Object(P.d)(n)?e.isSubmittingComment=!1:(e.isSubmittingReply=!1,delete e.submittedReplyParentMessageId))})),[I.p]:_()((function(e,t){e.isSubmittingReply=!1,delete e.submittedReplyParentMessageId})),[Object(c.combineActions)(I.t,I.ab)]:_()((function(e,t){var n=t.payload.message;n.starsRating>0&&(e.starsRatingCount-=1,e.averageStarsRating=(e.averageStarsRating*e.starsRatingCount-n.starsRating)/e.starsRatingCount),e.messagesCount--,0===n.depth&&e.commentsCount--})),[Object(c.combineActions)(I.s,I.Y)]:function(e,t){var n=t.payload,r=n.conversation,o=n.starsRating;return j.c(j.a(A(A({},e),r)),o)},[I.v]:function(e,t){var n=t.payload,r=n.conversation,o=n.message;return j.a(A(A(A({},e),r),{},{isSubmittingEdit:!0,editedMessageId:o.id}))},[I.u]:function(e,t){var n=t.payload.conversation;return j.a(A(A(A({},e),n),{},{isSubmittingEdit:!1,editedMessageId:void 0}))},[I.E]:function(e,t){var n=t.payload,r=n.averageStarsRating,o=n.starsRatingCount;return j.a(A(A({},e),{},{averageStarsRating:r,starsRatingCount:o}))},[I.W]:function(e,t){var n=t.payload.conversation;return j.a(A(A({},e),n))},[I.hb]:function(e){return j.a(A(A({},e),{},{isHidden:!e.isHidden}))},[I.D]:{next:function(e,t){var n=t.payload.defaultPolicy;return j.a(A(A({},e),{},{defaultPolicy:n}))}},[I.Ab]:_()((function(e,t){e.messagesCount=t.payload.replies+t.payload.comments,e.commentsCount=t.payload.comments})),[I.Db]:_()((function(e,t){e.shouldFetchFeaturedComment=t.payload})),[I.pb]:_()((function(e,t){e.isSettingCommunityQuestion=t.payload.isSettingCommunityQuestion}))},D);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=Object(c.handleActions)({[I.rb]:function(e,t){return M(M({},e),{},{signupWizardMessageId:t.payload.messageId})}},{}),L=n(149),k=n(300),U=n(78),x=n(119),V=n(150);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=Object(c.handleActions)({[I.O]:{next:function(e){return F(F({},e),{},{expanded:!1})}},[I.A]:{next:function(e,t){var n=t.payload.stackId;return F(F({},e),{},n?{expanded:!1}:{expanded:!0})}},[I.yb]:{next:function(e){return F(F({},e),{},{expanded:!1})}},[I.r]:{next:function(e,t){t.payload.message;return F(F({},e),{},{isStarsRatingFailed:!1})}},[I.q]:{next:function(e,t){var n=t.payload.message;return(null==n?void 0:n.parentMessageId)?e:F(F({},e),{},{starsRating:0,isMessageBlocked:!1,isModerationAlertVisible:!1,verdict:"",tempMessageId:null,isStarsRatingFailed:!1})}},[I.T]:{next:function(e,t){var n=t.payload.starsRating;return F(F({},e),{},{starsRating:n})}},[I.M]:{next:function(e,t){t.payload.message;return F(F({},e),{},{isStarsRatingFailed:!0})}},[I.o]:{next:function(e,t){return t.payload.parentMessageId||!e.isMessageBlocked?e:F(F({},e),{},{isModerationAlertVisible:!1})}},[I.I]:{next:function(e,t){var n=t.payload,r=n.message,o=n.taggers,i=n.verdict,a=n.tempId;return(null==r?void 0:r.parentMessageId)?e:F(F({},e),{},{isMessageBlocked:!0,isModerationAlertVisible:!0,moderationTags:o,verdict:i,tempMessageId:a})}},[I.L]:{next:function(e,t){return F(F({},e),{},{isModerationAlertRendered:!0})}},[I.X]:{next:function(e,t){var n=t.payload,r=n.error,o=n.parentMessageId,i=n.tags,a=n.verdict;if(o||r||e.isMessageBlocked)return e;var s=U.e(a,i),c={isModerationAlertVisible:s,moderationTags:s?i:[],verdict:s?a:null};return F(F({},e),c)}},[Object(c.combineActions)(I.Eb,I.z)]:{next:function(e,t){var n=t.payload,r=n.isUserSuspended,o=n.verdict,i=n.moderationTags,a={verdict:r?o||V.a.BLOCK_ALL:null,moderationTags:r?i||[x.a.SUSPENDED]:[],isMessageBlocked:r,isModerationAlertVisible:r};return F(F({},e),a)}}},{expanded:!1,starsRating:0,isMessageBlocked:!1,isModerationAlertVisible:!1,isModerationAlertRendered:!1,moderationTags:[],verdict:null,tempMessageId:null,isStarsRatingFailed:!1});function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y={settings:{isModerationAlertRendered:!1,isUserSuspended:!1}},J=Object(c.handleActions)({[I.G]:{next:function(e,t){var n=t.payload.highlight,r=void 0===n?{}:n,o=Y,i=r.id;return!0===r.isSayControlExpanded&&(o=K(K({},o),{},{[i]:z()})),o}},[I.m]:function(){return Y},[I.P]:{next:function(e,t){var n=t.payload.messageId,r=e[n]&&Object.assign({},e[n]),o=r&&r.isRendered;r&&!r.isCreate?r.isCreate=!0:r=z({isCreate:!0,isRendered:o},e.settings.isUserSuspended),r&&void 0===o&&(r.isRendered=!1);var i=Object.assign({},e);return Object.keys(i).forEach((function(e){i[e].isCreate=!1,i[e].isRendered=!1})),i[n]=r,i}},[I.ib]:function(e,t){t.payload.messageId},[I.ib]:function(e,t){var n=t.payload.messageId,r=e[n];if(r){r=K(K({},r),{},{isRendered:!0});var o=K({},e);return o[n]=r,o}},[I.N]:function(e,t){var n=t.payload,r=n.messageId,o=n.starsRating,i=e[r],a=i&&i.isRendered;(i=i?K(K({},i),{},{starsRating:o,isEdit:!0}):z({starsRating:o,isEdit:!0,isRendered:a}))&&void 0===a&&(i.isRendered=!1);var s=K({},e);return s[r]=i,s},[I.U]:function(e,t){var n=t.payload,r=n.starsRating,o=n.messageId;return e[o]=K(K({},e[o]),{},{starsRating:r}),K({},e)},[I.r]:function(e,t){var n=t.payload.message,r=void 0===n?null:n,o=K({},e);if(r&&r.parentMessageId){var i=e[r.parentMessageId];i||(i=z()),i.isCreate=!0,o[r.parentMessageId]=i}return o},[I.u]:function(e){var t=K({},e);return W(Object.keys(t).map((function(e){return t[e]}))),t},[I.n]:function(e,t){var n=t.payload.messageId,r=K({},e);return r[n].isEdit=!1,r[n].isRendered=!1,r},[I.p]:function(e,t){var n=t.payload.messageId,r=K({},e);return r[n].isCreate=!1,r[n].isRendered=!1,r},[I.q]:function(e,t){var n=t.payload.message.parentMessageId;if(!n)return e;var r=K({},e);return r[n]=z({isMessageBlocked:!1,isModerationAlertVisible:!1,isStarsRatingFailed:!1,moderationTags:[],verdict:void 0}),r},[I.x]:{next:function(e,t){var n=t.payload.highlight,r=void 0===n?{}:n,o=e,i=r.id;return!0===r.isSayControlExpanded&&(e[i]=z(),o=K({},e)),W(Object.keys(o).map((function(e){return o[e]}))),o}},[I.I]:{next:function(e,t){var n=t.payload,r=n.message,o=n.taggers,i=n.verdict,a=n.tempId,s=K({},e);if(r&&r.parentMessageId){var c=e[r.parentMessageId];c||(c=z()),c.isMessageBlocked=!0,c.isCreate=!0,c.isModerationAlertVisible=!0,c.moderationTags=o,c.verdict=i,c.tempMessageId=a,s[r.parentMessageId]=c}return s}},[I.o]:{next:function(e,t){var n=t.payload.parentMessageId,r=K({},e);if(n){var o=e[n];o||(o=z()),o.isModerationAlertVisible=!1,r[n]=o}return r}},[I.L]:{next:function(e,t){var n=K(K({},e.settings),{},{isModerationAlertRendered:!0});return K(K({},e),{},{settings:n})}},[I.X]:{next:function(e,t){var n=t.payload,r=n.error,o=n.parentMessageId,i=n.tags,a=n.verdict;if(r||e.isMessageBlocked||e.settings.isUserSuspended)return e;var s=U.e(a,i),c=K({},e);if(o){var u=e[o];u||(u=z()),u.isModerationAlertVisible=s,u.moderationTags=s?i:[],u.verdict=s?a:null,c[o]=u}return c}},[Object(c.combineActions)(I.Eb,I.z)]:{next:function(e,t){var n=t.payload,r=n.isUserSuspended,o=n.verdict,i=n.moderationTags,a=K(K({},e.settings),{},{isUserSuspended:r}),s=r?Object.keys(e).filter((function(e){return"settings"!==e})).reduce((function(t,n){return K(K({},t),{},{[n]:K(K({},e[n]),{},{isMessageBlocked:!0,isModerationAlertVisible:!0,moderationTags:i||[x.a.SUSPENDED],verdict:o||V.a.BLOCK_ALL})})}),{}):e;return K(K({},s),{},{settings:a})}}},Y);function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return K({starsRating:0,isExpanded:!0,isEdit:!1,isCreate:!1,isMessageBlocked:t,isModerationAlertVisible:t,moderationTags:t?[x.a.SUSPENDED]:[],verdict:t?V.a.BLOCK_ALL:null,tempMessageId:null},e)}function W(e){e.map((function(e){Object.assign(e,{isCreate:!1,isEdit:!1,isRendered:!1,isMessageBlocked:!1,isModerationAlertVisible:!1,moderationTags:[],verdict:null,tempMessageId:null})}))}var q=n(199);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=Object(c.handleActions)({[q.a]:function(e){return $($({},e),{},{enabled:!1})},[I.nb]:function(e,t){var n=t.payload.currentUser;return $($({},e),{},{enabled:!Object(O.d)(n)})},[I.r]:function(e,t){var n=t.payload,r=n.message,o=n.isLoggedIn;return $($({},e),{},{enabled:Object(P.d)(r)&&o})}},{enabled:!1}),X=n(256);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne={verifyEmailSent:!1,emailSignupUser:null,emailSignupStatus:"none",emailSignupErrorType:null,username:null,usernameAvailable:!1,usernameSuggestions:[],usernameLoading:!1},re=Object(c.handleActions)({[X.c]:{next:function(e){return te(te({},e),{},{verifyEmailSent:!0})}},[X.b]:{next:function(e){return te(te({},e),{},{usernameLoading:!0})}},[X.d]:{next:function(e,t){var n=t.payload,r=n.username,o=n.isAvailable,i=n.suggestions;return te(te({},e),{},{usernameLoading:!1,username:r,usernameAvailable:o,usernameSuggestions:i})},throw:function(e){return te(te({},e),{},{usernameLoading:!1})}},REQUEST_SET_CURRENT_USER_EMAIL_SIGNUP:{next:function(e){return te(te({},e),{},{emailSignupStatus:"loading"})}},RESPONSE_SET_CURRENT_USER_EMAIL_SIGNUP:{next:function(e,t){var n=t.error,r=t.payload,o=r.currentUser,i=r.error;return n?(e.emailSignupStatus="error",e.emailSignupErrorType=i):(e.emailSignupStatus="success",e.emailSignupUser=o),te({},e)},throw:function(e,t){var n=t.payload.error;return te(te({},e),{},{emailSignupStatus:"error",emailSignupErrorType:n&&n.body&&n.body.type||""})}},SET_CURRENT_USER_RESET:{next:function(e){return te(te({},e),{},{emailSignupStatus:"none",emailSignupErrorType:null,currentUser:null})}}},ne);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ie({isExpanded:!1,segments:[]},e)}function se(e,t){var n=JSON.parse(JSON.stringify(e));return n.segments[t-1]++,n}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=ae(),fe=Object(c.handleActions)({[I.r]:{next:function(e,t){var n=t.payload.message.starsRating;return n>0?se(e,n):e}},[I.v]:{next:function(e,t){var n,r,o,i=t.payload.message,a=i.oldStarsRating,s=i.starsRating;return n=se(e,s),r=a,(o=JSON.parse(JSON.stringify(n))).segments[r-1]--,o}},[I.E]:{next:function(e,t){var n=t.payload,r=n.segments,o=n.isExpanded;return ae(ue(ue({},e),{},{segments:r,isExpanded:o}))}}},de),le=n(71);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=Object(c.handleActions)({[I.C]:{next:function(e){return ge(ge({},e),{},{loading:!0})}},[I.B]:{next:function(e,t){var n=t.payload.user;return ge(ge({},e),{},{loading:!1,user:Object(le.a)(n)})},throw:function(e){return ge(ge({},e),{},{loading:!1,user:null})}}},{loading:!1,user:null,error:null}),Oe=n(524),be=n.n(Oe);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee={conversationId:null,loading:!1,users:[],error:null,offset:0,count:0},he=Object(c.handleActions)({[I.fb]:{next:function(e){return ve(ve({},e),Ee)}},[I.db]:{next:function(e,t){var n=t.payload,r=n.offset,o=n.conversationId;return ve(ve({},e),{},{conversationId:o,loading:!0,users:0===r?[]:e.users,offset:r})}},[I.gb]:{next:function(e,t){var n=t.payload,r=n.conversationId,o=n.users,i=n.offset,a=n.count;o=o.map(le.a);var s=e.users;return 0===i?s=o:o.length>0&&(s=be()(s,o,"id")),ve(ve({},e),{},{conversationId:r,loading:!1,users:s,offset:i,count:a})},throw:function(e){return ve(ve({},e),{},{loading:!1,conversationId:null,users:[]})}}},Ee),Se=n(74),_e=n.n(Se),je=n(121),Ie=n(125),Pe=n(156),we=n(157),Te=n(158),Ae="SCROLL_HOST_START";var De="SCROLL_HOST_STOP";var Re=Object(c.handleActions)([I.G,I.m,I.H,I.y,I.x,y.c,y.b,I.r,I.q,I.l,I.t,I.s,I.ab,I.Y,I.v,I.u,I.Fb,I.cb,I.W,je.a,Ie.a,Pe.a,we.a,I.A,I.yb,I.O,I.N,I.n,Te.a,I.T,I.xb,I.C,I.B,Ae,De,I.E,I.db,I.gb,X.a,X.c].reduce((function(e,t){return e[t]=function(e){return{throw:function(t,n){var r=n.payload.error;return console.log("ERROR",e,r),[].concat(_e()(t),[r])},next:function(e){return e}}}(t),e}),{}),[]),Ce=n(253);function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=Object(c.handleActions)({[I.H]:function(e,t){return t.payload.moduleOptions},[I.kb]:function(e,t){var n=t.payload.moduleOptions;return Ne(Ne({},e),n)}},{});var ke=n(262),Ue=n(447);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ge=Object(c.handleActions)({[Ue.a]:function(e,t){var n=t.payload;return Ve(Ve({},e),{},{isMobile:n.isMobile,isMobileUA:n.isMobileUA})}},{isMobile:!1});var Fe=Object(c.handleActions)({[I.z]:_()((function(e,t){var n=t.payload,r=n.isUserSuspended,o=n.expirationTime;e.isFetched=!0,e.isUserSuspended=r,o&&(e.expirationTime=new Date(1e3*o).toLocaleDateString())})),[I.Eb]:_()((function(e,t){e.isUserSuspended=!0}))},{isFetched:!1}),Be={selectedCommunityView:n(216).b,preloadConversation:!1,focusSayControlOnSwitchTab:!1,scrollToHeader:!1},He=Object(c.handleActions)({[I.lb]:_()((function(e,t){var n=t.payload;e.selectedCommunityView=n})),[I.S]:_()((function(e){e.preloadConversation=!0})),[I.jb]:_()((function(e,t){var n=t.payload;e.scrollToHeader=n})),[I.ob]:_()((function(e,t){var n=t.payload;e.focusSayControlOnSwitchTab=n}))},Be),Ke=Object(c.handleActions)({[I.h]:_()((function(e,t){t.payload?e.blockAndDeleteLoading=!0:e.blockOnlyLoading=!0})),[I.g]:_()((function(e){e.blockOnlyLoading=!1,e.blockAndDeleteLoading=!1,e.blockUserFailed=!0})),[I.f]:_()((function(e){e.blockOnlyLoading=!1,e.blockAndDeleteLoading=!1,e.isSuccess=!0}))},{blockOnlyLoading:!1,blockAndDeleteLoading:!1,blockUserFailed:!1,isSuccess:!1}),Ye=n(348),Je=n(160),ze=n(84),We=n(346);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n.d(t,"a",(function(){return $e})),n.d(t,"f",(function(){return Ze})),n.d(t,"j",(function(){return Xe})),n.d(t,"l",(function(){return et})),n.d(t,"o",(function(){return tt})),n.d(t,"k",(function(){return nt})),n.d(t,"c",(function(){return rt})),n.d(t,"h",(function(){return ot})),n.d(t,"d",(function(){return it})),n.d(t,"e",(function(){return at})),n.d(t,"m",(function(){return st})),n.d(t,"n",(function(){return ct})),n.d(t,"b",(function(){return ut})),n.d(t,"g",(function(){return dt})),n.d(t,"i",(function(){return ft}));try{var Qe="true"===window.localStorage.getItem("SPOTIM_FORCE_AGGREGATION")}catch(e){}function $e(e){return Object(i.combineReducers)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({authentication:m,moduleOptions:Le,errors:Re,currentUser:O.a,conversation:R,ui:N,comments:Ce.a,appState:Ye.a,isReadOnly:Je.a,notifications:a.b,followers:k.b,mainSayControl:B,messageSayControls:J,postCommentAction:Z,registration:re,summaryWidget:fe,liveBlogConfig:ke.a,profileHover:me,loadingReplies:h,upVotesList:he,isMobile:Ge,reportedComments:L.a,userSuspension:Fe,platform:s.a,typingUsers:b.a,communityView:He,blocklistUser:Ke,timer:function(){return null}},e))}function Ze(e){return function(e){return e.maxMobileWidth}(e.moduleOptions)}function Xe(e){return function(e){return e.isConversationLiveBlog}(e.moduleOptions)}function et(e){return function(e){return e.isMobile}(e.isMobile)}function tt(e,t){return Ce.e(e.comments,t)}function nt(e){return ke.g(e.liveBlogConfig)}function rt(e){return e.currentUser}function ot(e){return ke.d(e.liveBlogConfig)}function it(e){return 1e3*parseInt(ke.b(e.liveBlogConfig))}function at(e){return 1e3*parseInt(ke.e(e.liveBlogConfig))}function st(e,t){return ke.h(e.liveBlogConfig,t)}function ct(e){return Qe||"newest"!==Object(We.b)(e)||Object(b.b)(e)>=ze.b}function ut(e){return e.communityView.selectedCommunityView}function dt(e){return e.communityView.preloadConversation}function ft(e){return e.communityView.scrollToHeader}},447:function(e,t,n){"use strict";var r=n(39),o=n(37),i=n(186),a=n(187),s=function(e){return function(t,n){if(e){var s=n(),c=o.f(s);t({type:"SET_IS_MOBILE",payload:{isMobile:Object(r.c)(e,c),isMobileUA:r.a}}),t(Object(i.b)(r.a?a.a.MOBILE:a.a.DESKTOP))}}};n.d(t,"a",(function(){return"SET_IS_MOBILE"})),n.d(t,"b",(function(){return s}))},449:function(e,t,n){"use strict";var r=n(104),o=n(148),i=n(70),a=n(217),s=n(95),c=n(299),u=function(e,t){return e.map((function(e){return t.find((function(t){return t.id===e}))})).filter((function(e){return!!e}))};function d(e){var t=i.a.map(e,Object(c.b)("conversation"),{avatars:"followersIds",offset:"pagination.offset",comments_read:"pagination.commentsRead",has_next:"pagination.hasNext",sort_by:"pagination.sortBy",star_rating_summary:"starRatingSummary"}),n=t.conversation,d=t.followersIds,f=t.pagination,l=t.starRatingSummary;n.postId=Object(a.a)(n.id);var p=Object(r.b)(n.id,{comments:Object(o.a)(e.comments),users:e.users}),g=p.comments,m=p.usersList,O=[];return d&&(O=u(d,m)),f.sortBy=f.sortBy||s.a.BEST,{conversation:n,followersIds:d,pagination:f,comments:g,followers:O,starRatingSummary:l}}n.d(t,"a",(function(){return d}))},49:function(e,t,n){"use strict";var r=n(30),o=n.n(r),i=n(13),a=n(15),s=n.n(a),c=n(22),u=n.n(c),d=n(23),f=n.n(d),l=n(71),p=n(4),g=n(14),m=n.n(g),O=n(254),b=n(65),y=n(70);function v(e){return E.apply(this,arguments)}function E(){return(E=f()(u.a.mark((function e(t){var n,r,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,r=t.spotId,e.next=3,Object(b.a)("me/moderation-tickets/spot/".concat(r,"/post/").concat(n),{data:{}});case 3:return o=e.sent,i=o.body,e.abrupt("return",y.a.map(i,{spot_id:"spotId",moderation_tickets:{"~":"moderationTickets",id:"id",type:"type",tag:"tag"}}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){var t=e.rawImage;return function(){var e=f()(u.a.mark((function e(n){var r,o,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p.a.apm.start("profile_image_upload"),e.next=4,O.a.upload(t);case 4:if(r=e.sent,o=r.public_id){e.next=8;break}throw new Error("no public id");case 8:return e.next=10,s=o,Object(b.a)("me/profile",{method:"POST",data:{image_id:s}});case 10:i=e.sent,a=Object(l.b)(i.body),n({type:"RESPONSE_PROFILE_IMAGE_UPLOAD",payload:a}),m.a.set(a),p.a.apm.end("profile_image_upload"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),n({type:"RESPONSE_PROFILE_IMAGE_UPLOAD",payload:{error:e.t0},error:!0}),p.a.error("profileImageUpload",e.t0);case 21:case"end":return e.stop()}var s}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()}function S(){return function(){var e=f()(u.a.mark((function e(t,n){var r,o,i,a,s,c,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),o=r.moduleOptions.spotId,i=r.conversation.postId,e.next=3,v({spotId:o,postId:i});case 3:a=e.sent,s=a.moderationTickets,t({type:"GET_MODERATION_TICKETS_END",payload:{moderationTickets:s}}),c=n(),d=c.currentUser,m.a.set(d);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}var _=n(26);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return g.getDisplayName})),n.d(t,"d",(function(){return g.isLoggedIn})),n.d(t,"e",(function(){return h}));var P={notificationsCount:0,messagesVoted:void 0};t.a=Object(i.handleActions)({[_.nb]:function(e,t){var n=t.payload.currentUser;return I(I(I({},e),n),{},{isLoading:!1})},RESPONSE_PROFILE_IMAGE_UPLOAD:{next:s()((function(e,t){var n=t.payload.imageId;e.imageId=n})),throw:function(e,t){var n=t.payload.error;return console.log("ERROR","RESPONSE_PROFILE_IMAGE_UPLOAD",n),e}},GET_MODERATION_TICKETS_END:s()((function(e,t){var n=t.payload.moderationTickets;e.moderationTickets=n})),[_.k]:s()((function(e,t){var n=t.payload.displayName;e.displayName=n}))},P)},511:function(e,t){},65:function(e,t,n){"use strict";var r=n(22),o=n.n(r),i=n(30),a=n.n(i),s=n(50),c=n.n(s),u=n(23),d=n.n(u),f=n(485);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(){var e=d()(o.a.mark((function e(t,n){var r,i,a,s,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.data,i=n.method,a=void 0===i?"GET":i,s=c()(n,["data","method"]),u=p(p({},s),{},{method:a}),"GET"!==a&&Object.assign(u,{body:JSON.stringify(r)}),e.prev=3,e.next=6,Object(f.a)(t,u);case 6:return d=e.sent,e.abrupt("return",{body:d});case 10:throw e.prev=10,e.t0=e.catch(3),e.t0;case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}()},69:function(e,t,n){"use strict";var r,o=n(30),i=n.n(o);!function(e){e.MODERATOR="moderator",e.REPORTER="reporter",e.JOURNALIST="journalist",e.COMMUNITY_MODERATOR="community-moderator",e.ADMIN="admin",e.SUBSCRIBER="subscriber"}(r||(r={}));var a=n(4);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return O}));(function(){function e(e){return encodeURIComponent(e)}function t(t){return e(JSON.stringify(t))}})(),function(){try{window.localStorage.setItem("test","test"),window.localStorage.removeItem("test")}catch(e){return a.a.error("localStorage",e),!1}}();var u=function(e){var t;return null===(t=JSON.parse(window.localStorage.getItem("SPOTIM_LOCKED_GUEST_DISPLAY_NAME")||"{}"))||void 0===t?void 0:t[e]},d=function(e){var t=c(c({},JSON.parse(window.localStorage.getItem("SPOTIM_LOCKED_GUEST_DISPLAY_NAME")||"{}")),{},{[e]:!0});return window.localStorage.setItem("SPOTIM_LOCKED_GUEST_DISPLAY_NAME",JSON.stringify(t))},f=function(e){var t=e.isRegistered,n=e.isForceRegister,r=e.userId;return!t&&!n&&!u(r)},l="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,p=function(e){return e.isSuperAdmin||e.isAdmin||e.isModerator||e.isJournalist},g=function(e){return JSON.parse(JSON.stringify(e))};function m(e){window.__SPOTIM__.isConsumedUrlParams=e}var O=function(e){var t,n,r;null===(t=window)||void 0===t||null===(n=t.__OPEN_WEB__)||void 0===n||null===(r=n.renderCouumunityGuidelinesModal)||void 0===r||r.call(n,{postId:e})}},70:function(e,t,n){"use strict";var r=n(74),o=n.n(r),i=n(265);function a(e,t){var n=null;return m(e)?n=c(e,t):O(e)&&(n=function e(t,n){var r={};g(n)&&(n=n());O(n)&&Object.keys(n).forEach((function(o){if("~"!==o){var a=n[o],s=function(e,t){for(var n,r,o=t.split("."),i=e,a=0;a<o.length&&i;a++)n=o[a],r=p(n),i=r.isArray?i[r.key][r.index]:i[n];a!==o.length&&(i=void 0);return i}(t,o);if(void 0!==s)if(function(e){return"string"==typeof e}(a))u(r,a,s);else if(g(a)&&(a=a()),O(a)){var d=a["~"];if(m(s)){if(!d)throw"Error: destination mapping root for "+o+" is missing.";s=c(s,a),u(r,d,s)}else{if(d)throw"Error: "+o+" value expected to be an array.";r=Object(i.a)(r,e(s,a))}}}}));return r}(e,t)),n}function s(e){if(2===arguments.length)return a(e,arguments[1]);if(arguments.length>2){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);return Object.assign.apply(Object,[{}].concat(o()(t.map((function(t){return a(e,t)})))))}return null}function c(e,t){return e.map((function(e){return s(e,t)}))}function u(e,t,n){for(var r,o,i=t.split("."),a=e,s=i[i.length-1],c=0;c<i.length-1;c++)a=(o=p(r=i[c])).isArray?d(a=f(a,o.key),o.index):d(a,r);(o=p(s)).isArray?(a[o.key]||(a[o.key]=[]),a[o.key][o.index]=n):a[s]=n}function d(e,t){return l(e,t,{})}function f(e,t){return l(e,t,[])}function l(e,t,n){var r=e[t];return void 0===r&&(r=n,e[t]=r),r}function p(e){var t=e.match(/(.+)\[(\d+)\]/),n=!!t,r={isArray:n};return n&&(r.key=t[1],r.index=t[2]),r}function g(e){return null!==e&&"function"==typeof e}function m(e){return Array.isArray(e)}function O(e){return null!==e&&"object"==typeof e}t.a={map:s}},71:function(e,t,n){"use strict";var r=n(181);n.d(t,"a",(function(){return r.a}));var o=n(138);n.d(t,"b",(function(){return o.b}))},76:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"a",(function(){return O})),n.d(t,"f",(function(){return b}));var r=n(30),o=n.n(r),i=n(15),a=n.n(i),s=n(77),c=n(115);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=d({id:Object(c.a)(),message:s.c(),isAggregated:!1,isPostCommentActionEnabled:!1,isOutOfOrder:!1,childrenStackIds:[],loadingTop:!1,loadingBottom:!1,hasNext:!1,hasPrev:!1,showAllReplies:!1,isLastMessage:!1},e);return e.message&&(t.message=s.c(e.message)),t}function l(e){return e.message}function p(e){return(null==e?void 0:e.childrenStackIds)||[]}function g(e){return e.message.repliesCount}var m=a()((function(e,t){e.hasNext=t.hasNext,e.message.offset=t.offset})),O=a()((function(e,t){e.childrenStackIds.push(t.id)})),b=a()((function(e,t){var n=t.message;e.message.depth=n.depth+1,n.isDeleted||(e.message.replyToUsername=n.user.username,n.userDisplayName?e.message.replyToDisplayName=n.userDisplayName:e.message.replyToDisplayName=n.user.displayName)}))},77:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return p}));var r,o,i=n(30),a=n.n(i),s=n(38),c=n(71),u=n(115);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=f({id:Object(u.a)(),clientId:Object(u.a)(),isTempId:!1,conversationId:null,rootMessageId:null,parentMessageId:null,postedAt:(new Date).getTime()/1e3,upVotesCount:0,downVotesCount:0,viewsCount:0,repliesCount:0,userDisplayName:null,user:Object(c.a)(),entities:[],textEntities:[],mentions:[],isVotedUp:!1,isVotedDown:!1,isMine:!1,isNew:!1,isMarked:!1,isReported:!1,isEdited:!1,isDeleted:!1,version:0,replyToUserId:null,replyToUsername:null,replyToDisplayName:null,status:s.statuses.APPROVED,starsRating:null,isPinned:void 0,depth:0,offset:0,tempMessageId:""},e);e.user&&(t.user=Object(c.a)(e.user));var n=[],r=[],o=[];return e.entities?e.entities.forEach((function(e){var t=e;t&&(n.push(t),t.type===s.entityTypes.MENTION&&o.push(t),t.type===s.entityTypes.TEXT&&r.push(t))})):(n=t.entities,r=t.textEntities,o=t.mentions),t.entities=n,t.textEntities=r,t.mentions=o,t}function p(e){return!e.parentMessageId}!function(e){e.LOADING="LOADING",e.FINISHED="FINISHED",e.FAILED="FAILED"}(r||(r={})),function(e){e.APPROVE="APPROVE",e.REJECT="REJECT"}(o||(o={}))},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"g",(function(){return b}));var r=n(2),o=n.n(r),i=n(150),a=n(118),s=[32],c=o.a.get("tenant_config.conversation.realtime_moderation_time_ms",500);var u=o.a.get("tenant_config.shared.realtime_moderation_enbled",!0);function d(){return u}function f(){return!o.a.get("init_data.config.policy.roger_mode",!0)&&o.a.get("tenant_config.moderation.suspensions_enabled",!1)}function l(){return d()&&o.a.get("tenant_config.conversation.realtimeModerationEnabled",!1)}function p(e,t){return t.length>0&&[i.a.BLOCK_ALL,i.a.FORCE_BLOCK_ALL].includes(e)}function g(e,t){return t.length>0&&[i.a.REQUIRE_APPROVAL,i.a.BLOCK_ALL,i.a.FORCE_BLOCK_ALL].includes(e)}function m(e,t){return d()&&o.a.get("tenant_config.conversation.afterclickModerationEnabled",!1)&&!function(e,t){var n=e.mainSayControl.isMessageBlocked,r=e.messageSayControls[t];return t?null==r?void 0:r.isMessageBlocked:n}(e,t)}function O(e){return[i.a.BLOCK_ALL,i.a.FORCE_BLOCK_ALL].includes(e)?a.c.BLOCKED:a.c.PENDING}function b(e){return!s.includes(e)}},82:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return c}));var r="NOTIFICATIONS/GET_START",o="NOTIFICATIONS/GET_END",i="NOTIFICATIONS/MARK_ALL_READ",a="NOTIFICATIONS/MARK_AS_READ",s="NOTIFICATIONS/SET_UNSEEN_NOTIFICATION_COUNT",c="NOTIFICATIONS/SET_IS_LOADED"},83:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return m})),n.d(t,"h",(function(){return O}));var r=n(30),o=n.n(r);n(15);function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c({messages:{},rootOrder:[],aggregatedMessage:[]},e)}function d(e,t){return e.messages[t]}function f(e,t){return e.messages[t]}function l(e){return e.aggregatedMessage.map((function(t){return e.messages[t]}))}function p(e){return e.rootOrder.map((function(t){return e.messages[t]}))}function g(e){return Object.keys(e.messages).length}function m(e,t){for(var n=t,r=t;r;)(r=d(e,n.childrenStackIds[n.childrenStackIds.length-1]))&&(n=r);return n}function O(e,t){var n=[];if(0===t.childrenStackIds.length)return n;var r,o=i(t.childrenStackIds.map((function(t){return d(e,t)})));try{for(o.s();!(r=o.n()).done;){var a=r.value;n.push(a),n=n.concat(O(e,a))}}catch(e){o.e(e)}finally{o.f()}return n}},84:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return u}));var r=25,o=10,i=5,a=15,s=25,c=4,u=1e4},95:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.BEST="best",e.NEWEST="newest",e.OLDEST="oldest",e.SOCIAL="social"}(r||(r={}))}}]);
//# sourceMappingURL=boot~conversation-component~feedback-modal~preRender-bundle.js.map