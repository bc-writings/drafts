!function(t){function e(e){for(var n,o,i=e[0],a=e[1],c=0,u=[];c<i.length;c++)o=i[c],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);for(s&&s(e);u.length;)u.shift()()}var n={},r={1:0};function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,o){n=r[t]=[e,o]}));e.push(n[2]=i);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(t){return o.p+""+({0:"css-vars-ponyfill",2:"local-storage-polyfill",3:"old-browser-polyfills",4:"safe-frame-handler"}[t]||t)+"-bundle.js"}(t);var s=new Error;a=function(e){c.onerror=c.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,n[1](s)}r[t]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="https://static-cdn.spot.im/production/launcher/tags/v2.40.5/launcher/",o.oe=function(t){throw console.error(t),t};var i=window.webpackJsonpOpenwebLauncher=window.webpackJsonpOpenwebLauncher||[],a=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var s=a;o(o.s=66)}([function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return i})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return c})),n.d(e,"__param",(function(){return s})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return f})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return v})),n.d(e,"__read",(function(){return h})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return _})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return O})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return j})),n.d(e,"__classPrivateFieldGet",(function(){return S})),n.d(e,"__classPrivateFieldSet",(function(){return T}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function c(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function s(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))}function f(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function d(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function p(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function v(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||c(t,e)}))})}function c(t,e){try{(n=o[t](e)).value instanceof _?Promise.resolve(n.value.v).then(s,u):l(i[0][2],n)}catch(t){l(i[0][3],t)}var n}function s(t){c("next",t)}function u(t){c("throw",t)}function l(t,e){t(e),i.shift(),i.length&&c(i[0][0],i[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:_(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=v(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}}function O(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function j(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e,n){"use strict";n.r(e),function(t){var r=n(28),o=n(9),i=n(23),a=n(4),c=n(2);!function(){const e={PACKAGE_VERSION:"2.2.3"};try{if(t)return t.env=Object.assign({},t.env),void Object.assign(t.env,e)}catch(t){}globalThis.process={env:e}}();var s={metric:"https://metrics-logger.spot.im/metric",eventsCollector:"https://direct-events-collector.spot.im/api/v2/events/?stream_name=events",api:"https://api-2-0.spot.im/",apm:"https://metrics-logger.spot.im/metric",api_legacy:"https://www.spot.im/api/"},u={metric:"https://metrics-logger.staging-spot.im/metric/",eventsCollector:"https://events-collector.staging-spot.im/?stream_name=events",api:"https://api-gw.staging-spot.im/",apm:"https://metrics-logger.spot.im/metric",api_legacy:"https://v2.staging-spot.im/api/"},l={metric:"https://metrics-logger.spot.im/metric/",eventsCollector:"http://localhost:3000/events-collector-dev/?test",api:"http://api.staging-spot.im:8000/",apm:"https://metrics-logger.spot.im/metric",api_legacy:"https://www.spot.im/api/"},f={metric:"https://metrics-logger.spot.im/metric/",eventsCollector:"http://localhost:3000/events-collector-dev/",api:"http://localhost:3000/",apm:"http://localhost:3000/metric",api_legacy:"https://v2.staging-spot.im/api/"},d={metric:"https://metrics-logger.spot.im/metric/",eventsCollector:"http://localhost:3000/events-collector-dev/?stream_name=events",api:"https://api-gw.staging-spot.im/",apm:"https://metrics-logger.spot.im/metric",api_legacy:"https://v2.staging-spot.im/api/"},p={metric:"https://metrics-logger.staging-spot.im/metric/",eventsCollector:"https://events-collector.staging-spot.im/?stream_name=events",api:"https://api-gw-plike.spot.im/",apm:"https://metrics-logger.spot.im/metric",api_legacy:"https://www.spot.im/api/"};var v=function(){function e(n,r){var i,c;void 0===n&&(n={}),void 0===r&&(r={}),this.device="",this.platform="",Object(a.log)("configProvider",{env:n.env,version:t.env.PACKAGE_VERSION}),this.set(n);var s=e.staticConfig(n.env);Object(o.a)(this._data,s),this.device=null===(i=r)||void 0===i?void 0:i.device,this.platform=null===(c=r)||void 0===c?void 0:c.platform}e.getInstance=function(t,n){void 0===t&&(t={}),void 0===n&&(n={});var r=Object(a.checkInstance)("configProvider");return r.status||(r.object=new e(t,n),Object(a.setInstance)("configProvider",r.object)),r.object};var n=e.prototype;return n.set=function(t){return this._data=Object(o.a)(this._data,t),this._data.queryParams&&this.convertQueryParams(),this},n.get=function(t,e){if(!t)return this._data;if(this._data.queryParams&&void 0!==this._data.queryParams[t])return console.warn("using "+t+" from query override"),this._data.queryParams[t];var n=localStorage.getItem(t);if(n)return console.warn("using "+t+" from localStorage override"),this.handleOverideParams(n);var o=Object(r.a)(this._data,t);if(null!=o){if(Object(i.a)(this._data,t+"_external")){var a=o,c=Object(r.a)(this._data,t+"_external"),s=this.handleConfigObject(c);return null==s||Object(i.a)(s,"__AB")||Object(i.a)(s,"__devices")?a:s}return o}var u=t.replace(/(tenant_config.[a-zA-Z0-9]*.)/,""),l=Object(r.a)(this._data,"host_options."+u);if(l)return l;var f=Object(r.a)(this._data,"init_data."+u);return f||e},n.getDevicesConfig=function(t){var e,n=t.__devices;return n&&(null!==(e=n[this.platform])&&void 0!==e?e:n[this.device])},n.handleConfigObject=function(t){var e=Object(i.a)(t,"__AB"),n=Object(i.a)(t,"__devices");if(e){var r,o=Object.keys(t.__AB).find((function(t){var e=t.split(":"),n=e[0],r=e[1];return c.a.testVariant(n,r)}));if(o)return null!==(r=this.getDevicesConfig(t.__AB[o]))&&void 0!==r?r:t.__AB[o]}if(n)return this.getDevicesConfig(t)},n.handleOverideParams=function(t){var e,n=+t;if(!Number.isNaN(n))return n;if("true"===t||"false"===t)return"true"===t;try{e=JSON.parse(t)}catch(t){}return"object"==typeof e?e:"string"==typeof t?t.replace(/["]+/g,""):void 0},n.convertQueryParams=function(){var t=this;Object.keys(this._data.queryParams).forEach((function(e){t._data.queryParams[e]=t.handleOverideParams(t._data.queryParams[e])}))},e.staticConfig=function(t){void 0===t&&(t="production");var e=function(t){switch(void 0===t&&(t="production"),t){case"localhost":return f;case"development":return d;case"plike":return p;case"staging":return u;case"test":return l;case"production":default:return s}}(t);return e},e}().getInstance({env:window.__SPOTIMENV__||"production"},{device:h()?"mobile":"desktop"});function h(){return"object"==typeof window&&!!window.navigator.userAgent.toLocaleLowerCase().match(/(mobile|iemobile|android|webos|iphone|ipad|ipod|blackberry|windows phone)/)}e.default=v}.call(this,n(24))},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return v})),n.d(e,"f",(function(){return p}));var r=n(4);function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var i=function(){function e(){this.allAbTests="",this.activeAbTests=new Set,this.activeAbTestsOutput="",this.state={},Object(r.log)("AB_STATE",t.env.PACKAGE_VERSION)}return e.getInstance=function(){var t=Object(r.checkInstance)("AB_STATE");return t.status||(t.object=new e,Object(r.setInstance)("AB_STATE",t.object)),t.object},e}().getInstance();function a(t){return t.split("|").filter((function(t){return t})).map((function(t){return t.split(":")})).reduce((function(t,e){var n,r=e[0],i=e[1];return o({},t,((n={})[r]={short_name:r,variant:i},n))}),{})}function c(t){i.allAbTests=function(t){return Object.values(t).map((function(t){return t.short_name+":"+t.variant})).reduce((function(t,e){return t?t+"|"+e:e}),"")}(t),i.state=t}function s(t){return i.state[t]&&i.state[t].variant}function u(t,e){var n,r;i.activeAbTests.add(t+":"+e),n=i.activeAbTests,r="",n.forEach((function(t){r?r+="|"+t:r=t})),i.activeAbTestsOutput=r}var l="SPOT_AB";function f(t,e){return n=e,t.every((function(t){var e=n[t.short_name];return!(!e||e.version!==t.version)}));var n}function d(){localStorage.setItem(l,JSON.stringify({}))}function p(t,e){var n=function(t,e){var n={};return t.forEach((function(t){var r=t.short_name;n[r]=e[r]})),n}(t,e);localStorage.setItem(l,JSON.stringify(n)),c(n)}function v(t,e){var n=a(e);t.forEach((function(t){var e=n[t.short_name];e&&(e.version=t.version)})),localStorage.setItem(l,JSON.stringify(n)),c(n)}function h(){var t;try{t=JSON.parse(localStorage.getItem(l)||"{}")}catch(e){t=a(localStorage.getItem(l)||""),Object.keys(t).forEach((function(e){t[e].version="v1"})),localStorage.setItem(l,JSON.stringify(t))}return t}var m={getVariant:s,getAllExperiments:function(){return i.allAbTests},getActiveExperiments:function(){return i.activeAbTestsOutput},setActiveExperiment:u,testVariant:function(t,e){var n=!1,r=s(t);return u(t,r),e===r&&(n=!0),n}};e.a=m}).call(this,n(24))},function(t,e,n){"use strict";e.a=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";n.r(e),n.d(e,"checkInstance",(function(){return a})),n.d(e,"getInstance",(function(){return a})),n.d(e,"log",(function(){return o})),n.d(e,"setInstance",(function(){return i}));var r=n(9);function o(t){if("*"===localStorage.getItem("SPOTIM_DEBUG_API")){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console).log.apply(e,["%cOpenWeb "+t+"%c","background: #823fb5; color: white","background: transparent; color: unset"].concat(r))}}function i(t,e){var n,o={__SPOTIM__:{SERVICES:(n={},n[t]=e,n)}};Object(r.a)(window,o)}function a(t){var e,n,r={status:!1,object:{}};return(null===(e=window.__SPOTIM__)||void 0===e||null===(n=e.SERVICES)||void 0===n?void 0:n[t])&&(r.status=!0,r.object=window.__SPOTIM__.SERVICES[t]),r}},function(t,e,n){"use strict";var r=Array.isArray;e.a=r},function(t,e,n){"use strict";var r=n(32),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();e.a=i},function(t,e,n){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";var r=n(10),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=r.a?r.a.toStringTag:void 0;var s=function(t){var e=i.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[c]=n:delete t[c]),o},u=Object.prototype.toString;var l=function(t){return u.call(t)},f=r.a?r.a.toStringTag:void 0;e.a=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f&&f in Object(t)?s(t):l(t)}},function(t,e,n){"use strict";var r=n(12);var o=function(){this.__data__=new r.a,this.size=0};var i=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var a=function(t){return this.__data__.get(t)};var c=function(t){return this.__data__.has(t)},s=n(33),u=n(26);var l=function(t,e){var n=this.__data__;if(n instanceof r.a){var o=n.__data__;if(!s.a||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new u.a(o)}return n.set(t,e),this.size=n.size,this};function f(t){var e=this.__data__=new r.a(t);this.size=e.size}f.prototype.clear=o,f.prototype.delete=i,f.prototype.get=a,f.prototype.has=c,f.prototype.set=l;var d=f,p=n(20),v=function(){try{var t=Object(p.a)(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var h=function(t,e,n){"__proto__"==e&&v?v(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},m=n(11);var g=function(t,e,n){(void 0!==n&&!Object(m.a)(t[e],n)||void 0===n&&!(e in t))&&h(t,e,n)};var _=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),c=a.length;c--;){var s=a[t?c:++o];if(!1===n(i[s],s,i))break}return e}}(),y=n(48),b=n(6).a.Uint8Array;var w=function(t){var e=new t.constructor(t.byteLength);return new b(e).set(new b(t)),e};var O=function(t,e){var n=e?w(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var E=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},j=n(3),S=Object.create,T=function(){function t(){}return function(e){if(!Object(j.a)(e))return{};if(S)return S(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var I=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object),A=Object.prototype;var C=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||A)};var x=function(t){return"function"!=typeof t.constructor||C(t)?{}:T(I(t))},P=n(14),R=n(5),k=n(16),M=n(17);var L=function(t){return null!=t&&Object(M.a)(t.length)&&!Object(k.a)(t)},N=n(7);var F=function(t){return Object(N.a)(t)&&L(t)},D=n(34),U=n(8),B=Function.prototype,G=Object.prototype,V=B.toString,z=G.hasOwnProperty,q=V.call(Object);var H=function(t){if(!Object(N.a)(t)||"[object Object]"!=Object(U.a)(t))return!1;var e=I(t);if(null===e)return!0;var n=z.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&V.call(n)==q},J={};J["[object Float32Array]"]=J["[object Float64Array]"]=J["[object Int8Array]"]=J["[object Int16Array]"]=J["[object Int32Array]"]=J["[object Uint8Array]"]=J["[object Uint8ClampedArray]"]=J["[object Uint16Array]"]=J["[object Uint32Array]"]=!0,J["[object Arguments]"]=J["[object Array]"]=J["[object ArrayBuffer]"]=J["[object Boolean]"]=J["[object DataView]"]=J["[object Date]"]=J["[object Error]"]=J["[object Function]"]=J["[object Map]"]=J["[object Number]"]=J["[object Object]"]=J["[object RegExp]"]=J["[object Set]"]=J["[object String]"]=J["[object WeakMap]"]=!1;var $=function(t){return Object(N.a)(t)&&Object(M.a)(t.length)&&!!J[Object(U.a)(t)]};var K=function(t){return function(e){return t(e)}},W=n(41),Y=W.a&&W.a.isTypedArray,Z=Y?K(Y):$;var Q=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},X=Object.prototype.hasOwnProperty;var tt=function(t,e,n){var r=t[e];X.call(t,e)&&Object(m.a)(r,n)&&(void 0!==n||e in t)||h(t,e,n)};var et=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var c=e[i],s=r?r(n[c],t[c],c,n,t):void 0;void 0===s&&(s=t[c]),o?h(n,c,s):tt(n,c,s)}return n};var nt=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},rt=n(18),ot=Object.prototype.hasOwnProperty;var it=function(t,e){var n=Object(R.a)(t),r=!n&&Object(P.a)(t),o=!n&&!r&&Object(D.a)(t),i=!n&&!r&&!o&&Z(t),a=n||r||o||i,c=a?nt(t.length,String):[],s=c.length;for(var u in t)!e&&!ot.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Object(rt.a)(u,s))||c.push(u);return c};var at=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},ct=Object.prototype.hasOwnProperty;var st=function(t){if(!Object(j.a)(t))return at(t);var e=C(t),n=[];for(var r in t)("constructor"!=r||!e&&ct.call(t,r))&&n.push(r);return n};var ut=function(t){return L(t)?it(t,!0):st(t)};var lt=function(t){return et(t,ut(t))};var ft=function(t,e,n,r,o,i,a){var c=Q(t,n),s=Q(e,n),u=a.get(s);if(u)g(t,n,u);else{var l=i?i(c,s,n+"",t,e,a):void 0,f=void 0===l;if(f){var d=Object(R.a)(s),p=!d&&Object(D.a)(s),v=!d&&!p&&Z(s);l=s,d||p||v?Object(R.a)(c)?l=c:F(c)?l=E(c):p?(f=!1,l=Object(y.a)(s,!0)):v?(f=!1,l=O(s,!0)):l=[]:H(s)||Object(P.a)(s)?(l=c,Object(P.a)(c)?l=lt(c):Object(j.a)(c)&&!Object(k.a)(c)||(l=x(s))):f=!1}f&&(a.set(s,l),o(l,s,r,i,a),a.delete(s)),g(t,n,l)}};var dt=function t(e,n,r,o,i){e!==n&&_(n,(function(a,c){if(i||(i=new d),Object(j.a)(a))ft(e,n,c,r,t,o,i);else{var s=o?o(Q(e,c),a,c+"",e,n,i):void 0;void 0===s&&(s=a),g(e,c,s)}}),ut)};var pt=function(t){return t};var vt=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},ht=Math.max;var mt=function(t,e,n){return e=ht(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=ht(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=r[o];return c[e]=n(a),vt(t,this,c)}};var gt=function(t){return function(){return t}},_t=v?function(t,e){return v(t,"toString",{configurable:!0,enumerable:!1,value:gt(e),writable:!0})}:pt,yt=Date.now;var bt=function(t){var e=0,n=0;return function(){var r=yt(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(_t);var wt=function(t,e){return bt(mt(t,e,pt),t+"")};var Ot=function(t,e,n){if(!Object(j.a)(n))return!1;var r=typeof e;return!!("number"==r?L(n)&&Object(rt.a)(e,n.length):"string"==r&&e in n)&&Object(m.a)(n[e],t)};var Et=function(t){return wt((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&Ot(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var c=n[r];c&&t(e,c,r,i)}return e}))}((function(t,e,n){dt(t,e,n)}));e.a=Et},function(t,e,n){"use strict";var r=n(6).a.Symbol;e.a=r},function(t,e,n){"use strict";e.a=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){"use strict";var r=function(){this.__data__=[],this.size=0},o=n(11);var i=function(t,e){for(var n=t.length;n--;)if(Object(o.a)(t[n][0],e))return n;return-1},a=Array.prototype.splice;var c=function(t){var e=this.__data__,n=i(e,t);return!(n<0)&&(n==e.length-1?e.pop():a.call(e,n,1),--this.size,!0)};var s=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]};var u=function(t){return i(this.__data__,t)>-1};var l=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function f(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}f.prototype.clear=r,f.prototype.delete=c,f.prototype.get=s,f.prototype.has=u,f.prototype.set=l;e.a=f},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return s}));var r=0,o=!1,i=function(t,e){var n=document.documentElement.scrollTop||document.body.scrollTop,i=(document.documentElement.scrollHeight||document.body.scrollHeight)>window.innerHeight+20;r=0,o=!1,requestAnimationFrame((function(){if(n>20)t(e);else if(i){var r=function n(){t(e),window.removeEventListener("resize",n),window.removeEventListener("scroll",o)},o=function n(){a(t,n,r,e)};window.addEventListener("scroll",o),window.addEventListener("resize",r)}else setTimeout((function(){t(e)}),1e3)}))},a=function(t,e,n,i){r=document.documentElement.scrollTop||document.body.scrollTop,o||(window.requestAnimationFrame((function(){!function(t,e,n,r,o){t>=20&&(window.removeEventListener("resize",r),window.removeEventListener("scroll",n),e(o))}(r,t,e,n,i),o=!1})),o=!0)};function c(){var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""}:"Chrome"===n[1]?(t=e.match(/\b(OPR|Edge?)\/(\d+)/))?{name:t[1].replace("OPR","Opera").replace("Edg ","Edge ")||"",version:t[2]||""}:{name:"Chrome",version:n[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),{name:n[0],version:n[1]})}function s(){var t=c(),e=parseInt(t.version.split(".")[0]),n=("Edge"===t.name||"Edg"===t.name)&&e<80,r=!!window.navigator.userAgent.match(/(MSIE|Trident)/),o=!!window.navigator.userAgent.match(/(Waterfox|waterfox)/);return n||r||o}function u(){var t=c();if(!t.version)return!0;var e=parseInt(t.version.split(".")[0]),n=!0;switch(t.name){case"Chrome":n=e<66;break;case"Safari":n=e<12;break;case"Firefox":n=e<60;break;case"Edge":case"Edg":n=e<80}return n}},function(t,e,n){"use strict";var r=n(8),o=n(7);var i=function(t){return Object(o.a)(t)&&"[object Arguments]"==Object(r.a)(t)},a=Object.prototype,c=a.hasOwnProperty,s=a.propertyIsEnumerable,u=i(function(){return arguments}())?i:function(t){return Object(o.a)(t)&&c.call(t,"callee")&&!s.call(t,"callee")};e.a=u},function(t,e,n){"use strict";var r=n(55),o=n(56),i=n(44);t.exports={formats:i,parse:o,stringify:r}},function(t,e,n){"use strict";var r=n(8),o=n(3);e.a=function(t){if(!Object(o.a)(t))return!1;var e=Object(r.a)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){"use strict";e.a=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){"use strict";var r=/^(?:0|[1-9]\d*)$/;e.a=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){"use strict";var r=n(8),o=n(7);e.a=function(t){return"symbol"==typeof t||Object(o.a)(t)&&"[object Symbol]"==Object(r.a)(t)}},function(t,e,n){"use strict";var r,o=n(16),i=n(6).a["__core-js_shared__"],a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";var c=function(t){return!!a&&a in t},s=n(3),u=Function.prototype.toString;var l=function(t){if(null!=t){try{return u.call(t)}catch(t){}try{return t+""}catch(t){}}return""},f=/^\[object .+?Constructor\]$/,d=Function.prototype,p=Object.prototype,v=d.toString,h=p.hasOwnProperty,m=RegExp("^"+v.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var g=function(t){return!(!Object(s.a)(t)||c(t))&&(Object(o.a)(t)?m:f).test(l(t))};var _=function(t,e){return null==t?void 0:t[e]};e.a=function(t,e){var n=_(t,e);return g(n)?n:void 0}},function(t,e,n){"use strict";var r=n(10);var o=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},i=n(5),a=n(19),c=r.a?r.a.prototype:void 0,s=c?c.toString:void 0;var u=function t(e){if("string"==typeof e)return e;if(Object(i.a)(e))return o(e,t)+"";if(Object(a.a)(e))return s?s.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};e.a=function(t){return null==t?"":u(t)}},function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=8)}([function(t,e){t.exports=n(58)},function(t,e){t.exports=n(4)},function(t,e){t.exports=n(60)},function(t,e){t.exports=n(1)},function(t,e){t.exports=n(61)},function(t,e){t.exports=n(62)},function(t,e){t.exports=n(63)},function(t,e){t.exports=n(65)},function(t,e,n){"use strict";n.r(e),n.d(e,"User",(function(){})),n.d(e,"BackEndReputation",(function(){})),n.d(e,"BackEndUser",(function(){})),n.d(e,"Reputation",(function(){})),n.d(e,"TokenEntity",(function(){})),n.d(e,"EngagementType",(function(){return x})),n.d(e,"parseUser",(function(){return _})),n.d(e,"parseReputation",(function(){return y})),n.d(e,"getDisplayName",(function(){return b})),n.d(e,"isSameUser",(function(){return w})),n.d(e,"isValidUsername",(function(){return O})),n.d(e,"isLoggedIn",(function(){return j}));var r=n(0),o=n.n(r),i=n(2),a=n.n(i),c=n(4),s=n.n(c),u=n(5),l=n.n(u),f=n(1),d=n(6),p=n.n(d);function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&#34;/g,'"').replace(/&#39;/g,"'")}var h=function(){var t=a()(o.a.mark((function t(e){var n,r,i,a,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.email,r=e.salt,i=(new TextEncoder).encode(r+n),t.next=4,crypto.subtle.digest("SHA-512",i);case 4:return a=t.sent,c=Array.from(new Uint8Array(a)),s=c.map((function(t){return t.toString(16).padStart(2,"0")})).join(""),t.abrupt("return",s);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){p()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t){var e;if(!t)throw new Error("BE user data cannot be null | undefined");return{id:t.id,displayName:t.display_name,imageId:t.image_id,username:t.user_name,isRegistered:t.registered,isCommunityModerator:t.is_community_moderator,isJournalist:t.is_journalist,isModerator:t.is_moderator,isAdmin:t.is_admin,isSuperAdmin:t.is_super_admin,reputation:y(t.reputation),ssoData:{isSubscriber:null===(e=t.sso_data)||void 0===e?void 0:e.is_subscriber},email:t.email,unseenNotificationsCount:t.unseen_notifications_count,isEmailVerified:t.verified,isOnline:t.online}}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{total:1};return t?g(g(g(g(g(g({total:(null==t?void 0:t.total)||1},(null==t?void 0:t.received_ranked_up)&&{receivedRankedUp:t.received_ranked_up}),(null==t?void 0:t.received_ranked_down)&&{receivedRankedDown:t.received_ranked_down}),(null==t?void 0:t.ranked_down)&&{rankedDown:t.ranked_down}),(null==t?void 0:t.feature)&&{feature:t.feature}),(null==t?void 0:t.follow)&&{follow:t.follow}),(null==t?void 0:t.mute)&&{mute:t.mute}):{total:1}}function b(t){var e,n=P.getInstance().get();if(n&&!w(t,n))return v(t.displayName||t.username);var r=null;return t.isRegistered||(r=E(t.id)),v(null!==(e=r)&&void 0!==e?e:t.displayName||(t.isRegistered?t.username:"Guest"))}function w(t,e){return t.id===e.id}function O(t){return!!new RegExp("^[_a-zA-Z0-9]{".concat(3,",").concat(15,"}$")).test(t)}var E=function(t){var e;try{var n=localStorage.getItem("SPOTIM_GUEST_DISPLAY_NAME");e=JSON.parse(n||"{}")[t]||""}catch(t){e=""}return e},j=function(t){return t||(t=P.getInstance().get(),Object(f.log)("[Current-User] - isLoggedIn is called without a user param","")),t.isRegistered},S=function(){var t=a()(o.a.mark((function t(e){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getInstance().getAsyncUser();case 2:return n=t.sent,t.next=5,h({salt:n.emailBuffer||"",email:e});case 5:return r=t.sent,t.abrupt("return",n.encryptedMail===r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=n(7),I=n(3),A=n.n(I),C=!1;try{C="*"===localStorage.getItem("SPOTIM_DEBUG_API_CURRENT_USER")}catch(t){}var x,P=function(){function t(){s()(this,t),this.user=void 0,this.token="",this.networkId="",this.subscriberId=0,this.isEncryptionInitialized=!1,this.subscribers={},this.tokenSubscribers={},Object(f.log)("currentUser","2.4.11")}return l()(t,[{key:"set",value:function(t){var e=A.a.get("tenant_config.shared.enable_remove_user_email_local_storage",!1),n=A.a.get("tenant_config.shared.enable_email_encryption",!1);if(n&&!this.isEncryptionInitialized&&(window.__SPOTIM__=window.__SPOTIM__||{},window.__SPOTIM__.isCurrentUserByEmail=S,this.isEncryptionInitialized=!0),t){try{var r=Object.assign({},t);if(n)try{var i=Object(T.v4)();!function(){var e=a()(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({salt:i,email:t.email||""});case 2:n=e.sent,t.encryptedMail=n,t.emailBuffer=i;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}catch(t){window.__SPOTIM__.isCurrentUserByEmail=function(){throw Object(f.log)("[Current-User] - failed to set current user in local storage",t),new Error("Failed to encrypt email - ".concat(t))}}e&&delete r.email,localStorage.setItem("SPOTIM_CURRENT_USER",JSON.stringify({data:r}))}catch(t){Object(f.log)("[Current-User] - failed to set current user in local storage",t)}this.user=t,Object.values(this.subscribers).forEach((function(e){e(t)}))}}},{key:"setToken",value:function(t,e){var n=this;t&&(this.token=t,e&&(this.networkId=e),Object.values(this.tokenSubscribers).forEach((function(t){t({token:n.token,networkId:n.networkId})})))}},{key:"get",value:function(){return C&&console.warn("[CurrentUser - get] Using deprecated version, please use the new get async user method!"),this.user}},{key:"getAsyncUser",value:function(){var t=this;return new Promise((function(e){var n,r=t.get();r?e(r):new Promise((function(e){n=t.subscribe((function(t){e(t)}))})).then((function(t){n(),e(t)}))}))}},{key:"getToken",value:function(){return C&&console.warn("[CurrentUser - getToken] Using deprecated version, please use the new get async token method!"),{token:this.token,networkId:this.networkId}}},{key:"getAsyncToken",value:function(){var t=this;return new Promise((function(e){var n,r=t.getToken();r.token&&r.networkId?e(r):new Promise((function(e){n=t.subscribeToToken((function(t){e(t)}))})).then((function(t){n(),e(t)}))}))}},{key:"subscribe",value:function(t){var e=this;this.subscriberId++;var n=this.subscriberId;this.subscribers[n]=t;var r=this.get();return r&&t(r),function(){delete e.subscribers[n]}}},{key:"subscribeToToken",value:function(t){var e=this;this.subscriberId++;var n=this.subscriberId;this.tokenSubscribers[n]=t;var r=this.getToken();return r.token&&r.networkId&&t(r),function(){delete e.tokenSubscribers[n]}}}],[{key:"getInstance",value:function(){var e=Object(f.checkInstance)("currentUser");return e.status||(e.object=new t,Object(f.setInstance)("currentUser",e.object)),e.object}}]),t}();!function(t){t[t.Observer=0]="Observer",t[t.Engaged=1]="Engaged",t[t.Commenter=2]="Commenter"}(x||(x={})),e.default=P.getInstance()}])},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;var o=function(t,e){return null!=t&&r.call(t,e)},i=n(38),a=n(14),c=n(5),s=n(18),u=n(17),l=n(35);var f=function(t,e,n){for(var r=-1,o=(e=Object(i.a)(e,t)).length,f=!1;++r<o;){var d=Object(l.a)(e[r]);if(!(f=null!=t&&n(t,d)))break;t=t[d]}return f||++r!=o?f:!!(o=null==t?0:t.length)&&Object(u.a)(o)&&Object(s.a)(d,o)&&(Object(c.a)(t)||Object(a.a)(t))};e.a=function(t,e){return null!=t&&f(t,e,o)}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,u=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?u=s.concat(u):f=-1,u.length&&p())}function p(){if(!l){var t=c(d);l=!0;for(var e=u.length;e;){for(s=u,u=[];++f<e;)s&&s[f].run();f=-1,e=u.length}s=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function h(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new v(t,e)),1!==u.length||l||c(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"createTracker",(function(){return P})),n.d(e,"preparePayload",(function(){return A})),n.d(e,"trackEvent",(function(){return C})),n.d(e,"trackEventFactory",(function(){return x}));var r=n(2),o=n(1),i=n(4),a=n(27),c=n.n(a);function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(){var t=localStorage.getItem("SPOTIM_DEVICE_UUID_V2");return t?JSON.parse(t):{}}function l(){return"."+function(t){void 0===t&&(t="");var e=(t=t.replace(/^www\./,"")).split(/\./);if(3===e.length){var n=e[2],r=e[1],o=f.includes(n),i=!f.includes(r)&&!d.includes(r);if(o&&i)return e.shift(),e.join(".")}for(;e.length>3;)e.shift();3===e.length&&(e[1].length>2&&e[2].length>2||-1===d.indexOf(e[1])&&-1===f.indexOf(e[2]))&&e.shift();return e.join(".")}(document.domain)}var f="ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|be|bf|bg|bh|bi|bj|bm|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|cl|cm|cn|co|cr|cu|cv|cw|cx|cz|de|dj|dk|dm|do|dz|ec|ee|eg|es|et|eu|fi|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|im|in|io|iq|ir|is|it|je|jo|jp|kg|ki|km|kn|kp|kr|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|na|nc|ne|nf|ng|nl|no|nr|nu|nz|om|pa|pe|pf|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|yt".split("|"),d="com|edu|gov|net|mil|org|nom|sch|caa|res|off|gob|int|tur|ip6|uri|urn|asn|act|nsw|qld|tas|vic|pro|biz|adm|adv|agr|arq|art|ato|bio|bmd|cim|cng|cnt|ecn|eco|emp|eng|esp|etc|eti|far|fnd|fot|fst|g12|ggf|imb|ind|inf|jor|jus|leg|lel|mat|med|mus|not|ntr|odo|ppg|psc|psi|qsl|rec|slg|srv|teo|tmp|trd|vet|zlg|web|ltd|sld|pol|fin|k12|lib|pri|aip|fie|eun|sci|prd|cci|pvt|mod|idv|rel|sex|gen|nic|abr|bas|cal|cam|emr|fvg|laz|lig|lom|mar|mol|pmn|pug|sar|sic|taa|tos|umb|vao|vda|ven|mie|北海道|和歌山|神奈川|鹿児島|ass|rep|tra|per|ngo|soc|grp|plc|its|air|and|bus|can|ddr|jfk|mad|nrw|nyc|ski|spy|tcm|ulm|usa|war|fhs|vgs|dep|eid|fet|fla|flå|gol|hof|hol|sel|vik|cri|iwi|ing|abo|fam|gok|gon|gop|gos|aid|atm|gsm|sos|elk|waw|est|aca|bar|cpa|jur|law|sec|plo|www|bir|cbg|jar|khv|msk|nov|nsk|ptz|rnd|spb|stv|tom|tsk|udm|vrn|cmw|kms|nkz|snz|pub|fhv|red|ens|nat|rns|rnu|bbs|tel|bel|kep|nhs|dni|fed|isa|nsn|gub|e12|tec|орг|обр|упр|alt|nis|jpn|mex|ath|iki|nid|gda|inc".split("|");var p,v=new Date,h=function(){if(_(new Date,v)<10&&"object"==typeof p){var t=p;return{visitId:t.visitId,duration:t.duration}}var e=function(){var t=c.a.get("spotim_visitId");try{return JSON.parse(t)}catch(t){return null}}(),n=e.visitId,r=e.creationDate,o=g(30),i=_(new Date,new Date(r)),a={visitId:n,creationDate:r,duration:Math.floor(i)};return v=new Date,p=a,c.a.set("spotim_visitId",a,{expires:o,domain:l()}),{visitId:n,duration:a.duration}},m=function(){var t={visitId:u().uuid,creationDate:new Date,duration:0},e=JSON.stringify(t),n=g(30);return c.a.set("spotim_visitId",e,{expires:n,domain:l()}),{visitId:t.visitId,duration:t.duration}},g=function(t){return new Date((new Date).getTime()+60*t*1e3)},_=function(t,e){var n=(t.getTime()-e.getTime())/1e3,r=Math.abs(n);return Math.round(r)};function y(){return window.__SPOTIM_PAGE_VIEW_ID__||(window.__SPOTIM_PAGE_VIEW_ID__=u().uuid),window.__SPOTIM_PAGE_VIEW_ID__||""}function b(t){void 0===t&&(t={});var e={};return Object.keys(t).forEach((function(n){null!==t[n]&&void 0!==t[n]&&(e[n]=t[n])})),encodeURIComponent(btoa(JSON.stringify(e)))}function w(){var t;try{t=JSON.parse(localStorage.getItem("SPOTIM_CURRENT_USER")||"").data.id}catch(t){}return t}function O(){if(!window.$$SPOTIM_BID$$){var t=u().uuid;window.$$SPOTIM_BID$$=t}return window.$$SPOTIM_BID$$}var E=function(){var t=!0===function(){var t=c.a.get("spotim_visitId");if(!(void 0!==t))return!1;try{return JSON.parse(t),!0}catch(t){return!1}}()?h():m(),e=t.visitId,n=t.duration;return window.$$SPOTIM_VID$$=e,{visitId:e,duration:n}};function j(){var t=function(){if(performance&&performance.timing){var t=performance.timing.domLoading;if(!isNaN(t)&&t>0)return t}return null}();if(t&&t>=0&&!isNaN(t)){var e=Date.now()-t;return isNaN(e)||e<0||e>Number.MAX_SAFE_INTEGER?null:e}return null}var S={development:"http://127.0.0.1:8000/api/v1/pixels",staging:"https://pix.staging-spot.im/api/v1/pixels",production:"https://pix.spot.im/api/v1/pixels"},T=function(){function e(e){this.configProvider=e,this.events=[],this.url="",this.maxEvents=10,Object(i.log)("EventsCollector",t.env.PACKAGE_VERSION),this.url=S[this.configProvider.get("env","production")],this.maxEvents=this.configProvider.get("tenant_config.events-collector.max_events",10),this.startSendingEvents(),this.handleUnload()}e.getInstance=function(t){var n=window.__SPOTIM__.SERVICES.events;return n||(n=new e(t),window.__SPOTIM__.SERVICES.events=n),n};var n=e.prototype;return n.startSendingEvents=function(){var t=this,e=this.configProvider.get("tenant_config.events-collector.time_interval_milliseconds",1e4);this.intervalId=setInterval((function(){t.sendEvents()}),e)},n.sendEvents=function(){if(this.events.length>0){var t=this.events.join("\\n");this.sendBeacon(t)}},n.sendBeacon=function(t){"sendBeacon"in navigator?navigator.sendBeacon(this.url,t)&&this.clean():(fetch(this.url,{method:"POST",body:t}),this.clean())},n.addEvent=function(t){var e=b(t);this.events.push(e),this.events.length>this.maxEvents&&this.sendEvents()},n.handleUnload=function(){var t=this;window.addEventListener("unload",(function(){t.sendEvents()}))},n.clean=function(){this.events=[]},n.stopSendingEvents=function(){clearInterval(this.intervalId)},e}().getInstance(o.default);function I(t,e){var n;if(void 0===e&&(e=!1),e){var r,o=function(t){return void 0===t&&(t={}),"https://pix.spot.im/api/v1/pixel?m="+b(t)+"&rnd="+Math.random()}(t);n=fetch(o,{credentials:"include",headers:(r={},r["x-spotim-device-uuid"]=u().uuid,r["x-spotim-page-view-id"]=y(),r)})}else T.addEvent(t);return n||Promise.resolve({})}function A(t){var e,n=u().uuid,o=E(),i=o.visitId,a=o.duration;return s({page_view_id:y(),guid:n,referrer:(e=document.referrer,e&&e.trim()?e.replace(/′/g,"'").replace(/’/g,"'"):""),user_id:w()||"0",ib_browser_id:O(),visit_id:i,duration:a,v:10,domain:location.hostname,url:location.href,lang:navigator.userLanguage||navigator.language,uid:n,source_version:"",time_delta:j()||0,test_field:r.a.getAllExperiments(),split_name:r.a.getActiveExperiments()},t)}function C(t){var e,n,r=A(t);return"*"===localStorage.getItem("SPOTIM_DEBUG_API")&&console.log("%cSpot.IM Analytics%c Track","background: #823fb5; color: white","background: transparent; color: unset",r),I(r,(e=o.default.get("tenant_config.events-collector.batching",!1),!((n=localStorage.getItem("SPOTIM_PIXELS_BATCHING"))?"*"===n:e))).then((function(){return!0}))}function x(t){return function(e){return C(s({},t,e))}}function P(t){var e=t.source,n=t.spotId,r=t.postId;return{track:function(t){return C({type:t,source:e,spot_id:n,post_id:r})}}}Object(i.log)("Analytics",t.env.PACKAGE_VERSION)}.call(this,n(24))},function(t,e,n){"use strict";var r=n(20),o=Object(r.a)(Object,"create");var i=function(){this.__data__=o?o(null):{},this.size=0};var a=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},c=Object.prototype.hasOwnProperty;var s=function(t){var e=this.__data__;if(o){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return c.call(e,t)?e[t]:void 0},u=Object.prototype.hasOwnProperty;var l=function(t){var e=this.__data__;return o?void 0!==e[t]:u.call(e,t)};var f=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?"__lodash_hash_undefined__":e,this};function d(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}d.prototype.clear=i,d.prototype.delete=a,d.prototype.get=s,d.prototype.has=l,d.prototype.set=f;var p=d,v=n(12),h=n(33);var m=function(){this.size=0,this.__data__={hash:new p,map:new(h.a||v.a),string:new p}};var g=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var _=function(t,e){var n=t.__data__;return g(e)?n["string"==typeof e?"string":"hash"]:n.map};var y=function(t){var e=_(this,t).delete(t);return this.size-=e?1:0,e};var b=function(t){return _(this,t).get(t)};var w=function(t){return _(this,t).has(t)};var O=function(t,e){var n=_(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function E(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}E.prototype.clear=m,E.prototype.delete=y,E.prototype.get=b,E.prototype.has=w,E.prototype.set=O;e.a=E},function(t,e,n){var r,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o),!0,t.exports=i(),!!0){var a=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=a,c}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var s in i)i[s]&&(c+="; "+s,!0!==i[s]&&(c+="="+i[s].split(";")[0]));return document.cookie=e+"="+n+c}}function a(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var c=i[a].split("="),s=c.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var u=e(c[0]);if(s=(r.read||r)(s,u)||e(s),n)try{s=JSON.parse(s)}catch(t){}if(o[u]=s,t===u)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return a(t,!1)},o.getJSON=function(t){return a(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},function(t,e,n){"use strict";var r=n(38),o=n(35);var i=function(t,e){for(var n=0,i=(e=Object(r.a)(e,t)).length;null!=t&&n<i;)t=t[Object(o.a)(e[n++])];return n&&n==i?t:void 0};e.a=function(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},,function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(29))},function(t,e,n){"use strict";var r=n(20),o=n(6),i=Object(r.a)(o.a,"Map");e.a=i},function(t,e,n){"use strict";(function(t){var r=n(6),o=n(47),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,c=a&&a.exports===i?r.a.Buffer:void 0,s=(c?c.isBuffer:void 0)||o.a;e.a=s}).call(this,n(40)(t))},function(t,e,n){"use strict";var r=n(19);e.a=function(t){if("string"==typeof t||Object(r.a)(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){"use strict";var r;e.__esModule=!0,e.IS_LOCALHOST=e.ALTERNATIVE_LOG_STORAGE_KEY=e.REPORT_PERFORMANCE_THRESHOLD=e.DEFAULT_TIMEOUT=e.METRIC_LOGS=e.METRIC_TYPES=e.METRIC_NAMES=e.DEFAULT_METRIC_VALUE=e.FORCE_REPORT_PERFORMANCE_STORAGE_KEY=e.FORCE_REPORT_STORAGE_KEY=e.LOG_STORAGE_KEY=e.PACKAGE_DISPLAY_NAME=e.NAMESPACE=void 0,e.NAMESPACE="openweb",e.PACKAGE_DISPLAY_NAME="openweb-metrics-reporter",e.LOG_STORAGE_KEY="OPENWEB_METRICS_REPORTER_LOG",e.FORCE_REPORT_STORAGE_KEY="OPENWEB_METRICS_REPORTER_FORCE_REPORT",e.FORCE_REPORT_PERFORMANCE_STORAGE_KEY="OPENWEB_METRICS_REPORTER_FORCE_REPORT_PERFORMANCE",e.DEFAULT_METRIC_VALUE=1,e.METRIC_NAMES={ERROR:"error"},e.METRIC_TYPES={ERROR:"error",GENERAL:"general",PERFORMANCE:"performance"},e.METRIC_LOGS={SENT:"%o sent",STARTED:"%o started",ENDED:"%o ended (%dms)",NOT_ENDED:"%o hasn't ended yet",NOT_STARTED:"%o hasn't started yet"},e.DEFAULT_TIMEOUT=1e4,e.REPORT_PERFORMANCE_THRESHOLD=100,e.ALTERNATIVE_LOG_STORAGE_KEY="SPOTIM_DEBUG_API",e.IS_LOCALHOST=(null===(r=window.location.host.match("localhost"))||void 0===r?void 0:r.length)&&!0},function(t,e,n){"use strict";e.__esModule=!0,e.createAPM=e.createPerformanceReporter=e.createErrorReporter=e.MetricsReporter=void 0;var r=n(2),o=r.__importStar(n(1)),i=n(6),a=n(3);n(4);var c=n(0);function s(t,e){return function(n,o){a.sendMetric(n,r.__assign(r.__assign({},o),{spotId:t,context:e})),a.log(c.METRIC_LOGS.SENT,e+":"+n)}}function u(t,e,n){if(!t||!e)throw new Error("called without required arguments");var o=r.__assign(r.__assign({},{moduleId:"",apm:{}}),n),i=t+"_"+e+(o.moduleId?"_"+o.moduleId:"");if(u.instances[i])return u.instances[i];var a=f(t,e,o.apm),c=s(t,e),d={apm:a,error:l(t,e),send:c};return u.instances[i]=d,d}function l(t,e){var n=s(t,e);return function(o,s,u){var l,f=s;a.shouldLog()&&console.error(f),f instanceof Error&&(f=f.message),n(c.METRIC_NAMES.ERROR,{type:c.METRIC_TYPES.ERROR,tags:r.__assign({func:o,msg:"object"==typeof f&&null!==f?JSON.stringify(f):f},u)}),i.trackEvent(r.__assign({spot_id:t,post_id:null!==(l=null==u?void 0:u.post_id)&&void 0!==l?l:"",source:e,type:c.METRIC_TYPES.ERROR,item_type:f,item_id:o},u))}}function f(t,e,n){var i={performance:window.performance,threshold:c.REPORT_PERFORMANCE_THRESHOLD},s=r.__assign(r.__assign({},i),n),u=s.performance,l={},f=o.createPerformanceReporter(t,e),d=o.createErrorReporter(t,e),p=Math.ceil(Math.random()*s.threshold),v=a.getStorage(c.FORCE_REPORT_PERFORMANCE_STORAGE_KEY)||p===s.threshold,h=e;return{start:function(t,e){var n=h,o={timeout:c.DEFAULT_TIMEOUT},i=r.__assign(r.__assign({},o),e);if(l[t])return a.log(c.METRIC_LOGS.NOT_ENDED,n+":"+t);var s=a.generateId(),f=a.prefix(n+":"+t+"_start_mark_"+s);u.mark(f);var p=window.setTimeout((function(){d(t,t+" timed out")}),i.timeout);l[t]={name:t,startName:f,timeoutId:p},a.log(c.METRIC_LOGS.STARTED,n+":"+t)},end:function(t,e){var n=e||h;if(!l[t])return a.log(c.METRIC_LOGS.NOT_STARTED,n+":"+t),{measure:null};var r=l[t],o=r.timeoutId,i=r.startName;window.clearTimeout(o);var s=a.generateId(),d=a.generateId(),p=a.prefix(n+":"+t+"_end_mark_"+s),m=a.prefix(n+":"+t+"_measure_"+d);u.mark(p),u.measure(m,i,p);var g=u.getEntriesByName(m,"measure")[0];return v&&f(t,g.duration,n),a.log(c.METRIC_LOGS.ENDED,n+":"+t,Math.round(g.duration)),delete l[t],{measure:g}},endAll:function(){var t=this;Object.keys(l).forEach((function(e){return t.end(e)}))}}}e.MetricsReporter=u,u.instances={},e.createErrorReporter=l,e.createPerformanceReporter=function(t,e){var n=s(t,e);return function(o,a,s,u,l){var f;void 0===s&&(s=e),n(o,{type:c.METRIC_TYPES.PERFORMANCE,value:a,context:s,tags:u}),i.trackEvent(r.__assign({spot_id:t,post_id:null!==(f=null==u?void 0:u.post_id)&&void 0!==f?f:"",source:e,type:c.METRIC_TYPES.PERFORMANCE,item_type:o},l))}},e.createAPM=f},function(t,e){t.exports=n(0)},function(t,e,n){"use strict";e.__esModule=!0,e.generateId=e.sendMetric=e.getStorage=e.prefixCaps=e.prefix=e.log=e.shouldLog=e.logger=void 0;var r=n(2),o=r.__importDefault(n(7)),i=r.__importStar(n(3));n(4);var a,c=n(0);function s(t){return c.NAMESPACE+"_"+t}e.logger=function(){if(a)return a;var t=o.default(c.PACKAGE_DISPLAY_NAME);return o.default.enable(c.PACKAGE_DISPLAY_NAME),a=t},e.shouldLog=function(){return c.IS_LOCALHOST||Boolean(e.getStorage(c.LOG_STORAGE_KEY))||Boolean(e.getStorage(c.ALTERNATIVE_LOG_STORAGE_KEY))},e.log=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i.shouldLog()){var o=i.logger();o.apply(void 0,r.__spreadArrays([t],e))}},e.prefix=s,e.prefixCaps=function(t){return s(t).toUpperCase()},e.getStorage=function(t){return window.localStorage.getItem(t)},e.sendMetric=function(t,n){void 0===n&&(n={});var o=n.type,i=void 0===o?c.METRIC_TYPES.GENERAL:o,a=n.value,s=void 0===a?c.DEFAULT_METRIC_VALUE:a,u=n.tags,l=n.spotId,f=n.context;c.IS_LOCALHOST&&!e.getStorage(c.FORCE_REPORT_STORAGE_KEY)||window.fetch("https://metrics-logger.spot.im/metric",{method:"POST",body:JSON.stringify({driver:"influxdb-telemtry",name:"browser."+i,value:s,tags:r.__assign(r.__assign({},u),{spotId:l,context:f,type:t,host:window.location.hostname})})})},e.generateId=function(){return(Date.now()+Math.random()).toString(36)}},function(t,e,n){"use strict";e.__esModule=!0},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]});e.__esModule=!0,r(e,n(1),"MetricsReporter","default");var o=n(0);r(e,o,"LOG_STORAGE_KEY"),r(e,o,"FORCE_REPORT_PERFORMANCE_STORAGE_KEY")},function(t,e){t.exports=n(25)},function(t,e){t.exports=n(57)}])},function(t,e,n){"use strict";(function(t){var r=n(9),o=n(36),i=n.n(o),a=n(4),c=n(1),s=n(22),u=n.n(s),l=i()("all","@spotim/request"),f=/v\d+.\d+\.\d+/;var d={method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},baseURL:""},p=c.default.get("tenant_config.authentication.version",1),v={};Object(a.log)("Request",t.env.PACKAGE_VERSION),e.a=function(t,e){try{var n=Object(r.a)({},d,e,v),o=window.__SPOTIM_PAGE_VIEW_ID__||null;!function(t){var e,n,o=function(){try{return{accessToken:localStorage.getItem("SPOTIM_ACCESS_TOKEN"),openWebAccessToken:localStorage.getItem("OPENWEB_ACCESS_TOKEN")}}catch(t){return l.error("getAuthTokens",t),{}}}(),i=o.accessToken,a=o.openWebAccessToken,c=2===p;i&&(t.headers=Object(r.a)({},((e={})["x-access-token"]=i,e),t.headers));c&&a&&(t.headers=Object(r.a)({},((n={})["x-openweb-token"]=a,n),t.headers));var s,u=function(){try{return localStorage.getItem("SPOTIM_DEVICE_V2")}catch(t){return l.error("getDeviceV2",t),null}}();u&&(t.headers=Object(r.a)({},((s={})["x-spotim-device-v2"]=u,s),t.headers));var f,d=function(){try{var t=localStorage.getItem("SPOTIM_DEVICE_UUID_V2");if(t){var e=JSON.parse(t);if(e)return e.uuid}}catch(t){return l.error("getDeviceUuid",t),null}}();d&&(t.headers=Object(r.a)({},((f={})["x-spotim-device-uuid"]=d,f),t.headers))}(n),o&&(n.headers=Object(r.a)({},{"x-spotim-page-view-id":o},n.headers));var i=c.default.get("queryParams.TEAM_ROUTE",""),a=i?function(t,e){return t.replace(f,e.slice(0,20))}(t,i):t;i&&console.log("[REQUEST] Current Version:",i);var s=n.baseURL||c.default.get("queryParams.SPOTIM_API_BASE_URL","")||c.default.get("api",""),h=(new Date).getTime();return Promise.resolve(fetch(""+s+a,n).then((function(t){var e=(new Date).getTime()-h;if(function(t,e){l.send("response_time",{type:"network",value:e,tags:{url:t}})}(a,e),function(t){(function(t){var e=t.accessToken,n=t.openWebAccessToken;try{e&&localStorage.setItem("SPOTIM_ACCESS_TOKEN",e),n&&localStorage.setItem("OPENWEB_ACCESS_TOKEN",n)}catch(t){l.error("setAuthTokens",t)}})({accessToken:t.headers.get("x-access-token"),openWebAccessToken:t.headers.get("x-openweb-token")}),t.headers.has("x-spotim-device-v2")&&function(t){try{localStorage.setItem("SPOTIM_DEVICE_V2",String(t))}catch(t){l.error("setDeviceV2",t)}}(t.headers.get("x-spotim-device-v2"));if(t.headers.has("x-spotim-token")){var e,n=t.headers.get("x-spotim-token"),r=null!==(e=t.headers.get("x-spotim-networkid"))&&void 0!==e?e:void 0;n&&u.a.setToken(n,r)}}(t),204!==t.status)return t.json().then((function(e){return t.ok?e:Promise.reject({status:t.status,data:e})}))})).catch((function(t){var e=null==a?void 0:a.split("sp_"),n=e&&s+e[0];l.error("request",t,{url:n})})))}catch(t){return Promise.reject(t)}}}).call(this,n(24))},function(t,e,n){"use strict";var r=n(5),o=n(19),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;var c=function(t,e){if(Object(r.a)(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Object(o.a)(t))||(a.test(t)||!i.test(t)||null!=e&&t in Object(e))},s=n(26);function u(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(u.Cache||s.a),n}u.Cache=s.a;var l=u;var f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,p=function(t){var e=l(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(f,(function(t,n,r,o){e.push(r?o.replace(d,"$1"):n||t)})),e})),v=n(21);e.a=function(t,e){return Object(r.a)(t)?t:c(t,e)?[t]:p(Object(v.a)(t))}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Array.isArray,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],a=i.obj[i.prop],c=Object.keys(a),s=0;s<c.length;++s){var u=c[s],l=a[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(e.push({obj:a,prop:u}),n.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n){if(0===t.length)return t;var r=t;if("symbol"==typeof t?r=Symbol.prototype.toString.call(t):"string"!=typeof t&&(r=String(t)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var o="",a=0;a<r.length;++a){var c=r.charCodeAt(a);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?o+=r.charAt(a):c<128?o+=i[c]:c<2048?o+=i[192|c>>6]+i[128|63&c]:c<55296||c>=57344?o+=i[224|c>>12]+i[128|c>>6&63]+i[128|63&c]:(a+=1,c=65536+((1023&c)<<10|1023&r.charCodeAt(a)),o+=i[240|c>>18]+i[128|c>>12&63]+i[128|c>>6&63]+i[128|63&c])}return o},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(o(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function t(e,n,i){if(!n)return e;if("object"!=typeof n){if(o(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(i&&(i.plainObjects||i.allowPrototypes)||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var c=e;return o(e)&&!o(n)&&(c=a(e,i)),o(e)&&o(n)?(n.forEach((function(n,o){if(r.call(e,o)){var a=e[o];a&&"object"==typeof a&&n&&"object"==typeof n?e[o]=t(a,n,i):e.push(n)}else e[o]=n})),e):Object.keys(n).reduce((function(e,o){var a=n[o];return r.call(e,o)?e[o]=t(e[o],a,i):e[o]=a,e}),c)}}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";(function(t){var r=n(32),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.a.process,c=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();e.a=c}).call(this,n(40)(t))},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},function(t,e,n){"use strict";var r=String.prototype.replace,o=/%20/g,i=n(39),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=i.assign({default:a.RFC3986,formatters:{RFC1738:function(t){return r.call(t,o,"+")},RFC3986:function(t){return String(t)}}},a)},function(t,e,n){var r=n(50),o=n(51),i=o;i.v1=r,i.v4=o,t.exports=i},function(t,e,n){"use strict";(function(t){var r=n(31),o=setTimeout;function i(t){return Boolean(t&&void 0!==t.length)}function a(){}function c(t){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(t,this)}function s(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,c._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void l(e.promise,t)}u(e.promise,r)}else(1===t._state?u:l)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof c)return t._state=3,t._value=e,void f(t);if("function"==typeof n)return void p((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){l(t,e)}var r,o}function l(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&c._immediateFn((function(){t._handled||c._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function d(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function p(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,l(e,t))}))}catch(t){if(n)return;n=!0,l(e,t)}}c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){var n=new this.constructor(a);return s(this,new d(t,e,n)),n},c.prototype.finally=r.a,c.all=function(t){return new c((function(e,n){if(!i(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function a(t,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var c=i.then;if("function"==typeof c)return void c.call(i,(function(e){a(t,e)}),n)}r[t]=i,0==--o&&e(r)}catch(t){n(t)}}for(var c=0;c<r.length;c++)a(c,r[c])}))},c.resolve=function(t){return t&&"object"==typeof t&&t.constructor===c?t:new c((function(e){e(t)}))},c.reject=function(t){return new c((function(e,n){n(t)}))},c.race=function(t){return new c((function(e,n){if(!i(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=t.length;r<o;r++)c.resolve(t[r]).then(e,n)}))},c._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){o(t,0)},c._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=c}).call(this,n(53).setImmediate)},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){"use strict";(function(t){var r=n(6),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.a.Buffer:void 0,c=a?a.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=c?c(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(40)(t))},function(t,e){t.exports=function(t){"string"==typeof t&&(t={href:t});t.rel||(t.rel="stylesheet");var e=document.createElement("link");for(var n in t)e.setAttribute(n,t[n]);document.getElementsByTagName("head")[0].appendChild(e)}},function(t,e,n){var r,o,i=n(42),a=n(43),c=0,s=0;t.exports=function(t,e,n){var u=e&&n||0,l=e||[],f=(t=t||{}).node||r,d=void 0!==t.clockseq?t.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var v=void 0!==t.msecs?t.msecs:(new Date).getTime(),h=void 0!==t.nsecs?t.nsecs:s+1,m=v-c+(h-s)/1e4;if(m<0&&void 0===t.clockseq&&(d=d+1&16383),(m<0||v>c)&&void 0===t.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=v,s=h,o=d;var g=(1e4*(268435455&(v+=122192928e5))+h)%4294967296;l[u++]=g>>>24&255,l[u++]=g>>>16&255,l[u++]=g>>>8&255,l[u++]=255&g;var _=v/4294967296*1e4&268435455;l[u++]=_>>>8&255,l[u++]=255&_,l[u++]=_>>>24&15|16,l[u++]=_>>>16&255,l[u++]=d>>>8|128,l[u++]=255&d;for(var y=0;y<6;++y)l[u+y]=f[y];return e||a(l)}},function(t,e,n){var r=n(42),o=n(43);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var c=0;c<16;++c)e[i+c]=a[c];return e||o(a)}},function(t,e,n){"use strict";(function(t){var e=n(46),r=n(31),o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();"Promise"in o?o.Promise.prototype.finally||(o.Promise.prototype.finally=r.a):o.Promise=e.a}).call(this,n(29))},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(54),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(29))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,a,c,s=1,u={},l=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){v(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){v(t.data)},r=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){v(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(v,0,t)}:(a="setImmediate$"+Math.random()+"$",c=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&v(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",c,!1):t.attachEvent("onmessage",c),r=function(e){t.postMessage(a+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return u[s]=o,r(s),s++},d.clearImmediate=p}function p(t){delete u[t]}function v(t){if(l)setTimeout(v,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(29),n(24))},function(t,e,n){"use strict";var r=n(39),o=n(44),i=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},c=Array.isArray,s=Array.prototype.push,u=function(t,e){s.apply(t,c(e)?e:[e])},l=Date.prototype.toISOString,f=o.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:f,formatter:o.formatters[f],indices:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},p=function t(e,n,o,i,a,s,l,f,p,v,h,m,g){var _,y=e;if("function"==typeof l?y=l(n,y):y instanceof Date?y=v(y):"comma"===o&&c(y)&&(y=r.maybeMap(y,(function(t){return t instanceof Date?v(t):t})).join(",")),null===y){if(i)return s&&!m?s(n,d.encoder,g,"key"):n;y=""}if("string"==typeof(_=y)||"number"==typeof _||"boolean"==typeof _||"symbol"==typeof _||"bigint"==typeof _||r.isBuffer(y))return s?[h(m?n:s(n,d.encoder,g,"key"))+"="+h(s(y,d.encoder,g,"value"))]:[h(n)+"="+h(String(y))];var b,w=[];if(void 0===y)return w;if(c(l))b=l;else{var O=Object.keys(y);b=f?O.sort(f):O}for(var E=0;E<b.length;++E){var j=b[E],S=y[j];if(!a||null!==S){var T=c(y)?"function"==typeof o?o(n,j):n:n+(p?"."+j:"["+j+"]");u(w,t(S,T,o,i,a,s,l,f,p,v,h,m,g))}}return w};t.exports=function(t,e){var n,r=t,s=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==t.format){if(!i.call(o.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=o.formatters[n],a=d.filter;return("function"==typeof t.filter||c(t.filter))&&(a=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:void 0===t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:a,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}}(e);"function"==typeof s.filter?r=(0,s.filter)("",r):c(s.filter)&&(n=s.filter);var l,f=[];if("object"!=typeof r||null===r)return"";l=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var v=a[l];n||(n=Object.keys(r)),s.sort&&n.sort(s.sort);for(var h=0;h<n.length;++h){var m=n[h];s.skipNulls&&null===r[m]||u(f,p(r[m],m,v,s.strictNullHandling,s.skipNulls,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.formatter,s.encodeValuesOnly,s.charset))}var g=f.join(s.delimiter),_=!0===s.addQueryPrefix?"?":"";return s.charsetSentinel&&("iso-8859-1"===s.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),g.length>0?_+g:""}},function(t,e,n){"use strict";var r=n(39),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},c=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},s=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},u=function(t,e,n,r){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,c=n.depth>0&&/(\[[^[\]]*])/.exec(i),u=c?i.slice(0,c.index):i,l=[];if(u){if(!n.plainObjects&&o.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var f=0;n.depth>0&&null!==(c=a.exec(i))&&f<n.depth;){if(f+=1,!n.plainObjects&&o.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(c[1])}return c&&l.push("["+i.slice(c.index)+"]"),function(t,e,n,r){for(var o=r?e:s(e,n),i=t.length-1;i>=0;--i){var a,c=t[i];if("[]"===c&&n.parseArrays)a=[].concat(o);else{a=n.plainObjects?Object.create(null):{};var u="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,l=parseInt(u,10);n.parseArrays||""!==u?!isNaN(l)&&c!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=o:a[u]=o:a={0:o}}o=a}return o}(l,e,n,r)}};t.exports=function(t,e){var n=function(t){if(!t)return a;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?a.charset:t.charset;return{allowDots:void 0===t.allowDots?a.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:a.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:a.comma,decoder:"function"==typeof t.decoder?t.decoder:a.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:a.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:a.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:a.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var l="string"==typeof t?function(t,e){var n,u={},l=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,f=e.parameterLimit===1/0?void 0:e.parameterLimit,d=l.split(e.delimiter,f),p=-1,v=e.charset;if(e.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[n]?v="utf-8":"utf8=%26%2310003%3B"===d[n]&&(v="iso-8859-1"),p=n,n=d.length);for(n=0;n<d.length;++n)if(n!==p){var h,m,g=d[n],_=g.indexOf("]="),y=-1===_?g.indexOf("="):_+1;-1===y?(h=e.decoder(g,a.decoder,v,"key"),m=e.strictNullHandling?null:""):(h=e.decoder(g.slice(0,y),a.decoder,v,"key"),m=r.maybeMap(s(g.slice(y+1),e),(function(t){return e.decoder(t,a.decoder,v,"value")}))),m&&e.interpretNumericEntities&&"iso-8859-1"===v&&(m=c(m)),g.indexOf("[]=")>-1&&(m=i(m)?[m]:m),o.call(u,h)?u[h]=r.combine(u[h],m):u[h]=m}return u}(t,n):t,f=n.plainObjects?Object.create(null):{},d=Object.keys(l),p=0;p<d.length;++p){var v=d[p],h=u(v,l[v],n,"string"==typeof t);f=r.merge(f,h,n)}return r.compact(f)}},function(t,e,n){"use strict";var r,o,i,a;function c(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(){return function t(e,n,r){function o(a,c){if(!n[a]){if(!e[a]){if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};e[a][0].call(u.exports,(function(t){return o(e[a][1][t]||t)}),u,u.exports,t,e,n,r)}return n[a].exports}for(var i=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){var r=1e3,o=6e4,i=60*o,a=24*i;function c(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}e.exports=function(t,e){e=e||{};var n,u,l=s(t);if("string"===l&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return n*i;case"minutes":case"minute":case"mins":case"min":case"m":return n*o;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(t);if("number"===l&&!1===isNaN(t))return e.long?(n=t,(u=Math.abs(n))>=a?c(n,u,a,"day"):u>=i?c(n,u,i,"hour"):u>=o?c(n,u,o,"minute"):u>=r?c(n,u,r,"second"):n+" ms"):function(t){var e=Math.abs(t);return e>=a?Math.round(t/a)+"d":e>=i?Math.round(t/i)+"h":e>=o?Math.round(t/o)+"m":e>=r?Math.round(t/r)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},{}],2:[function(t,e,n){var r,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"==typeof clearTimeout?clearTimeout:c}catch(t){o=c}}();var u,l=[],f=!1,d=-1;function p(){f&&u&&(f=!1,u.length?l=u.concat(l):d=-1,l.length&&v())}function v(){if(!f){var t=s(p);f=!0;for(var e=l.length;e;){for(u=l,l=[];++d<e;)u&&u[d].run();d=-1,e=l.length}u=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new h(t,e)),1!==l.length||f||s(v)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],3:[function(t,e,n){e.exports=function(e){function n(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){var e;function a(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(a.enabled){var i=a,c=Number(new Date),s=c-(e||c);i.diff=s,i.prev=e,i.curr=c,e=c,n[0]=r.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(t,e){if("%%"===t)return t;u++;var o=r.formatters[e];if("function"==typeof o){var a=n[u];t=o.call(i,a),n.splice(u,1),u--}return t})),r.formatArgs.call(i,n);var l=i.log||r.log;l.apply(i,n)}}return a.namespace=t,a.enabled=r.enabled(t),a.useColors=r.useColors(),a.color=n(t),a.destroy=o,a.extend=i,"function"==typeof r.init&&r.init(a),r.instances.push(a),a}function o(){var t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function i(t,e){var n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function a(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){return t instanceof Error?t.stack||t.message:t},r.disable=function(){var t=[].concat(c(r.names.map(a)),c(r.skips.map(a).map((function(t){return"-"+t})))).join(",");return r.enable(""),t},r.enable=function(t){var e;r.save(t),r.names=[],r.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(e=0;e<o;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){var i=r.instances[e];i.enabled=r.enabled(i.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=t("ms"),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=n,r.enable(r.load()),r}},{ms:1}],4:[function(t,e,n){(function(r){n.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":s(console))&&console.log&&(t=console).log.apply(t,arguments)},n.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))})),t.splice(o,0,n)}},n.save=function(t){try{t?n.storage.setItem("debug",t):n.storage.removeItem("debug")}catch(t){}},n.load=function(){var t;try{t=n.storage.getItem("debug")}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t},n.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function(){try{return localStorage}catch(t){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=t("./common")(n),e.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,t("_process"))},{"./common":3,_process:2}]},{},[4])(4)},"object"===s(e)&&void 0!==t?t.exports=a():(o=[],void 0===(i="function"==typeof(r=a)?r.apply(e,o):r)||(t.exports=i))},function(t,e,n){t.exports=n(59)},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=b(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function d(){}function p(){}var v={};v[o]=function(){return this};var h=Object.getPrototypeOf,m=h&&h(h(j([])));m&&m!==e&&n.call(m,o)&&(v=m);var g=p.prototype=f.prototype=Object.create(v);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,c){var s=u(t[o],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=g.constructor=p,p.constructor=d,d.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},_(y.prototype),y.prototype[i]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new y(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(g),c(g,a,"Generator"),g[o]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){function n(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function c(t){n(a,o,i,c,s,"next",t)}function s(t){n(a,o,i,c,s,"throw",t)}c(void 0)}))}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";n.r(e);var r=n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=document.body;function a(t){var e=JSON.parse(JSON.stringify(t.dataset||{})),n={};return Object.keys(e).forEach((function(t){"true"===e[t]?n[t]=!0:"false"===e[t]?n[t]=!1:n[t]=e[t]})),n}function c(t){var e=t.domInjectElement,n=t.params,r=document.createElement("div");return r.setAttribute("data-spotim-module","conversation"),r.setAttribute("data-spotim-not-for-self-bootstrapping",""),n.postId&&r.setAttribute("data-post-id",n.postId),n.liveBlog&&n.liveEventCode&&(r.setAttribute("data-live-blog",n.liveBlog),r.setAttribute("data-live-event-code",n.liveEventCode)),n.spotimAutorun&&r.setAttribute("data-spotim-autorun",n.spotimAutorun),r.style.minHeight="1px",e(r),{spotId:n.spotId,postId:n.liveBlog?n.liveEventCode:n.postId,widgetDOMList:[r],widgetList:n.liveBlog?["liveblog"]:["conversation"]}}function s(t){var e,n;return e=t.src||t.dataset.script||"",((n=e.match(/(sp_[0-9a-zA-Z]*)/))?n[0]:null)||t.dataset.spotId||""}function u(t){return"false"!==t.dataset.spotimAutorun&&Boolean(t.dataset.postId)}function l(){return Array.from(document.querySelectorAll("script[data-spotim-module]"))}function f(){return l().reduce((function(t,e){return e.getAttribute("already-execute")?t:(e.setAttribute("already-execute","true"),t=t.concat(e))}),[])}function d(t){return{postId:t.dataset.postId,spotId:s(t),liveBlog:t.dataset.liveBlog,liveEventCode:t.dataset.liveEventCode,spotimAutorun:t.dataset.spotimAutorun,previewMode:t.dataset.previewMode}}function p(t){var e=t.spotId,n=t.moduleName,r=t.postId,o=t.isLiveBlog,i=t.liveBlogEventCode,a=t.isOrderedMode,c=t.isPreviewMode,s=document.createElement("div");return s.setAttribute("data-spot-im-module-default-area",n),a&&s.setAttribute("data-spotim-module",n),e&&s.setAttribute("data-spot-id",e),r&&s.setAttribute("data-post-id",r),o&&s.setAttribute("data-live-blog",String(o)),i&&s.setAttribute("data-live-event-code",i),c&&s.setAttribute("data-preview-mode",c),s}function v(t){var e,n;return void 0===t&&(t=""),null===(n=(e=String(t)).replace)||void 0===n?void 0:n.call(e,/\//g,"-")}function h(){var t=Object(r.__read)(l(),1)[0];return{spotId:s(t),postId:a(t).postId}}var m=n(15),g=n.n(m),_=function(){return window.top!==window&&!!(null===window||void 0===window?void 0:window.$sf)},y=n(9),b=n(25),w=n(1),O=n(36),E=n.n(O),j=h().spotId,S=E()(j,"launcher");function T(t){return t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))}function I(t){return t.charAt(0).toUpperCase()+t.slice(1)}var A=function(t){return"string"==typeof t?t:t.dataset[T("spotim-module")]};function C(t,e){var n=A(t);if(void 0!==n){var o=window.__SPOTIM__["init"+I(n)];if("function"==typeof o)o(t,e);else{var i="deferred"+I(n)+"s";window.__SPOTIM__[i]=window.__SPOTIM__[i]||[];var a=void 0;a="boolean"==typeof e?{force:e}:{force:!0,options:e},window.__SPOTIM__[i].push(Object(r.__assign)({element:t},a))}}}function x(t,e,n,o){return new Promise((function(i,a){var c=document.createElement("script");c.type="text/javascript",c.charset="UTF-8",e&&(c.addEventListener("load",i),c.addEventListener("error",(function(t){a("failed to load "+t.target.src)})),c.src=e,c.defer=!0),n&&(c.text=n),o&&Object.entries(o).forEach((function(t){var e=Object(r.__read)(t,2),n=e[0],o=e[1];return c.setAttribute(n,o)})),t.appendChild(c),e||i()}))}var P=n(2),R=n(49),k=n.n(R),M=["spot_reset_password","spot_ticket","spot_im_verify","spot_im_comment_id","spot_im_reply_id","spot_im_highlight_immediate","spot_im_scroll_to_comments","spot_im_expand_reply","spot_im_load_app_immediately","spot_im_open_profile_followers"];function L(){var t=g.a.parse(location.search,{ignoreQueryPrefix:!0});return Object.keys(t).reduce((function(t,e){return t||M.indexOf(e)>-1}),!1)}var N,F=function(t,e){return void 0===e&&(e="800px"),t?new Promise((function(n){if(L())n();else{var o=new IntersectionObserver((function(e){Object(r.__read)(e,1)[0].isIntersecting&&(n(),o.unobserve(t))}),{rootMargin:e});o.observe(t)}})):Promise.reject("element is undefined")};!function(t){t.JS="text/javascript",t.CSS="text/css"}(N||(N={}));var D=["vendor"];function U(t,e,n){return(e=e.filter((function(t){return!t.is_self_bootstrap})).filter((function(t){return!t.lazy}))).sort((function(t,e){return t.priority-e.priority})),e.filter((function(t){return-1===D.indexOf(t.module)&&-1==window.__SPOTIM__.loadedApps.indexOf(t.name)})).forEach((function(e){var r="conversation"===e.module&&w.default.get("init_data.config.lazy_load_margin",!1);if(r&&"false"!==r){var o=Array.from(t.widgetDOMList).find((function(t){return t.getAttribute("data-spotim-module")===e.module}));o&&F(o,r).then((function(){B(e,n)})).catch((function(t){throw S.error("widgetTrigger",t),t}))}else B(e,n)})),!0}function B(t,e){if(t.variant&&-1!==t.variant.indexOf(":")){var n=Object(r.__read)(t.variant.split(":"),2),o=n[0],i=n[1];P.a.getVariant(o)?P.a.testVariant(o,i)&&G(t,e):"A"===i&&G(t,e)}else G(t,e)}function G(t,e){try{switch(t.type){case N.CSS:k()({href:t.url,"data-spot-im-style":"true"});break;case N.JS:x(e,t.url).catch((function(e){S.error("injectAsset",e,{url:t.url})}))}S.send("asset_version",{tags:{moduleName:t.module,version:t.url}}),window.__SPOTIM__.loadedApps.push(t.name)}catch(e){S.error("injectAsset",e,{asset_url:t.url})}}var V=function(t,e){var n="\n    @keyframes data-spotim-module {\n    from {\n        outline-color: #fff;\n    }\n    to {\n        outline-color: #000;\n    }\n  }\n    "+t+" {\n      animation-duration: 10ms;\n    animation-name: data-spotim-module;\n }\n  ";!function(t){!function(t,e,n){for(var r=0;r<z.length;r++)""===z[r]&&(e=e.toLowerCase()),t.addEventListener(z[r]+e,n,!1)}(document,"AnimationStart",(function(e){if("data-spotim-module"===e.animationName){var n=e.target;t(n,e)}}))}(e);var r=document.createElement("style");r.innerHTML=n,document.head.appendChild(r)};var z=["webkit","moz","MS","o",""];var q=new Map,H=new Map,J="data-spot-im-style-hash",$=!1;function K(t){var e=t.stylesheetElement,n=t.module;requestAnimationFrame((function(){var t,o;e.setAttribute(J,function(t){if(!t)return"";for(var e,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e}(e.innerText||e.href)),q.set(n,Object(r.__spread)(q.get(n)||[],[e])),function(){if($)return;var t=document.createElement("style");t.innerText="\n  [data-spot-im-shadow-host] {\n    animation: data-spot-im-shadow-host 1ms;\n  }\n  \n  @keyframes data-spot-im-shadow-host {\n    from {} to {}\n  }\n  ".replace(/\n/g,""),document.body.appendChild(t),$=!0;var e=function(t){"data-spot-im-shadow-host"===t.animationName&&t.target&&W({shadowHost:t.target,modules:t.target.getAttribute("data-spot-im-shadow-host").split(" ")})};Array.from(document.querySelectorAll("[data-spot-im-shadow-host]")).forEach((function(t){t&&W({shadowHost:t,modules:t.getAttribute("data-spot-im-shadow-host").split(" ")})})),document.addEventListener("animationstart",e),document.addEventListener("MSAnimationStart",e),document.addEventListener("webkitAnimationStart",e)}(),function(t,e){H.forEach((function(n,r){(n.includes(t)||"*"===t)&&Y(r,e)}))}(n,e),o=(t=e).getAttribute(J),document.head.querySelector("["+J+'="'+o+'"]')||document.head.appendChild(t)}))}function W(t){var e=t.shadowHost,n=t.modules;e&&e.shadowRoot&&(H.set(e,Object(r.__spread)(H.get(e)||[],n)),function(t,e){Object(r.__spread)(e,["*"]).forEach((function(e){(q.get(e)||[]).forEach((function(e){Y(t,e)}))}))}(e,n))}function Y(t,e){var n=e.getAttribute(J);n&&(null==t?void 0:t.shadowRoot)&&!t.shadowRoot.querySelector("["+J+'="'+n+'"]')&&t.shadowRoot.appendChild(e.cloneNode(!0))}function Z(t){var e=t.widgetList;return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,o,a,c;return Object(r.__generator)(this,(function(s){switch(s.label){case 0:return S.apm.start("fetch_vendors_and_assets"),window.__SPOTIM__.fetch_vendors_initiated=!0,t=w.default.get("assets_config",[]).filter((function(t){return"vendor"===t.module}))[0],[4,x(i,t.url).catch((function(t){throw S.error("fetchVendorsAndAssets",t),t}))];case 1:return s.sent(),window.__SPOTIM__.stylesheetElementAdded=K,u=w.default.get("assets_config",[]).filter((function(t){return t.is_self_bootstrap})).filter((function(t){if(t.variant){var e=Object(r.__read)(t.variant.split(":"),2),n=e[0],o=e[1],i=P.a.getVariant(n);return i?i===o:"A"===o}return!0})).filter((function(t){return"text/javascript"===t.type})).map((function(t){return x(i,t.url).catch((function(e){S.error("loadNewSelfBootstrappingAssets",e,{target_type:t.module,target_id:t.url})}))})),n=Promise.all(u),o=w.default.get("assets_config",[]),a=U(e,o,i),c=w.default.get("tenant_config.launcher.ordered_modules_mode",!1),V('[data-spotim-module]:not([data-ready="true"])',(function(t){var e={widgetList:[t.dataset.spotimModule],widgetDOMList:[t]};c?function(t,e,n){var r=t.widgetList,o=void 0===r?[]:r;e.slice().filter((function(t){return o.includes(t.module)&&-1===D.indexOf(t.module)&&-1==window.__SPOTIM__.loadedApps.indexOf(t.name)})).forEach((function(e){var r="conversation"===e.module&&w.default.get("init_data.config.lazy_load_margin",!1);if(r&&"false"!==r){var o=Array.from(t.widgetDOMList).find((function(t){return t.getAttribute("data-spotim-module")===e.module}));o&&F(o,r).then((function(){B(e,n)})).catch((function(t){throw S.error("widgetTrigger",t),t}))}else B(e,n)}))}(e,o,i):U(e,o,i),C(t,!1)})),[2,Promise.all([n,a]).then((function(){return S.apm.end("fetch_vendors_and_assets")}))]}var u}))}))}var Q=function(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n};var X=function(t){return function(e){return null==t?void 0:t[e]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),tt=n(21),et=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nt=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var rt=function(t){return(t=Object(tt.a)(t))&&t.replace(et,X).replace(nt,"")},ot=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var it=function(t){return t.match(ot)||[]},at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var ct=function(t){return at.test(t)},st="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ut="["+st+"]",lt="\\d+",ft="[\\u2700-\\u27bf]",dt="[a-z\\xdf-\\xf6\\xf8-\\xff]",pt="[^\\ud800-\\udfff"+st+lt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",vt="(?:\\ud83c[\\udde6-\\uddff]){2}",ht="[\\ud800-\\udbff][\\udc00-\\udfff]",mt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",gt="(?:"+dt+"|"+pt+")",_t="(?:"+mt+"|"+pt+")",yt="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",bt="[\\ufe0e\\ufe0f]?"+yt+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",vt,ht].join("|")+")[\\ufe0e\\ufe0f]?"+yt+")*"),wt="(?:"+[ft,vt,ht].join("|")+")"+bt,Ot=RegExp([mt+"?"+dt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ut,mt,"$"].join("|")+")",_t+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ut,mt+gt,"$"].join("|")+")",mt+"?"+gt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",mt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lt,wt].join("|"),"g");var Et=function(t){return t.match(Ot)||[]};var jt=function(t,e,n){return t=Object(tt.a)(t),void 0===(e=n?void 0:e)?ct(t)?Et(t):it(t):t.match(e)||[]},St=RegExp("['’]","g");var Tt=function(t){return function(e){return Q(jt(rt(e).replace(St,"")),t,"")}}((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}));function It(t){var e=t.widgetList;function n(t,n){return void 0===n&&(n=!0),Object(r.__awaiter)(this,void 0,void 0,(function(){var o,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return!e||window.__SPOTIM__.fetch_vendors_initiated?[3,2]:[4,Z({widgetList:e}).catch((function(t){throw S.error("exposeInitializationMethods:initApp",t),t}))];case 1:r.sent(),r.label=2;case 2:return o=w.default.get("assets_config"),a=A(t),U(e,function(t,e){var n=e.map((function(t){return Tt(t)}));return t.map((function(t){return n.includes(t.module)&&(t.lazy=!1),t}))}(o,a?[a]:[]),i),C(t,n),[2]}}))}))}window.SPOTIM=window.SPOTIM||{},window.__SPOTIM__=window.__SPOTIM__||{},window.SPOTIM=Object(r.__assign)(Object(r.__assign)({},window.SPOTIM),{initConversation:function(t,e){return void 0===e&&(e=!0),n(t,e)},initApp:n}),window.__SPOTIM__=Object(r.__assign)(Object(r.__assign)({},window.__SPOTIM__),{initLauncher:function(){e&&!window.__SPOTIM__.fetch_vendors_initiated&&Z({widgetList:e})},initApp:n,terminateApp:function(t,e){void 0===e&&(e=!0),function(t,e){void 0===e&&(e=!0);var n=A(t);if(n){var r=window.__SPOTIM__["terminate"+I(n)];if("function"==typeof r)r(t,e);else{var o="terminated"+I(n)+"s";window.__SPOTIM__[o]=window.__SPOTIM__[o]||[],window.__SPOTIM__[o].push({element:t,force:e})}}else S.send("can't find widget module name")}(t,e)}})}var At=function(){var t=document.querySelectorAll("[data-spotim-module]"),e={},n=[],r="",o="";Object.keys(t).forEach((function(i){var c=t[i];try{var s=c.dataset[T("spotim-module")];"spotim-launcher"!==s&&("conversation"===s&&c.dataset.liveBlog&&(s="liveblog"),n.push(s));var u=a(c),l={};Object.keys(u).forEach((function(t){var e=t.replace(/[(A-Z)]/g,(function(t){return"_"+t.toLowerCase()}));l[e]=u[t]})),e[s]=l,r=c.dataset.spotId,o=o||c.dataset.postId||c.dataset.liveEventCode}catch(t){throw new Error(t)}}));var i=e["spotim-launcher"];return delete e["spotim-launcher"],Object.keys(e).forEach((function(t){e[t]=Object.assign({},i,e[t])})),{spotId:r,postId:o,widgetDOMList:t,widgetList:n,widgetDataAttr:e,widgetCounter:t.length}};function Ct(){var t=window.localStorage?window.localStorage.getItem("SPOTIM_DEVICE_UUID_V2"):void 0;return t?JSON.parse(t):{}}var xt="undefined"!=typeof window&&"staging"===window.__SPOTIMENV__?"https://events-collector.staging-spot.im/api/v1":"https://events-collector.spot.im/api/v1";function Pt(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,e,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if((t=Ct().uuid)&&"00000000-0000-0000-0000-000000000000"!==t)return[3,5];r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,fetch(xt+"/device_load",{credentials:"include"}).then((function(t){return t.text()})).catch((function(t){throw S.error("fetchDeviceUuid",t),t}))];case 2:return e=r.sent(),t=e,[3,5];case 3:return n=r.sent(),t="00000000-0000-0000-0000-000000000000",S.error("initializeUuid",n),[3,5];case 4:return function(t){localStorage.setItem("SPOTIM_DEVICE_UUID_V2",JSON.stringify({uuid:t}))}(t),[7];case 5:return[2,t]}}))}))}var Rt=n(37),kt=n(13);var Mt,Lt=function(t,e){void 0===e&&(e="no_post");var n=v(e),r=Object(kt.c)();return Object(Rt.a)("v1.0.0/config/launcher/"+t+"/"+n+"/vendor,init"+(r?"?browser=ie":""))};!function(t){t.dark="dark",t.light="light"}(Mt||(Mt={}));var Nt={},Ft={},Dt={};function Ut(t){var e=t.themeOverride,i=document.querySelector("style[spotim-global-css-vars]");i||((i=document.createElement("style")).setAttribute("spotim-global-css-vars",""),i.setAttribute("data-spot-im-style","true"));var a,c=w.default.get("tenant_config.css-variables-default",{}),s=Object(r.__assign)(Object(r.__assign)({},Nt),c),u=Object(r.__assign)(Object(r.__assign)(Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},Bt({"font-family-default":"var(--spotim-font-family)","layer-background-color":"var(--spotim-overlay-background-color)"})),Bt(s)),Bt(function(t){if("dark"===t){var e=w.default.get("tenant_config.css-variables-dark",{});return Object(r.__assign)(Object(r.__assign)({},Ft),e)}return{}}(function(t){var e=t.theme,n=t.themeOverride,r=function(t){return!!Mt[t]};return r(n)?n:r(e)?e:Mt.light}({themeOverride:e,theme:w.default.get("init_data.config.inpage_skin")})))),Bt(function(t){if(t){var e=w.default.get("tenant_config.css-variables-mobile",{});return Object(r.__assign)(Object(r.__assign)({},Dt),e)}return{}}("object"===("undefined"==typeof window?"undefined":o(window))&&!!window.navigator.userAgent.toLocaleLowerCase().match(/(mobile|iemobile|android|webos|iphone|ipad|ipod|blackberry|windows phone)/)))),Bt((a=w.default.get("init_data.config.brand_color","darkgray"))?{"brand-color":a,"text-over-brand-color":"white"}:{}));try{var l="\n    :root {\n      "+(Object.entries(u)||[]).reduce((function(t,e){var n=Object(r.__read)(e,2),o=n[0],i=n[1];try{return t.concat(function(t){return t.replace(/[^(A-Z0-9_\-)]/gi,"")}(o)+": "+function(t){return t.replace(/[^(\\ \.,\(\)A-Z0-9_\-#)]/gi,"")}(i)+";")}catch(e){return S.error("initCssVars",e,{variable_name:i}),t}}),"")+"\n    }";i.innerHTML=l,!!window.MSInputMethodContext&&!!document.documentMode&&n.e(0).then(n.bind(null,528)).then((function(t){setInterval((function(){t.default({variables:u,include:"[data-spot-im-style]"})}),2e4)}))}catch(t){S.error("initCssVars",t)}i&&requestAnimationFrame((function(){document.body.appendChild(i)}))}function Bt(t){return Object.keys(t).reduce((function(e,n){var o;return Object(r.__assign)(Object(r.__assign)({},e),((o={})["--spotim-"+n]=t[n],o))}),{})}var Gt=/<sections(.|\s)*?<\/sections>/gm,Vt=/<sections(.|\s)*<\/sections>/gm,zt=/<spsl.*/gm,qt=/<\/spsl.*/gm,Ht=function(t){var e=(t=t||"").match(Gt),n=t.replace(Vt,"").replace(zt,"").replace(qt,"");return{getSection:function(r){if(!e)return t||null;if("global"===r)return n;var o=e.filter((function(t){return new RegExp("<sections.*".concat(r),"gm").exec(t)}));return o.length>0?o[0].replace(/<section.*>/gm,"").replace(/<\/.*section.*>/gm,""):null}}};var Jt=n(28);function $t(t,e){t.tenant_config=Object(y.a)({},t.tenant_config,e.widgetDataAttr),t.queryParams=Object(y.a)({},t.queryParams,function(){var t=document.querySelector('script[type="application/json"],#spcv_view-conversation-options');if(!t)return;var e=t.innerHTML;try{return JSON.parse(e)}catch(t){console.log(t)}}());var n=Object(Jt.a)(t,"init_data.config.injection.host_options");if(n)try{var r=new Function("var ".concat(n,"; return SPOTIM_OPTIONS"));t.host_options=r()}catch(e){return t=function(t,e){try{t=(t=(t=(t=t?t.match(/({\n*[\D\d]*})/g)[0]:"").replace(/(['a-zA-Z0-9_-][^":,}{]*):/g,(function(t){return'"'.concat(t.replace(/'|:/g,""),'":')}))).replace(/(:[\s])'(.*)'/g,(function(t,e,n){return': "'.concat(n,'"')}))).replace(/[,][\s\n}]+$/,"}")}catch(t){console.log(t)}if(t){try{e.host_options=JSON.parse(t)}catch(t){console.log(t)}return e}}(n,t)}return t}var Kt=function(){var t=w.default.get("init_data.config.injection.frame_style"),e=w.default.get("init_data.config.injection.frame_script");t&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.id;if(!n||!document.getElementById(n)){var r=document.createElement("style");r.type="text/css",n&&(r.id=n),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t));var o=document.head||document.getElementsByTagName("head")[0];o.appendChild(r)}}(t=Ht(t).getSection("essential")),e&&(e=Ht(e).getSection("essential"),x(document.body,"",e).catch((function(t){return S.error("injectOverrides",t)})))},Wt=function(t){if(t){var e=document.createElement("script");e.setAttribute("type","application/ld+json"),e.innerHTML=JSON.stringify(t),document.body.appendChild(e)}};function Yt(t){var e=t.isSeoEnabled,n=t.isLiveBlog,o=t.spotId,i=t.postId;void 0!==e&&(e&&function(t){var e=t.isLiveBlog,n=t.spotId,o=t.postId;Object(r.__awaiter)(void 0,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,fetch("https://seo.spot.im/v2/article/"+(e?"live-blog":"")+"/"+n+"/"+o+"?json=true",{method:"POST",body:JSON.stringify({})}).catch((function(t){throw S.error("attachSeoJson:fetch",t),t}))];case 1:return[4,r.sent().json().catch((function(t){throw S.error("attachSeoJson:json",t),t}))];case 2:return t=r.sent(),Wt(t),[2]}}))}))}({isLiveBlog:n,spotId:o,postId:i}),S.send("is_seo_enabled",{type:"analytics",value:Number(e)}))}var Zt=n(22),Qt=n.n(Zt);function Xt(t){var e=t.spotId,n=t.postId,o=void 0===n?"no_post":n,i=2===w.default.get("tenant_config.authentication.version",1),a=v(o);(function(t,e,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var o,i,a,c,s,u,l,f,d;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return o={"x-spot-id":t,"x-post-id":e,"Content-Type":"application/json"},i=Ct().uuid,a=localStorage.getItem("SPOTIM_ACCESS_TOKEN"),c=localStorage.getItem("OPENWEB_ACCESS_TOKEN"),a&&(o["x-access-token"]=a),n&&c&&(o["x-openweb-token"]=c),i&&(o["x-spotim-device-uuid"]=i),[4,fetch(("staging"===window.__SPOTIMENV__||"staging"===window.__SPOTIM_ENV__?"https://api-gw.staging-spot.im/v1.0.0":"https://api-2-0.spot.im/v1.0.0")+"/authenticate",{method:"POST",headers:o,credentials:"include"}).catch((function(t){throw S.error("fetchUserData",t),t}))];case 1:return[4,(s=r.sent()).json().catch((function(t){throw S.error("fetchUserData",t),t}))];case 2:return u=r.sent(),l=s.headers.get("x-spotim-token"),f=s.headers.get("x-openweb-token"),d=s.headers.get("x-spotim-networkid"),[2,{userData:u,token:l,networkId:d,openWebToken:f}]}}))}))})(e,a,i).then((function(t){var n,r,a=t.userData,c=t.token,s=t.networkId,u=t.openWebToken,l=Object(Zt.parseUser)(a);u&&localStorage.setItem("OPENWEB_ACCESS_TOKEN",u),i&&(c="authenticate-v2"),Qt.a.set(l),Qt.a.setToken(c,s),Object(b.trackEvent)({type:"user-reputation",count:null!==(r=null===(n=null==l?void 0:l.reputation)||void 0===n?void 0:n.total)&&void 0!==r?r:1,post_id:o,source:"conversation",source_version:"v3",spot_id:e,conversation_id:e+"_"+o})})).catch((function(t){S.error("setCurrentUser",t);var n=w.default.get("tenant_config.shared.authenticate_back_off_time_seconds",2);w.default.get("tenant_config.shared.enable_authenticate_retry")&&setTimeout((function(){Xt({spotId:e,postId:o,backOffTime:2*n})}),1e3*n)}))}var te=function t(e){var n=e.spotId,r=e.postId,o=void 0===r?"no_post":r;t.isExecuted||(t.isExecuted=!0,Xt({spotId:n,postId:o}))};function ee(t,e){return void 0===e&&(e="default"),Object(r.__awaiter)(this,void 0,void 0,(function(){var n,o,i,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(n=w.default.get("ab_test_config",[]),o=Object(P.b)(),!n||0===n.length)return Object(P.d)(),[2];if(Object(P.c)(n,o))return Object(P.f)(n,o),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),i="v1.0.0/config/ab_test/"+t+"/"+e,[4,Object(Rt.a)(i)];case 2:return a=r.sent(),Object(P.e)(n,a.spot_ab),[3,4];case 3:throw r.sent();case 4:return[2]}}))}))}function ne(t,e){return void 0===e&&(e="default"),Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,ee(t,e)];case 1:return n.sent(),function(){if(w.default.get("tenant_config.ab-test-changer.enabled")){var t=new URLSearchParams(window.location.search),e={},n=t.get("setSpotAb");n&&n.split(",").forEach((function(t){var n,o=t.split(":");e=Object(r.__assign)(Object(r.__assign)({},e),((n={})[o[0]]=o[1],n))}));var o=localStorage.getItem("SPOT_AB");if(o&&Object.keys(e).length>0){var i=JSON.parse(o);Object.keys(e).forEach((function(t){i[t].variant=e[t]})),localStorage.setItem("SPOT_AB",JSON.stringify(i))}}}(),[2]}}))}))}function re(t){var e,n,o=t.launcher;return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,i,l,h,m,O,E,j,T,I,A,C,x,P,R,k,M,N,F,D,U,B,G,V,z,q,H,J,$,K,W,Y;return Object(r.__generator)(this,(function(Q){switch(Q.label){case 0:return t=f(),i=Object(r.__read)(t,1),(l=i[0])?(h=s(l))?(m=window.__SPOTIMENV__||window.__OW_ENV__||"production",O="configOverrides",E="ow_config_overrides",j={launcher_version:"13",launcher_is_loaded:!0,fetch_vendors_initiated:!1,loadedApps:[],shared:{launcher:o},env:m},window.__SPOTIM__=Object(y.a)({},window.__SPOTIM__,j),window.__OPEN_WEB__=window.__OPEN_WEB__||{},T=a(l),I=_()?function(){var t,e,n,r=(null===(n=null===(e=null===(t=null===window||void 0===window?void 0:window.$sf)||void 0===t?void 0:t.ext)||void 0===e?void 0:e.hostURL)||void 0===n?void 0:n.call(e))||document.referrer,o=g.a.parse(new URL(r).search,{ignoreQueryPrefix:!0});return window.history.pushState("","",new URL(r).search),o}():g.a.parse(location.search,{ignoreQueryPrefix:!0}),w.default.set({env:m,spotId:h,postId:T.postId,elementOptions:T,queryParams:I}),Yt({isLiveBlog:T.liveBlog,isSeoEnabled:T.seoEnabled,spotId:h,postId:T.liveBlog?T.liveEventCode:T.postId}),A=window.__OW_CONFIG__?Promise.resolve(window.__OW_CONFIG__):Lt(h,T.postId).catch((function(t){throw S.error("configDataPromise",t),t})),C=Pt().catch((function(t){throw S.error("initializeUuid",t),t})),[4,Promise.all([A,C]).catch((function(t){throw S.error("configDataPromiseAll",t),t}))]):[2,null]:[2,null];case 1:if(x=r.__read.apply(void 0,[Q.sent(),1]),!(P=x[0])||P&&!P.init_data)throw new Error("fetching config failed");try{R=Object(r.__assign)(Object(r.__assign)({},T[O]?JSON.parse(T[O]):{}),I[E]?JSON.parse(I[E]):{})}catch(t){R={},S.error("onLauncherFirstRun",t)}if(k=Object(y.a)({},P,R),function(t){var e=window.location.host,n=window.location.hostname,r=window.location.origin,o=!1;return(null==t?void 0:t.length)>0&&!t.some((function(t){return t===e||t===r||t===n}))&&(o=!0),o}((null===(n=null===(e=null==k?void 0:k.init_data)||void 0===e?void 0:e.config)||void 0===n?void 0:n.whitelisted_urls)||[]))throw new Error("host is not in whitelist urls");M=function(t){var e;u(t)?function(t){var e,n,r,o,i,a,c=t.configData,s=t.target,u=t.onConversationDefaultAreaCreated,l=null!==(r=null===(n=null===(e=null==c?void 0:c.tenant_config)||void 0===e?void 0:e.launcher)||void 0===n?void 0:n.product_order_in_main_area)&&void 0!==r?r:[{module:"reactions"},{module:"pitc"},{module:"spotlight"},{module:"conversation"},{module:"feed"}],f=null!==(a=null===(i=null===(o=null==c?void 0:c.tenant_config)||void 0===o?void 0:o.launcher)||void 0===i?void 0:i.ordered_modules_mode)&&void 0!==a&&a,v=d(s),h=document.createElement("div");h.setAttribute("data-spotim-default-areas",""),(l||[]).forEach((function(t){if(t.module){var e=p({spotId:v.spotId||"",postId:v.postId,moduleName:t.module,isOrderedMode:f,isPreviewMode:v.previewMode});h.appendChild(e),"conversation"===t.module&&u(e)}})),requestAnimationFrame((function(){s.insertAdjacentElement("beforebegin",h)}))}({configData:k,target:t,onConversationDefaultAreaCreated:function(e){c({domInjectElement:function(t){e.appendChild(t)},params:d(t)})}}):"false"!==(e=t).dataset.spotimAutorun&&Boolean(e.dataset.liveBlog)&&function(t){var e=t.target;requestAnimationFrame((function(){var t=d(e),n=p({moduleName:"liveblog",spotId:t.spotId||"",postId:t.postId,isLiveBlog:"true"===t.liveBlog,liveBlogEventCode:t.liveEventCode});e.insertAdjacentElement("beforebegin",n),c({domInjectElement:function(t){n.appendChild(t)},params:d(e)})}))}({target:t})};try{for(N=Object(r.__values)(t),F=N.next();!F.done;F=N.next())D=F.value,M(D)}catch(t){W={error:t}}finally{try{F&&!F.done&&(Y=N.return)&&Y.call(N)}finally{if(W)throw W.error}}return U=At(),B=$t(k,U),w.default.set(Object(r.__assign)({},B)),[4,ne(h,v(w.default.get("postId","default"))).catch((function(t){throw S.error("initAB",t),t}))];case 2:return Q.sent(),G=function(){var t,e=w.default.get("queryParams.spot_im_highlight_immediate"),n=w.default.get("queryParams.spot_im_redirect_source",""),r=w.default.get("tenant_config.launcher.immediateConfig"),o=null==r?void 0:r.find((function(t){return"conversation-page"===t.module}));return!(!e||!n||!o||(null===(t=o.excludeSources)||void 0===t?void 0:t.includes(n)))}(),w.default.set({isConversationPageTriggered:G}),Object(b.trackEvent)({source:"launcher",source_version:"v2",type:"loaded",spot_id:h,post_id:""}),Ut({themeOverride:T.theme}),V=w.default.get("tenant_config.launcher.isLazy"),It({widgetList:U}),z=w.default.get("tenant_config.launcher.defer_load_until_scroll"),q=w.default.get("tenant_config.launcher.authenticate_immediately",!1),H=document.documentElement.scrollTop||document.body.scrollTop,J=L()||q||H>50,$=!(z||V)||J,Kt(),K={spotId:h,postId:T.postId},window.__OPEN_WEB__.initCurrentUser=te,J?te(K):Object(kt.a)(te,K),U&&$?[4,Z({widgetList:U}).catch((function(t){throw S.error("fetchVendorsAndAssets",t),t}))]:[3,4];case 3:return[2,Q.sent()];case 4:Object(kt.a)(Z,{widgetList:U}),Q.label=5;case 5:return[2]}}))}))}function oe(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,e,n,o,i,a,s,l;return Object(r.__generator)(this,(function(v){t=f(),e=w.default.get("tenant_config.launcher.ordered_modules_mode",!1),n=function(t){if(u(t)){var n=d(t),r=p({spotId:n.spotId||"",postId:n.postId,moduleName:"conversation",isOrderedMode:e}),o=document.createElement("div");o.setAttribute("data-spotim-default-areas",""),o.appendChild(r),c({domInjectElement:function(t){r.appendChild(t)},params:n}),requestAnimationFrame((function(){t.insertAdjacentElement("beforebegin",o)}))}};try{for(o=Object(r.__values)(t),i=o.next();!i.done;i=o.next())a=i.value,n(a)}catch(t){s={error:t}}finally{try{i&&!i.done&&(l=o.return)&&l.call(o)}finally{if(s)throw s.error}}return[2]}))}))}(function t(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return console.log("[OpenWeb Launcher] v2.40.5"),window.__SPOTIM__?(window.__SPOTIM__.launcher_is_loaded||S.apm.start("critical_flow"),_()?[4,n.e(4).then(n.bind(null,529))]:[3,2]):[2,null];case 1:e.sent().initSafeFrameSupport(),e.label=2;case 2:return window.__SPOTIM__.launcher_is_loaded?(S.apm.start("subsequent_critical_flow"),[2,oe().then((function(){return S.apm.end("subsequent_critical_flow")})).catch((function(t){throw S.error("onLauncherSubsequentRun",t),t}))]):[2,re({launcher:t}).catch((function(t){throw S.error("onLauncherFirstRun",t),t}))]}}))}))})().then((function(){h().spotId&&S.apm.end("critical_flow")})).catch((function(t){return S.error("launcher",t)}))},function(t,e,n){"use strict";n.r(e),n.d(e,"v1",(function(){return h})),n.d(e,"v3",(function(){return S})),n.d(e,"v4",(function(){return T})),n.d(e,"v5",(function(){return C})),n.d(e,"NIL",(function(){return x})),n.d(e,"version",(function(){return P})),n.d(e,"validate",(function(){return c})),n.d(e,"stringify",(function(){return d})),n.d(e,"parse",(function(){return m}));var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(t){return"string"==typeof t&&a.test(t)},s=[],u=0;u<256;++u)s.push((u+256).toString(16).substr(1));var l,f,d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[t[e+0]]+s[t[e+1]]+s[t[e+2]]+s[t[e+3]]+"-"+s[t[e+4]]+s[t[e+5]]+"-"+s[t[e+6]]+s[t[e+7]]+"-"+s[t[e+8]]+s[t[e+9]]+"-"+s[t[e+10]]+s[t[e+11]]+s[t[e+12]]+s[t[e+13]]+s[t[e+14]]+s[t[e+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n},p=0,v=0;var h=function(t,e,n){var r=e&&n||0,o=e||new Array(16),a=(t=t||{}).node||l,c=void 0!==t.clockseq?t.clockseq:f;if(null==a||null==c){var s=t.random||(t.rng||i)();null==a&&(a=l=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==c&&(c=f=16383&(s[6]<<8|s[7]))}var u=void 0!==t.msecs?t.msecs:Date.now(),h=void 0!==t.nsecs?t.nsecs:v+1,m=u-p+(h-v)/1e4;if(m<0&&void 0===t.clockseq&&(c=c+1&16383),(m<0||u>p)&&void 0===t.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=u,v=h,f=c;var g=(1e4*(268435455&(u+=122192928e5))+h)%4294967296;o[r++]=g>>>24&255,o[r++]=g>>>16&255,o[r++]=g>>>8&255,o[r++]=255&g;var _=u/4294967296*1e4&268435455;o[r++]=_>>>8&255,o[r++]=255&_,o[r++]=_>>>24&15|16,o[r++]=_>>>16&255,o[r++]=c>>>8|128,o[r++]=255&c;for(var y=0;y<6;++y)o[r+y]=a[y];return e||d(o)};var m=function(t){if(!c(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n};var g=function(t,e,n){function r(t,r,o,i){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof r&&(r=m(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+t.length);if(a.set(r),a.set(t,r.length),(a=n(a))[6]=15&a[6]|e,a[8]=63&a[8]|128,o){i=i||0;for(var c=0;c<16;++c)o[i+c]=a[c];return o}return d(a)}try{r.name=t}catch(t){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r};function _(t){return 14+(t+64>>>9<<4)+1}function y(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function b(t,e,n,r,o,i){return y((a=y(y(e,t),y(r,i)))<<(c=o)|a>>>32-c,n);var a,c}function w(t,e,n,r,o,i,a){return b(e&n|~e&r,t,e,o,i,a)}function O(t,e,n,r,o,i,a){return b(e&r|n&~r,t,e,o,i,a)}function E(t,e,n,r,o,i,a){return b(e^n^r,t,e,o,i,a)}function j(t,e,n,r,o,i,a){return b(n^(e|~r),t,e,o,i,a)}var S=g("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){for(var e=[],n=32*t.length,r=0;r<n;r+=8){var o=t[r>>5]>>>r%32&255,i=parseInt("0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o),16);e.push(i)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[_(e)-1]=e;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,a=0;a<t.length;a+=16){var c=n,s=r,u=o,l=i;n=w(n,r,o,i,t[a],7,-680876936),i=w(i,n,r,o,t[a+1],12,-389564586),o=w(o,i,n,r,t[a+2],17,606105819),r=w(r,o,i,n,t[a+3],22,-1044525330),n=w(n,r,o,i,t[a+4],7,-176418897),i=w(i,n,r,o,t[a+5],12,1200080426),o=w(o,i,n,r,t[a+6],17,-1473231341),r=w(r,o,i,n,t[a+7],22,-45705983),n=w(n,r,o,i,t[a+8],7,1770035416),i=w(i,n,r,o,t[a+9],12,-1958414417),o=w(o,i,n,r,t[a+10],17,-42063),r=w(r,o,i,n,t[a+11],22,-1990404162),n=w(n,r,o,i,t[a+12],7,1804603682),i=w(i,n,r,o,t[a+13],12,-40341101),o=w(o,i,n,r,t[a+14],17,-1502002290),r=w(r,o,i,n,t[a+15],22,1236535329),n=O(n,r,o,i,t[a+1],5,-165796510),i=O(i,n,r,o,t[a+6],9,-1069501632),o=O(o,i,n,r,t[a+11],14,643717713),r=O(r,o,i,n,t[a],20,-373897302),n=O(n,r,o,i,t[a+5],5,-701558691),i=O(i,n,r,o,t[a+10],9,38016083),o=O(o,i,n,r,t[a+15],14,-660478335),r=O(r,o,i,n,t[a+4],20,-405537848),n=O(n,r,o,i,t[a+9],5,568446438),i=O(i,n,r,o,t[a+14],9,-1019803690),o=O(o,i,n,r,t[a+3],14,-187363961),r=O(r,o,i,n,t[a+8],20,1163531501),n=O(n,r,o,i,t[a+13],5,-1444681467),i=O(i,n,r,o,t[a+2],9,-51403784),o=O(o,i,n,r,t[a+7],14,1735328473),r=O(r,o,i,n,t[a+12],20,-1926607734),n=E(n,r,o,i,t[a+5],4,-378558),i=E(i,n,r,o,t[a+8],11,-2022574463),o=E(o,i,n,r,t[a+11],16,1839030562),r=E(r,o,i,n,t[a+14],23,-35309556),n=E(n,r,o,i,t[a+1],4,-1530992060),i=E(i,n,r,o,t[a+4],11,1272893353),o=E(o,i,n,r,t[a+7],16,-155497632),r=E(r,o,i,n,t[a+10],23,-1094730640),n=E(n,r,o,i,t[a+13],4,681279174),i=E(i,n,r,o,t[a],11,-358537222),o=E(o,i,n,r,t[a+3],16,-722521979),r=E(r,o,i,n,t[a+6],23,76029189),n=E(n,r,o,i,t[a+9],4,-640364487),i=E(i,n,r,o,t[a+12],11,-421815835),o=E(o,i,n,r,t[a+15],16,530742520),r=E(r,o,i,n,t[a+2],23,-995338651),n=j(n,r,o,i,t[a],6,-198630844),i=j(i,n,r,o,t[a+7],10,1126891415),o=j(o,i,n,r,t[a+14],15,-1416354905),r=j(r,o,i,n,t[a+5],21,-57434055),n=j(n,r,o,i,t[a+12],6,1700485571),i=j(i,n,r,o,t[a+3],10,-1894986606),o=j(o,i,n,r,t[a+10],15,-1051523),r=j(r,o,i,n,t[a+1],21,-2054922799),n=j(n,r,o,i,t[a+8],6,1873313359),i=j(i,n,r,o,t[a+15],10,-30611744),o=j(o,i,n,r,t[a+6],15,-1560198380),r=j(r,o,i,n,t[a+13],21,1309151649),n=j(n,r,o,i,t[a+4],6,-145523070),i=j(i,n,r,o,t[a+11],10,-1120210379),o=j(o,i,n,r,t[a+2],15,718787259),r=j(r,o,i,n,t[a+9],21,-343485551),n=y(n,c),r=y(r,s),o=y(o,u),i=y(i,l)}return[n,r,o,i]}(function(t){if(0===t.length)return[];for(var e=8*t.length,n=new Uint32Array(_(e)),r=0;r<e;r+=8)n[r>>5]|=(255&t[r/8])<<r%32;return n}(t),8*t.length))}));var T=function(t,e,n){var r=(t=t||{}).random||(t.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return d(r)};function I(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function A(t,e){return t<<e|t>>>32-e}var C=g("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var r=unescape(encodeURIComponent(t));t=[];for(var o=0;o<r.length;++o)t.push(r.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var i=t.length/4+2,a=Math.ceil(i/16),c=new Array(a),s=0;s<a;++s){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=t[64*s+4*l]<<24|t[64*s+4*l+1]<<16|t[64*s+4*l+2]<<8|t[64*s+4*l+3];c[s]=u}c[a-1][14]=8*(t.length-1)/Math.pow(2,32),c[a-1][14]=Math.floor(c[a-1][14]),c[a-1][15]=8*(t.length-1)&4294967295;for(var f=0;f<a;++f){for(var d=new Uint32Array(80),p=0;p<16;++p)d[p]=c[f][p];for(var v=16;v<80;++v)d[v]=A(d[v-3]^d[v-8]^d[v-14]^d[v-16],1);for(var h=n[0],m=n[1],g=n[2],_=n[3],y=n[4],b=0;b<80;++b){var w=Math.floor(b/20),O=A(h,5)+I(w,m,g,_)+y+e[w]+d[b]>>>0;y=_,_=g,g=A(m,30)>>>0,m=h,h=O}n[0]=n[0]+h>>>0,n[1]=n[1]+m>>>0,n[2]=n[2]+g>>>0,n[3]=n[3]+_>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),x="00000000-0000-0000-0000-000000000000";var P=function(t){if(!c(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},function(t,e,n){"use strict";n.r(e);var r=n(45),o=n.n(r);function i(){var t=function(){if(performance&&performance.timing){var t=performance.timing.domLoading;if(!isNaN(t)&&t>0)return t}return null}();if(t&&t>=0&&!isNaN(t)){var e=Date.now()-t;return isNaN(e)||e<0||e>Number.MAX_SAFE_INTEGER?null:e}return null}function a(t){var e={page_view_id:c,url:window.location.href,time_delta:i(),type:t,performance_now:window.performance&&window.performance.now()};return JSON.stringify(e)}window.__SPOTIM_PAGE_VIEW_ID__=window.__SPOTIM_PAGE_VIEW_ID__||o()();var c=window.__SPOTIM_PAGE_VIEW_ID__,s="https://direct-events-collector.spot.im/api/v2/events?stream_name=init",u=a("init"),l=new XMLHttpRequest;l.open("POST",s),l.send(u),window.addEventListener("unload",(function(){if("sendBeacon"in navigator){var t=a("bounce");navigator.sendBeacon(s,t)}}));n(52);var f="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==f&&f,d="URLSearchParams"in f,p="Symbol"in f&&"iterator"in Symbol,v="FileReader"in f&&"Blob"in f&&function(){try{return new Blob,!0}catch(t){return!1}}(),h="FormData"in f,m="ArrayBuffer"in f;if(m)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(t){return t&&g.indexOf(Object.prototype.toString.call(t))>-1};function y(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function b(t){return"string"!=typeof t&&(t=String(t)),t}function w(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return p&&(e[Symbol.iterator]=function(){return e}),e}function O(t){this.map={},t instanceof O?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function E(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function j(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function S(t){var e=new FileReader,n=j(e);return e.readAsArrayBuffer(t),n}function T(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:v&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:h&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:d&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():m&&v&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=T(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):m&&(ArrayBuffer.prototype.isPrototypeOf(t)||_(t))?this._bodyArrayBuffer=T(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v&&(this.blob=function(){var t=E(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=E(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(S)}),this.text=function(){var t,e,n,r=E(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=j(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}O.prototype.append=function(t,e){t=y(t),e=b(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},O.prototype.delete=function(t){delete this.map[y(t)]},O.prototype.get=function(t){return t=y(t),this.has(t)?this.map[t]:null},O.prototype.has=function(t){return this.map.hasOwnProperty(y(t))},O.prototype.set=function(t,e){this.map[y(t)]=b(e)},O.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},O.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),w(t)},O.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),w(t)},O.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),w(t)},p&&(O.prototype[Symbol.iterator]=O.prototype.entries);var A=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function C(t,e){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(e=e||{}).body;if(t instanceof C){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new O(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new O(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),A.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function x(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function P(t,e){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"",this.headers=new O(e.headers),this.url=e.url||"",this._initBody(t)}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})},I.call(C.prototype),I.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new O(this.headers),url:this.url})},P.error=function(){var t=new P(null,{status:0,statusText:""});return t.type="error",t};var R=[301,302,303,307,308];P.redirect=function(t,e){if(-1===R.indexOf(e))throw new RangeError("Invalid status code");return new P(null,{status:e,headers:{location:t}})};var k=f.DOMException;try{new k}catch(t){(k=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),k.prototype.constructor=k}function M(t,e){return new Promise((function(n,r){var o=new C(t,e);if(o.signal&&o.signal.aborted)return r(new k("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var t,e,r={status:i.status,statusText:i.statusText,headers:(t=i.getAllResponseHeaders()||"",e=new O,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e)};r.url="responseURL"in i?i.responseURL:r.headers.get("X-Request-URL");var o="response"in i?i.response:i.responseText;setTimeout((function(){n(new P(o,r))}),0)},i.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},i.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},i.onabort=function(){setTimeout((function(){r(new k("Aborted","AbortError"))}),0)},i.open(o.method,function(t){try{return""===t&&f.location.href?f.location.href:t}catch(e){return t}}(o.url),!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&(v?i.responseType="blob":m&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(i.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof O?o.headers.forEach((function(t,e){i.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){i.setRequestHeader(t,b(e.headers[t]))})),o.signal&&(o.signal.addEventListener("abort",a),i.onreadystatechange=function(){4===i.readyState&&o.signal.removeEventListener("abort",a)}),i.send(void 0===o._bodyInit?null:o._bodyInit)}))}M.polyfill=!0,f.fetch||(f.fetch=M,f.Headers=O,f.Request=C,f.Response=P);var L=n(0);var N=n(13);function F(){return Object(L.__awaiter)(this,void 0,void 0,(function(){return Object(L.__generator)(this,(function(t){switch(t.label){case 0:return Object(N.b)()?[4,n.e(3).then(n.bind(null,526)).catch((function(t){throw console.error(t),t}))]:[3,2];case 1:t.sent(),t.label=2;case 2:return function(){try{return!!window.localStorage}catch(t){return!1}}()?[3,4]:[4,n.e(2).then(n.bind(null,527)).catch((function(t){throw console.error(t),t}))];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))}new Promise((function(t){"loading"!==document.readyState?t():document.addEventListener("DOMContentLoaded",t)})).then((function(){return F()})).then((function(){return n(64)}))}]);
//# sourceMappingURL=launcher-bundle.js.map
